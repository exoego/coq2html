
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.ereal</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.ereal" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.ereal</h1>
<div class="coq">
<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.all_algebra.html">all_algebra</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html">set_interval</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Export</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html">constructive_ereal</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
# Extended real numbers, classical part ($\overline{\mathbb{R}}$)          
                                                                           
This is an addition to the file constructive_ereal.v with classical logic  
elements.                                                                  
```                                                                        
 (\sum_(i \in A) f i)%E == finitely supported sum, see fsbigop.v           
                                                                           
            ereal_sup E == supremum of E                                   
            ereal_inf E == infimum of E                                    
 ereal_supremums_neq0 S == S has a supremum                                
```                                                                        
                                                                           
## Topology of extended real numbers                                       
```                                                                        
       ereal_topologicalType R == topology for extended real numbers over  
                                  R, a realFieldType                       
      ereal_pseudoMetricType R == pseudometric space for extended reals    
                                  over R where is a realFieldType; the     
                                  distance between x and y is defined by   
                                  `|contract x - contract y|               
```                                                                        
                                                                           
## Filters                                                                 
```                                                                        
                 ereal_dnbhs x == filter on extended real numbers that     
                                  corresponds to the deleted neighborhood  
                                  x^' if x is a real number and to         
                                  predicates that are eventually true if x 
                                  is +oo/-oo.                              
                  ereal_nbhs x == same as ereal_dnbhs where dnbhs is       
                                  replaced with nbhs.                      
               ereal_loc_seq x == sequence that converges to x in the set  
                                  of extended real numbers.                
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="EFin_bigcup">EFin_bigcup</a></span> <span class="id"><a name="T:1">T</a></span> (<span class="id"><a name="F:2">F</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:1">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_x_x">\bigcup_i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:2">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:3">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'\bigcup_'_x_x">\bigcup_i</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:2">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:4">i</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[r</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">Fnr</span> <span class="id">&lt;-]]|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[n</span> <span class="id">_</span> <span class="id">[r</span> <span class="id">Fnr</span> <span class="id">&lt;-</span> <span class="id">/=]];</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="EFin_setC">EFin_setC</a></span> <span class="id"><a name="T:5">T</a></span> (<span class="id"><a name="A:6">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:5">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'~`'_x">~`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:6">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'~`'_x">~`</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:6">A</a></span>)) <span class="id">`\`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_';'_x_';'_'..'_';'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">[r</span> <span class="id">Ar</span> <span class="id">&lt;-]|[r</span> <span class="id">|</span> <span class="id">|]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|[]//];</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">Ar</span> <span class="id">=&gt;</span> <span class="id">-[?</span> <span class="id">?</span> <span class="id">[]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">[Ar</span> <span class="id">_];</span> <span class="id">apply/not_exists2P;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">Ar</span> <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">have</span> <span class="id">[|//]</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">r;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-[_]</span> <span class="id">/not_orP[_</span> <span class="id">/=]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-[_]</span> <span class="id">/not_orP[/=]</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="vernacular">Close</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id"><a name="::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">"\sum_ ( i '\in' A ) F"</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#::big_scope:'\big'_'['_x_'/'_x_']_'_'('_x_'\in'_x_')'_x">\big[+%dE/0%E]_</a></span>(<span class="id"><a name="i:7">i</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#::big_scope:'\big'_'['_x_'/'_x_']_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id">A</span>) <span class="id">F%dE</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">ereal_dual_scope</span>.<br/>
<span class="vernacular">Notation</span> <span class="id"><a name="::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">"\sum_ ( i '\in' A ) F"</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#::big_scope:'\big'_'['_x_'/'_x_']_'_'('_x_'\in'_x_')'_x">\big[+%E/0%E]_</a></span>(<span class="id"><a name="i:11">i</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#::big_scope:'\big'_'['_x_'/'_x_']_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id">A</span>) <span class="id">F%E</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ERealArith">ERealArith</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="preimage_abse_pinfty">preimage_abse_pinfty</a></span> <span class="id">:</span> <span class="id">@abse</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_';'_x_';'_'..'_';'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">split</span> <span class="id">;</span> <span class="id">move:</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">[y//|</span> <span class="id">|]//=;</span> <span class="id">[right</span> <span class="id">|</span> <span class="id">left</span> <span class="id">|</span> <span class="id">case]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="preimage_abse_ninfty">preimage_abse_ninfty</a></span> <span class="id">:</span> (<span class="id">@abse</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span> <span class="id">@^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>)<span class="id">%classic</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">apply/eqP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.gt_eqF">gt_eqF//</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0</a></span> <span class="id">t</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="compreDr">compreDr</a></span> <span class="id"><a name="T:16">T</a></span> (<span class="id"><a name="h:17">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) (<span class="id"><a name="f:18">f</a></span> <span class="id"><a name="g:19">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:16">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">{morph</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#h:17">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="x:20">x</a></span> <span class="id"><a name="y:21">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:20">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:21">y</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:22">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:23">y</a></span>)<span class="id">%E}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#h:17">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#f:18">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'\+'_x">\+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#g:19">g</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> ((<span class="id"><a href="mathcomp.analysis.ereal.html#h:17">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:18">f</a></span>) <span class="id">\+</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#h:17">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#g:19">g</a></span>))<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mh;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">mh</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="compreN">compreN</a></span> <span class="id"><a name="T:24">T</a></span> (<span class="id"><a name="h:25">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) (<span class="id"><a name="f:26">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:24">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_'/'_x_'>->'_x_'}'">{morph</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#h:25">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="x:27">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:27">x</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:28">x</a></span>)<span class="id">%E}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#h:25">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#::ring_scope:'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:26">f</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\-'_x">\-</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#h:25">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:26">f</a></span>)<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mh;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">mh</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="compreBr">compreBr</a></span> <span class="id"><a name="T:29">T</a></span> (<span class="id"><a name="h:30">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) (<span class="id"><a name="f:31">f</a></span> <span class="id"><a name="g:32">g</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:29">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">{morph</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#h:30">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="x:33">x</a></span> <span class="id"><a name="y:34">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:33">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:34">y</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:35">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:36">y</a></span>)<span class="id">%E}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#h:30">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#f:31">f</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#g:32">g</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> ((<span class="id"><a href="mathcomp.analysis.ereal.html#h:30">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:31">f</a></span>) <span class="id">\-</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#h:30">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#g:32">g</a></span>))<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mh;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">mh</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="compre_scale">compre_scale</a></span> <span class="id"><a name="T:37">T</a></span> (<span class="id"><a name="h:38">h</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) (<span class="id"><a name="f:39">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:37">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith.R">R</a></span>) <span class="id"><a name="k:40">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">{morph</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#h:38">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="x:41">x</a></span> <span class="id"><a name="y:42">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:41">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:42">y</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'morph'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:43">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:44">y</a></span>)<span class="id">%E}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#h:38">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#k:40">k</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'\o*'_x">\o*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:39">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="t:45">t</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#h:38">h</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#k:40">k</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#h:38">h</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#f:39">f</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:45">t</a></span>))<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">mf;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">mf;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span>. Qed.</div>
<br/>
<span class="id">Local</span> <span class="vernacular">Close</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArith">ERealArith</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ERealArithTh_numDomainType">ERealArithTh_numDomainType</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R</a></span>) (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="range_oppe">range_oppe</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R]%classic</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[//|x]</span> <span class="id">_;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">?oppeK</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="oppe_subset">oppe_subset</a></span> (<span class="id"><a name="A:47">A</a></span> <span class="id"><a name="B:48">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.ereal.html#A:47">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:48">B</a></span>) <span class="id">&lt;-&gt;</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:47">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:48">B</a></span>))<span class="id">%classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">split=&gt;</span> <span class="id">[AB</span> <span class="id">_</span> <span class="id">[]</span> <span class="id">x</span> <span class="id">?</span> <span class="id">&lt;-|AB</span> <span class="id">x</span> <span class="id">Ax];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">AB</span>.<br/>
<span class="id">have</span> <span class="id">/AB[y</span> <span class="id">By]</span> <span class="id">:</span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">A</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>))<span class="id">%classic</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppP">eqe_oppP</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="fsume_ge0">fsume_ge0</a></span> (<span class="id"><a name="I:49">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:50">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:49">I</a></span>) (<span class="id"><a name="F:51">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:49">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:52">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:50">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:52">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:51">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:52">i</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:53">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:50">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:51">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:53">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">move=&gt;</span> <span class="id">PF;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#finite_supportP">finite_supportP;</a></span> <span class="id">rewrite</span> <span class="id">?big_nil//</span> <span class="id">=&gt;</span> <span class="id">X</span> <span class="id">XP</span> <span class="id">F0</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq_cond">big_seq_cond</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkcondr">big_mkcondr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XP/PF</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="fsume_le0">fsume_le0</a></span> (<span class="id"><a name="I:57">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:58">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:57">I</a></span>) (<span class="id"><a name="F:59">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:57">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="t:60">t,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:58">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:60">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:59">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:60">t</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:61">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:58">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:59">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:61">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move=&gt;</span> <span class="id">PF;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#finite_supportP">finite_supportP;</a></span> <span class="id">rewrite</span> <span class="id">?big_nil//</span> <span class="id">=&gt;</span> <span class="id">X</span> <span class="id">XP</span> <span class="id">F0</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq_cond">big_seq_cond</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkcondr">big_mkcondr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_le0">sume_le0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XP/PF</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="fsumEFin">fsumEFin</a></span> (<span class="id"><a name="I:65">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) <span class="id"><a name="A:66">A</a></span> (<span class="id"><a name="F:67">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:65">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:66">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:68">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:66">A</a></span>) (<span class="id"><a href="mathcomp.analysis.ereal.html#F:67">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:68">i</a></span>)<span class="id">%:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#::ring_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:72">i</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#::ring_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:66">A</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:67">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:72">i</a></span>)<span class="id">%:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">fs;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sumEFin">sumEFin</a></span> <span class="id">-fsbig_finite</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_numDomainType">ERealArithTh_numDomainType</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ERealArithTh_realDomainType">ERealArithTh_realDomainType</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">u</span> <span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="le_er_map_in">le_er_map_in</a></span> (<span class="id"><a name="A:77">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) (<span class="id"><a name="f:78">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:77">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:78">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:79">x</a></span> <span class="id"><a name="y:80">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:79">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POSyntax.::order_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:80">y</a></span>)<span class="id">%O}}</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">{in</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:77">A</a></span>)<span class="id">%classic</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_'&'_','_x_'}'">&amp;,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#er_map">er_map</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:78">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'}'">:</a></span> <span class="id"><a name="x:83">x</a></span> <span class="id"><a name="y:84">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:83">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:84">y</a></span>)<span class="id">%E}}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">!inE/=</span> <span class="id">=&gt;</span> <span class="id">-[r</span> <span class="id">Ar</span> <span class="id">&lt;-{x}]</span> <span class="id">[s</span> <span class="id">As</span> <span class="id">&lt;-{y}]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!lee_fin/=</span> <span class="id">=&gt;</span> <span class="id">/h;</span> <span class="id">apply;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="fsume_gt0">fsume_gt0</a></span> (<span class="id"><a name="I:87">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:88">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:87">I</a></span>) (<span class="id"><a name="F:89">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:87">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:90">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:88">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:89">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:90">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="i:94">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:88">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:94">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:89">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:95">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contraPP">contraPP</a></span> <span class="id">=&gt;</span> <span class="id">/forall2NP</span> <span class="id">xNPF;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_gtF">le_gtF//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_le0">fsume_le0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">xNPF</span> <span class="id">i</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/negP;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="fsume_lt0">fsume_lt0</a></span> (<span class="id"><a name="I:96">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:97">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:96">I</a></span>) (<span class="id"><a name="F:98">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:96">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:99">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:97">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:98">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:99">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="i:103">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:97">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:103">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:98">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:104">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contraPP">contraPP</a></span> <span class="id">=&gt;</span> <span class="id">/forall2NP</span> <span class="id">xNPF;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_gtF">le_gtF//</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Pi</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">xNPF</span> <span class="id">i</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/negP;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltP">ltP</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="pfsume_eq0">pfsume_eq0</a></span> (<span class="id"><a name="I:105">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:106">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:105">I</a></span>) (<span class="id"><a name="F:107">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:105">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:106">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:108">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:106">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:108">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:107">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:108">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:109">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:106">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:107">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:109">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="i:113">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:106">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:113">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:107">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:113">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move=&gt;</span> <span class="id">Pfin</span> <span class="id">F0</span> <span class="id">/eqP;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contraTP">contraTP</a></span> <span class="id">=&gt;</span> <span class="id">/existsPNP[i</span> <span class="id">Pi</span> <span class="id">/eqP</span> <span class="id">Fi0]</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> <span class="id">i</span>)<span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#padde_eq0">padde_eq0</a></span> <span class="id">?F0</span> <span class="id">?negb_and</span> <span class="id">?Fi0//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">j</span> <span class="id">[/F0-&gt;]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="lee_fsum_nneg_subset">lee_fsum_nneg_subset</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> <span class="id">[A</span> <span class="id"><a name="B:116">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:114">T]</a></span> <span class="id">[f</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:114">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R]</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:115">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:116">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'subset'_x_'<='_x_'}'">{subset</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:115">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'subset'_x_'<='_x_'}'">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:116">B}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'in'_x_','_x_'}'">{in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrbool.html#::fun_scope:'['_'predD'_x_'&'_x_']'">[predD</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:116">B</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrbool.html#::fun_scope:'['_'predD'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:115">A],</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="t:118">t</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:114">T,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:117">f</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:118">t}%E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="t:119">t</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:115">A</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#f:117">f</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:119">t</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="t:123">t</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:116">B</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#f:117">f</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:123">t</a></span>)<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move=&gt;</span> <span class="id">finA</span> <span class="id">finB</span> <span class="id">AB</span> <span class="id">f0;</span> <span class="id">rewrite</span> <span class="id">!fsbig_finite//=;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_nneg_subfset">lee_sum_nneg_subfset</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/fsubsetP;</span> <span class="id">rewrite</span> <span class="id">-fset_set_sub//;</span> <span class="id">apply/subsetP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id">!in_fset_set//</span> <span class="id">=&gt;</span> <span class="id">/f0</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="lee_fsum">lee_fsum</a></span> <span class="id">[T</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType]</a></span> (<span class="id"><a name="I:128">I</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:127">T</a></span>) (<span class="id"><a name="a:129">a</a></span> <span class="id"><a name="b:130">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:127">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:128">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:131">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:128">I</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:131">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#a:129">a</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:131">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#b:130">b</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:131">i</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:132">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:128">I</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#a:129">a</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:132">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:136">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:128">I</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#b:130">b</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:136">i</a></span>)<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">finI</span> <span class="id">ab</span>.<br/>
<span class="id">rewrite</span> <span class="id">!fsbig_finite//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq">big_seq</a></span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]big_seq</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">exact:</span> <span class="id">ab</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ge0_mule_fsumr">ge0_mule_fsumr</a></span> (<span class="id"><a name="T:140">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) <span class="id"><a name="x:141">x</a></span> (<span class="id"><a name="F:142">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:140">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) (<span class="id"><a name="P:143">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:140">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:144">i</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:140">T,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:142">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:144">i</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:141">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:145">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:143">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:142">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:145">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:149">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:143">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#x:141">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:142">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:149">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">F0;</span> <span class="id">have</span> <span class="id">[-&gt;{x}|x0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">x</span> <span class="id">0%E</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big1">big1//</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_sume_distrr">ge0_sume_distrr//;</a></span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap#eq_fbigl">eq_fbigl</a></span> <span class="id">=&gt;</span> <span class="id">y</span>.<br/>
<span class="id">rewrite</span> <span class="id">!unlock;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">_</span>).<br/>
<span class="id">apply/seteqP;</span> <span class="id">rewrite</span> <span class="id">/preimage;</span> <span class="id">split=&gt;</span> <span class="id">[|]</span> <span class="id">z/=</span> <span class="id">[Pz</span> <span class="id">Fz0];</span><br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">Fz0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_eq0">mule_eq0</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">x0</span>)<span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/eqP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ge0_mule_fsuml">ge0_mule_fsuml</a></span> (<span class="id"><a name="T:153">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) <span class="id"><a name="x:154">x</a></span> (<span class="id"><a name="F:155">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:153">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType.R">R</a></span>) (<span class="id"><a name="P:156">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:153">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:157">i</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:153">T,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:155">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:157">i</a></span>) <span class="id">-&gt;</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:158">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:156">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:155">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:158">i</a></span>) <span class="id">*</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:154">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:162">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:156">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:155">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:162">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:154">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move=&gt;</span> <span class="id">F0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ERealArithTh_realDomainType">ERealArithTh_realDomainType</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span> <span class="id">[R</span> <span class="id">T</span> <span class="id">I</span> <span class="id">a</span> <span class="id">b]</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span class="id"><a name="DualAddTheoryNumDomain">DualAddTheoryNumDomain</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheory">DualAddTheory</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="DualAddTheoryNumDomain.DualERealArithTh_numDomainType">DualERealArithTh_numDomainType</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_dual_scope</span>.<br/>
<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType}</a></span>.<br/>
<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.finite_supportNe">finite_supportNe</a></span> (<span class="id"><a name="I:167">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:168">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:167">I</a></span>) (<span class="id"><a name="F:169">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:167">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.fsbigop.html#finite_support">finite_support</a></span> <span class="id">0%E</span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:168">P</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'\-'_x">\-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:169">F</a></span>)<span class="id">%E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#finite_support">finite_support</a></span> <span class="id">0%E</span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:168">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:169">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">rewrite</span> <span class="id">/finite_support</span> <span class="id">!unlock;</span> <span class="id">congr</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set;</a></span> <span class="id">congr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI">setI</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP;</a></span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/eqP</span> <span class="id">+</span> <span class="id">/ltac:</span>(<span class="id">apply/eqP</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_eq0">oppe_eq0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.dual_fsumeE">dual_fsumeE</a></span> (<span class="id"><a name="I:170">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:171">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:170">I</a></span>) (<span class="id"><a name="F:172">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:170">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:173">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:171">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:172">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:173">i</a></span>)<span class="id">%dE</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:177">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:171">P</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:172">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:177">i</a></span>)))<span class="id">%E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.finite_supportNe">finite_supportNe</a></span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_ind2">big_ind2</a></span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="x:181">x</a></span> <span class="id"><a name="y:182">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:181">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:182">y</a></span>)<span class="id">%E</span>) <span class="id">=&gt;</span> <span class="id">[|_</span> <span class="id">x</span> <span class="id">_</span> <span class="id">y</span> <span class="id">-&gt;</span> <span class="id">-&gt;|i</span> <span class="id">_]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dual_addeE">dual_addeE</a></span> <span class="id">!oppeK</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.dfsume_ge0">dfsume_ge0</a></span> (<span class="id"><a name="I:185">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:186">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:185">I</a></span>) (<span class="id"><a name="F:187">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:185">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:188">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:186">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:188">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:187">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:188">i</a></span>) <span class="id">-&gt;</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:189">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:186">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:187">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:189">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">PF;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#finite_supportP">finite_supportP;</a></span> <span class="id">rewrite</span> <span class="id">?big_nil//</span> <span class="id">=&gt;</span> <span class="id">X</span> <span class="id">XP</span> <span class="id">F0</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq_cond">big_seq_cond</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkcondr">big_mkcondr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dsume_ge0">dsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XP/PF</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.dfsume_le0">dfsume_le0</a></span> (<span class="id"><a name="I:193">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:194">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:193">I</a></span>) (<span class="id"><a name="F:195">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:193">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="t:196">t,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:194">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:196">t</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:195">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#t:196">t</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:197">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:194">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:195">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:197">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">move=&gt;</span> <span class="id">PF;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#finite_supportP">finite_supportP;</a></span> <span class="id">rewrite</span> <span class="id">?big_nil//</span> <span class="id">=&gt;</span> <span class="id">X</span> <span class="id">XP</span> <span class="id">F0</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_seq_cond">big_seq_cond</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#big_mkcondr">big_mkcondr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.dsume_le0">dsume_le0//</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">/XP/PF</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_numDomainType">DualERealArithTh_numDomainType</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="DualAddTheoryNumDomain.DualERealArithTh_realDomainType">DualERealArithTh_realDomainType</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheory">DualAddTheory</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_dual_scope</span>.<br/>
<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealDomain.Exports.realDomainType">realDomainType}</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> <span class="id">a</span> <span class="id">b</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.dfsume_gt0">dfsume_gt0</a></span> (<span class="id"><a name="I:202">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:203">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:202">I</a></span>) (<span class="id"><a name="F:204">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:202">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:205">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:203">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:204">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:205">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="i:209">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:203">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:209">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:204">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:210">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.dual_fsumeE">dual_fsumeE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_gt0">oppe_gt0</a></span> <span class="id">=&gt;</span> <span class="id">/fsume_lt0[i</span> <span class="id">Pi]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_lt0">oppe_lt0</a></span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="gallina-kwd">exists</span> <span class="id">i</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.dfsume_lt0">dfsume_lt0</a></span> (<span class="id"><a name="I:211">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:212">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:211">I</a></span>) (<span class="id"><a name="F:213">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:211">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:214">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:212">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:213">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:214">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<'_x">&lt;</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="i:218">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:212">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:218">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:213">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:219">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<'_x">&lt;</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.dual_fsumeE">dual_fsumeE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_lt0">oppe_lt0</a></span> <span class="id">=&gt;</span> <span class="id">/fsume_gt0[i</span> <span class="id">Pi]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_gt0">oppe_gt0</a></span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="gallina-kwd">exists</span> <span class="id">i</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.pdfsume_eq0">pdfsume_eq0</a></span> (<span class="id"><a name="I:220">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) (<span class="id"><a name="P:221">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:220">I</a></span>) (<span class="id"><a name="F:222">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#I:220">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:221">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:223">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:221">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:223">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:222">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:223">i</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:224">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:221">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:222">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:224">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="i:228">i,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:221">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:228">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:222">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:228">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move=&gt;</span> <span class="id">Pfin</span> <span class="id">F0</span> <span class="id">/eqP;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.boolp.html#contraTP">contraTP</a></span> <span class="id">=&gt;</span> <span class="id">/existsPNP[i</span> <span class="id">Pi</span> <span class="id">/eqP</span> <span class="id">Fi0]</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> <span class="id">i</span>)<span class="id">//=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#DualAddTheoryNumDomain.pdadde_eq0">pdadde_eq0</a></span> <span class="id">?F0</span> <span class="id">?negb_and</span> <span class="id">?Fi0//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.dfsume_ge0">dfsume_ge0//</a></span> <span class="id">=&gt;</span> <span class="id">j</span> <span class="id">[/F0-&gt;]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.le0_mule_dfsumr">le0_mule_dfsumr</a></span> (<span class="id"><a name="T:229">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) <span class="id"><a name="x:230">x</a></span> (<span class="id"><a name="F:231">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:229">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType.R">R</a></span>) (<span class="id"><a name="P:232">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:229">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:233">i</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:229">T,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:231">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:233">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:230">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'*'_x">*</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:234">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:232">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:231">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:234">i</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:238">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:232">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#x:230">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:231">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:238">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">Fge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">!dual_fsumeE</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleN">muleN</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_ge0">oppe_ge0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.bigop.html#eq_bigr">eq_bigr</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleN">muleN</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#eq_finite_support">eq_finite_support</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="i:242">i</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleN">muleN</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="DualAddTheoryNumDomain.le0_mule_dfsuml">le0_mule_dfsuml</a></span> (<span class="id"><a name="T:245">T</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.choice.html#Choice.Exports.choiceType">choiceType</a></span>) <span class="id"><a name="x:246">x</a></span> (<span class="id"><a name="F:247">F</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:245">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType.R">R</a></span>) (<span class="id"><a name="P:248">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:245">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="i:249">i</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:245">T,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#F:247">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:249">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'<='_x">&lt;=</a></span> <span class="id">0</span>) <span class="id">-&gt;</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:250">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:248">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:247">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:250">i</a></span>) <span class="id">*</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:246">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\sum_</a></span>(<span class="id"><a name="i:254">i</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#::ereal_dual_scope:'\sum_'_'('_x_'\in'_x_')'_x">\in</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:248">P</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#F:247">F</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#i:254">i</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_dual_scope:x_'*'_x">*</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:246">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">F0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.le0_mule_dfsumr">le0_mule_dfsumr//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">i;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain.DualERealArithTh_realDomainType">DualERealArithTh_realDomainType</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain">DualAddTheoryNumDomain</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span class="id"><a name="DualAddTheory">DualAddTheory</a></span>.<br/>
<span class="vernacular">Export</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ConstructiveDualAddTheory">ConstructiveDualAddTheory</a></span>.<br/>
<span class="vernacular">Export</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheoryNumDomain">DualAddTheoryNumDomain</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#DualAddTheory">DualAddTheory</a></span>.<br/>
<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_pointed">ereal_pointed</a></span> (<span class="id"><a name="R:258">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.PointedType">PointedType</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:258">R</a></span>) <span class="id">0%E</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_supremum">ereal_supremum</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="ereal_supremum.R">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">S</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R</a></span>)) (<span class="id">x</span> <span class="id">y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="uboundT">uboundT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">[x</span> <span class="id">Tx|x</span> <span class="id">-&gt;</span> <span class="id">?];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">/=</span> <span class="id">Tx</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_ub_pinfty">ereal_ub_pinfty</a></span> <span class="id"><a name="S:260">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:260">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="gallina-kwd">by</span> <span class="id">apply/ubP=&gt;</span> <span class="id">x</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_ub_ninfty">ereal_ub_ninfty</a></span> <span class="id"><a name="S:261">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:261">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:261">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'\/'_x">\/</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:261">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">have</span> <span class="id">[-&gt;|/set0P[x</span> <span class="id">Sx]</span> <span class="id">Snoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">left</span>.<br/>
<span class="id">right;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[/Snoo|-&gt;{y}]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">leeNy_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id">Snoo</span> <span class="id">_</span> <span class="id">Sx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">leeNy_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="supremumsT">supremumsT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremums">supremums</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">rewrite</span> <span class="id">/supremums</span> <span class="id"><a href="mathcomp.analysis.ereal.html#uboundT">uboundT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">[x</span> <span class="id">[]//|x</span> <span class="id">-&gt;</span> <span class="id">/=];</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_supremums_set0_ninfty">ereal_supremums_set0_ninfty</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremums">supremums</a></span> (<span class="id">@set0</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R</a></span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exact/ubP</span> <span class="id">|</span> <span class="id">apply/lbP=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye]</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="supremumT">supremumT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum">supremum</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">rewrite</span> <span class="id">/supremum</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT0">setT0</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#supremumsT">supremumsT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xgetP">xgetP</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>)<span class="id">/=</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="supremum_pinfty">supremum_pinfty</a></span> <span class="id"><a name="S:262">S</a></span> <span class="id"><a name="x0:263">x0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:262">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum">supremum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x0:263">x0</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:262">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">Spoo;</span> <span class="id">rewrite</span> <span class="id">/supremum</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">S0;</span> <span class="id">rewrite</span> <span class="id">S0</span> <span class="gallina-kwd">in</span> <span class="id">Spoo</span>.<br/>
<span class="id">have</span> <span class="id">sSoo</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremums">supremums</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_ub_pinfty">ereal_ub_pinfty</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">_</span> <span class="id">Spoo</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xgetP">xgetP</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">-&gt;</span> <span class="id">sSxget;</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#is_subset1_supremums">is_subset1_supremums</a></span> <span class="id">sSoo</span> <span class="id">sSxget</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>) <span class="id">=&gt;</span> <span class="id">gSoo;</span> <span class="id">exfalso;</span> <span class="id">apply</span> <span class="id">gSoo</span> <span class="id">=&gt;</span> <span class="id">{gSoo}</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_sup">ereal_sup</a></span> <span class="id"><a name="S:264">S</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum">supremum</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:264">S</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_inf">ereal_inf</a></span> <span class="id"><a name="S:265">S</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:265">S</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup0">ereal_sup0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum0">supremum0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_supT">ereal_supT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ereal_sup/=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#supremumT">supremumT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup1">ereal_sup1</a></span> <span class="id"><a name="x:266">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:266">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:266">x</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremum1">supremum1</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf0">ereal_inf0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup0">ereal_sup0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_infT">ereal_infT</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_':'_x_']'">[set:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.analysis.ereal.html#range_oppe">range_oppe/=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supT">ereal_supT</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf1">ereal_inf1</a></span> <span class="id"><a name="x:267">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:267">x]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:267">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set1">image_set1</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ub_ereal_sup">ub_ereal_sup</a></span> <span class="id"><a name="S:268">S</a></span> <span class="id"><a name="M:269">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:268">S</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:269">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:268">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:269">M</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">rewrite</span> <span class="id">/ereal_sup</span> <span class="id">/supremum;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/eqP</span> <span class="id">-&gt;|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">SM;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xgetP">xgetP</a></span> <span class="id">=&gt;</span> <span class="id">[_</span> <span class="id">-&gt;</span> <span class="id">[_]|</span> <span class="id">_]</span> <span class="id">/=;</span> <span class="id">[exact</span> <span class="id">|rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="lb_ereal_inf">lb_ereal_inf</a></span> <span class="id"><a name="S:270">S</a></span> <span class="id"><a name="M:271">M</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#lbound">lbound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:270">S</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:271">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:271">M</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:270">S</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move=&gt;</span> <span class="id">SM;</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr;</a></span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[y</span> <span class="id">Sy</span> <span class="id">&lt;-{x}]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK;</a></span> <span class="id">apply</span> <span class="id">SM</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ub_ereal_sup_adherent">ub_ereal_sup_adherent</a></span> <span class="id"><a name="S:272">S</a></span> (<span class="id"><a name="e:273">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R</a></span>) <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:273">e</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:272">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="x:274">x,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:272">S</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:274">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:272">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:273">e%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:275">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move=&gt;</span> <span class="id">e0</span> <span class="id">Sr;</span> <span class="id">have</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'~'_x">~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">S</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">e%:E</span>).<br/>
&nbsp;&nbsp;<span class="id">move/ub_ereal_sup;</span> <span class="id">apply/negP</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltNge</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_subl_addr">lte_subl_addr</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_addl">lte_addl</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
<span class="id">move/asboolP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#asbool_neg">asbool_neg;</a></span> <span class="id">case/existsp_asboolPn</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_implyE">not_implyE</a></span> <span class="id">=&gt;</span> <span class="id">-[?</span> <span class="id">?];</span> <span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.ltNge">ltNge;</a></span> <span class="id">apply/negP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="lb_ereal_inf_adherent">lb_ereal_inf_adherent</a></span> <span class="id"><a name="S:276">S</a></span> (<span class="id"><a name="e:277">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum.R">R</a></span>) <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:277">e</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:276">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="x:278">x,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:276">S</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:278">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:279">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:276">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:277">e%:E</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">move=&gt;</span> <span class="id">e0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup_adherent">ub_ereal_sup_adherent</a></span> <span class="id">e0</span>)<span class="id">[x</span> <span class="id">[]]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">Sy</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">-lte_oppr</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans</span> <span class="id">ex;</span> <span class="gallina-kwd">exists</span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ex;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup_gt">ereal_sup_gt</a></span> <span class="id"><a name="S:280">S</a></span> <span class="id"><a name="x:281">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:281">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:280">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="y:282">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:280">S</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:282">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:281">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:283">y</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_exists2P">not_exists2P</a></span> <span class="id">=&gt;</span> <span class="id">+</span> <span class="id">g;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">Sy;</span> <span class="id">move:</span> (<span class="id">g</span> <span class="id">y</span>) <span class="id">=&gt;</span> <span class="id">[//|/negP];</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf_lt">ereal_inf_lt</a></span> <span class="id"><a name="S:284">S</a></span> <span class="id"><a name="x:285">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:284">S</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:285">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">exists2</span> <span class="id"><a name="y:286">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:284">S</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:286">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:287">y</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:285">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">lte_oppl</a></span> <span class="id">=&gt;</span> <span class="id">/ereal_sup_gt[_</span> <span class="id">[y</span> <span class="id">Sy</span> <span class="id">&lt;-]]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">lte_oppl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id">=&gt;</span> <span class="id">xlty;</span> <span class="gallina-kwd">exists</span> <span class="id">y</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum">ereal_supremum</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_supremum_realType">ereal_supremum_realType</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="ereal_supremum_realType.R">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">S</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span class="id"><a name="ereal_supremum_realType.fine_def">fine_def</a></span> <span class="id"><a name="r0:289">r0</a></span> <span class="id"><a name="x:290">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:290">x</a></span> <span class="id">is</span> <span class="id">r%:E</span> <span class="gallina-kwd">then</span> <span class="id">r</span> <span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r0:289">r0</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_supremums_neq0">ereal_supremums_neq0</a></span> <span class="id"><a name="S:292">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#supremums">supremums</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:292">S</a></span> <span class="id">!=set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">have</span> <span class="id">[-&gt;|Snoo]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id">split;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ub_set1">ub_set1</a></span> <span class="id">|exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#lb_ub_refl">lb_ub_refl]</a></span>.<br/>
<span class="id">have</span> <span class="id">[-&gt;|S0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremums_set0_ninfty">ereal_supremums_set0_ninfty</a></span>.<br/>
<span class="id">have</span> <span class="id">[Spoo|Spoo]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo;</a></span> <span class="id">split;</span> <span class="id">[apply/ereal_ub_pinfty</span> <span class="id">|</span> <span class="id">apply/lbP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">/ubP;</span> <span class="id">apply]</span>.<br/>
<span class="id">have</span> <span class="id">[r</span> <span class="id">Sr]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="r:293">r,</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:293">r%:E</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">S0</span> <span class="id">=&gt;</span> <span class="id">/set0P[]</span> <span class="id">[r</span> <span class="id">Sr|</span> <span class="id">//</span> <span class="id">|Snoo1];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/not_existsP</span> <span class="id">=&gt;</span> <span class="id">nS;</span> <span class="id">move/negP</span> <span class="id">:</span> <span class="id">Snoo;</span> <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span> <span class="id">//</span> <span class="id">r;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/nS</span>.<br/>
<span class="id">set</span> <span class="id">U</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.fine_def">fine_def</a></span> <span class="id">r</span> <span class="id">@`</span> <span class="id">S</span>.<br/>
<span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">U</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-subset0</span> <span class="id">=&gt;</span> <span class="id">U0;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">[exact/ereal_ub_pinfty</span> <span class="id">|</span> <span class="id">apply/lbP</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">-[r0</span> <span class="id">/ubP</span> <span class="id">Sr0|//|]]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">U</span> <span class="id">r0</span> <span class="gallina-kwd">by</span> <span class="id">move/U0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/ubP=&gt;</span> <span class="id">_</span> <span class="id">-[]</span> <span class="id">[r1</span> <span class="id">Sr1</span> <span class="id">&lt;-|//|</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">&lt;-];</span> <span class="id">rewrite</span> <span class="id">-lee_fin;</span> <span class="id">apply</span> <span class="id">Sr0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move/ereal_ub_ninfty</span> <span class="id">=&gt;</span> <span class="id">[|];</span> <span class="gallina-kwd">by</span> <span class="id">[move/eqP</span> <span class="id">:</span> <span class="id">S0|move/eqP</span> <span class="id">:</span> <span class="id">Snoo]</span>.<br/>
<span class="id">set</span> <span class="id">u</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">U</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">u%:E;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/lbP=&gt;</span> <span class="id">-[r0</span> <span class="id">/ubP</span> <span class="id">Sr0|</span> <span class="id">|]</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">apply/sup_le_ub;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r,</span> <span class="id">r%:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/ubP</span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">-[[r2</span> <span class="id">?</span> <span class="id">&lt;-|</span> <span class="id">//</span> <span class="id">|</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">&lt;-]];</span> <span class="id">rewrite</span> <span class="id">-lee_fin;</span> <span class="id">exact:</span> <span class="id">Sr0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move/ereal_ub_ninfty=&gt;</span> <span class="id">[|/eqP</span> <span class="id">//];</span> <span class="id">[move/eqP</span> <span class="id">:</span> <span class="id">S0|rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">Snoo</span>)<span class="id">]</span>.<br/>
<span class="id">apply/ubP</span> <span class="id">=&gt;</span> <span class="id">-[r0</span> <span class="id">Sr0|//|_];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">U</span> <span class="gallina-kwd">by</span> <span class="id">move/sup_upper_bound/ubP;</span> <span class="id">apply;</span> <span class="gallina-kwd">exists</span> <span class="id">r0%:E</span>.<br/>
<span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r0,</span> <span class="id">r0%:E</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">u;</span> <span class="id">apply/ubP</span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">move=&gt;</span> <span class="id">[]</span> <span class="id">y'</span> <span class="id">Sy'</span> <span class="id">&lt;-{y}</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">U</span> <span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">[exists</span> <span class="id">r,</span> <span class="id">r%:E</span> <span class="id">|</span> <span class="id">exact/set0P]</span>.<br/>
<span class="id">move/sup_upper_bound/ubP;</span> <span class="id">apply</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">y'</span> <span class="id">Sy'</span> <span class="id">=&gt;</span> <span class="id">[r1</span> <span class="id">/=</span> <span class="id">Sr1</span> <span class="id">|</span> <span class="id">//</span> <span class="id">|</span> <span class="id">/=</span> <span class="id">_];</span> <span class="id">[exists</span> <span class="id">r1%:E</span> <span class="id">|</span> <span class="gallina-kwd">exists</span> <span class="id">r%:E]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup_ub">ereal_sup_ub</a></span> <span class="id"><a name="S:294">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:294">S</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:294">S</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">Sy;</span> <span class="id">rewrite</span> <span class="id">/ereal_sup</span> <span class="id">/supremum</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">y</span>)<span class="id">[+</span> <span class="id">_];</span> <span class="id">exact</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xgetP">xgetP</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">-&gt;</span> <span class="id">-[]</span> <span class="id">/ubP</span> <span class="id">geS</span> <span class="id">_;</span> <span class="id">apply</span> <span class="id">geS</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremums_neq0">ereal_supremums_neq0</a></span> <span class="id">S</span>) <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">x0</span> <span class="id">Sx0;</span> <span class="id">move/</span>(<span class="id">_</span> <span class="id">x0</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup_ninfty">ereal_sup_ninfty</a></span> <span class="id"><a name="S:295">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:295">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:295">S</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">supS</span> <span class="id">[r</span> <span class="id">/ereal_sup_ub</span> <span class="id">|</span> <span class="id">/ereal_sup_ub</span> <span class="id">|//];</span> <span class="id">rewrite</span> <span class="id">supS</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/</span>(<span class="id">@subset_set1</span> <span class="id">_</span> <span class="id">S</span>) <span class="id">[]</span> <span class="id">-&gt;;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup0">ereal_sup0|exact:</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf_lb">ereal_inf_lb</a></span> <span class="id"><a name="S:296">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#lbound">lbound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:296">S</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:296">S</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">Sx;</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl;</a></span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf_pinfty">ereal_inf_pinfty</a></span> <span class="id"><a name="S:297">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:297">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'<->'_x">&lt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:297">S</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_oppLRP">eqe_oppLRP</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#oppe_subset">oppe_subset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set1">image_set1;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ninfty">ereal_sup_ninfty</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="le_ereal_sup">le_ereal_sup</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id">@ereal_sup</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="A:298">A</a></span> <span class="id"><a name="B:299">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:298">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:299">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:300">A</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:301">B}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">AB;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Ax;</span> <span class="id">apply/ereal_sup_ub/AB</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="le_ereal_inf">le_ereal_inf</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id">@ereal_inf</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="A:302">A</a></span> <span class="id"><a name="B:303">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:302">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:303">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#B:305">B</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:304">A}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">AB;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Bx;</span> <span class="id">exact/ereal_inf_lb/AB</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="hasNub_ereal_sup">hasNub_ereal_sup</a></span> (<span class="id"><a name="A:306">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span>)) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'~'_x">~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:306">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#A:306">A</a></span> <span class="id">!=set0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:306">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo%E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="id">move=&gt;</span> <span class="id">hasNubA</span> <span class="id">A0</span>.<br/>
<span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt;</a></span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> <span class="id">hasNubA</span> <span class="id">=&gt;</span> <span class="id">Aoo</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">A</span>)<span class="id">;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup_EFin">ereal_sup_EFin</a></span>  (<span class="id"><a name="A:307">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:307">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:307">A</a></span> <span class="id">!=set0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:307">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:307">A</a></span>)<span class="id">%:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
<span class="id">move=&gt;</span> <span class="id">has_ubA</span> <span class="id">A0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">y</span> <span class="id">[r</span> <span class="id">Ar</span> <span class="id">&lt;-{y}];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span>.<br/>
<span class="id">set</span> <span class="id">esup</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">_;</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">esup</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;|esupoo];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span> <span class="id">esup;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[/esym|ooesup]</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">A0</span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">Ai</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/ereal_sup_ninfty</span> <span class="id">/</span>(<span class="id">_</span> <span class="id">i%:E</span>) <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ex_intro2">ex_intro2</a></span> <span class="id">A</span> <span class="id">_</span> <span class="id">i</span> <span class="id">Ai</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>)).<br/>
<span class="id">have</span> <span class="id">esup_fin_num</span> <span class="id">:</span> <span class="id">esup</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">-leeNy_eq</span> <span class="id">-ltNge</span> <span class="id">ooesup</span> <span class="id">/=</span> <span class="id">-leye_eq</span> <span class="id">-ltNge</span> <span class="id">esupoo</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@fineK</span> <span class="id">_</span> <span class="id">esup</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt</a></span>.<br/>
<span class="id">apply/negP</span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id"><a href="mathcomp.analysis.reals.html#sup_gt">sup_gt</a></span> <span class="id">A0</span>)<span class="id">[r</span> <span class="id">Ar];</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK//;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf_EFin">ereal_inf_EFin</a></span> (<span class="id"><a name="A:308">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:308">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:308">A</a></span> <span class="id">!=set0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:308">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:308">A</a></span>)<span class="id">%:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="id">move=&gt;</span> <span class="id">has_lbA</span> <span class="id">A0;</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id">/inf</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN;</a></span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">_</span>)<span class="id">%E</span>.<br/>
<span class="id">rewrite</span> <span class="id">-ereal_sup_EFin;</span> <span class="id">[|exact/has_lb_ubN|exact/nonemptyN]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!image_comp</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_supremum_realType">ereal_supremum_realType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="restrict_abse">restrict_abse</a></span> <span class="id"><a name="T:309">T</a></span> (<span class="id"><a name="R:310">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span class="id"><a name="f:311">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:309">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:310">R</a></span>) (<span class="id"><a name="D:312">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#T:309">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#f:311">f</a></span>) <span class="id">\_</span> <span class="id"><a href="mathcomp.analysis.ereal.html#D:312">D</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::fun_scope:x_'\o'_x">\o</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#f:311">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#::fun_scope:x_'\_'_x">\_</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#D:312">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="gallina-kwd">by</span> <span class="id">apply/funext=&gt;</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/restrict/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="SignedRealFieldStability">SignedRealFieldStability</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_sup_reality_subdef">ereal_sup_reality_subdef</a></span> (<span class="id"><a name="xnz:314">xnz</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">KnownSign.nullity</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="xr:315">xr</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.reality">KnownSign.reality</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.wider_reality">KnownSign.wider_reality</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_sign_scope:'<=0'">&lt;=0</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:315">xr</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.Real">KnownSign.Real</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_sign_scope:'<=0'">&lt;=0</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_sign_scope:'>=<0'">&gt;=&lt;0</a></span>)<span class="id">%snum_sign</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_reality_subdef">ereal_sup_reality_subdef</a></span> <span class="id">/</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_sup_snum_subproof">ereal_sup_snum_subproof</a></span> (<span class="id"><a name="xnz:316">xnz</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">KnownSign.nullity</a></span>) (<span class="id"><a name="xr:317">xr</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.reality">KnownSign.reality</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="S:318">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">{compare</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#SignedRealFieldStability.R">R</a></span>) <span class="id">&amp;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#xnz:316">xnz</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:317">xr}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="r:319">r</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_reality_subdef">ereal_sup_reality_subdef</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xnz:316">xnz</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:317">xr</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.signed.html#Signed.spec">Signed.spec</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_nullity_scope:'?=0'">?=0</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:319">r</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:320">x%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:320">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:318">S]%classic</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
<span class="id">rewrite</span> <span class="id">{}/r;</span> <span class="id">move:</span> <span class="id">xr</span> <span class="id">S</span> <span class="id">=&gt;</span> <span class="id">[[[]|]|]</span> <span class="id">S</span> <span class="id">/=;</span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">?[by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[?</span> <span class="id">_</span> <span class="id">&lt;-]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">[s||];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?leey</span> <span class="id">?leNye//</span> <span class="id">!lee_fin</span> <span class="id">-realE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_sup_snum">ereal_sup_snum</a></span> (<span class="id"><a name="xnz:322">xnz</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">KnownSign.nullity</a></span>) (<span class="id"><a name="xr:323">xr</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.reality">KnownSign.reality</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="S:324">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">{compare</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#SignedRealFieldStability.R">R</a></span>) <span class="id">&amp;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#xnz:322">xnz</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:323">xr}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.signed.html#Signed.mk">Signed.mk</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_snum_subproof">ereal_sup_snum_subproof</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:324">S</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_inf_reality_subdef">ereal_inf_reality_subdef</a></span> (<span class="id"><a name="xnz:325">xnz</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">KnownSign.nullity</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="xr:326">xr</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.reality">KnownSign.reality</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.wider_reality">KnownSign.wider_reality</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_sign_scope:'>=0'">&gt;=0</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:326">xr</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.Real">KnownSign.Real</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_sign_scope:'>=0'">&gt;=0</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_sign_scope:'>=<0'">&gt;=&lt;0</a></span>)<span class="id">%snum_sign</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_reality_subdef">ereal_inf_reality_subdef</a></span> <span class="id">/</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_inf_snum_subproof">ereal_inf_snum_subproof</a></span> (<span class="id"><a name="xnz:327">xnz</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">KnownSign.nullity</a></span>) (<span class="id"><a name="xr:328">xr</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.reality">KnownSign.reality</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="S:329">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">{compare</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#SignedRealFieldStability.R">R</a></span>) <span class="id">&amp;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#xnz:327">xnz</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:328">xr}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="r:330">r</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_reality_subdef">ereal_inf_reality_subdef</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xnz:327">xnz</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:328">xr</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.signed.html#Signed.spec">Signed.spec</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::snum_nullity_scope:'?=0'">?=0</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:330">r</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:331">x%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">|</a></span> <span class="id"><a name="x:331">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:329">S]%classic</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
<span class="id">rewrite</span> <span class="id">{}/r;</span> <span class="id">move:</span> <span class="id">xr</span> <span class="id">S</span> <span class="id">=&gt;</span> <span class="id">[[[]|]|]</span> <span class="id">S</span> <span class="id">/=;</span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">?[by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">[?</span> <span class="id">_</span> <span class="id">&lt;-]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id">=&gt;</span> <span class="id">[s||];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?leey</span> <span class="id">?leNye//</span> <span class="id">!lee_fin</span> <span class="id">-realE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_inf_snum">ereal_inf_snum</a></span> (<span class="id"><a name="xnz:333">xnz</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.nullity">KnownSign.nullity</a></span>) (<span class="id"><a name="xr:334">xr</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#KnownSign.reality">KnownSign.reality</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="S:335">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">{compare</a></span> (<span class="id">0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#SignedRealFieldStability.R">R</a></span>) <span class="id">&amp;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#xnz:333">xnz</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::type_scope:'{'_'compare'_x_'&'_x_'&'_x_'}'">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xr:334">xr}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.signed.html#Signed.mk">Signed.mk</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_snum_subproof">ereal_inf_snum_subproof</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:335">S</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#SignedRealFieldStability">SignedRealFieldStability</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_nbhs">ereal_nbhs</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_dnbhs">ereal_dnbhs</a></span> (<span class="id"><a name="x:337">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs.R">R</a></span>) (<span class="id"><a name="P:338">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:337">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">r%:E</span> <span class="id">=&gt;</span> <span class="id">r^'</span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="r:340">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:338">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:340">r%:E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="M:341">M,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:341">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="y:342">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:341">M%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:342">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:338">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:342">y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="M:343">M,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:343">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="y:344">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:344">y</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:343">M%:E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:338">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:344">y</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_nbhs">ereal_nbhs</a></span> (<span class="id"><a name="x:345">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs.R">R</a></span>) (<span class="id"><a name="P:346">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) <span class="id">:</span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:345">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">x%:E</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:345">x</a></span> (<span class="gallina-kwd">fun</span> <span class="id"><a name="r:348">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:346">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:348">r%:E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="M:349">M,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:349">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="y:350">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:349">M%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:350">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:346">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:350">y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="M:351">M,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:351">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="gallina-kwd">forall</span> <span class="id"><a name="y:352">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:352">y</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#M:351">M%:E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:346">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:352">y</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_ereal_filter">ereal_ereal_filter</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#Filtered.Exports.FilteredType">FilteredType</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs.R">R</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs.R">R</a></span>) (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_nbhs_instances">ereal_nbhs_instances</a></span>.<br/>
<span class="vernacular">Context</span> <span class="id">{R</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType}</a></span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Instance</span> <span class="id"><a name="ereal_dnbhs_filter">ereal_dnbhs_filter</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span class="id"><a name="x:354">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_instances.R">R,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">ProperFilter</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs">ereal_dnbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:354">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
<span class="id">case=&gt;</span> <span class="id">[x||]</span>.<br/>
<span class="id">-</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.topology.html#Proper_dnbhs_numFieldType">Proper_dnbhs_numFieldType</a></span> <span class="id">x</span>) <span class="id">=&gt;</span> <span class="id">x0</span> <span class="id">[//=</span> <span class="id">xT</span> <span class="id">xI</span> <span class="id">xS]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.topology.html#Build_ProperFilter'">Build_ProperFilter'</a></span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.topology.html#Build_Filter">Build_Filter</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">lP</span> <span class="id">lQ;</span> <span class="id">exact:</span> <span class="id">xI</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">PQ</span> <span class="id">/xS;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">/PQ</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.topology.html#Build_ProperFilter">Build_ProperFilter</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">[x</span> <span class="id">[xr</span> <span class="id">xP]]</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> (<span class="id">x</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">1</span>)<span class="id">%:E;</span> <span class="id">apply</span> <span class="id">xP</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_addl">ltr_addl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">split=&gt;</span> <span class="id">/=</span> <span class="id">[|P</span> <span class="id">Q</span> <span class="id">[MP</span> <span class="id">[MPr</span> <span class="id">gtMP]]</span> <span class="id">[MQ</span> <span class="id">[MQr</span> <span class="id">gtMQ]]</span> <span class="id">|P</span> <span class="id">Q</span> <span class="id">sPQ</span> <span class="id">[M</span> <span class="id">[Mr</span> <span class="id">gtM]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[MP0|MP0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">MP</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[MQ0|MQ0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">MQ</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0%R;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">x0;</span> <span class="id">split;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[apply/gtMP;</span> <span class="id">rewrite</span> <span class="id">MP0</span> <span class="id">|</span> <span class="id">apply/gtMQ;</span> <span class="id">rewrite</span> <span class="id">MQ0]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MQ|%R;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realE">realE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_ge0">normr_ge0;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">MQx;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">gtMP;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">MQx</span>) <span class="id">//</span> <span class="id">MP0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">gtMQ;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">MQx</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?lexx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[MQ0|MQ0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">MQ</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MP|%R;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realE">realE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_ge0">normr_ge0;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">MPx;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">gtMP;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">MPx</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?lexx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">gtMQ;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">MPx</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">MQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}MP0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MP|</a></span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_gt0">normr_gt0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}MQ0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MQ|</a></span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_gt0">normr_gt0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.max">Num.max</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">MP0</span>) (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">MQ0</span>))<span class="id">%:num</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realE">realE</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.signed.html#ge0">ge0</a></span> <span class="id">/=;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case=&gt;</span> <span class="id">[r|</span> <span class="id">|//]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin/=</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#num_max">num_max</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#num_lt_maxl">num_lt_maxl</a></span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">/andP[MPx</span> <span class="id">MQx];</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/gtMP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">MPx</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?lexx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/gtMQ;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">MQx</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?lexx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_;</span> <span class="id">split;</span> <span class="id">[apply/gtMP</span> <span class="id">|</span> <span class="id">apply/gtMQ]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">M;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?</span> <span class="id">/gtM</span> <span class="id">/sPQ</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.topology.html#Build_ProperFilter">Build_ProperFilter</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">[M</span> <span class="id">[Mr</span> <span class="id">ltMP]];</span> <span class="gallina-kwd">exists</span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">1</span>)<span class="id">%:E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id">ltMP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr_addl">gtr_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.oppr_lt0">oppr_lt0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">split=&gt;</span> <span class="id">/=</span> <span class="id">[|P</span> <span class="id">Q</span> <span class="id">[MP</span> <span class="id">[MPr</span> <span class="id">ltMP]]</span> <span class="id">[MQ</span> <span class="id">[MQr</span> <span class="id">ltMQ]]</span> <span class="id">|P</span> <span class="id">Q</span> <span class="id">sPQ</span> <span class="id">[M</span> <span class="id">[Mr</span> <span class="id">ltM]]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">have</span> <span class="id">[MP0|MP0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">MP</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[MQ0|MQ0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">MQ</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0%R;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">x0;</span> <span class="id">split;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[apply/ltMP;</span> <span class="id">rewrite</span> <span class="id">MP0</span> <span class="id">|</span> <span class="id">apply/ltMQ;</span> <span class="id">rewrite</span> <span class="id">MQ0]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MQ|</a></span>)<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realE">realE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_ge0">normr_ge0;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">xMQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">ltMP;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">xMQ</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">MP0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">ltMQ;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">xMQ</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id">-normrN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?realN</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">have</span> <span class="id">[MQ0|MQ0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">MQ</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MP|</a></span>)<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realE">realE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_ge0">normr_ge0;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">MPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">ltMP;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">MPx</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id">-normrN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?realN</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">ltMQ;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">MPx</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">MQ0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.oppr0">oppr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}MP0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MP|</a></span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_gt0">normr_gt0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}MQ0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|MQ|</a></span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr_gt0">normr_gt0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.max">Num.max</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">MP0</span>) (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">MQ0</span>))<span class="id">%:num</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realE">realE</a></span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.signed.html#ge0">ge0</a></span> <span class="id">/=;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case=&gt;</span> <span class="id">[r|//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppr">ltr_oppr</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#num_max">num_max</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#num_lt_maxl">num_lt_maxl</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppr">ltr_oppr</a></span> <span class="id">=&gt;</span> <span class="id">MPx;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppr">ltr_oppr</a></span> <span class="id">=&gt;</span> <span class="id">MQx;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/ltMP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">MPx</span>) <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id">-normrN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?realN</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/ltMQ;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">MQx</span>) <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span> <span class="id">-normrN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_normr">real_ler_normr</a></span> <span class="id">?realN</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_;</span> <span class="id">split;</span> <span class="id">[apply/ltMP</span> <span class="id">|</span> <span class="id">apply/ltMQ]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">M;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">/ltM</span> <span class="id">/sPQ</span>.<br/>
Qed.</div>
<span class="id">Typeclasses</span> <span class="vernacular">Opaque</span> <span class="id">ereal_dnbhs</span>.<br/>
<br/>
<span class="id">Global</span> <span class="vernacular">Instance</span> <span class="id"><a name="ereal_nbhs_filter">ereal_nbhs_filter</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span class="id"><a name="x:355">x,</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">ProperFilter</a></span> (<span class="id">@ereal_nbhs</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_instances.R">R</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:355">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="id">case=&gt;</span> <span class="id">[r|</span> <span class="id">|]</span>.<br/>
<span class="id">-</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs_filter">ereal_dnbhs_filter</a></span> <span class="id">r%:E</span>) <span class="id">=&gt;</span> <span class="id">r0</span> <span class="id">[//=</span> <span class="id">nrT</span> <span class="id">rI</span> <span class="id">rS]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Build_ProperFilter">Build_ProperFilter</a></span> <span class="id">=&gt;</span> <span class="id">P</span> <span class="id">/nbhs_ballP[r2</span> <span class="id">r20</span> <span class="id">rr2]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r%:E;</span> <span class="id">exact/rr2/ballxx</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs_filter">ereal_dnbhs_filter</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>).<br/>
<span class="id">-</span> <span class="id">exact:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs_filter">ereal_dnbhs_filter</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>).<br/>
Qed.</div>
<span class="id">Typeclasses</span> <span class="vernacular">Opaque</span> <span class="id">ereal_nbhs</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_instances">ereal_nbhs_instances</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_nbhs_infty">ereal_nbhs_infty</a></span>.<br/>
<span class="vernacular">Context</span> (<span class="id"><a name="R:356">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="gallina-kwd">Type</span> (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_infty.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_pinfty_gt">ereal_nbhs_pinfty_gt</a></span> <span class="id"><a name="r:357">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:357">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="x:358">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:357">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:358">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_pinfty_ge">ereal_nbhs_pinfty_ge</a></span> <span class="id"><a name="r:359">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:359">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="x:360">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:359">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:360">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_ninfty_lt">ereal_nbhs_ninfty_lt</a></span> <span class="id"><a name="r:361">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:361">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="x:362">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:361">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>'_x">&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:362">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_ninfty_le">ereal_nbhs_ninfty_le</a></span> <span class="id"><a name="r:363">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:363">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.real">Num.real</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="x:364">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:363">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'>='_x">&gt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:364">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_pinfty_real">ereal_nbhs_pinfty_real</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="x:365">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:365">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id">@Num</span>.<span class="id">real</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_infty.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_pinfty_gt">ereal_nbhs_pinfty_gt</a></span> (<span class="id">@real0</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_real">gtr0_real</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_ninfty_real">ereal_nbhs_ninfty_real</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\forall</a></span> <span class="id"><a name="x:366">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::type_scope:'\forall'_x_'\near'_x_','_x">\near</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:366">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_x">\is</a></span> <span class="id">@Num</span>.<span class="id">real</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_infty.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_ninfty_lt">ereal_nbhs_ninfty_lt</a></span> (<span class="id">@real0</span> <span class="id">_</span>)) <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_real">ltr0_real</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_infty">ereal_nbhs_infty</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_topologicalType">ereal_topologicalType</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="ereal_topologicalType.R">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_singleton">ereal_nbhs_singleton</a></span> (<span class="id"><a name="p:368">p</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalType.R">R</a></span>) (<span class="id"><a name="A:369">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalType.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#p:368">p</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:369">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:369">A</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#p:368">p</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">move:</span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id">-[p</span> <span class="id">|</span> <span class="id">[M</span> <span class="id">[Mreal</span> <span class="id">MA]]</span> <span class="id">|</span> <span class="id">[M</span> <span class="id">[Mreal</span> <span class="id">MA]]]</span> <span class="id">/=;</span> <span class="id">[|exact:</span> <span class="id">MA</span> <span class="id">|</span> <span class="id">exact:</span> <span class="id">MA]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/nbhs_ballP[_/posnumP[e]];</span> <span class="id">apply;</span> <span class="id">exact/ballxx</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhs_nbhs">ereal_nbhs_nbhs</a></span> (<span class="id"><a name="p:370">p</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalType.R">R</a></span>) (<span class="id"><a name="A:371">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalType.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#p:370">p</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:371">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#p:370">p</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs^~</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:371">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">move:</span> <span class="id">p</span> <span class="id">=&gt;</span> <span class="id">-[p|</span> <span class="id">[M</span> <span class="id">[Mreal</span> <span class="id">MA]]</span> <span class="id">|</span> <span class="id">[M</span> <span class="id">[Mreal</span> <span class="id">MA]]]</span> <span class="id">//=</span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">/nbhs_ballP[_/posnumP[e]]</span> <span class="id">ballA</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> (<span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'/'_x">/</a></span> <span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">r</span> <span class="id">per</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> (<span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'/'_x">/</a></span> <span class="id">2</span>) <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">x</span> <span class="id">rex</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/ballA/</span>(<span class="id">@ball_splitl</span> <span class="id">_</span> <span class="id">_</span> <span class="id">r</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/ball_sym</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">1</span>)<span class="id">%R;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realD">realD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">-[x|</span> <span class="id">_</span> <span class="id">|_]</span> <span class="id">//=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">=&gt;</span> <span class="id">M'x</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">y</span> <span class="id">x1y</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">MA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subr_addl</span> <span class="gallina-kwd">in</span> <span class="id">M'x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">M'x</span>) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ler_subl_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">x1y</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_norm">real_ler_norm</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realB">realB</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addr">ltr_subr_addr</a></span> <span class="gallina-kwd">in</span> <span class="id">M'x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-comparabler0</span> (<span class="id">@comparabler_trans</span> <span class="id">_</span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">1</span>)<span class="id">%R</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/Order</span>.<span class="id">comparable</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">M'x</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.comparabler0">comparabler0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realD">realD</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>. <span class="comment">(*&nbsp;where&nbsp;we&nbsp;really&nbsp;use&nbsp;realFieldType&nbsp;*)</span><br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">1</span>)<span class="id">%R;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realB">realB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">-[x|</span> <span class="id">_</span> <span class="id">|_]</span> <span class="id">//=;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">=&gt;</span> <span class="id">M'x</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">y</span> <span class="id">x1y</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">MA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addl">ltr_subr_addl</a></span> <span class="gallina-kwd">in</span> <span class="id">M'x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">M'x</span>) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ler_subl_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">x1y</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ler_norm">real_ler_norm</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realB">realB</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real</a></span>. <span class="comment">(*&nbsp;where&nbsp;we&nbsp;really&nbsp;use&nbsp;realFieldType&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subr_addr</span> <span class="gallina-kwd">in</span> <span class="id">M'x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-comparabler0</span> (<span class="id">@comparabler_trans</span> <span class="id">_</span> (<span class="id">M</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">1</span>)<span class="id">%R</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/Order</span>.<span class="id">comparable</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">M'x</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.comparabler0">comparabler0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realB">realB</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_topologicalMixin">ereal_topologicalMixin</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.mixin_of">Topological.mixin_of</a></span> (<span class="id">@ereal_nbhs</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalType.R">R</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#topologyOfFilterMixin">topologyOfFilterMixin</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_singleton">ereal_nbhs_singleton</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs_nbhs">ereal_nbhs_nbhs</a></span>.<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_topologicalType">ereal_topologicalType</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.TopologicalType">TopologicalType</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalMixin">ereal_topologicalMixin</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_topologicalType">ereal_topologicalType</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhsNe">nbhsNe</a></span> (<span class="id"><a name="R:372">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) (<span class="id"><a name="x:373">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:372">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:373">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_'in'_x_']'">[set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:374">A</a></span>) <span class="id">|</span> <span class="id"><a name="A:374">A</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:373">x]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">/=|</span> <span class="id">|]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">/nbhs</span> <span class="id">/=</span> <span class="id">/ereal_nbhs</span> <span class="id">-nbhs_ballE</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">S;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[[_/posnumP[e]</span> <span class="id">reS]|[S'</span> <span class="id">[_</span> <span class="id">/posnumP[e]</span> <span class="id">reS'</span> <span class="id">&lt;-]]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">e%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">r1</span> <span class="id">rer1;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">r1%:E</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">reS;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-normrN</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[[y</span> <span class="id">[z</span> <span class="id">Sz]</span> <span class="id">&lt;-</span> <span class="id">&lt;-]|Ss]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">s</span>)<span class="id">;</span> <span class="id">[exists</span> <span class="id">s</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">e%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">r1</span> <span class="id">rer1;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">r1%:E</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">reS';</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-normrN</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">S;</span> <span class="id">split=&gt;</span> <span class="id">[[M</span> <span class="id">[Mreal</span> <span class="id">MS]]|[x</span> <span class="id">[M</span> <span class="id">[Mreal</span> <span class="id">Mx]]</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">M</span>)<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN</a></span> <span class="id">Mreal;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Mx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">[apply</span> <span class="id">MS;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">lte_oppl</a></span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split=&gt;</span> <span class="id">[[y</span> <span class="id">[z</span> <span class="id">Sz</span> <span class="id">&lt;-</span> <span class="id">&lt;-]]|Sx];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">[exists</span> <span class="id">x</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">M</span>)<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">yM</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">[apply</span> <span class="id">Mx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppr">lte_oppr|rewrite</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">S;</span> <span class="id">split=&gt;</span> <span class="id">[[M</span> <span class="id">[Mreal</span> <span class="id">MS]]|[x</span> <span class="id">[M</span> <span class="id">[Mreal</span> <span class="id">Mx]]</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">M</span>)<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN</a></span> <span class="id">Mreal;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">Mx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">[apply</span> <span class="id">MS;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppr">lte_oppr</a></span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split=&gt;</span> <span class="id">[[y</span> <span class="id">[z</span> <span class="id">Sz</span> <span class="id">&lt;-</span> <span class="id">&lt;-]]|Sx];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">[exists</span> <span class="id">x</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">M</span>)<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.realN">realN;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">y</span> <span class="id">yM</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">[apply</span> <span class="id">Mx;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">lte_oppl|rewrite</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhsNKe">nbhsNKe</a></span> (<span class="id"><a name="R:375">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) (<span class="id"><a name="z:376">z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:375">R</a></span>) (<span class="id"><a name="A:377">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:375">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#z:376">z</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:377">A</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#z:376">z</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:377">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNe">nbhsNe</a></span> <span class="id">=&gt;</span> <span class="id">-[S</span> <span class="id">zS]</span> <span class="id">SA;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id">z</span>) <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNe">nbhsNe</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">S</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNe">nbhsNe;</a></span> <span class="gallina-kwd">exists</span> <span class="id">S</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[[y</span> <span class="id">[u</span> <span class="id">Su</span> <span class="id">&lt;-{y}</span> <span class="id">&lt;-]]|Ax]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">SA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">u</span>)) <span class="id">[h</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> (<span class="gallina-kwd">exists2</span> <span class="id"><a name="y:378">y,</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:378">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:'exists2'_x_','_x_'&'_x">&amp;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:379">y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">u</span>) <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/h</span> <span class="id">=&gt;</span> <span class="id">-[y</span> <span class="id">Ay]</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_opp">eqe_opp</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move:</span> <span class="id">SA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)) <span class="id">[_</span> <span class="id">h]</span>.<br/>
<span class="id">have</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">A</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>) <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move/h</span> <span class="id">=&gt;</span> <span class="id">[y</span> <span class="id">Sy]</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_opp">eqe_opp</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="oppe_continuous">oppe_continuous</a></span> (<span class="id"><a name="R:380">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">@oppe</span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:380">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">S</span> <span class="id">/=</span> <span class="id">xS;</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNKe">nbhsNKe;</a></span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_preimage">image_preimage</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">y;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">y</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="contract_expand">contract_expand</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="contract_expand.R">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>) (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>).<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_imageN">contract_imageN</a></span> (<span class="id"><a name="S:382">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id">@contract</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>) <span class="id">@`</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:382">S</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::fun_scope:'-%R'">-%R</a></span> <span class="id">@`</span> ((<span class="id">@contract</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>) <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:382">S</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">r;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[[y</span> <span class="id">[z</span> <span class="id">Sz</span> <span class="id">&lt;-{y}</span> <span class="id">&lt;-{r}]]|[s</span> <span class="id">[y</span> <span class="id">Sy</span> <span class="id">&lt;-{s}</span> <span class="id">&lt;-{r}]]]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">z</span>)<span class="id">;</span> <span class="id">[exists</span> <span class="id">z</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contractN">contractN]</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">[exists</span> <span class="id">y</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contractN">contractN]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contractK">contractK</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id">@contract</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>) (<span class="id">@expand</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="id">apply:</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#onS_can">onS_can</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::fun_scope:'['_'pred'_x_'|'_x_']'">[pred</a></span> <span class="id"><a name="r:383">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::fun_scope:'['_'pred'_x_'|'_x_']'">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|r|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1]%R</span> (<span class="id">@contract_le1</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>)).<br/>
<span class="id">exact:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#inj_can_sym_on">inj_can_sym_on</a></span> (<span class="id">@expandK</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#on2W">on2W</a></span> (<span class="id">@contract_inj</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="bijective_contract">bijective_contract</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::type_scope:'{'_'on'_x_','_'bijective'_x_'}'">{on</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::fun_scope:'['_'pred'_x_'|'_x_']'">[pred</a></span> <span class="id"><a name="r:385">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::fun_scope:'['_'pred'_x_'|'_x_']'">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|r|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1]%R,</span> <span class="id">bijective</span> (<span class="id">@contract</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>)<span class="id">}</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="gallina-kwd">exists</span> (<span class="id">@expand</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>)<span class="id">;</span> <span class="id">[exact:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">|</span> <span class="id">exact:</span> (<span class="id">@expandK</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>)<span class="id">]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="le_expandLR">le_expandLR</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#monoLR_in">monoLR_in</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in_onW_can">in_onW_can</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#predT">predT</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>) (<span class="gallina-kwd">fun</span> <span class="id"><a name="x:386">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:386">x</a></span>) (<span class="id">@le_expand_in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>).<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="lt_expandLR">lt_expandLR</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#monoLR_in">monoLR_in</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in_onW_can">in_onW_can</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#predT">predT</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>) (<span class="gallina-kwd">fun</span> <span class="id"><a name="x:387">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:387">x</a></span>) (<span class="id">@lt_expand</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>).<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="le_expandRL">le_expandRL</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#monoRL_in">monoRL_in</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in_onW_can">in_onW_can</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#predT">predT</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>) (<span class="gallina-kwd">fun</span> <span class="id"><a name="x:388">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:388">x</a></span>) (<span class="id">@le_expand_in</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>).<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="lt_expandRL">lt_expandRL</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#monoRL_in">monoRL_in</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in_onW_can">in_onW_can</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#predT">predT</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>) (<span class="gallina-kwd">fun</span> <span class="id"><a name="x:389">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:389">x</a></span>) (<span class="id">@lt_expand</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_eq0">contract_eq0</a></span> <span class="id"><a name="x:390">x</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:390">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">0%R</span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:390">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">0</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#can_eq">can_eq</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract0">contract0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_eqN1">contract_eqN1</a></span> <span class="id"><a name="x:391">x</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:391">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">-1</span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:391">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#can_eq">can_eq</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>). Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_eq1">contract_eq1</a></span> <span class="id"><a name="x:392">x</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:392">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">1%R</span>) <span class="id">=</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:392">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#can_eq">can_eq</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>). Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand">contract_expand</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="contract_expand_realType">contract_expand_realType</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="contract_expand_realType.R">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span class="id"><a name="contract_expand_realType.contract">contract</a></span> <span class="id">:=</span> <span class="id">@contract</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="sup_contract_le1">sup_contract_le1</a></span> <span class="id"><a name="S:394">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:394">S</a></span> <span class="id">!=set0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|sup</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:394">S</a></span>)<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">case=&gt;</span> <span class="id">x</span> <span class="id">Sx;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub;</a></span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">x</span>)<span class="id">,</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">[y</span> <span class="id">Sy]</span> <span class="id">&lt;-;</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">y</span>).<br/>
<span class="id">rewrite</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">x</span>)) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">[y</span> <span class="id">Sy</span> <span class="id">&lt;-];</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">y</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_sup">contract_sup</a></span> <span class="id"><a name="S:395">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:395">S</a></span> <span class="id">!=set0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:395">S</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:395">S</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="id">move=&gt;</span> <span class="id">S0;</span> <span class="id">apply/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.eq_le">eq_le;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">sup_le_ub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">S0</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">Sx;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">x</span>)<span class="id">,</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[y</span> <span class="id">Sy]</span> <span class="id">&lt;-{x};</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_contract">le_contract;</a></span> <span class="id">exact/ereal_sup_ub</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.leNgt">leNgt;</a></span> <span class="id">apply/negP</span>.<br/>
<span class="id">set</span> <span class="id">supc</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">_;</span> <span class="id">set</span> <span class="id">csup</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">_;</span> <span class="id">move=&gt;</span> <span class="id">ltsup</span>.<br/>
<span class="id">suff</span> <span class="id">[y</span> <span class="id">[ysupS</span> <span class="id">?]]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="y:396">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:396">y</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">S</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:396">y</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">S</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<='_x">&lt;=</a></span> <span class="id">y</span> <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">ysupS</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltxx">ltxx</a></span>.<br/>
<span class="id">suff</span> <span class="id">[x</span> <span class="id">[?</span> <span class="id">[ubSx</span> <span class="id">x1]]]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span class="id"><a name="x:397">x,</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:397">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">csup</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ubound">ubound</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">@`</span> <span class="id">S</span>) <span class="id"><a href="mathcomp.analysis.ereal.html#x:397">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'/\'_x">/\</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|x|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|y</span> <span class="id">Sy]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">S</span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">y</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_expand">le_expand</a></span> <span class="id">//;</span> <span class="id">apply</span> <span class="id">ubSx;</span> <span class="gallina-kwd">exists</span> <span class="id">y</span>.<br/>
<span class="gallina-kwd">exists</span> ((<span class="id">supc</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">csup</span>) <span class="id">/</span> <span class="id">2</span>)<span class="id">;</span> <span class="id">split;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.midf_lt">midf_lt</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">[y</span> <span class="id">Sy</span> <span class="id">&lt;-{r}]|]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">supc</span>) <span class="id">?midf_le</span> <span class="id">//;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">[z</span> <span class="id">Sz</span> <span class="id">&lt;-];</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">z</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml;</a></span> <span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivr_mulr">ler_pdivr_mulr</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mul1r">mul1r</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_add">ler_add</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#sup_contract_le1">sup_contract_le1</a></span> <span class="id">S0</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">S</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_pdivl_mulr">ler_pdivl_mulr</a></span> <span class="id">//</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulN1r">mulN1r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_add">ler_add</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#sup_contract_le1">sup_contract_le1</a></span> <span class="id">S0</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">S</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_oppl">ler_oppl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_inf">contract_inf</a></span> <span class="id"><a name="S:398">S</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:398">S</a></span> <span class="id">!=set0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:398">S</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType.contract">contract</a></span> <span class="id">@`</span> <span class="id"><a href="mathcomp.analysis.ereal.html#S:398">S</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="id">move=&gt;</span> <span class="id">-[x</span> <span class="id">Sx];</span> <span class="id">rewrite</span> <span class="id">/ereal_inf</span> <span class="id">/contract</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contractN">contractN</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">S</span>))).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/contract</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_sup">contract_sup</a></span> <span class="id">/inf;</span> <span class="id">[rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_imageN">contract_imageN</a></span> <span class="id">|</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">,</span> <span class="id">x]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_expand_realType">contract_expand_realType</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span class="id"><a name="ereal_PseudoMetric">ereal_PseudoMetric</a></span>.<br/>
<span class="vernacular">Variable</span> <span class="id"><a name="ereal_PseudoMetric.R">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>) (<span class="id">r</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="le_ereal_ball">le_ereal_ball</a></span> <span class="id"><a name="x:400">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">{homo</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:400">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">:</a></span> <span class="id"><a name="e:401">e</a></span> <span class="id"><a name="e':402">e'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">/</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#e:401">e</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e':402">e'</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#::type_scope:'{'_'homo'_x_':'_x_x_'/'_x_'>->'_x_'}'">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:403">e</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e':404">e'}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">e</span> <span class="id">e'</span> <span class="id">ee'</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans;</span> <span class="id">exact</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="expand_ereal_ball_pinfty">expand_ereal_ball_pinfty</a></span> <span class="id">{e</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}}</a></span> <span class="id"><a name="r:406">r</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#e:405">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:405">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:406">r%:E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:405">e%:num</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:406">r%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
<span class="id">move=&gt;</span> <span class="id">e1</span> <span class="id">er;</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?subr_gt0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ltr_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subl_addl</span> <span class="id">-[ltLHS]expandK</span> <span class="id">?lt_contract//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?ler_subl_addl</span> <span class="id">?ler_addr</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_ge0">subr_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_ereal_ball_fin_le">contract_ereal_ball_fin_le</a></span> <span class="id"><a name="r:407">r</a></span> <span class="id"><a name="r':408">r'</a></span> (<span class="id"><a name="e:409">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#r:407">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':408">r'</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:407">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:409">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:407">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:409">e%:num</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':408">r'%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[&lt;-{r'}</span> <span class="id">_|rr'</span> <span class="id">re1];</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball_center">ereal_ball_center</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_lt0">subr_lt0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_contract">lt_contract</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> <span class="id">_</span> <span class="id">re1</span>) <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case/ltr_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r'</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="contract_ereal_ball_fin_lt">contract_ereal_ball_fin_lt</a></span> <span class="id"><a name="r:410">r</a></span> <span class="id"><a name="r':411">r'</a></span> (<span class="id"><a name="e:412">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#r':411">r'</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:410">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:410">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:412">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">-1</span>)<span class="id">%R</span>  <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:410">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:412">e%:num</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':411">r'%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">move=&gt;</span> <span class="id">r'r</span> <span class="id">reN1;</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?subr_gt0</span> <span class="id">?lt_contract</span> <span class="id">?lte_fin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subl_addl</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">reN1</span>) <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r'</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="expand_ereal_ball_fin_lt">expand_ereal_ball_fin_lt</a></span> <span class="id"><a name="r':413">r'</a></span> <span class="id"><a name="r:414">r</a></span> (<span class="id"><a name="e:415">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#r':413">r'</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:414">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:414">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:415">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':413">r'%:E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:414">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:415">e%:num|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:414">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:415">e%:num</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':413">r'%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">move=&gt;</span> <span class="id">r'r</span> <span class="id">?</span> <span class="id">r'e'r</span>.<br/>
<span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?subr_gt0</span> <span class="id">?lt_contract</span> <span class="id">?lte_fin//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subl_addl</span> <span class="id">-lt_expandLR</span> <span class="id">?inE</span> <span class="id">?ltW</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ball_ereal_ball_fin_lt">ball_ereal_ball_fin_lt</a></span> <span class="id"><a name="r:416">r</a></span> <span class="id"><a name="r':417">r'</a></span> (<span class="id"><a name="e:418">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id"><a name="e':419">e'</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#r:416">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:416">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:418">e%:num</a></span>)))<span class="id">%R</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:416">r</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e':419">e'</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':417">r'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#r':417">r'</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:416">r</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:416">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#e:418">e</a></span>)<span class="id">%:num|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:416">r%:E</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#e:418">e</a></span>)<span class="id">%:num</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':417">r'%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
<span class="id">move=&gt;</span> <span class="id">e'</span> <span class="id">re'r'</span> <span class="id">rr'</span> <span class="id">X;</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?subr_gt0//</span> <span class="id">?lt_contract</span> <span class="id">?lte_fin//</span>.<br/>
<span class="id">move:</span> <span class="id">re'r'</span>.<br/>
<span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">//</span> <span class="id">?subr_gt0//</span> <span class="id">/e'</span>.<br/>
<span class="id">rewrite</span> <span class="id">-ltr_subl_addl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-lte_fin</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lt_expandLR">lt_expandLR</a></span> <span class="id">?inE</span> <span class="id">?ltW//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subl_addl</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ball_ereal_ball_fin_le">ball_ereal_ball_fin_le</a></span> <span class="id"><a name="r:420">r</a></span> <span class="id"><a name="r':421">r'</a></span> (<span class="id"><a name="e:422">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span class="id"><a name="e':423">e'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:420">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:422">e%:num</a></span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:420">r</a></span>)<span class="id">%R</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:420">r</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e':423">e'</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':421">r'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#r:420">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':421">r'</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:420">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:422">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:420">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:422">e%:num</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r':421">r'%:E</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">move=&gt;</span> <span class="id">e'</span> <span class="id">r'e'r</span> <span class="id">rr'</span> <span class="id">re1;</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span>.<br/>
<span class="id">move:</span> <span class="id">rr';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/predU1P[-&gt;|rr'];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="gallina-kwd">in</span> <span class="id">r'e'r</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm</a></span> <span class="id">?subr_lt0</span> <span class="id">?lt_contract</span> <span class="id">?lte_fin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB;</a></span> <span class="id">move:</span> <span class="id">r'e'r</span>.<br/>
<span class="id">rewrite</span> <span class="id">/e'</span> <span class="id">-ltr_subl_addr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span> <span class="id">-lte_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#lt_expandRL">lt_expandRL</a></span> <span class="id">?inE</span> <span class="id">?ltW//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_oo_up_e1">nbhs_oo_up_e1</a></span> (<span class="id"><a name="A:424">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) (<span class="id"><a name="e:425">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#e:425">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:425">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:424">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:424">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
<span class="id">move=&gt;</span> <span class="id">e1</span> <span class="id">ooeA</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num</span>)<span class="id">%R</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.num_real">num_real;</a></span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">case</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">|</span> <span class="id">|</span> <span class="id">//]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?ltr_subl_addl</span> <span class="id">?ltr_addr</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_ge0">subr_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">exact/ooeA/expand_ereal_ball_pinfty</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">_;</span> <span class="id">exact/ooeA/ereal_ball_center</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_oo_down_e1">nbhs_oo_down_e1</a></span> (<span class="id"><a name="A:426">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) (<span class="id"><a name="e:427">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#e:427">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:427">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:426">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:426">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">move=&gt;</span> <span class="id">e1</span> <span class="id">reA;</span> <span class="id">suff</span> <span class="id">h</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">A</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNe">nbhsNe;</a></span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">A</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split=&gt;</span> <span class="id">[[y</span> <span class="id">[z</span> <span class="id">Az</span> <span class="id">&lt;-</span> <span class="id">&lt;-]]|Ax];</span> <span class="id">rewrite</span> <span class="id">?oppeK</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">[exists</span> <span class="id">x</span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK]</a></span>.<br/>
<span class="id">apply</span> (<span class="id">@nbhs_oo_up_e1</span> <span class="id">_</span> <span class="id">e</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span> <span class="id">x1e;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/reA/ereal_ballN;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_oo_up_1e">nbhs_oo_up_1e</a></span> (<span class="id"><a name="A:428">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) (<span class="id"><a name="e:429">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:429">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:429">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:428">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:428">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="id">move=&gt;</span> <span class="id">e1</span> <span class="id">reA;</span> <span class="id">have</span> <span class="id">[e2{e1}|e2]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> <span class="id">2</span> <span class="id">e%:num</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
&nbsp;&nbsp;<span class="id">exact/ereal_ballN/ereal_ball_ninfty_oversize</span>.<br/>
<span class="id">have</span> <span class="id">/andP[e10</span> <span class="id">e11]</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x_'<='_x">&lt;</a></span> <span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">e1</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNKe">nbhsNKe</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> ((<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">e10</span>)<span class="id">%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">move/</span>(<span class="id">@nbhs_oo_down_e1</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">A</span>) (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">e10</span>))<span class="id">;</span> <span class="id">apply</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">ye;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="id">apply/reA/ereal_ballN;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_ball">le_ereal_ball</a></span> <span class="id">ye</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_addr">ler_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_oo_down_1e">nbhs_oo_down_1e</a></span> (<span class="id"><a name="A:430">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) (<span class="id"><a name="e:431">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:431">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:431">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:430">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:430">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">move=&gt;</span> <span class="id">e1</span> <span class="id">reA;</span> <span class="id">have</span> <span class="id">[e2{e1}|e2]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> <span class="id">2</span> <span class="id">e%:num</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">0%R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="id">exact/reA/ereal_ball_ninfty_oversize</span>.<br/>
<span class="id">have</span> <span class="id">/andP[e10</span> <span class="id">e11]</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x_'<='_x">&lt;</a></span> <span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">e1</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhsNKe">nbhsNKe</a></span>.<br/>
<span class="id">have</span> <span class="id">:</span> ((<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">e10</span>)<span class="id">%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">move/</span>(<span class="id">@nbhs_oo_up_e1</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#:::'-%E'">-%E</a></span> <span class="id">@`</span> <span class="id">A</span>) (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">e10</span>))<span class="id">;</span> <span class="id">apply</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">ye;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id">y</span>)<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="id">apply/reA/ereal_ballN;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_ball">le_ereal_ball</a></span> <span class="id">ye</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_addr">ler_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_fin_out_above">nbhs_fin_out_above</a></span> <span class="id"><a name="r:432">r</a></span> (<span class="id"><a name="e:433">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) (<span class="id"><a name="A:434">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:432">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:433">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:434">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id">-</span> <span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:432">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:433">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:432">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:433">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:432">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:434">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="id">move=&gt;</span> <span class="id">reA</span> <span class="id">reN1</span> <span class="id">re1</span>.<br/>
<span class="id">have</span> <span class="id">er1</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">reN1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andTb">andTb</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_spaddl">ltr_spaddl</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">r%:E</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
<span class="id">pose</span> <span class="id">e'</span> <span class="id">:=</span> (<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num</span>)))<span class="id">%R</span>.<br/>
<span class="id">have</span> <span class="id">e'0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">e'</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">-lte_fin</span> <span class="id">-[ltRHS]</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand</a></span> <span class="id">?inE</span> <span class="id">?contract_le1//</span> <span class="id">?ltW//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_addr">ltr_addr</a></span>.<br/>
<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">e'</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r'</span> <span class="id">re'r';</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[?|?]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">r</span> <span class="id">r';</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_ereal_ball_fin_le">contract_ereal_ball_fin_le</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ball_ereal_ball_fin_lt">ball_ereal_ball_fin_lt]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_fin_out_below">nbhs_fin_out_below</a></span> <span class="id"><a name="r:435">r</a></span> (<span class="id"><a name="e:436">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) (<span class="id"><a name="A:437">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:435">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:436">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:437">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:435">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:436">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">-</span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:435">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:436">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:435">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:437">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">move=&gt;</span> <span class="id">reA</span> <span class="id">reN1</span> <span class="id">re1</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">re1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">@lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span>)) <span class="id">//</span> <span class="id">?ler_addl</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
<span class="id">pose</span> <span class="id">e'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r</span>)<span class="id">%R</span>.<br/>
<span class="id">have</span> <span class="id">e'0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">e'</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/e'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">-lte_fin</span> <span class="id">-[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltLHS">ltLHS]</a></span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand</a></span> <span class="id">?inE</span> <span class="id">?contract_le1</span> <span class="id">?ltr_addl</span> <span class="id">?ltW</span>.<br/>
<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">e'</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r'</span> <span class="id">r'e'r;</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">[?|?]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">r</span> <span class="id">r';</span><br/>
&nbsp;&nbsp;<span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ball_ereal_ball_fin_le">ball_ereal_ball_fin_le</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_ereal_ball_fin_lt">contract_ereal_ball_fin_lt]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_fin_out_above_below">nbhs_fin_out_above_below</a></span> <span class="id"><a name="r:438">r</a></span> (<span class="id"><a name="e:439">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) (<span class="id"><a name="A:440">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:438">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:439">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:440">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:438">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:439">e%:num</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">-1</span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:438">r%:E</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:439">e%:num</a></span>)<span class="id">%R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:438">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:440">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">move=&gt;</span> <span class="id">reA</span> <span class="id">reN1</span> <span class="id">re1;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="id">move-&gt;;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#filterT">filterT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">_;</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
<span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">[r'|</span> <span class="id">|]</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[?|?]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">r</span> <span class="id">r'</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_ereal_ball_fin_le">contract_ereal_ball_fin_le</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_ereal_ball_fin_lt">contract_ereal_ball_fin_lt</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/ltW</span>.<br/>
<span class="id">-</span> <span class="id">exact/contract_ereal_ball_pinfty</span>.<br/>
<span class="id">-</span> <span class="id">apply/ereal_ballN/contract_ereal_ball_pinfty</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contractN">contractN</a></span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">1%R</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_fin_inbound">nbhs_fin_inbound</a></span> <span class="id"><a name="r:441">r</a></span> (<span class="id"><a name="e:442">e</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#Signed.Exports.::ring_scope:'{'_'posnum'_x_'}'">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R}</a></span>) (<span class="id"><a name="A:443">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:441">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#e:442">e%:num</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:443">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:441">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#A:443">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">move=&gt;</span> <span class="id">reA</span>.<br/>
<span class="id">have</span> <span class="id">[|reN1]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">-1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr_eq">subr_eq</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">reN1</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[re1|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move/eqP</span> <span class="id">:</span> <span class="id">reN1;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqP">eqP</a></span> <span class="id">re1</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id">-subr_eq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-mulr2n</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.mulrn_eq0">mulrn_eq0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orFb">orFb</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_eq0">contract_eq0</a></span> <span class="id">=&gt;</span> <span class="id">/eqP[r0]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re1;</span> <span class="id">rewrite</span> <span class="id">r0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract0">contract0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">r';</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id">=&gt;</span> <span class="id">r'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">reA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">r0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract0">contract0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id">e1</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[re1|re1]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> (<span class="id">@nbhs_fin_out_below</span> <span class="id">_</span> <span class="id">e</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">reN1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">e1</span> <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">e%:num</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re1;</span> <span class="id">rewrite</span> <span class="id">reN1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addl">ltr_subr_addl</a></span> <span class="id">-!mulr2n</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr_natl">mulr_natl</a></span> <span class="id">e%:num</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-{1}</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id">2%:R</span>) <span class="id">=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@ltr_pmul2l</span> <span class="id">_</span> <span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Aoo</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\'_x">`\</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[_];</span> <span class="id">rewrite</span> <span class="id">/set1</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">xnoo;</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">x</span> <span class="id">xnoo</span> <span class="id">=&gt;</span> <span class="id">[r'</span> <span class="id">_</span> <span class="id">|</span> <span class="id">_</span> <span class="id">|//]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[rr'|r'r]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r'%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_ereal_ball_fin_le">contract_ereal_ball_fin_le;</a></span> <span class="id">last</span> <span class="id">exact/ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r%:E</span>) <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r'%:E</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#le_expand">le_expand</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#contract_ereal_ball_fin_lt">contract_ereal_ball_fin_lt;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">reN1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lte_fin</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r%:E</span>) <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r'%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_ereal_ball_pinfty">contract_ereal_ball_pinfty</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">r%:E</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\'_x">`\</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span>) <span class="gallina-kwd">by</span> <span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">/nbhs_ballP[_/posnumP[e']]</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">e'%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">y</span> <span class="id">/h;</span> <span class="id">apply:</span> <span class="id">Aoo</span>.<br/>
<span class="id">move:</span> <span class="id">reN1;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[reN1|reN1]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[re1|re1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num</span>)<span class="id">%R</span> <span class="id">1%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> (<span class="id">@nbhs_fin_out_above</span> <span class="id">_</span> <span class="id">e</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id">re1</span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re1;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.neq_lt">neq_lt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[re1|re1]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">reN1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andTb">andTb</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">1%R</span>) <span class="id">//</span> <span class="id">?ler_addr//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ltr_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:'`|'_x_'|'">`|contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num|</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">re1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> (<span class="id">-1</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_lt_add">ler_lt_add</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">r%:E</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">e'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.min">Num.min</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">r</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num</span>)))<span class="id">%R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand">expand</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">r</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">e'0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">e'</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/e'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">-lte_fin</span> <span class="id">-[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS]</a></span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand</a></span> <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand//</a></span> <span class="id">?inE</span> <span class="id">?contract_le1</span> <span class="id">?ltW//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_addr">ltr_addr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id">-lte_fin</span> <span class="id">-[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltLHS">ltLHS]</a></span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand</a></span> <span class="id">?inE</span> <span class="id">?contract_le1</span> <span class="id">?ltr_addl</span> <span class="id">?ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/nbhs_ballP;</span> <span class="gallina-kwd">exists</span> <span class="id">e'</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r'</span> <span class="id">re'r';</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[|r'r]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">r</span> <span class="id">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">rr';</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ball_ereal_ball_fin_le">ball_ereal_ball_fin_le</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.topology.html#le_ball">le_ball</a></span> <span class="id">re'r';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_minl">le_minl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re'r';</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?subr_gt0</span> <span class="id">//</span> <span class="id">-ltr_subl_addl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-lte_fin</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_expand">fine_expand</a></span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">r'e'r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#expand_ereal_ball_fin_lt">expand_ereal_ball_fin_lt</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> (<span class="id">@nbhs_fin_out_above</span> <span class="id">_</span> <span class="id">e</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
<span class="id">have</span> <span class="id">[re1|re1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltrP">ltrP</a></span> <span class="id">1</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">e%:num</span>).<br/>
&nbsp;&nbsp;<span class="id">exact:</span> (<span class="id">@nbhs_fin_out_above_below</span> <span class="id">_</span> <span class="id">e</span>).<br/>
<span class="id">move:</span> <span class="id">re1;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_eqVlt">le_eqVlt</a></span> <span class="id">=&gt;</span> <span class="id">/orP[re1|re1]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">{}re1</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id">e%:num</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">re1;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id">-subr_eq</span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">e1</span> <span class="id">:</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id">e%:num</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">reN1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">re1</span> <span class="id">-addrA</span> <span class="id">-opprD</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addl">ltr_subr_addl</a></span> <span class="id">-!mulr2n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr_natl">mulr_natl</a></span> <span class="id">e%:num</span>) <span class="id">-{1}</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.mulr1">mulr1</a></span> <span class="id">2%:R</span>) <span class="id">=&gt;</span> <span class="id">?</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id">@ltr_pmul2l</span> <span class="id">_</span> <span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Aoo</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\'_x">`\</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`<=`'_x">`&lt;=`</a></span> <span class="id">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">[_];</span> <span class="id">rewrite</span> <span class="id">/set1</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">xpoo;</span> <span class="id">apply</span> <span class="id">reA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id">x</span> <span class="id">xpoo</span> <span class="id">=&gt;</span> <span class="id">[r'</span> <span class="id">_</span> <span class="id">|</span> <span class="id">//</span> <span class="id">|_]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ereal_ball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[rr'|r'r]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r'%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">re1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id">-[ltRHS]addr0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_add2">ltr_add2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_lt0">subr_lt0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ltr_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ereal_ball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">re1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_add">ltr_add</a></span> <span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">_</span> <span class="id">e1</span>) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r'</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/ereal_ball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[contract</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm</a></span> <span class="id">?subr_gt0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltr_subl_addl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">re1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addl">ltr_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_add">ltr_add</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">r%:E</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:x_'`\'_x">`\</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span>) <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">1%R</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span> <span class="id">=&gt;</span> <span class="id">_/posnumP[x]</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/ball_</span> <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">x%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">y</span> <span class="id">/h;</span> <span class="id">exact:</span> <span class="id">Aoo</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply</span> (<span class="id">@nbhs_fin_out_below</span> <span class="id">_</span> <span class="id">e</span>) <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_nbhsE">ereal_nbhsE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_">nbhs_</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#entourage_">entourage_</a></span> (<span class="id">@ereal_ball</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">set</span> <span class="id">diag</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id"><a name="r:444">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">[set</a></span> <span class="id"><a name="xy:445">xy</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#::classical_set_scope:'['_'set'_x_'|'_x_']'">|</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xy:445">xy</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:444">r</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#xy:445">xy</a></span>.<span class="id">2]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeq2E">predeq2E</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">A;</span> <span class="id">split</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">{1}/nbhs</span> <span class="id">/=</span> <span class="id">/ereal_nbhs</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">[/=</span> <span class="id">r</span> <span class="id">[_/posnumP[e]</span> <span class="id">reA]|</span> <span class="id">[M</span> <span class="id">[/=</span> <span class="id">Mreal</span> <span class="id">MA]]|</span> <span class="id">[M</span> <span class="id">[/=</span> <span class="id">Mreal</span> <span class="id">MA]]]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">pose</span> <span class="id">e'</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.min">Num.min</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">e%:num%:E</span>))<span class="id">%R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id">e%:num%:E</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">diag</span> <span class="id">e'</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/diag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">e'</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/e'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr;</a></span> <span class="id">apply/andP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_contract">lt_contract</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addr">ltr_subl_addr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_addl">ltr_addl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_contract">lt_contract</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_addl">ltr_addl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case=&gt;</span> <span class="id">[r'</span> <span class="id">/=</span> <span class="id">re'r'|</span> <span class="id">|]/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="gallina-kwd">in</span> <span class="id">re'r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r'r|rr']</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r'%:E</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">reA;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ltr_norml">real_ltr_norml</a></span> <span class="id">//</span> <span class="id">?num_real</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="id">?subr_ge0//</span> <span class="gallina-kwd">in</span> <span class="id">re'r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">e%:num%:E</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r'%:E</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re'r';</span> <span class="id">rewrite</span> <span class="id">/e'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id">=&gt;</span> <span class="id">/andP[+</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/e'</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addl">ltr_subr_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subr_addl</span> <span class="id">=&gt;</span> <span class="id">/lt_le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-lt_expandRL</span> <span class="id">?inE</span> <span class="id">?contract_le1</span> <span class="id">//</span> <span class="id">!contractK</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addr">ltr_subl_addr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subl_addr</span> <span class="id">=&gt;</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">@lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">0%R</span>)<span class="id">//</span> <span class="id">1?ltr_oppl</span> <span class="id">1?oppr0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_ge0">subr_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lee_fin</span> <span class="id">-le_contract</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">reA;</span> <span class="id">rewrite</span> <span class="id">/ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.real_ltr_norml">real_ltr_norml</a></span> <span class="id">//</span> <span class="id">?num_real</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr0_norm">ltr0_norm</a></span> <span class="id">?subr_lt0//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="gallina-kwd">in</span> <span class="id">re'r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/andP;</span> <span class="id">split;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">0%R</span>) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_lt0">subr_lt0</a></span> <span class="id">-lte_fin</span> <span class="id">-lt_contract</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/e'</span> <span class="gallina-kwd">in</span> <span class="id">re'r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">r're</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r'%:E</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id">e%:num%:E</span>))<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re'r';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addr">ltr_subl_addr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrK">subrK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addr">ltr_subl_addr</a></span> <span class="id">-lte_fin</span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> (<span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">r</span>)<span class="id">%:E</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-</span>(<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span> <span class="id">r'%:E</span>) <span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_expand">lt_expand</a></span> <span class="id">?inE</span> <span class="id">?contract_le1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">[contract</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id">=&gt;</span> <span class="id">/andP[re'1</span> <span class="id">re'2]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[cr0|cr0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.lerP">lerP</a></span> <span class="id">0</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re'2;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler0_norm">ler0_norm;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_le0">subr_le0;</a></span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addl">ltr_subr_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">h;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id">e%:num%:E</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re'2;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler0_norm">ler0_norm;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_le0">subr_le0;</a></span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">r%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subr_addl">ltr_subr_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">h;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case/ler_normlP</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'+'_x">+</a></span> <span class="id">e%:num%:E</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">[contract</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo]/=;</a></span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.lt_minr">lt_minr</a></span> <span class="id">=&gt;</span> <span class="id">/andP[re'1</span> <span class="id">_]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">re'1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ler_subl_addl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">r%:E</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_add2l">ltr_add2l</a></span> <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">h;</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id">-ler_oppl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> (<span class="id">r%:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id">e%:num%:E</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id">diag</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">M%:E</span>))<span class="id">%R;</span> <span class="id">rewrite</span> <span class="id">/diag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">M%:E</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">M</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case=&gt;</span> <span class="id">[r|</span> <span class="id">|]/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">[_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo]/=</a></span> <span class="id">=&gt;</span> <span class="id">rM1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id">MA;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ger0_norm">ger0_norm</a></span> <span class="gallina-kwd">in</span> <span class="id">rM1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_ge0">subr_ge0</a></span> <span class="id">//</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">r%:E</span>)) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_subl_addr">ltr_subl_addr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrCA">addrCA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ltr_subl_addr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="gallina-kwd">in</span> <span class="id">rM1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.subr_gt0">subr_gt0</a></span> <span class="gallina-kwd">in</span> <span class="id">rM1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lte_fin</span> <span class="id">-lt_contract</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normr0">normr0</a></span> <span class="id">=&gt;</span> <span class="id">h;</span> <span class="id">exact:</span> <span class="id">MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">=&gt;</span> <span class="id">h</span> <span class="id">{MA}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">h;</span> <span class="id">apply/negP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]ger0_norm</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addr">ler_subl_addr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">M%:E</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-ler_subl_addr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span> <span class="id">M%:E</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norml">ler_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> (<span class="id">diag</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">M%:E</span>)<span class="id">%R</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">/diag</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">M%:E</span>)<span class="id">%R</span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-ltr_subl_addl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.sub0r">sub0r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">M</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case=&gt;</span> <span class="id">[r|</span> <span class="id">|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">rM1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler0_norm">ler0_norm</a></span> <span class="gallina-kwd">in</span> <span class="id">rM1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_subl_addl">ler_subl_addl</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addr0">addr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">r</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_norml">ltr_norml</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprB">opprB</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprK">opprK</a></span> <span class="id">-ltr_subl_addl</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrK">addrK</a></span> <span class="gallina-kwd">in</span> <span class="id">rM1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lte_fin</span> <span class="id">-lt_contract</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">/=</span> <span class="id">-opprD</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.normrN">normrN</a></span> <span class="id">=&gt;</span> <span class="id">h</span> <span class="id">{MA}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">h;</span> <span class="id">apply/negP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-leNgt</span> <span class="id">[in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS]ger0_norm//</a></span> <span class="id">-ler_subl_addr</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrAC">addrAC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.add0r">add0r</a></span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> <span class="id">M%:E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_lt1">contract_lt1</a></span> <span class="id">M</span>))) <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_norm">ler_norm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">/ereal_ball</span> <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id">MA</span>.<br/>
<span class="id">-</span> <span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">[E</span> <span class="id">[_/posnumP[e]</span> <span class="id">reA]</span> <span class="id">sEA]</span> <span class="id">|</span> <span class="id">[E</span> <span class="id">[_/posnumP[e]</span> <span class="id">reA]</span> <span class="id">sEA]</span> <span class="id">|</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">[E</span> <span class="id">[_/posnumP[e]</span> <span class="id">reA]</span> <span class="id">sEA]]</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.ereal.html#nbhs_fin_inbound">nbhs_fin_inbound</a></span> <span class="gallina-kwd">with</span> <span class="id">e</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact/sEA/reA</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/nbhs_oo_up_e1;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact/sEA/reA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltNge</span> <span class="id">=&gt;</span> <span class="id">/nbhs_oo_up_1e;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact/sEA/reA</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">have</span> <span class="id">[|]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">e%:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id">1</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/nbhs_oo_down_e1;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact/sEA/reA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-ltNge</span> <span class="id">=&gt;</span> <span class="id">/nbhs_oo_down_1e;</span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact/sEA/reA</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_pseudoMetricType_mixin">ereal_pseudoMetricType_mixin</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#PseudoMetric.Mixin">PseudoMetric.Mixin</a></span> (<span class="id">@ereal_ball_center</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>) (<span class="id">@ereal_ball_sym</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">@ereal_ball_triangle</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_uniformType_mixin">ereal_uniformType_mixin</a></span> <span class="id">:</span> <span class="id">@Uniform</span>.<span class="id">mixin_of</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#uniformityOfBallMixin">uniformityOfBallMixin</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhsE">ereal_nbhsE</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_pseudoMetricType_mixin">ereal_pseudoMetricType_mixin</a></span>.<br/>
<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_uniformType">ereal_uniformType</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#Uniform.Exports.UniformType">UniformType</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_uniformType_mixin">ereal_uniformType_mixin</a></span>.<br/>
<br/>
<span class="vernacular">Canonical</span> <span class="id"><a name="ereal_pseudoMetricType">ereal_pseudoMetricType</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#PseudoMetric.Exports.PseudoMetricType">PseudoMetricType</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#extended">extended</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_pseudoMetricType_mixin">ereal_pseudoMetricType_mixin</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_PseudoMetric">ereal_PseudoMetric</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="nbhs_interval">nbhs_interval</a></span> (<span class="id"><a name="R:450">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.RealField.Exports.realFieldType">realFieldType</a></span>) (<span class="id"><a name="P:451">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:450">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) (<span class="id"><a name="r:452">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:450">R</a></span>) (<span class="id"><a name="a:453">a</a></span> <span class="id"><a name="b:454">b</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:450">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#a:453">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:452">r%:E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:452">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#b:454">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span class="id"><a name="y:455">y,</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#a:453">a</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:455">y%:E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:455">y%:E</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#b:454">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:451">P</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#y:455">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:452">r</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#P:451">P</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">move</span> <span class="id">=&gt;</span> <span class="id">ar</span> <span class="id">rb</span> <span class="id">abP;</span> <span class="id">case:</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt_ereal_nbhs">lt_ereal_nbhs</a></span> <span class="id">ar</span> <span class="id">rb</span>) <span class="id">=&gt;</span> <span class="id">d</span> <span class="id">rd</span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">d%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/rd</span> <span class="id">/andP[?</span> <span class="id">?];</span> <span class="id">apply:</span> <span class="id">abP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_dnbhs_le">ereal_dnbhs_le</a></span> (<span class="id"><a name="R:456">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>) (<span class="id"><a name="x:457">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:456">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs">ereal_dnbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:457">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">ereal_nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:457">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
<span class="id">move:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">[r</span> <span class="id">P</span> <span class="id">[_/posnumP[e]</span> <span class="id">reP]</span> <span class="id">|r</span> <span class="id">P|r</span> <span class="id">P]</span> <span class="id">//=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">e%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">apply:</span> <span class="id">reP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="ereal_dnbhs_le_finite">ereal_dnbhs_le_finite</a></span> (<span class="id"><a name="R:458">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>) (<span class="id"><a name="r:459">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:458">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs">ereal_dnbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:459">r%:E</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#r:459">r%:E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">P</span> <span class="id">[_/posnumP[e]</span> <span class="id">reP]</span> <span class="id">//=;</span> <span class="gallina-kwd">exists</span> <span class="id">e%:num</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?;</span> <span class="id">exact:</span> <span class="id">reP</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span class="id"><a name="ereal_loc_seq">ereal_loc_seq</a></span> (<span class="id"><a name="R:460">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.NumDomain.Exports.numDomainType">numDomainType</a></span>) (<span class="id"><a name="x:461">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:460">R</a></span>) (<span class="id"><a name="n:462">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:461">x</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">x%:E</span> <span class="id">=&gt;</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#x:461">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> (<span class="id"><a href="mathcomp.analysis.ereal.html#n:462">n%:R</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:x_'+'_x">+</a></span> <span class="id">1</span>)<span class="id">^-1</span>)<span class="id">%:E</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'+oo'">+oo</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#n:462">n%:R%:E</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-oo'">-oo</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#n:462">n%:R%:E</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span class="id"><a name="cvg_ereal_loc_seq">cvg_ereal_loc_seq</a></span> (<span class="id"><a name="R:464">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="x:465">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::type_scope:'\bar'_x">\bar</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#R:464">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_loc_seq">ereal_loc_seq</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:465">x</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'-->'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_dnbhs">ereal_dnbhs</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#x:465">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
<span class="id">move=&gt;</span> <span class="id">P;</span> <span class="id">rewrite</span> <span class="id">/ereal_loc_seq</span>.<br/>
<span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">[x</span> <span class="id">[_/posnumP[d]</span> <span class="id">dP]</span> <span class="id">|[d</span> <span class="id">[dreal</span> <span class="id">dP]]</span> <span class="id">|[d</span> <span class="id">[dreal</span> <span class="id">dP]]];</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ZnatP</span> <span class="id">[N</span> <span class="id">Nfloor]</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.max">Num.max</a></span> <span class="id">d</span> <span class="id">0%R</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#Znat">Znat</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#Znat_def">Znat_def</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N</span>.<span class="id">+1</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">ltNn;</span> <span class="id">apply:</span> <span class="id">dP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">/le_lt_trans</span> <span class="id">:</span> (<span class="id">d</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.max">Num.max</a></span> <span class="id">d</span> <span class="id">0</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id">Nfloor</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.natr1">natr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ZnatP</span> <span class="id">[N</span> <span class="id">Nfloor]</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.max">Num.max</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">d</span>)<span class="id">%R</span> <span class="id">0%R</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#Znat">Znat</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#Znat_def">Znat_def</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">N</span>.<span class="id">+1</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">ltNn;</span> <span class="id">apply:</span> <span class="id">dP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_oppl">ltr_oppl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/le_lt_trans</span> <span class="id">:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">d</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'<='_x">&lt;=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.max">Num.max</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#::ring_scope:'-'_x">-</a></span> <span class="id">d</span>) <span class="id">0</span>)<span class="id">%R</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.TotalTheory.le_maxr">le_maxr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lexx">lexx</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id">Nfloor</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.natr1">natr1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
<span class="id">have</span> <span class="id">/ZnatP</span> <span class="id">[N</span> <span class="id">Nfloor]</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id">d%:num^-1</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\is'_'a'_x">\is</a></span> <span class="id">a</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#Znat">Znat</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrint.html#Znat_def">Znat_def</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">N</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">leNn;</span> <span class="id">apply:</span> <span class="id">dP;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrC">addrC</a></span> <span class="id">-subr_eq</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym;</a></span> <span class="id">exact/invr_neq0/lt0r_neq0</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.opprD">opprD</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.addrA">addrA</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subrr">subrr</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.distrC">distrC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.subr0">subr0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.gtr0_norm">gtr0_norm;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.invr_gt0">invr_gt0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[ltLHS]mulr1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ltr_pdivr_mull">ltr_pdivr_mull</a></span> <span class="id">//</span> <span class="id">-ltr_pdivr_mulr</span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html#GRing.Theory.div1r">div1r</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))<span class="id">//</span> <span class="id">Nfloor</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_add">ler_add//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html#Num.Theory.ler_nat">ler_nat</a></span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
