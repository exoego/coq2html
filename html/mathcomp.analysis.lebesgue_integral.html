
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.lebesgue_integral</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.lebesgue_integral" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.lebesgue_integral</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">ssrint</span> <span class="id">interval</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span> .<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
# Lebesgue Integral                                                        
                                                                           
This file contains a formalization of the Lebesgue integral. It starts     
with simple functions and their integral, provides basic operations        
(addition, etc.), and proves the properties of their integral              
(semi-linearity, non-decreasingness). It then defines the integral of      
measurable functions, proves the approximation theorem, the properties of  
their integral (semi-linearity, non-decreasingness), the monotone          
convergence theorem, and Fatou's lemma. Finally, it proves the linearity   
properties of the integral, the dominated convergence theorem and          
Fubini's theorem, etc.                                                     
                                                                           
Main notation:                                                             
| Coq notation          | Meaning                         |                
|-----------------------|---------------------------------|                
| \int[mu]_(x in D) f x | $\int_{x\in D} f(x)\mathbf{d}x$ |                
| \int[mu]_x f x        | $\int_x f(x)\mathbf{d}x$        |                
                                                                           
Main reference:                                                            
- Daniel Li, Int√©gration et applications, 2016                             
                                                                           
Detailed contents:                                                         
````                                                                       
        {mfun T &gt;-&gt; R} == type of real-valued measurable functions         
        {sfun T &gt;-&gt; R} == type of simple functions                         
      {nnsfun T &gt;-&gt; R} == type of non-negative simple functions            
          cst_nnsfun r == constant simple function                         
               nnsfun0 := cst_nnsfun 0                                     
        sintegral mu f == integral of the function f with the measure mu   
 \int[mu]_(x in D) f x == integral of the measurable function f over the   
                          domain D with measure mu                         
        \int[mu]_x f x := \int[mu]_(x in setT) f x                         
        dyadic_itv n k == the interval                                     
                          `[(k%:R * 2 ^- n), (k.+1%:R * 2 ^- n)[           
            approx D f == nondecreasing sequence of functions that         
                          approximates f over D using dyadic intervals     
      Rintegral mu D f := fine (\int[mu]_(x in D) f x).                    
    mu.-integrable D f == f is measurable over D and the integral of f     
                          w.r.t. D is &lt; +oo                                
           ae_eq D f g == f is equal to g almost everywhere                
              m1 \x m2 == product measure over T1 * T2, m1 is a measure    
                          measure over T1, and m2 is a sigma finite        
                          measure over T2                                  
             m1 \x^ m2 == product measure over T1 * T2, m2 is a measure    
                          measure over T1, and m1 is a sigma finite        
                          measure over T2                                  
````                                                                       
                                                                           
</div>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "\<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> ( <span class="id">i</span> '<span class="kwd">in</span>' <span class="id">D</span> ) <span class="id">F</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 36, <span class="id">F</span> <span class="kwd">at</span> <span class="id">level</span> 36, <span class="id">mu</span> <span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">i</span>, <span class="id">D</span> <span class="kwd">at</span> <span class="id">level</span> 50,<br/>
&nbsp;&nbsp;<span class="id">format</span> "'[' \<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> ( <span class="id">i</span>  '<span class="kwd">in</span>'  <span class="id">D</span> ) '/  '  <span class="id">F</span> ']'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "\<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> <span class="id">i</span> <span class="id">F</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 36, <span class="id">F</span> <span class="kwd">at</span> <span class="id">level</span> 36, <span class="id">mu</span> <span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">i</span> <span class="kwd">at</span> <span class="id">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span> <span class="id">associativity</span>, <span class="id">format</span> "'[' \<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> <span class="id">i</span> '/  '  <span class="id">F</span> ']'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">mu</span> .-<span class="id">integrable</span>" (<span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "<span class="id">mu</span> .-<span class="id">integrable</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">m1</span> '\<span class="id">x</span>' <span class="id">m2</span>" (<span class="kwd">at</span> <span class="id">level</span> 40, <span class="id">m2</span> <span class="kwd">at</span> <span class="id">next</span> <span class="id">level</span>).<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">m1</span> '\<span class="id">x</span>^' <span class="id">m2</span>" (<span class="kwd">at</span> <span class="id">level</span> 40, <span class="id">m2</span> <span class="kwd">at</span> <span class="id">next</span> <span class="id">level</span>).<br/>
<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span> <span class="id">_</span>]) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="id"><a name="isMeasurableFun">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">isMeasurableFun</span> <span class="id"><a name="d:1">d</a></span> (<span class="id"><a name="aT:2">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="rT:3">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:4">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := {<br/>
&nbsp;&nbsp;<span class="id"><a name="measurable_funP:5">measurable_funP</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span><br/>
}.<br/>
<span class="id"><a name="MeasurableFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">MeasurableFun</span> <span class="id"><a name="d:10">d</a></span> <span class="id"><a name="aT:11">aT</a></span> <span class="id"><a name="rT:12">rT</a></span> :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:13">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id">d</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">mfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "{ '<span class="id">mfun</span>'  <span class="id">aT</span>  &gt;-&gt;  <span class="id">T</span> }").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">mfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">mfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Notation</span> "{ '<span class="id">mfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }" := (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">MeasurableFun.type</a></span> <span class="id">_</span> <span class="id">aT</span> <span class="id">T</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">mfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">mfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">measurable_funP</span> : <span class="id">core</span>.<br/>
<br/>
<span class="id"><a name="SimpleFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SimpleFun</span> <span class="id"><a name="d:16">d</a></span> (<span class="id"><a name="aT:17">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="rT:18">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:19">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id">d</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">sfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "{ '<span class="id">sfun</span>'  <span class="id">aT</span>  &gt;-&gt;  <span class="id">T</span> }").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">sfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">sfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Notation</span> "{ '<span class="id">sfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }" := (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">SimpleFun.type</a></span> <span class="id">_</span> <span class="id">aT</span> <span class="id">T</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">sfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">sfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_sfunP">measurable_sfunP</a></span> {<span class="id"><a name="d:22">d</a></span>} {<span class="id"><a name="aT:23">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="rT:24">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:25">f</a></span> : {<span class="id">mfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) (<span class="id"><a name="Y:26">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">Y</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> @^-1` <span class="id">Y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mY</span>; <span class="id">rewrite</span> -[<span class="id">f</span> @^-1` <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funP">measurable_funP</a></span>. Qed.</div>
<br/>
<span class="id"><a name="NonNegSimpleFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">NonNegSimpleFun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="d:27">d</a></span> (<span class="id"><a name="aT:28">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="rT:29">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:30">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#SimpleFun">SimpleFun</a></span> <span class="id">d</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.analysis.numfun.html#NonNegFun">NonNegFun</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">nnsfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "{ '<span class="id">nnsfun</span>'  <span class="id">aT</span>  &gt;-&gt;  <span class="id">T</span> }").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">nnsfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">nnsfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Notation</span> "{ '<span class="id">nnsfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }" := (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#type">NonNegSimpleFun.type</a></span> <span class="id">_</span> <span class="id">aT</span>%<span class="id">type</span> <span class="id">T</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">nnsfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="mfun_pred">mfun_pred</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="d:33">d</a></span>} {<span class="id"><a name="aT:34">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="rT:35">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun">mfun</a></span> : {<span class="id">pred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_pred.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_pred.rT">rT</a></span>} := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> [<span class="id">set</span> <span class="id"><a name="f:36">f</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun_key">mfun_key</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">pred_key</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="id">exact</span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_keyed">mfun_keyed</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#KeyedPred">KeyedPred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_key">mfun_key</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_pred">mfun_pred</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="mfun">mfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="d:37">d</a></span>} {<span class="id"><a name="aT:38">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="rT:39">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="T">T</a></span> := {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>}.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="mfun">mfun</a></span> := (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>).<br/>
<span class="kwd">Section</span> <span class="id"><a name="mfun.Sub">Sub</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="f:40">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>) (<span class="id"><a name="fP:41">fP</a></span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun_Sub_subproof">mfun_Sub_subproof</a></span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub.f">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub.fP">fP</a></span>).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_Sub_subproof">mfun_Sub_subproof</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun_Sub">mfun_Sub</a></span> := [<span class="id">mfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub.f">f</a></span>].<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.Sub">Sub</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun_rect">mfun_rect</a></span> (<span class="id"><a name="K:42">K</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> -&gt; <span class="kwd">Type</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="f:43">f</a></span> (<span class="id"><a name="Pf:44">Pf</a></span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>), <span class="id">K</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_Sub">mfun_Sub</a></span> <span class="id">Pf</span>)) -&gt; <span class="kwd">forall</span> <span class="id"><a name="u:45">u</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span>, <span class="id">K</span> <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move</span>=&gt; <span class="id">Ksub</span> [<span class="id">f</span> [[<span class="id">Pf</span>]]]/=.<br/>
<span class="kwd">by</span> <span class="id">suff</span> -&gt; : <span class="id">Pf</span> = (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">_</span> [<span class="id">set</span> <span class="id"><a name="f:46">f</a></span> | <span class="id">_</span>] <span class="id">f</span> <span class="id">Pf</span>)) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">Ksub</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun_valP">mfun_valP</a></span> <span class="id"><a name="f:47">f</a></span> (<span class="id"><a name="Pf:48">Pf</a></span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_Sub">mfun_Sub</a></span> <span class="id">Pf</span> = <span class="id">f</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_subType">mfun_subType</a></span> := <span class="id">SubType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_rect">mfun_rect</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_valP">mfun_valP</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mfuneqP">mfuneqP</a></span> (<span class="id"><a name="f:49">f</a></span> <span class="id"><a name="g:50">g</a></span> : {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>}) : <span class="id">f</span> = <span class="id">g</span> &lt;-&gt; <span class="id">f</span> =1 <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [-&gt;//|<span class="id">fg</span>]; <span class="id">apply</span>/<span class="id">val_inj</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfuneqMixin">mfuneqMixin</a></span> := [<span class="id">eqMixin</span> <span class="id">of</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfuneqType">mfuneqType</a></span> := <span class="id">EqType</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfuneqMixin">mfuneqMixin</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfunchoiceMixin">mfunchoiceMixin</a></span> := [<span class="id">choiceMixin</span> <span class="id">of</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfunchoiceType">mfunchoiceType</a></span> := <span class="id">ChoiceType</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfunchoiceMixin">mfunchoiceMixin</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cst_mfun_subproof">cst_mfun_subproof</a></span> <span class="id"><a name="x:51">x</a></span> : @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="kwd">by</span> <span class="id">split</span>. Qed.</div>
<span class="id"><a name="mfun.hb_instance_19">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="x:52">x</a></span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_mfun_subproof">cst_mfun_subproof</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cst_mfun">cst_mfun</a></span> <span class="id"><a name="x:53">x</a></span> := [<span class="id">the</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun_cst">mfun_cst</a></span> <span class="id"><a name="x:54">x</a></span> : @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_mfun">cst_mfun</a></span> <span class="id">x</span> =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_22">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span><br/>
&nbsp;&nbsp;(@<span class="id">normr</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>) (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_normr">measurable_normr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>).<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_24">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.sequences.html#expR">expR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>) (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_expR">measurable_expR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurableT_comp_subproof">measurableT_comp_subproof</a></span> (<span class="id"><a name="f:55">f</a></span> : {<span class="id">mfun</span> <span class="id">_</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>}) (<span class="id"><a name="g:56">g</a></span> : {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">f</span> \<span class="id">o</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>. <span class="id">exact</span>. <span class="id">apply</span>: @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funP">measurable_funP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">g</span>. Qed.</div>
<br/>
<span class="id"><a name="mfun.hb_instance_26">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:57">f</a></span> : {<span class="id">mfun</span> <span class="id">_</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>}) (<span class="id"><a name="g:58">g</a></span> : {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun.rT">rT</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> \<span class="id">o</span> <span class="id">g</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurableT_comp_subproof">measurableT_comp_subproof</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ring">ring</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:59">d</a></span> (<span class="id"><a name="aT:60">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="rT:61">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun_subring_closed">mfun_subring_closed</a></span> : <span class="id">subring_closed</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">split</span>=&gt; [|<span class="id">f</span> <span class="id">g</span>|<span class="id">f</span> <span class="id">g</span>]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span>.<br/>
Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_add">mfun_add</a></span> := <span class="id">AddrPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_subring_closed">mfun_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_zmod">mfun_zmod</a></span> := <span class="id">ZmodPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_subring_closed">mfun_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_mul">mfun_mul</a></span> := <span class="id">MulrPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_subring_closed">mfun_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_subring">mfun_subring</a></span> := <span class="id">SubringPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_subring_closed">mfun_subring_closed</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun_zmodMixin">mfun_zmodMixin</a></span> := [<span class="id">zmodMixin</span> <span class="id">of</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_zmodType">mfun_zmodType</a></span> := <span class="id">ZmodType</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_zmodMixin">mfun_zmodMixin</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun_ringMixin">mfun_ringMixin</a></span> := [<span class="id">ringMixin</span> <span class="id">of</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_ringType">mfun_ringType</a></span> := <span class="id">RingType</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_ringMixin">mfun_ringMixin</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mfun_comRingMixin">mfun_comRingMixin</a></span> := [<span class="id">comRingMixin</span> <span class="id">of</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mfun_comRingType">mfun_comRingType</a></span> := <span class="id">ComRingType</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun_comRingMixin">mfun_comRingMixin</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun0">mfun0</a></span> : (0 : {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0 :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun1">mfun1</a></span> : (1 : {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 1 :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfunN">mfunN</a></span> <span class="id"><a name="f:62">f</a></span> : - <span class="id">f</span> = \- <span class="id">f</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfunD">mfunD</a></span> <span class="id"><a name="f:63">f</a></span> <span class="id"><a name="g:64">g</a></span> : <span class="id">f</span> + <span class="id">g</span> = <span class="id">f</span> \+ <span class="id">g</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfunB">mfunB</a></span> <span class="id"><a name="f:65">f</a></span> <span class="id"><a name="g:66">g</a></span> : <span class="id">f</span> - <span class="id">g</span> = <span class="id">f</span> \- <span class="id">g</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfunM">mfunM</a></span> <span class="id"><a name="f:67">f</a></span> <span class="id"><a name="g:68">g</a></span> : <span class="id">f</span> * <span class="id">g</span> = <span class="id">f</span> \* <span class="id">g</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun_sum">mfun_sum</a></span> <span class="id"><a name="I:69">I</a></span> <span class="id"><a name="r:70">r</a></span> (<span class="id"><a name="P:71">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:72">f</a></span> : <span class="id">I</span> -&gt; {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) (<span class="id"><a name="x:73">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:74">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:77">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id">_</span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfun_prod">mfun_prod</a></span> <span class="id"><a name="I:80">I</a></span> <span class="id"><a name="r:81">r</a></span> (<span class="id"><a name="P:82">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:83">f</a></span> : <span class="id">I</span> -&gt; {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) (<span class="id"><a name="x:84">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:85">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:88">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id">_</span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mfunX">mfunX</a></span> <span class="id"><a name="f:91">f</a></span> <span class="id"><a name="n:92">n</a></span> : <span class="id">f</span> ^+ <span class="id">n</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:93">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span>) :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">IHn</span>]//; <span class="id">rewrite</span> !<span class="id">exprS</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfunM">mfunM</a></span>/= <span class="id">IHn</span>. Qed.</div>
<br/>
<span class="id"><a name="ring.hb_instance_29">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:94">f</a></span> <span class="id"><a name="g:95">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">f</span> \+ <span class="id">g</span>) (<span class="id">f</span> + <span class="id">g</span>).<br/>
<span class="id"><a name="ring.hb_instance_33">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:96">f</a></span> <span class="id"><a name="g:97">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (\- <span class="id">f</span>) (- <span class="id">f</span>).<br/>
<span class="id"><a name="ring.hb_instance_38">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:98">f</a></span> <span class="id"><a name="g:99">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">f</span> \- <span class="id">g</span>) (<span class="id">f</span> - <span class="id">g</span>).<br/>
<span class="id"><a name="ring.hb_instance_43">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:100">f</a></span> <span class="id"><a name="g:101">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">f</span> \* <span class="id">g</span>) (<span class="id">f</span> * <span class="id">g</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mindic">mindic</a></span> (<span class="id"><a name="D:102">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> := \1<span class="id">_D</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mindicE">mindicE</a></span> (<span class="id"><a name="D:103">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span class="id"><a name="mD:104">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">mD</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:105">x</a></span> =&gt; (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>)%:<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>. Qed.</div>
<span class="id"><a name="ring.hb_instance_48">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="D:106">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span class="id"><a name="mD:107">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.cardinality.html#FImFun">FImFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">mD</span>) := <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.on">FImFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">mD</span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_mfun_subproof">indic_mfun_subproof</a></span> (<span class="id"><a name="D:108">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span class="id"><a name="mD:109">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">mD</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">split</span>=&gt; <span class="id">mA</span> /= <span class="id">B</span> <span class="id">mB</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#preimage_indic">preimage_indic</a></span>.<br/>
<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">B1</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">B0</span> //.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span>.<br/>
Qed.</div>
<span class="id"><a name="ring.hb_instance_52">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="D:110">D</a></span> <span class="id"><a name="mD:111">mD</a></span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_mfun_subproof">indic_mfun_subproof</a></span> <span class="id">D</span> <span class="id">mD</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="indic_mfun">indic_mfun</a></span> (<span class="id"><a name="D:112">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span class="id"><a name="mD:113">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">mD</span>].<br/>
<br/>
<span class="id"><a name="ring.hb_instance_55">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="k:114">k</a></span> <span class="id"><a name="f:115">f</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">k</span> \<span class="id">o</span>* <span class="id">f</span>) (<span class="id">f</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_mfun">cst_mfun</a></span> <span class="id">k</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="scale_mfun">scale_mfun</a></span> <span class="id"><a name="k:116">k</a></span> <span class="id"><a name="f:117">f</a></span> := [<span class="id">the</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id">of</span> <span class="id">k</span> \<span class="id">o</span>* <span class="id">f</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="max_mfun_subproof">max_mfun_subproof</a></span> <span class="id"><a name="f:118">f</a></span> <span class="id"><a name="g:119">g</a></span> : @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun">isMeasurableFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> (<span class="id">f</span> \<span class="id">max</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxr">measurable_maxr</a></span>. Qed.</div>
<span class="id"><a name="ring.hb_instance_60">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:120">f</a></span> <span class="id"><a name="g:121">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_mfun_subproof">max_mfun_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="max_mfun">max_mfun</a></span> <span class="id"><a name="f:122">f</a></span> <span class="id"><a name="g:123">g</a></span> := [<span class="id">the</span> {<span class="id">mfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> \<span class="id">max</span> <span class="id">g</span>].<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring">ring</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_mfun">indic_mfun</a></span> {<span class="id">d</span> <span class="id">aT</span> <span class="id">rT</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_indic">measurable_indic</a></span> <span class="id"><a name="d:124">d</a></span> (<span class="id"><a name="T:125">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:126">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="D:127">D</a></span> <span class="id"><a name="A:128">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (\1<span class="id">_A</span> : <span class="id">T</span> -&gt; <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mA</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>; <span class="id">rewrite</span> (<span class="id">_</span> : \1<span class="id">__</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id">R</span> <span class="id">mA</span>).<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0  (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (\1<span class="id">__</span> : <span class="id">_</span> -&gt; <span class="id">_</span>)) =&gt;<br/>
&nbsp;&nbsp;(<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_indic">measurable_indic</a></span> ) : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_indic</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_indic">measurable_fun_indic</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_indic">measurable_indic</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sfun_pred">sfun_pred</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="d:129">d</a></span>} {<span class="id"><a name="aT:130">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="rT:131">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun">sfun</a></span> : {<span class="id">pred</span> <span class="id">_</span> -&gt; <span class="id">_</span>} := [<span class="id">predI</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_pred.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_pred.rT">rT</a></span> &amp; <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun</a></span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_key">sfun_key</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">pred_key</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="id">exact</span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_keyed">sfun_keyed</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#KeyedPred">KeyedPred</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_key">sfun_key</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sub_sfun_mfun">sub_sfun_mfun</a></span> : {<span class="id">subset</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mfun">mfun</a></span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sub_sfun_fimfun">sub_sfun_fimfun</a></span> : {<span class="id">subset</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> &lt;= <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun</a></span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_pred">sfun_pred</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sfun">sfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="d:132">d</a></span>} {<span class="id"><a name="aT:133">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="rT:134">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="T">T</a></span> := {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>}.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="sfun">sfun</a></span> := (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>).<br/>
<span class="kwd">Section</span> <span class="id"><a name="sfun.Sub">Sub</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="f:135">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>) (<span class="id"><a name="fP:136">fP</a></span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_Sub1_subproof">sfun_Sub1_subproof</a></span> :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Build">isMeasurableFun.Build</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.f">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_mfun">sub_sfun_mfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.fP">fP</a></span>)).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub1_subproof">sfun_Sub1_subproof</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_Sub2_subproof">sfun_Sub2_subproof</a></span> :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage.Build">FiniteImage.Build</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.f">f</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_fimfun">sub_sfun_fimfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.fP">fP</a></span>)).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub2_subproof">sfun_Sub2_subproof</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_Sub">sfun_Sub</a></span> := [<span class="id">sfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub.f">f</a></span>].<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.Sub">Sub</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_rect">sfun_rect</a></span> (<span class="id"><a name="K:137">K</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> -&gt; <span class="kwd">Type</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="f:138">f</a></span> (<span class="id"><a name="Pf:139">Pf</a></span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>), <span class="id">K</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub">sfun_Sub</a></span> <span class="id">Pf</span>)) -&gt; <span class="kwd">forall</span> <span class="id"><a name="u:140">u</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span>, <span class="id">K</span> <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move</span>=&gt; <span class="id">Ksub</span> [<span class="id">f</span> [[<span class="id">Pf1</span>] [<span class="id">Pf2</span>]]]; <span class="id">have</span> <span class="id">Pf</span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">Pf1</span> = (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_mfun">sub_sfun_mfun</a></span> <span class="id">Pf</span>)) <span class="kwd">by</span> [].<br/>
<span class="id">have</span> -&gt; : <span class="id">Pf2</span> = (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sub_sfun_fimfun">sub_sfun_fimfun</a></span> <span class="id">Pf</span>)) <span class="kwd">by</span> [].<br/>
<span class="id">exact</span>: <span class="id">Ksub</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_valP">sfun_valP</a></span> <span class="id"><a name="f:141">f</a></span> (<span class="id"><a name="Pf:142">Pf</a></span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_Sub">sfun_Sub</a></span> <span class="id">Pf</span> = <span class="id">f</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_subType">sfun_subType</a></span> := <span class="id">SubType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#T">T</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_rect">sfun_rect</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_valP">sfun_valP</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfuneqP">sfuneqP</a></span> (<span class="id"><a name="f:143">f</a></span> <span class="id"><a name="g:144">g</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>}) : <span class="id">f</span> = <span class="id">g</span> &lt;-&gt; <span class="id">f</span> =1 <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [-&gt;//|<span class="id">fg</span>]; <span class="id">apply</span>/<span class="id">val_inj</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfuneqMixin">sfuneqMixin</a></span> := [<span class="id">eqMixin</span> <span class="id">of</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfuneqType">sfuneqType</a></span> := <span class="id">EqType</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfuneqMixin">sfuneqMixin</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfunchoiceMixin">sfunchoiceMixin</a></span> := [<span class="id">choiceMixin</span> <span class="id">of</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfunchoiceType">sfunchoiceType</a></span> := <span class="id">ChoiceType</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunchoiceMixin">sfunchoiceMixin</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cst_sfun">cst_sfun</a></span> <span class="id"><a name="x:145">x</a></span> := [<span class="id">the</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun.rT">rT</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cst_sfunE">cst_sfunE</a></span> <span class="id"><a name="x:146">x</a></span> : @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_sfun">cst_sfun</a></span> <span class="id">x</span> =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fctD">fctD</a></span> (<span class="id"><a name="T:147">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:148">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="f:149">f</a></span> <span class="id"><a name="g:150">g</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) : <span class="id">f</span> + <span class="id">g</span> = <span class="id">f</span> \+ <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fctN">fctN</a></span> (<span class="id"><a name="T:151">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:152">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="f:153">f</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) : - <span class="id">f</span> = \- <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fctM">fctM</a></span> (<span class="id"><a name="T:154">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:155">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="f:156">f</a></span> <span class="id"><a name="g:157">g</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) : <span class="id">f</span> * <span class="id">g</span> = <span class="id">f</span> \* <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fctZ">fctZ</a></span> (<span class="id"><a name="T:158">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:159">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="L:160">L</a></span> : <span class="id">lmodType</span> <span class="id">K</span>) <span class="id"><a name="k:161">k</a></span> (<span class="id"><a name="f:162">f</a></span> : <span class="id">T</span> -&gt; <span class="id">L</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">k</span> *: <span class="id">f</span> = <span class="id">k</span> \*: <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> /.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fctWE">fctWE</a></span> := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctD">fctD</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctN">fctN</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctM">fctM</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fctZ">fctZ</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ring">ring</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:163">d</a></span> (<span class="id"><a name="aT:164">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="rT:165">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_subring_closed">sfun_subring_closed</a></span> : <span class="id">subring_closed</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun">sfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.d">d</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="kwd">by</span> <span class="id">split</span>=&gt; [|<span class="id">f</span> <span class="id">g</span>|<span class="id">f</span> <span class="id">g</span>]; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= ?<span class="id">rpred1</span>//;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/= <span class="id">mf</span> <span class="id">ff</span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/= <span class="id">mg</span> <span class="id">fg</span>]; <span class="id">rewrite</span> !(<span class="id">rpredB</span>, <span class="id">rpredM</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_add">sfun_add</a></span> := <span class="id">AddrPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_subring_closed">sfun_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_zmod">sfun_zmod</a></span> := <span class="id">ZmodPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_subring_closed">sfun_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_mul">sfun_mul</a></span> := <span class="id">MulrPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_subring_closed">sfun_subring_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_subring">sfun_subring</a></span> := <span class="id">SubringPred</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_subring_closed">sfun_subring_closed</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_zmodMixin">sfun_zmodMixin</a></span> := [<span class="id">zmodMixin</span> <span class="id">of</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_zmodType">sfun_zmodType</a></span> := <span class="id">ZmodType</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_zmodMixin">sfun_zmodMixin</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_ringMixin">sfun_ringMixin</a></span> := [<span class="id">ringMixin</span> <span class="id">of</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_ringType">sfun_ringType</a></span> := <span class="id">RingType</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_ringMixin">sfun_ringMixin</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sfun_comRingMixin">sfun_comRingMixin</a></span> := [<span class="id">comRingMixin</span> <span class="id">of</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="sfun_comRingType">sfun_comRingType</a></span> := <span class="id">ComRingType</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_comRingMixin">sfun_comRingMixin</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun0">sfun0</a></span> : (0 : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun1">sfun1</a></span> : (1 : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 1<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfunN">sfunN</a></span> <span class="id"><a name="f:166">f</a></span> : - <span class="id">f</span> =1 \- <span class="id">f</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfunD">sfunD</a></span> <span class="id"><a name="f:167">f</a></span> <span class="id"><a name="g:168">g</a></span> : <span class="id">f</span> + <span class="id">g</span> =1 <span class="id">f</span> \+ <span class="id">g</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfunB">sfunB</a></span> <span class="id"><a name="f:169">f</a></span> <span class="id"><a name="g:170">g</a></span> : <span class="id">f</span> - <span class="id">g</span> =1 <span class="id">f</span> \- <span class="id">g</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfunM">sfunM</a></span> <span class="id"><a name="f:171">f</a></span> <span class="id"><a name="g:172">g</a></span> : <span class="id">f</span> * <span class="id">g</span> =1 <span class="id">f</span> \* <span class="id">g</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_sum">sfun_sum</a></span> <span class="id"><a name="I:173">I</a></span> <span class="id"><a name="r:174">r</a></span> (<span class="id"><a name="P:175">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:176">f</a></span> : <span class="id">I</span> -&gt; {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) (<span class="id"><a name="x:177">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:178">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:181">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id">_</span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_prod">sfun_prod</a></span> <span class="id"><a name="I:184">I</a></span> <span class="id"><a name="r:185">r</a></span> (<span class="id"><a name="P:186">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:187">f</a></span> : <span class="id">I</span> -&gt; {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>}) (<span class="id"><a name="x:188">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:189">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:192">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id">_</span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sfunX">sfunX</a></span> <span class="id"><a name="f:195">f</a></span> <span class="id"><a name="n:196">n</a></span> : <span class="id">f</span> ^+ <span class="id">n</span> =1 (<span class="kwd">fun</span> <span class="id"><a name="x:197">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">IHn</span>]//; <span class="id">rewrite</span> !<span class="id">exprS</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunM">sfunM</a></span>/= <span class="id">IHn</span>. Qed.</div>
<br/>
<span class="id"><a name="ring.hb_instance_68">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:198">f</a></span> <span class="id"><a name="g:199">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">f</span> \+ <span class="id">g</span>) (<span class="id">f</span> + <span class="id">g</span>).<br/>
<span class="id"><a name="ring.hb_instance_72">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:200">f</a></span> <span class="id"><a name="g:201">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (\- <span class="id">f</span>) (- <span class="id">f</span>).<br/>
<span class="id"><a name="ring.hb_instance_76">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:202">f</a></span> <span class="id"><a name="g:203">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">f</span> \- <span class="id">g</span>) (<span class="id">f</span> - <span class="id">g</span>).<br/>
<span class="id"><a name="ring.hb_instance_80">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:204">f</a></span> <span class="id"><a name="g:205">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">f</span> \* <span class="id">g</span>) (<span class="id">f</span> * <span class="id">g</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="indic_sfun">indic_sfun</a></span> (<span class="id"><a name="D:206">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span>) (<span class="id"><a name="mD:207">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span> <span class="id">mD</span>].<br/>
<br/>
<span class="id"><a name="ring.hb_instance_84">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="k:208">k</a></span> <span class="id"><a name="f:209">f</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#copy">MeasurableFun.copy</a></span> (<span class="id">k</span> \<span class="id">o</span>* <span class="id">f</span>) (<span class="id">f</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_sfun">cst_sfun</a></span> <span class="id">k</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="scale_sfun">scale_sfun</a></span> <span class="id"><a name="k:210">k</a></span> <span class="id"><a name="f:211">f</a></span> := [<span class="id">the</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.rT">rT</a></span>} <span class="id">of</span> <span class="id">k</span> \<span class="id">o</span>* <span class="id">f</span>].<br/>
<br/>
<span class="id"><a name="ring.hb_instance_88">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:212">f</a></span> <span class="id"><a name="g:213">g</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_mfun_subproof">max_mfun_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="max_sfun">max_sfun</a></span> <span class="id"><a name="f:214">f</a></span> <span class="id"><a name="g:215">g</a></span> := [<span class="id">the</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> \<span class="id">max</span> <span class="id">g</span>].<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ring">ring</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_sfun">indic_sfun</a></span> {<span class="id">d</span> <span class="id">aT</span> <span class="id">rT</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set_comp">fset_set_comp</a></span> (<span class="id"><a name="T1:216">T1</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="T2:217">T2</a></span> <span class="id"><a name="T3:218">T3</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="D:219">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:220">f</a></span> : {<span class="id">fimfun</span> <span class="id">T1</span> &gt;-&gt; <span class="id">T2</span>}) (<span class="id"><a name="g:221">g</a></span> : <span class="id">T2</span> -&gt; <span class="id">T3</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> [<span class="id">set</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">x</span> | <span class="id"><a name="x:222">x</a></span> <span class="kwd">in</span> <span class="id">D</span>] =<br/>
&nbsp;&nbsp;[<span class="id">fset</span> <span class="id">g</span> <span class="id">x</span> | <span class="id"><a name="x:223">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> [<span class="id">set</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a name="x:224">x</a></span> <span class="kwd">in</span> <span class="id">D</span>]]%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> <span class="id">f</span> <span class="id">g</span>) <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set_image">fset_set_image</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_nnfun0">preimage_nnfun0</a></span> <span class="id"><a name="T:225">T</a></span> (<span class="id"><a name="R:226">R</a></span> : <span class="id">realDomainType</span>) (<span class="id"><a name="f:227">f</a></span> : {<span class="id">nnfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}) <span class="id"><a name="t:228">t</a></span> :<br/>
&nbsp;&nbsp;<span class="id">t</span> &lt; 0 -&gt; <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">t</span>] = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move</span>=&gt; <span class="id">t0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span> =&gt; -[<span class="id">x</span> <span class="id">_</span>]; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraPnot">contraPnot</a></span> <span class="id">t0</span> =&gt; &lt;-; <span class="id">rewrite</span> <span class="id">le_gtF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_cstM">preimage_cstM</a></span> <span class="id"><a name="T:229">T</a></span> (<span class="id"><a name="R:230">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="x:231">x</a></span> <span class="id"><a name="y:232">y</a></span> : <span class="id">R</span>) (<span class="id"><a name="f:233">f</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">x</span> != 0 -&gt; (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span> \* <span class="id">f</span>) @^-1` [<span class="id">set</span> <span class="id">y</span>] = <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">y</span> / <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move</span>=&gt; <span class="id">x0</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>; <span class="id">split</span> =&gt; [<span class="id">z</span>/= &lt;-|<span class="id">z</span>/= -&gt;].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrAC</span> <span class="id">divrr</span> ?<span class="id">mul1r</span>// <span class="id">unitfE</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrCA</span> <span class="id">divrr</span> ?<span class="id">mulr1</span>// <span class="id">unitfE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_add">preimage_add</a></span> <span class="id"><a name="T:234">T</a></span> (<span class="id"><a name="R:235">R</a></span> : <span class="id">numDomainType</span>) (<span class="id"><a name="f:236">f</a></span> <span class="id"><a name="g:237">g</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) <span class="id"><a name="z:238">z</a></span> :<br/>
&nbsp;&nbsp;(<span class="id">f</span> \+ <span class="id">g</span>) @^-1` [<span class="id">set</span> <span class="id">z</span>] = \<span class="id">bigcup_</span>(<span class="id"><a name="a:239">a</a></span> <span class="kwd">in</span> <span class="id">f</span> @` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">a</span>]) `&amp;` (<span class="id">g</span> @^-1` [<span class="id">set</span> <span class="id">z</span> - <span class="id">a</span>])).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">x</span> /= <span class="id">fgz</span>|<span class="id">x</span> [<span class="id">_</span> /= [<span class="id">y</span> <span class="id">_</span> &lt;-]] []].<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">z</span> - <span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id">g</span> @` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /=; <span class="kwd">exists</span> <span class="id">x</span>=&gt; //; <span class="id">rewrite</span> -<span class="id">fgz</span> <span class="id">addrC</span> <span class="id">addKr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= =&gt; -[<span class="id">x</span>' <span class="id">_</span> <span class="id">gzf</span>]; <span class="kwd">exists</span> (<span class="id">z</span> - <span class="id">g</span> <span class="id">x</span>')%<span class="id">R</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id">opprB</span> <span class="id">addrC</span> <span class="id">subrK</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span> /=; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id">opprB</span> <span class="id">addrC</span> <span class="id">subrK</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gzf</span> <span class="id">opprB</span> <span class="id">addrC</span> <span class="id">subrK</span> -<span class="id">fgz</span> <span class="id">addrC</span> <span class="id">addKr</span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span> /= =&gt; [<span class="id">fxfy</span> <span class="id">gzf</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gzf</span> -<span class="id">fxfy</span> <span class="id">addrC</span> <span class="id">subrK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="simple_bounded">simple_bounded</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:240">d</a></span> (<span class="id"><a name="T:241">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:242">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="simple_bounded">simple_bounded</a></span> (<span class="id"><a name="f:243">f</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.R">R</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_fun">bounded_fun</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.T">T</a></span> -&gt; [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded.R">R</a></span>^<span class="id">o</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_seqP">finite_seqP</a></span>[<span class="id">r</span> <span class="id">fr</span>] := <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> <span class="id">f</span>.<br/>
<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">big</span>[<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span>/-<span class="id">oo</span>%<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:244">i</a></span> &lt;- <span class="id">r</span>) `|<span class="id">i</span>|%:<span class="id">E</span>)).<br/>
<span class="id">split</span>; <span class="id">rewrite</span> ?<span class="id">num_real</span>// =&gt; <span class="id">x</span> <span class="id">mx</span> <span class="id">z</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id">ltW</span>/(<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">mx</span>).<br/>
<span class="id">have</span> ? : <span class="id">f</span> <span class="id">z</span> \<span class="kwd">in</span> <span class="id">r</span> <span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#imageT">imageT</a></span> <span class="id">f</span> <span class="id">z</span>; <span class="id">rewrite</span> <span class="id">fr</span>.<br/>
<span class="id">rewrite</span> -[<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leLHS">leLHS</a></span>]/(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> `|<span class="id">f</span> <span class="id">z</span>|%:<span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">have</span> := @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#bigmaxe_fin_num">bigmaxe_fin_num</a></span> <span class="id">_</span> (<span class="id">map</span> <span class="id">normr</span> <span class="id">r</span>) `|<span class="id">f</span> <span class="id">z</span>|.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_map</span> =&gt; -&gt;//; <span class="id">apply</span>/<span class="id">mapP</span>; <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">z</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bigmax_sup_seq">bigmax_sup_seq</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">lexx</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded">simple_bounded</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nnsfun_functions">nnsfun_functions</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:250">d</a></span> (<span class="id"><a name="T:251">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:252">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cst_nnfun_subproof">cst_nnfun_subproof</a></span> (<span class="id"><a name="x:253">x</a></span> : {<span class="id">nonneg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span>}) : @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; /=. Qed.</div>
<span class="id"><a name="nnsfun_functions.hb_instance_91">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="x:254">x</a></span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnfun_subproof">cst_nnfun_subproof</a></span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cst_nnsfun">cst_nnsfun</a></span> (<span class="id"><a name="r:255">r</a></span> : {<span class="id">nonneg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span>}) := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">r</span>%:<span class="id">num</span>].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="nnsfun0">nnsfun0</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span>} := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> 0%<span class="id">R</span>%:<span class="id">nng</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_nnfun_subproof">indic_nnfun_subproof</a></span> (<span class="id"><a name="D:256">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span>) : @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> (\1<span class="id">_D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; //=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span>. Qed.</div>
<span class="id"><a name="nnsfun_functions.hb_instance_94">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="D:257">D</a></span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnfun_subproof">indic_nnfun_subproof</a></span> <span class="id">D</span>.<br/>
<br/>
<span class="id"><a name="nnsfun_functions.hb_instance_97">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="D:258">D</a></span> (<span class="id"><a name="mD:259">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.numfun.html#NonNegFun">NonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> <span class="id">mD</span>) := <span class="id"><a href="mathcomp.analysis.numfun.html#NonNegFun.on">NonNegFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions.R">R</a></span> <span class="id">mD</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_functions">nnsfun_functions</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nnfun_bin">nnfun_bin</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="nnfun_bin.T">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="nnfun_bin.R">R</a></span> : <span class="id">numDomainType</span>) (<span class="id"><a name="nnfun_bin.f">f</a></span> <span class="id"><a name="nnfun_bin.g">g</a></span> : {<span class="id">nnfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_nnfun_subproof">add_nnfun_subproof</a></span> : @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.f">f</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">split</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">addr_ge0</span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_101">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnfun_subproof">add_nnfun_subproof</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mul_nnfun_subproof">mul_nnfun_subproof</a></span> : @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.f">f</a></span> \* <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="kwd">by</span> <span class="id">split</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">mulr_ge0</span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_103">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnfun_subproof">mul_nnfun_subproof</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="max_nnfun_subproof">max_nnfun_subproof</a></span> : @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.f">f</a></span> \<span class="id">max</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="kwd">by</span> <span class="id">split</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> /<span class="id">maxr</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_105">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_nnfun_subproof">max_nnfun_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_bin">nnfun_bin</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nnsfun_bin">nnsfun_bin</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:264">d</a></span> (<span class="id"><a name="T:265">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:266">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> <span class="id"><a name="nnsfun_bin.f">f</a></span> <span class="id"><a name="nnsfun_bin.g">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span>}.<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_107">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">MeasurableFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="add_nnsfun">add_nnsfun</a></span> := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>].<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_110">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">MeasurableFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> \* <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mul_nnsfun">mul_nnsfun</a></span> := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> \* <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>].<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_113">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#on">MeasurableFun.on</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> \<span class="id">max</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="max_nnsfun">max_nnsfun</a></span> := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.f">f</a></span> \<span class="id">max</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.g">g</a></span>].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="indic_nnsfun">indic_nnsfun</a></span> <span class="id"><a name="A:269">A</a></span> (<span class="id"><a name="mA:270">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>) := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin.R">R</a></span> <span class="id">mA</span>].<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_bin">nnsfun_bin</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span>} <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnsfun">mul_nnsfun</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span>} <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_nnsfun">max_nnsfun</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span>} <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nnsfun_iter">nnsfun_iter</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:271">d</a></span> (<span class="id"><a name="T:272">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:273">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="D:274">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="nnsfun_iter.f">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.R">R</a></span>}^<span class="id">nat</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sum_nnsfun">sum_nnsfun</a></span> <span class="id"><a name="n:276">n</a></span> := \<span class="id">big</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:277">i</a></span> &lt; <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id">i</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sum_nnsfunE">sum_nnsfunE</a></span> <span class="id"><a name="n:280">n</a></span> <span class="id"><a name="t:281">t</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfun">sum_nnsfun</a></span> <span class="id">n</span> <span class="id">t</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:282">i</a></span> &lt; <span class="id">n</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id">i</span> <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfun">sum_nnsfun</a></span>; <span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; [|<span class="id">x</span> <span class="id">g</span> <span class="id">y</span> <span class="id">h</span> &lt;- &lt;-|]. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="bigmax_nnsfun">bigmax_nnsfun</a></span> <span class="id"><a name="n:285">n</a></span> := \<span class="id">big</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_nnsfun">max_nnsfun</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:286">i</a></span> &lt; <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id">i</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bigmax_nnsfunE">bigmax_nnsfunE</a></span> <span class="id"><a name="n:289">n</a></span> <span class="id"><a name="t:290">t</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfun">bigmax_nnsfun</a></span> <span class="id">n</span> <span class="id">t</span> = \<span class="id">big</span>[<span class="id">maxr</span>/0]<span class="id">_</span>(<span class="id"><a name="i:291">i</a></span> &lt; <span class="id">n</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter.f">f</a></span> <span class="id">i</span> <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfun">bigmax_nnsfun</a></span>; <span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; [|<span class="id">x</span> <span class="id">g</span> <span class="id">y</span> <span class="id">h</span> &lt;- &lt;-|]. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_iter">nnsfun_iter</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nnsfun_cover">nnsfun_cover</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:294">d</a></span> (<span class="id"><a name="T:295">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:296">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="nnsfun_cover.f">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nnsfun_cover">nnsfun_cover</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:298">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">i</span>]) = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_setU">fsbig_setU</a></span>//= -<span class="id"><a href="mathcomp.classical.classical_sets.html#subTset">subTset</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span> <span class="id">x</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nnsfun_coverT">nnsfun_coverT</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:302">i</a></span> \<span class="kwd">in</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.R">R</a></span>]) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">i</span>]) = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover.f">f</a></span>)) ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span>//= =&gt; <span class="id">x</span> [<span class="id">_</span> /= /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span>-&gt;].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">_</span> @^-1` [<span class="id">set</span> <span class="id">_</span>])) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_sfunP">measurable_sfunP</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_sfun_inP">measurable_sfun_inP</a></span> {<span class="id"><a name="d:306">d</a></span>} {<span class="id"><a name="aT:307">aT</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="rT:308">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:309">f</a></span> : {<span class="id">mfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) <span class="id"><a name="D:310">D</a></span> (<span class="id"><a name="y:311">y</a></span> : <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> `&amp;` <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">y</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dm</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>. Qed.</div>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">_</span> `&amp;` <span class="id">_</span> @^-1` [<span class="id">set</span> <span class="id">_</span>])) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_sfun_inP">measurable_sfun_inP</a></span>; <span class="id">assumption</span>] : <span class="id">core</span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measure_fsbig">measure_fsbig</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:312">d</a></span> (<span class="id"><a name="T:313">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:314">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="measure_fsbig.m">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measure_fsbig">measure_fsbig</a></span> (<span class="id"><a name="I:316">I</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:317">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="F:318">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:319">i</a></span>, <span class="id">A</span> <span class="id">i</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">F</span> <span class="id">i</span>)) -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id">A</span> <span class="id">F</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:320">i</a></span> \<span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span>) = \<span class="id">sum_</span>(<span class="id"><a name="i:324">i</a></span> \<span class="kwd">in</span> <span class="id">A</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="id">move</span>=&gt; <span class="id">Afin</span> <span class="id">Fm</span> <span class="id">Ft</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>// -<span class="id"><a href="mathcomp.analysis.measure.html#measure_fin_bigcup">measure_fin_bigcup</a></span>// -<span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set">bigsetU_fset_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="additive_nnsfunr">additive_nnsfunr</a></span> (<span class="id"><a name="g:328">g</a></span> <span class="id"><a name="f:329">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.R">R</a></span>}) <span class="id"><a name="x:330">x</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:331">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>] `&amp;` (<span class="id">g</span> @^-1` [<span class="id">set</span> <span class="id">i</span>])) =<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>] `&amp;` \<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:335">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) (<span class="id">g</span> @^-1` [<span class="id">set</span> <span class="id">i</span>])).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="id">rewrite</span> -?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig">measure_fsbig</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= <span class="id">big_distrr</span>//.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">Ai</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_setIl">trivIset_setIl</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_preimage1">trivIset_preimage1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="additive_nnsfunl">additive_nnsfunl</a></span> (<span class="id"><a name="g:339">g</a></span> <span class="id"><a name="f:340">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.R">R</a></span>}) <span class="id"><a name="x:341">x</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="i:342">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (<span class="id">g</span> @^-1` [<span class="id">set</span> <span class="id">i</span>] `&amp;` (<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>])) =<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig.m">m</a></span> (\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:346">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">g</span>) (<span class="id">g</span> @^-1` [<span class="id">set</span> <span class="id">i</span>]) `&amp;` <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#additive_nnsfunr">additive_nnsfunr</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig">measure_fsbig</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="mulem_ge0">mulem_ge0</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="mulem_ge0.mulef_ge0">mulef_ge0</a></span> (<span class="id"><a name="R:350">R</a></span> : <span class="id">realDomainType</span>) <span class="id"><a name="x:351">x</a></span> (<span class="id"><a name="f:352">f</a></span> : <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;0 &lt;= <span class="id">f</span> <span class="id">x</span> -&gt; ((<span class="id">x</span> &lt; 0)%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">x</span> = 0) -&gt; 0 &lt;= <span class="id">x</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
<span class="id">move</span>=&gt; <span class="id">A0</span> <span class="id">xA</span> /=; <span class="id">have</span> [<span class="id">x0</span>|<span class="id">x0</span>] := <span class="id">ltP</span> <span class="id">x</span> 0%<span class="id">R</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">xA</span> <span class="id">x0</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span> <span class="id"><a name="d:353">d</a></span> (<span class="id"><a name="T:354">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:355">R</a></span> : <span class="id">realDomainType</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:356">f</a></span> : {<span class="id">nnfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}) <span class="id"><a name="r:357">r</a></span> <span class="id"><a name="z:358">z</a></span> : 0 &lt;= <span class="id">r</span>%:<span class="id">E</span> * (\1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">r</span>]) <span class="id">z</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulem_ge0.mulef_ge0">mulef_ge0</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="r:359">r</a></span> =&gt; (\1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">r</span>]) <span class="id">z</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mulemu_ge0">mulemu_ge0</a></span> <span class="id"><a name="d:361">d</a></span> (<span class="id"><a name="T:362">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:363">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:364">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) <span class="id"><a name="x:365">x</a></span> (<span class="id"><a name="A:366">A</a></span> : <span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;((<span class="id">x</span> &lt; 0)%<span class="id">R</span> -&gt; <span class="id">A</span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) -&gt; 0 &lt;= <span class="id">x</span>%:<span class="id">E</span> * <span class="id">mu</span> (<span class="id">A</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xA</span>; <span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulem_ge0.mulef_ge0">mulef_ge0</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">mu</span> \<span class="id">o</span> <span class="id">_</span>))//= =&gt; /<span class="id">xA</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<span class="id">Global</span> <span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">x</span>} <span class="id">A</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nnsfun_mulemu_ge0">nnsfun_mulemu_ge0</a></span> <span class="id"><a name="d:367">d</a></span> (<span class="id"><a name="T:368">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:369">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:370">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="f:371">f</a></span> : {<span class="id">nnsfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}) <span class="id"><a name="x:372">x</a></span> :<br/>
&nbsp;&nbsp;0 &lt;= <span class="id">x</span>%:<span class="id">E</span> * <span class="id">mu</span> (<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:373">x</a></span> =&gt; <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>])); <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulem_ge0">mulem_ge0</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Definition of Simple Integrals                                          
</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="simple_fun_raw_integral">simple_fun_raw_integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="simple_fun_raw_integral.T">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="simple_fun_raw_integral.R">R</a></span> : <span class="id">numDomainType</span>) (<span class="id"><a name="simple_fun_raw_integral.mu">mu</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id"><a name="simple_fun_raw_integral.f">f</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sintegral">sintegral</a></span> := \<span class="id">sum_</span>(<span class="id"><a name="x:379">x</a></span> \<span class="kwd">in</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.R">R</a></span>]) <span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span>]).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegralET">sintegralET</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> = \<span class="id">sum_</span>(<span class="id"><a name="x:383">x</a></span> \<span class="kwd">in</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.R">R</a></span>]) <span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_fun_raw_integral">simple_fun_raw_integral</a></span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (0 &lt;= (<span class="id">_</span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">_</span> -&gt; \<span class="id">bar</span> <span class="id">_</span>}) <span class="id">_</span>)%<span class="id">E</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sintegral_lemmas">sintegral_lemmas</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:387">d</a></span> (<span class="id"><a name="T:388">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:389">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="sintegral_lemmas.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R</a></span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegralE">sintegralE</a></span> <span class="id"><a name="f:391">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id">f</span> = \<span class="id">sum_</span>(<span class="id"><a name="x:392">x</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> (<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)//= =&gt; <span class="id">x</span> [<span class="id">_</span> <span class="id">Nfx</span>] /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegral0">sintegral0</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0%<span class="id">R</span>) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span>// =&gt; <span class="id">r</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#preimage_cst">preimage_cst</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] &lt;-|]; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegral_ge0">sintegral_ge0</a></span> (<span class="id"><a name="f:396">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R</a></span>}) : 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsume_ge0">fsume_ge0</a></span>// =&gt; <span class="id">r</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_mulemu_ge0">nnsfun_mulemu_ge0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegral_indic">sintegral_indic</a></span> (<span class="id"><a name="A:397">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> \1<span class="id">_A</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">_</span> [<span class="id">set</span> 0%<span class="id">R</span>; 1%<span class="id">R</span>]) =&gt; //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#image_indic_sub">image_indic_sub</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> [[] -&gt; /= /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span>-&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="id">have</span> <span class="id">N01</span> : (0 &lt;&gt; 1:&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R</a></span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">oner_eq0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigU">fsbigU</a></span>//=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> [-&gt;]//.<br/>
<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set1">fsbig_set1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#preimage_indic">preimage_indic</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegralEnnsfun">sintegralEnnsfun</a></span> (<span class="id"><a name="f:398">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.R">R</a></span>}) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> <span class="id">f</span> =<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="x:400">x</a></span> \<span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="r:399">r</a></span> | <span class="id">r</span> &gt; 0]%<span class="id">R</span>) (<span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas.mu">mu</a></span> (<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>])))%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralET">sintegralET</a></span>//.<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> [<span class="id">_</span> /=]; <span class="id">case</span>: <span class="id">ltgtP</span> =&gt; //= [<span class="id">xlt0</span> <span class="id">_</span>|&lt;-]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>//= =&gt; -[<span class="id">t</span> <span class="id">_</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">apply</span>: <span class="id">contra_ltN</span> <span class="id">xlt0</span> =&gt; /<span class="id">eqP</span>&lt;-.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_lemmas">sintegral_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_sintegral">eq_sintegral</a></span> <span class="id"><a name="d:404">d</a></span> (<span class="id"><a name="T:405">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:406">R</a></span> : <span class="id">numDomainType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:407">mu</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) <span class="id"><a name="g:408">g</a></span> <span class="id"><a name="f:409">f</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">f</span> =1 <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id">mu</span> <span class="id">f</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id">mu</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>-&gt;. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span>} <span class="id">g</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sintegralrM">sintegralrM</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:410">d</a></span> (<span class="id"><a name="T:411">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:412">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sintegralrM.m">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R</a></span>}) (<span class="id"><a name="sintegralrM.r">r</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R</a></span>) (<span class="id"><a name="sintegralrM.f">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegralrM">sintegralrM</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> \* <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span>)%<span class="id">R</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="id">have</span> [-&gt;|<span class="id">r0</span>] := <span class="id">eqVneq</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0%<span class="id">R</span>)) ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral0">sintegral0</a></span>// =&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">mul0r</span>.<br/>
<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralET">sintegralET</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="x:416">x</a></span> \<span class="kwd">in</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R</a></span>]) <span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span> / <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span>])).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_cstM">preimage_cstM</a></span>//.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="x:424">x</a></span> \<span class="kwd">in</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.R">R</a></span>]) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span>%:<span class="id">E</span> * (<span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span>]))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#reindex_fsbigT">reindex_fsbigT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:432">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> * <span class="id">x</span>)%<span class="id">R</span>)//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> ( *%<span class="id">R</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM.r">r</a></span> ^-1)%<span class="id">R</span>; [<span class="id">exact</span>: <span class="id">mulKf</span>|<span class="id">exact</span>: <span class="id">mulVKf</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">mulrAC</span> <span class="id">divrr</span> ?<span class="id">unitfE</span>// <span class="id">mul1r</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleA">muleA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr</a></span>// =&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_mulemu_ge0">nnsfun_mulemu_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM">sintegralrM</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sintegralD">sintegralD</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:435">d</a></span> (<span class="id"><a name="T:436">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:437">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sintegralD.m">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.R">R</a></span>}).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sintegralD.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.T">T</a></span>) (<span class="id"><a name="sintegralD.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="sintegralD.f">f</a></span> <span class="id"><a name="sintegralD.g">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.R">R</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegralD">sintegralD</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span>)%<span class="id">R</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> + <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span>; <span class="id">set</span> <span class="id">F</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> @` <span class="id">_</span>; <span class="id">set</span> <span class="id">G</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span> @` <span class="id">_</span>; <span class="id">set</span> <span class="id">FG</span> := <span class="id">_</span> @` <span class="id">_</span>.<br/>
<span class="id">pose</span> <span class="id">pf</span> <span class="id"><a name="x:443">x</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span>]; <span class="id">pose</span> <span class="id">pg</span> <span class="id"><a name="y:444">y</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.g">g</a></span> @^-1` [<span class="id">set</span> <span class="id">y</span>].<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="z:445">z</a></span> \<span class="kwd">in</span> <span class="id">FG</span>) <span class="id">z</span>%:<span class="id">E</span> * \<span class="id">sum_</span>(<span class="id"><a name="a:446">a</a></span> \<span class="kwd">in</span> <span class="id">F</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id">a</span> `&amp;` <span class="id">pg</span> (<span class="id">z</span> - <span class="id">a</span>)%<span class="id">R</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">z</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_add">preimage_add</a></span> -<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_setU">fsbig_setU</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measure_fsbig">measure_fsbig</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Fx</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_setIr">trivIset_setIr</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_preimage1">trivIset_preimage1</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr</a></span>//; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#exchange_fsbig">exchange_fsbig</a></span>//.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="x:469">x</a></span> \<span class="kwd">in</span> <span class="id">F</span>) \<span class="id">sum_</span>(<span class="id"><a name="y:470">y</a></span> \<span class="kwd">in</span> <span class="id">G</span>) (<span class="id">x</span> + <span class="id">y</span>)%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id">x</span> `&amp;` <span class="id">pg</span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id">pf</span> /<span class="id">pg</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">G</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)//=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id">_</span> /= /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span>-&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">FG</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)//=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> [<span class="id">_</span> /= <span class="id">FGz</span>]; <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> =&gt; //= {<span class="id">x</span>}<span class="id">i</span> /= [&lt;-] /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#canLR">canLR</a></span> (@<span class="id">addrNK</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">FGz</span> =&gt; &lt;-; <span class="kwd">exists</span> <span class="id">i</span>; <span class="id">rewrite</span> //= <span class="id">addrC</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#reindex_fsbigT">reindex_fsbigT</a></span> (+%<span class="id">R</span> <span class="id">x</span>))//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">addrC</span> <span class="id">addrK</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="x:494">x</a></span> \<span class="kwd">in</span> <span class="id">F</span>) \<span class="id">sum_</span>(<span class="id"><a name="y:495">y</a></span> \<span class="kwd">in</span> <span class="id">G</span>) <span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id">x</span> `&amp;` <span class="id">pg</span> <span class="id">y</span>) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="x:506">x</a></span> \<span class="kwd">in</span> <span class="id">F</span>) \<span class="id">sum_</span>(<span class="id"><a name="y:507">y</a></span> \<span class="kwd">in</span> <span class="id">G</span>) <span class="id">y</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD.m">m</a></span> (<span class="id">pf</span> <span class="id">x</span> `&amp;` <span class="id">pg</span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">do</span> 2![<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_split">fsbig_split</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> [? <span class="id">_</span> &lt;-]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_muleDl">ge0_muleDl</a></span>// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">E</span>; <span class="id">last</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#exchange_fsbig">exchange_fsbig</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#additive_nnsfunr">additive_nnsfunr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#additive_nnsfunl">additive_nnsfunl</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_cover">nnsfun_cover</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD">sintegralD</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="le_sintegral">le_sintegral</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:542">d</a></span> (<span class="id"><a name="T:543">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:544">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="m:545">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<span class="kwd">Variables</span> <span class="id"><a name="le_sintegral.f">f</a></span> <span class="id"><a name="le_sintegral.g">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.R">R</a></span>}.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="le_sintegral.fg">fg</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:548">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="le_sintegral.fgnn">fgnn</a></span> : @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> \- <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">subr_ge0</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.fg">fg</a></span>. Qed.</div>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.fgnn">fgnn</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_sintegral">le_sintegral</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.m">m</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="id">have</span> <span class="id">gfgf</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> =1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span> \+ (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.g">g</a></span> \- <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral.f">f</a></span>) <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">addrC</span> <span class="id">subrK</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">gfgf</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD">sintegralD</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span> // <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_cvg_sintegral">is_cvg_sintegral</a></span> <span class="id"><a name="d:550">d</a></span> (<span class="id"><a name="T:551">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:552">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="m:553">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="f:554">f</a></span> : {<span class="id">nnsfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:555">x</a></span>, <span class="id">nondecreasing_seq</span> (<span class="id">f</span> ^~ <span class="id">x</span>)) -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id">m</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="id">move</span>=&gt; <span class="id">nd_f</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> =&gt; // =&gt; <span class="id">x</span>; <span class="id">exact</span>/<span class="id">nd_f</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="proj_nnsfun">proj_nnsfun</a></span> <span class="id"><a name="d:556">d</a></span> (<span class="id"><a name="T:557">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:558">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:559">f</a></span> : {<span class="id">nnsfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}) (<span class="id"><a name="A:560">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="mA:561">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnsfun">mul_nnsfun</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id">R</span> <span class="id">mA</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mrestrict">mrestrict</a></span> <span class="id"><a name="d:562">d</a></span> (<span class="id"><a name="T:563">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:564">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:565">f</a></span> : {<span class="id">nnsfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>})<br/>
&nbsp;&nbsp;<span class="id"><a name="A:566">A</a></span> (<span class="id"><a name="mA:567">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>) : <span class="id">f</span> \<span class="id">_</span> <span class="id">A</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span> <span class="id">f</span> <span class="id">mA</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> (<span class="id">mulr0</span>, <span class="id">mulr1</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="scale_nnsfun">scale_nnsfun</a></span> <span class="id"><a name="d:568">d</a></span> (<span class="id"><a name="T:569">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:570">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:571">f</a></span> : {<span class="id">nnsfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}) (<span class="id"><a name="k:572">k</a></span> : <span class="id">R</span>) (<span class="id"><a name="k0:573">k0</a></span> : 0 &lt;= <span class="id">k</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mul_nnsfun">mul_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id">T</span> (<span class="id"><a href="mathcomp.analysis.signed.html#NngNum">NngNum</a></span> <span class="id">k0</span>)) <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma">sintegral_nondecreasing_limit_lemma</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:574">d</a></span> (<span class="id"><a name="T:575">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:576">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sintegral_nondecreasing_limit_lemma.g">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R</a></span>}^<span class="id">nat</span>) (<span class="id"><a name="sintegral_nondecreasing_limit_lemma.f">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R</a></span>}).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:580">x</a></span>, <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>^~ <span class="id">x</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.gf">gf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:582">x</a></span>, <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>^~ <span class="id">x</span>) -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>^~ <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id"><a name="c:584">c</a></span> : (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span>)^<span class="id">nat</span> := <span class="kwd">fun</span> <span class="id"><a name="n:585">n</a></span> =&gt; [<span class="id">set</span> <span class="id"><a name="x:586">x</a></span> | <span class="id">c</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span> <span class="id">x</span>].<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.nd_fleg">nd_fleg</a></span> <span class="id"><a name="c:587">c</a></span> : {<span class="id">homo</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> : <span class="id"><a name="n:588">n</a></span> <span class="id"><a name="m:589">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> &gt;-&gt; (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">O</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span> =&gt; <span class="id">x</span> /= <span class="id">cfg</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">cfg</span> =&gt; /<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.mfleg">mfleg</a></span> <span class="id"><a name="c:592">c</a></span> <span class="id"><a name="n:593">n</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="y:594">y</a></span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="x:597">x</a></span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span>)) | <span class="id">c</span> * <span class="id">y</span> &lt;= <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">y</span>] `&amp;` (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span> @^-1` [<span class="id">set</span> <span class="id">x</span>]))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> =&gt; <span class="id">r</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> =&gt; <span class="id">r</span>' <span class="id">crr</span>'.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_sfunP">measurable_sfunP</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span> =&gt; [/= <span class="id">cfgn</span>|].<br/>
- <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_seq">bigcup_seq</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">t</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//= <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_seq_cond">bigcup_seq_cond</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span> <span class="id">t</span>) =&gt; //=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set">bigsetU_fset_set</a></span>// =&gt; -[<span class="id">r</span> [<span class="id">x</span> <span class="id">_</span> <span class="id">fxr</span>]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set_cond">bigsetU_fset_set_cond</a></span>// =&gt; -[<span class="id">r</span>' [[<span class="id">x</span>' <span class="id">_</span> <span class="id">gnx</span>'<span class="id">r</span>'] <span class="id">crr</span>']].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= =&gt; -[-&gt; -&gt;].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id"><a name="c:613">c</a></span> <span class="id"><a name="n:614">n</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.R">R</a></span>} := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mfleg">mfleg</a></span> <span class="id">c</span> <span class="id">n</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.le_ffleg">le_ffleg</a></span> <span class="id"><a name="c:615">c</a></span> : {<span class="id">homo</span> (<span class="kwd">fun</span> <span class="id"><a name="p:616">p</a></span> <span class="id"><a name="x:617">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">p</span> <span class="id">x</span>): <span class="id"><a name="m:618">m</a></span> <span class="id"><a name="n:619">n</a></span> / (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> &gt;-&gt; (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">O</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
<span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> =&gt; <span class="id">t</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span>/= <span class="id">ler_pmul</span>// 2!<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>/= <span class="id">ler_nat</span>.<br/>
<span class="id">have</span> [|//] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">m</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">cnt</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_fleg">nd_fleg</a></span> <span class="id">c</span> <span class="id">mn</span> =&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">cnt</span>) <span class="id">cmt</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit_lemma.bigcup_fleg">bigcup_fleg</a></span> <span class="id"><a name="c:622">c</a></span> : <span class="id">c</span> &lt; 1 -&gt; \<span class="id">bigcup_n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">n</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">move</span>=&gt; <span class="id">c1</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span>=&gt; // <span class="id">_</span>.<br/>
<span class="id">have</span> := @<span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[|] <span class="id">gx0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> =&gt; //; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> /=; <span class="id">rewrite</span> -<span class="id">gx0</span> <span class="id">mulr0</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
<span class="id">have</span> [<span class="id">cf</span>|<span class="id">df</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>^~ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cfg</span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>^~ <span class="id">x</span>) &gt; <span class="id">c</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.gf">gf</a></span> <span class="id">cf</span>)) // <span class="id">gtr_pmull</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> [<span class="id">n</span> <span class="id">cfgn</span>] : <span class="kwd">exists</span> <span class="id"><a name="n:624">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span> <span class="id">x</span> &gt;= <span class="id">c</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(@<span class="id"><a href="mathcomp.analysis.sequences.html#lt_lim">lt_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span> <span class="id">x</span>) <span class="id">cf</span>) : <span class="id">cfg</span> =&gt; [<span class="id">n</span> <span class="id">_</span> <span class="id">nf</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>; <span class="id">apply</span>: <span class="id">nf</span> =&gt; /=.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgryPge">cvgryPge</a></span>/(<span class="id">_</span> (<span class="id">c</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="id">x</span>))[<span class="id">n</span> <span class="id">_</span> <span class="id">ncfgn</span>]:= <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_dvgn_lt">nondecreasing_dvgn_lt</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span> <span class="id">x</span>) <span class="id">df</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> /=; <span class="id">apply</span>: <span class="id">ncfgn</span> =&gt; /=.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="id">suff</span> ? : <span class="kwd">forall</span> <span class="id"><a name="c:625">c</a></span>, (0 &lt; <span class="id">c</span> &lt; 1)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">c</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_mul01Pr">lee_mul01Pr</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">c</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">c0</span> <span class="id">c1</span>].<br/>
<span class="id">have</span> <span class="id">cg1g</span> <span class="id">n</span> : <span class="id">c</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span>) &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM">sintegralrM</a></span> (<span class="id">_</span> : (<span class="id">_</span> \* <span class="id">_</span>)%<span class="id">R</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span>) (<span class="id">ltW</span> <span class="id">c0</span>)) //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> =&gt; // <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : <span class="kwd">forall</span> <span class="id"><a name="m:627">m</a></span> <span class="id"><a name="x:628">x</a></span>, (<span class="id">c</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">m</span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g">g</a></span> <span class="id">m</span> <span class="id">x</span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">n</span> <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span>/= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>); [<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">mulr1</span>|<span class="id">rewrite</span> 2!<span class="id">mulr0</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>].<br/>
<span class="id">suff</span> {<span class="id">cg1g</span>}&lt;- : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:629">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span>)) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">is_cvg_g1</span> : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:631">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; //= <span class="id">x</span> <span class="id">m</span> <span class="id">n</span> /(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.le_ffleg">le_ffleg</a></span> <span class="id">c</span>)/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/(<span class="id">_</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#limeMl">limeMl</a></span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>//; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgeMl">is_cvgeMl</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span> =&gt; <span class="id">t</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_g">nd_g</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span>; <span class="id">exact</span>: <span class="id">cg1g</span>.<br/>
<span class="id">suff</span> : (<span class="kwd">fun</span> <span class="id"><a name="n:634">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span>)) --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="kwd">fun</span> <span class="id"><a name="n:635">n</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="x:636">x</a></span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span>] `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">n</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="x:648">x</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span>) <span class="id">x</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.g1">g1</a></span> <span class="id">c</span> <span class="id">n</span> @^-1` [<span class="id">set</span> <span class="id">x</span>])).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">eq_fbigl</span> =&gt; <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> 2 (<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#in_finite_support">in_finite_support</a></span>; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setIl">finite_setIl</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= =&gt; -[<span class="id">x</span> <span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span>|<span class="id">xcn</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr1</span> =&gt; &lt;-; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= =&gt; ?; <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr0</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> -&gt;; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">x</span> <span class="id">_</span> &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= =&gt; <span class="id">h</span>; <span class="id">split</span>=&gt; //; <span class="id">move</span>: <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_eq0">mule_eq0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>]; <span class="id">set</span> <span class="id">S</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id">X</span>) =&gt; <span class="id">mS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> : <span class="id">S</span> !=<span class="id">set0</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">y</span> <span class="id">yx</span>]; <span class="kwd">exists</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">mS0</span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//=; <span class="id">apply</span>: <span class="id">eq_fbigr</span> =&gt; <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">t</span> <span class="id">_</span> <span class="id">ftr</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> [-&gt;|<span class="id">r0</span>] := <span class="id">eqVneq</span> <span class="id">r</span> 0%<span class="id">R</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id">_</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [|<span class="id">_</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr0</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id">eqP</span>; <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">r0</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= =&gt; -[<span class="id">fxr</span> <span class="id">cnx</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id">mulr1</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//=.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_nnesum">cvg_nnesum</a></span>=&gt; [<span class="id">r</span> <span class="id">_</span>|<span class="id">r</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:657">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">x</span>] `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">A</span>)) =&gt; <span class="id">r0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeMl">cvgeMl</a></span> =&gt; //=; <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.mu">mu</a></span> (\<span class="id">bigcup_n</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">r</span>] `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">n</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.bigcup_fleg">bigcup_fleg</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">have</span> ? <span class="id">k</span> <span class="id">i</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">k</span>] `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.fleg">fleg</a></span> <span class="id">c</span> <span class="id">i</span>) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>; [<span class="kwd">by</span> []|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>|].<br/>
<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma.nd_fleg">nd_fleg</a></span> <span class="id">c</span>) : <span class="id">nm</span> =&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit_lemma">sintegral_nondecreasing_limit_lemma</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sintegral_nondecreasing_limit">sintegral_nondecreasing_limit</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:665">d</a></span> (<span class="id"><a name="T:666">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:667">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="sintegral_nondecreasing_limit.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.R">R</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sintegral_nondecreasing_limit.g">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.R">R</a></span>}^<span class="id">nat</span>) (<span class="id"><a name="sintegral_nondecreasing_limit.f">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.R">R</a></span>}).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="sintegral_nondecreasing_limit.nd_g">nd_g</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:671">x</a></span>, <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span>^~ <span class="id">x</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="sintegral_nondecreasing_limit.gf">gf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:673">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span> ^~ <span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="sintegral_nondecreasing_limit.limg">limg</a></span> <span class="id"><a name="x:675">x</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span>^~<span class="id">x</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>| <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.gf">gf</a></span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nd_sintegral_lim">nd_sintegral_lim</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.mu">mu</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> =&gt; // <span class="id">x</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.limg">limg</a></span>.<br/>
<span class="id">have</span> : <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.mu">mu</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.g">g</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> =&gt; // <span class="id">x</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.nd_g">nd_g</a></span>.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> -&gt; //.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; <span class="id">_</span> [<span class="id">n</span> <span class="id">_</span> &lt;-] /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span> =&gt; // <span class="id">x</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.limg">limg</a></span> // (<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_cvgn_le">nondecreasing_cvgn_le</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.nd_g">nd_g</a></span> <span class="id">x</span>)) //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.f">f</a></span> <span class="id">x</span>); <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit.gf">gf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_nondecreasing_limit">sintegral_nondecreasing_limit</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral">integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:676">d</a></span> (<span class="id"><a name="T:677">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:678">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>) (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral.nnintegral">nnintegral</a></span> <span class="id"><a name="mu:679">mu</a></span> <span class="id"><a name="f:680">f</a></span> := <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id">mu</span> <span class="id">h</span> |<br/>
&nbsp;&nbsp;<span class="id"><a name="h:683">h</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="h:681">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>} | <span class="kwd">forall</span> <span class="id"><a name="x:682">x</a></span>, (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span>]].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="integral">integral</a></span> <span class="id"><a name="mu:684">mu</a></span> <span class="id"><a name="D:685">D</a></span> <span class="id"><a name="f:686">f</a></span> (<span class="id"><a name="g:687">g</a></span> := <span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id">mu</span> (<span class="id">g</span> ^\+) - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id">mu</span> (<span class="id">g</span> ^\-).<br/>
<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="integral.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>}).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral.nnintegral_ge0">nnintegral_ge0</a></span> <span class="id"><a name="f:689">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:690">x</a></span>, 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral0">sintegral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral.eq_nnintegral">eq_nnintegral</a></span> <span class="id"><a name="g:691">g</a></span> <span class="id"><a name="f:692">f</a></span> : <span class="id">f</span> =1 <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">f</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral.nnintegral0">nnintegral0</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> /=; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral0">sintegral0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">x</span> [<span class="id">f</span> /= <span class="id">f0</span> &lt;-]; <span class="id">have</span> {}<span class="id">f0</span> : <span class="kwd">forall</span> <span class="id"><a name="x:693">x</a></span>, <span class="id">f</span> <span class="id">x</span> = 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> -2!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">f0</span> //= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_sintegral">eq_sintegral</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>)) ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral0">sintegral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral.nnintegral_nnsfun">nnintegral_nnsfun</a></span> (<span class="id"><a name="h:694">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">h</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">_</span> -[<span class="id">g</span> /= <span class="id">gh</span> &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_sintegral">le_sintegral</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=; <span class="kwd">exists</span> <span class="id">h</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "\<span class="id">int_</span> ( <span class="id">x</span> '<span class="kwd">in</span>' <span class="id">D</span> ) <span class="id">F</span>" := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:695">x</a></span> =&gt; <span class="id">F</span>))<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 36, <span class="id">F</span> <span class="kwd">at</span> <span class="id">level</span> 36, <span class="id">x</span>, <span class="id">D</span> <span class="kwd">at</span> <span class="id">level</span> 50,<br/>
&nbsp;&nbsp;<span class="id">format</span> "'[' \<span class="id">int_</span> ( <span class="id">x</span>  '<span class="kwd">in</span>'  <span class="id">D</span> ) '/  '  <span class="id">F</span> ']'").<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_integral">eq_integral</a></span> <span class="id"><a name="D:696">D</a></span> <span class="id"><a name="g:697">g</a></span> <span class="id"><a name="f:698">f</a></span> : {<span class="kwd">in</span> <span class="id">D</span>, <span class="id">f</span> =1 <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int_</span>(<span class="id"><a name="x:699">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int_</span>(<span class="id"><a name="x:700">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">g</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.functions.html#eq_restrictP">eq_restrictP</a></span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integralE">ge0_integralE</a></span> <span class="id"><a name="D:701">D</a></span> <span class="id"><a name="f:702">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:703">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int_</span>(<span class="id"><a name="x:704">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_restrict">funeneg_restrict</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_restrict">funepos_restrict</a></span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.functions.html#eq_restrictP">eq_restrictP</a></span>-&gt; := <span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funeposE">ge0_funeposE</a></span> <span class="id">f0</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.functions.html#eq_restrictP">eq_restrictP</a></span>-&gt; := <span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funenegE">ge0_funenegE</a></span> <span class="id">f0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict0">erestrict0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral0">nnintegral0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integralTE">ge0_integralTE</a></span> <span class="id"><a name="f:705">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:706">x</a></span>, 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int_</span>(<span class="id"><a name="x:707">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">f</span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral">nnintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span>// <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralE">integralE</a></span> <span class="id"><a name="D:708">D</a></span> <span class="id"><a name="f:709">f</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int_</span>(<span class="id"><a name="x:710">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int_</span>(<span class="id"><a name="x:711">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> ^\+ <span class="id">x</span>) - \<span class="id">int_</span>(<span class="id"><a name="x:712">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> ^\- <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_restrict">funepos_restrict</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_restrict">funeneg_restrict</a></span> -!<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral0">integral0</a></span> <span class="id"><a name="D:713">D</a></span> : \<span class="id">int_</span>(<span class="id"><a name="x:714">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0 <span class="id">x</span>) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict0">erestrict0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral0">nnintegral0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral0_eq">integral0_eq</a></span> <span class="id"><a name="D:715">D</a></span> <span class="id"><a name="f:716">f</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:717">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> = 0) -&gt; \<span class="id">int_</span>(<span class="id"><a name="x:718">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /[1!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] /<span class="id">f0</span> -&gt;; <span class="id">over</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_ge0">integral_ge0</a></span> <span class="id"><a name="D:719">D</a></span> <span class="id"><a name="f:720">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:721">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; 0 &lt;= \<span class="id">int_</span>(<span class="id"><a name="x:722">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral_ge0">nnintegral_ge0</a></span>// =&gt; <span class="id">x</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">f0</span>-&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_nnsfun">integral_nnsfun</a></span> <span class="id"><a name="D:723">D</a></span> (<span class="id"><a name="mD:724">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="h:725">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.R">R</a></span>}) :<br/>
&nbsp;&nbsp;\<span class="id">int_</span>(<span class="id"><a name="x:726">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.mu">mu</a></span> (<span class="id">h</span> \<span class="id">_</span> <span class="id">D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mrestrict">mrestrict</a></span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral.nnintegral_nnsfun">nnintegral_nnsfun</a></span>// -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mrestrict">mrestrict</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#comp_patch">comp_patch</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "\<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> ( <span class="id">x</span> '<span class="kwd">in</span>' <span class="id">D</span> ) <span class="id">f</span>" :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">mu</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:727">x</a></span> =&gt; <span class="id">f</span>)) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> <span class="id">x</span> <span class="id">f</span>" :=<br/>
&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">mu</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:728">x</a></span> =&gt; <span class="id">f</span>)))%<span class="id">E</span> : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span>} <span class="id">g</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="eq_measure_integral">eq_measure_integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:729">d</a></span> (<span class="id"><a name="T:730">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:731">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="D:732">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">m</span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="eq_measure_integral.eq_measure_integral0">eq_measure_integral0</a></span> <span class="id"><a name="m2:733">m2</a></span> <span class="id"><a name="m1:734">m1</a></span> (<span class="id"><a name="f:735">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="A:736">A</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id">A</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span> -&gt; <span class="id">m1</span> <span class="id">A</span> = <span class="id">m2</span> <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;[<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id">m1</span> <span class="id">h</span> | <span class="id"><a name="h:739">h</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">set</span> <span class="id"><a name="h:737">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>} | (<span class="kwd">forall</span> <span class="id"><a name="x:738">x</a></span>, (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= (<span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id">x</span>)]] `&lt;=`<br/>
&nbsp;&nbsp;[<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id">m2</span> <span class="id">h</span> | <span class="id"><a name="h:742">h</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">set</span> <span class="id"><a name="h:740">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>} | (<span class="kwd">forall</span> <span class="id"><a name="x:741">x</a></span>, (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= (<span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id">x</span>)]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">move</span>=&gt; <span class="id">m12</span> <span class="id">_</span> [<span class="id">h</span> <span class="id">hfD</span> &lt;-] /=; <span class="kwd">exists</span> <span class="id">h</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="id">have</span> [<span class="id">hrD</span>|<span class="id">hrD</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">h</span> @^-1` [<span class="id">set</span> <span class="id">r</span>] `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">m12</span>.<br/>
<span class="id">suff</span> : <span class="id">r</span> = 0%<span class="id">R</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">hrD</span> =&gt; /<span class="id">eqP</span> <span class="id">r0</span> <span class="id">t</span>/= <span class="id">htr</span>.<br/>
<span class="id">have</span> := <span class="id">hfD</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">tD</span>.<br/>
<span class="id">move</span>: <span class="id">r0</span>; <span class="id">rewrite</span> -<span class="id">htr</span> =&gt; <span class="id">ht0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">ht0</span>)/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>// <span class="id">ltNge</span>// <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_measure_integral">eq_measure_integral</a></span> <span class="id"><a name="m2:743">m2</a></span> <span class="id"><a name="m1:744">m1</a></span> (<span class="id"><a name="f:745">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="A:746">A</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id">A</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span> -&gt; <span class="id">m1</span> <span class="id">A</span> = <span class="id">m2</span> <span class="id">A</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id">m1</span>]<span class="id">_</span>(<span class="id"><a name="x:747">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id">m2</span>]<span class="id">_</span>(<span class="id"><a name="x:748">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.D">D</a></span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">move</span>=&gt; <span class="id">m12</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_restrict">funepos_restrict</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_restrict">funeneg_restrict</a></span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">_</span> - <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id">_</span>)%<span class="id">E</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral.eq_measure_integral0">eq_measure_integral0</a></span> =&gt; <span class="id">A</span> /<span class="id">m12</span> // /[<span class="id">apply</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">D</span>} <span class="id">m2</span> {<span class="id">m1</span> <span class="id">f</span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_measure_zero">integral_measure_zero</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:749">d</a></span> (<span class="id"><a name="T:750">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:751">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_measure_zero.sintegral_measure_zero">sintegral_measure_zero</a></span> (<span class="id"><a name="f:752">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero</a></span> <span class="id">f</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id">big1</span>// =&gt; <span class="id">r</span> <span class="id">_</span> /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_measure_zero">integral_measure_zero</a></span> (<span class="id"><a name="D:753">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span>) (<span class="id"><a name="f:754">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero</a></span>]<span class="id">_</span>(<span class="id"><a name="x:755">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">have</span> <span class="id">h</span> <span class="id">g</span> : (<span class="kwd">forall</span> <span class="id"><a name="x:757">x</a></span>, 0 &lt;= <span class="id">g</span> <span class="id">x</span>) -&gt; [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero</a></span> <span class="id">h</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="h:760">h</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="h:758">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.R">R</a></span>} | <span class="kwd">forall</span> <span class="id"><a name="x:759">x</a></span>, (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= <span class="id">g</span> <span class="id">x</span>]] = [<span class="id">set</span> 0].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">g0</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">_</span> [<span class="id">h</span>/= <span class="id">Dt</span> &lt;-]|<span class="id">x</span> -&gt; /=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero.sintegral_measure_zero">sintegral_measure_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.signed.html#NngNum">NngNum</a></span> <span class="id">_</span> 0 (<span class="id">lexx</span> <span class="id">_</span>))).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span>//= <span class="id">h</span> ?<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">h</span> ?<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup1">ereal_sup1</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// =&gt; <span class="id">r</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero">integral_measure_zero</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="domain_change">domain_change</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:761">d</a></span> (<span class="id"><a name="T:762">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:763">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="domain_change.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_mkcond">integral_mkcond</a></span> <span class="id"><a name="D:765">D</a></span> <span class="id"><a name="f:766">f</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:767">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_x</span> (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralT_nnsfun">integralT_nnsfun</a></span> (<span class="id"><a name="h:769">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.R">R</a></span>}) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_x</span> (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span> <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nnsfun">integral_nnsfun</a></span>// <span class="id"><a href="mathcomp.classical.functions.html#patch_setT">patch_setT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_mkcondr">integral_mkcondr</a></span> <span class="id"><a name="D:771">D</a></span> <span class="id"><a name="P:772">P</a></span> <span class="id"><a name="f:773">f</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:774">x</a></span> <span class="kwd">in</span> <span class="id">D</span> `&amp;` <span class="id">P</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:775">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> \<span class="id">_</span> <span class="id">P</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch_setI">patch_setI</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_mkcondl">integral_mkcondl</a></span> <span class="id"><a name="D:776">D</a></span> <span class="id"><a name="P:777">P</a></span> <span class="id"><a name="f:778">f</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:779">x</a></span> <span class="kwd">in</span> <span class="id">P</span> `&amp;` <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:780">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> \<span class="id">_</span> <span class="id">P</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcondr">integral_mkcondr</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#domain_change">domain_change</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span>} <span class="id">D</span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="nondecreasing_integral_limit">nondecreasing_integral_limit</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:781">d</a></span> (<span class="id"><a name="T:782">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:783">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="nondecreasing_integral_limit.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R</a></span>}) (<span class="id"><a name="nondecreasing_integral_limit.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="nondecreasing_integral_limit.g">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R</a></span>}^<span class="id">nat</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="nondecreasing_integral_limit.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:787">x</a></span>, 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="nondecreasing_integral_limit.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="nondecreasing_integral_limit.nd_g">nd_g</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:790">x</a></span>, <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>^~<span class="id">x</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="nondecreasing_integral_limit.gf">gf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:792">x</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>^~<span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE</a></span>//.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> <span class="id">n</span>) =&gt; //= =&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> &lt;- : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> ^~ <span class="id">x</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.gf">gf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> ^~ <span class="id">x</span>) --&gt; <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> ^~ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> =&gt; <span class="id">p</span> <span class="id">q</span> <span class="id">pq</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.nd_g">nd_g</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; -&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span>)).<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[|] <span class="id">mufoo</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE</a></span>// =&gt; /<span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup_adherent">ub_ereal_sup_adherent</a></span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addgt0Pr">lee_addgt0Pr</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> {<span class="id">h</span>} [/= <span class="id">_</span> [<span class="id">G</span> <span class="id">Gf</span> &lt;-]] := <span class="id">h</span> <span class="id">_</span> [<span class="id">gt0</span> <span class="id">of</span> <span class="id">e</span>%:<span class="id">num</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_subl_addr">lte_subl_addr</a></span>// =&gt; <span class="id">fGe</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="kwd">forall</span> <span class="id"><a name="x:797">x</a></span>, <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>^~ <span class="id">x</span>) -&gt; (<span class="id">G</span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span> ^~ <span class="id">x</span>))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">cg</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -(<span class="id"><a href="mathcomp.analysis.normedtype.html#EFin_lim">EFin_lim</a></span> <span class="id">cg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">gxfx</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.gf">gf</a></span> <span class="id">x</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">Gf</span> <span class="id">_</span>))// <span class="id">gxfx</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.nd_g">nd_g</a></span>)/(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add2r">lee_add2r</a></span> <span class="id">e</span>%:<span class="id">num</span>%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">exact</span>: <span class="id">ltW</span>.<br/>
<span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>) = +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE</a></span>// <span class="id">mufoo</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqyP">eqyP</a></span> =&gt; <span class="id">r</span> <span class="id">r0</span>.<br/>
<span class="id">have</span> [<span class="id">G</span> [<span class="id">Gf</span> <span class="id">rG</span>]] : <span class="kwd">exists</span> <span class="id"><a name="h:798">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.R">R</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:799">x</a></span>, (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span>) /\ (<span class="id">r</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id">h</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">r</span>%:<span class="id">E</span> &lt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.f">f</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: (<span class="id">mufoo</span>) =&gt; /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqyP">eqyP</a></span>/(<span class="id">_</span> <span class="id">_</span> (<span class="id">addr_gt0</span> <span class="id">r0</span> <span class="id">r0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">lt_le_trans</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_addr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE</a></span>// =&gt; /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_gt">ereal_sup_gt</a></span>[<span class="id">x</span> [/= <span class="id">G</span> <span class="id">Gf</span> <span class="id">Gx</span> <span class="id">rx</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">G</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">rx</span>)) // <span class="id">Gx</span>.<br/>
<span class="id">have</span> : <span class="kwd">forall</span> <span class="id"><a name="x:801">x</a></span>, <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>^~ <span class="id">x</span>) -&gt; (<span class="id">G</span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.g">g</a></span>^~ <span class="id">x</span>))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">cg</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -(<span class="id"><a href="mathcomp.analysis.normedtype.html#EFin_lim">EFin_lim</a></span> <span class="id">cg</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">gxfx</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.gf">gf</a></span> <span class="id">x</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">Gf</span> <span class="id">_</span>)) // <span class="id">gxfx</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_sintegral_lim_lemma">nd_sintegral_lim_lemma</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit.nd_g">nd_g</a></span>) =&gt; <span class="id">Gg</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">rG</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nondecreasing_integral_limit">nondecreasing_integral_limit</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="dyadic_interval">dyadic_interval</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="dyadic_interval.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dyadic_itv">dyadic_itv</a></span> <span class="id"><a name="n:803">n</a></span> <span class="id"><a name="k:804">k</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval.R">R</a></span> :=<br/>
&nbsp;&nbsp;`[(<span class="id">k</span>%:<span class="id">R</span> * 2 ^- <span class="id">n</span>), (<span class="id">k</span>.+1%:<span class="id">R</span> * 2 ^- <span class="id">n</span>)[.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="I">I</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv">dyadic_itv</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dyadic_itv_subU">dyadic_itv_subU</a></span> <span class="id"><a name="n:805">n</a></span> <span class="id"><a name="k:806">k</a></span> : [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span> <span class="id">k</span>] `&lt;=`<br/>
&nbsp;&nbsp;[<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span>.+1 <span class="id">k</span>.*2] `|` [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span>.+1 <span class="id">k</span>.*2.+1].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
<span class="id">move</span>=&gt; <span class="id">r</span> /=; <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Ir</span> <span class="id">rI</span>].<br/>
<span class="id">have</span> [<span class="id">rk</span>|<span class="id">rk</span>] := <span class="id">ltP</span> <span class="id">r</span> (<span class="id">k</span>.*2.+1%:<span class="id">R</span> * (2%:<span class="id">R</span> ^- <span class="id">n</span>.+1)); [<span class="id">left</span>|<span class="id">right</span>].<br/>
- <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id">rk</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">Ir</span>)// -<span class="id">muln2</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">natrM</span> <span class="id">exprS</span> <span class="id">invrM</span> ?<span class="id">unitfE</span>// ?<span class="id">expf_neq0</span>// -<span class="id">mulrA</span> (<span class="id">mulrCA</span> 2).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divrr</span> ?<span class="id">unitfE</span>// <span class="id">mulr1</span>.<br/>
- <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id">rk</span> /= (<span class="id">lt_le_trans</span> <span class="id">rI</span>)// -<span class="id">doubleS</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">muln2</span> <span class="id">natrM</span> <span class="id">exprS</span> <span class="id">invrM</span> ?<span class="id">unitfE</span>// ?<span class="id">expf_neq0</span>// -<span class="id">mulrA</span> (<span class="id">mulrCA</span> 2).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divrr</span> ?<span class="id">unitfE</span>// <span class="id">mulr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bigsetU_dyadic_itv">bigsetU_dyadic_itv</a></span> <span class="id"><a name="n:807">n</a></span> : `[<span class="id">n</span>%:<span class="id">R</span>, <span class="id">n</span>.+1%:<span class="id">R</span>[%<span class="id">classic</span> =<br/>
&nbsp;&nbsp;\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id">n</span> * 2 ^ <span class="id">n</span>.+1 &lt;= <span class="id"><a name="k:808">k</a></span> &lt; <span class="id">n</span>.+1 * 2 ^ <span class="id">n</span>.+1) [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span>.+1 <span class="id">k</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; [/= /[!<span class="id">in_itv</span>]/= /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">nr</span> <span class="id">rn1</span>]|].<br/>
- <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_seq">bigcup_seq</a></span> /=; <span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id">r</span> * 2 ^+ <span class="id">n</span>.+1)|%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /= <span class="id">mem_index_iota</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ltez_nat</span> <span class="id">gez0_abs</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0</span>// (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">nr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id">n</span> * 2 ^ <span class="id">n</span>.+1)%:<span class="id">R</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.reals.html#le_floor">le_floor</a></span>; <span class="id">rewrite</span> <span class="id">natrM</span> <span class="id">natrX</span> <span class="id">ler_pmul2r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_natz">floor_natz</a></span> <span class="id">intz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ltz_nat</span> <span class="id">gez0_abs</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id">mulr_ge0</span>// (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">nr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">ltr_int</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval.R">R</a></span>) (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">PoszM</span> <span class="id">intrM</span> -<span class="id">natrX</span> <span class="id">ltr_pmul2r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_pdivr_mulr</span>// (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id">gez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id">mulr_ge0</span>// (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">nr</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_pdivl_mulr</span>// (<span class="id">lt_le_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">natr1</span> <span class="id">ler_add2r</span>// -(@<span class="id">gez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0</span>// (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">nr</span>).<br/>
- <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_seq">bigcup_seq</a></span> =&gt; -[/= <span class="id">k</span>] /[!<span class="id">mem_index_iota</span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">nk</span> <span class="id">kn</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">knr</span> <span class="id">rkn</span>]; <span class="id">rewrite</span> <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">knr</span>)// <span class="id">ler_pdivl_mulr</span>// -<span class="id">natrX</span> -<span class="id">natrM</span> <span class="id">ler_nat</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">rkn</span>)// <span class="id">ler_pdivr_mulr</span>// -<span class="id">natrX</span> -<span class="id">natrM</span> <span class="id">ler_nat</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dyadic_itv_image">dyadic_itv_image</a></span> <span class="id"><a name="n:811">n</a></span> <span class="id"><a name="T:812">T</a></span> (<span class="id"><a name="f:813">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval.R">R</a></span>) <span class="id"><a name="x:814">x</a></span> :<br/>
&nbsp;&nbsp;(<span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span> &lt; <span class="id">n</span>.+1%:<span class="id">R</span>%:<span class="id">E</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="k:815">k</a></span>, (2 ^ <span class="id">n</span>.+1 * <span class="id">n</span> &lt;= <span class="id">k</span> &lt; 2 ^ <span class="id">n</span>.+1 * <span class="id">n</span>.+1)%<span class="id">N</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span>.+1 <span class="id">k</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="id">move</span>=&gt; <span class="id">fxn</span>; <span class="id">have</span> <span class="id">fxfin</span> : <span class="id">f</span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span>; <span class="id">move</span>: <span class="id">fxn</span>; <span class="id">case</span>: (<span class="id">f</span> <span class="id">x</span>) =&gt; // /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
<span class="id">have</span> : <span class="id">f</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` `[<span class="id">n</span>%:<span class="id">R</span>, <span class="id">n</span>.+1%:<span class="id">R</span>[%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /=; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">f</span> <span class="id">x</span>)); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigsetU_dyadic_itv">bigsetU_dyadic_itv</a></span> <span class="id">n</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= =&gt; -[<span class="id">r</span>]; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_seq">bigcup_seq</a></span> =&gt; -[<span class="id">k</span> /=].<br/>
<span class="id">rewrite</span> <span class="id">mem_index_iota</span> =&gt; <span class="id">nk</span> <span class="id">Ir</span> <span class="id">rfx</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">k</span>; <span class="id">split</span>; [<span class="id">rewrite</span> !(<span class="id">mulnC</span> (2 ^ <span class="id">n</span>.+1)%<span class="id">N</span>)|<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /=; <span class="kwd">exists</span> <span class="id">r</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_interval">dyadic_interval</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="approximation">approximation</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:816">d</a></span> (<span class="id"><a name="T:817">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:818">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="approximation.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span>) (<span class="id"><a name="approximation.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="approximation.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>) (<span class="id"><a name="approximation.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="I">I</a></span> := (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv">dyadic_itv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.A">A</a></span> <span class="id"><a name="n:823">n</a></span> <span class="id"><a name="k:824">k</a></span> := <span class="kwd">if</span> (<span class="id">k</span> &lt; <span class="id">n</span> * 2 ^ <span class="id">n</span>)%<span class="id">N</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:825">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span> <span class="id">k</span>]] <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.B">B</a></span> <span class="id"><a name="n:826">n</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:827">x</a></span> | <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>]%<span class="id">E</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="approx">approx</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)^<span class="id">nat</span> := <span class="kwd">fun</span> <span class="id"><a name="n:828">n</a></span> <span class="id"><a name="x:829">x</a></span> =&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="k:830">k</a></span> &lt; <span class="id">n</span> * 2 ^ <span class="id">n</span>) <span class="id">k</span>%:<span class="id">R</span> * 2 ^- <span class="id">n</span> * \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">k</span>) <span class="id">x</span> + <span class="id">n</span>%:<span class="id">R</span> * \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>) <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.mA">mA</a></span> <span class="id"><a name="n:833">n</a></span> <span class="id"><a name="k:834">k</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [<span class="id">kn</span>|<span class="id">_</span>]//; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_comp">preimage_comp</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.mf">mf</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_image_EFin">measurable_image_EFin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.trivIsetA">trivIsetA</a></span> <span class="id"><a name="n:835">n</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetP">trivIsetP</a></span> =&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="id">wlog</span> : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt; <span class="id">j</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">ij</span>|<span class="id">ji</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">h</span> =&gt; //; <span class="id">rewrite</span> <span class="id">lt_eqF</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span>; <span class="id">apply</span>: <span class="id">h</span> =&gt; //; <span class="id">rewrite</span> <span class="id">lt_eqF</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">ij</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; /= <span class="id">ni</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span>.<br/>
<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; /= <span class="id">nj</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span> =&gt; // -[/=] [<span class="id">_</span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">r</span> /=]; <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">r1</span> <span class="id">r2</span>] <span class="id">rft</span> [<span class="id">_</span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">s</span> /=]; <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">s1</span> <span class="id">s2</span>].<br/>
<span class="id">rewrite</span> -<span class="id">rft</span> =&gt; -[<span class="id">sr</span>]; <span class="id">rewrite</span> {}<span class="id">sr</span> {<span class="id">s</span>} <span class="kwd">in</span> <span class="id">s1</span> <span class="id">s2</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> := <span class="id">le_lt_trans</span> <span class="id">s1</span> <span class="id">r2</span>; <span class="id">rewrite</span> <span class="id">ltr_pmul2r</span>// <span class="id">ltr_nat</span> <span class="id">ltnS</span> <span class="id">leqNgt</span> <span class="id">ij</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.f0_A0">f0_A0</a></span> <span class="id"><a name="n:836">n</a></span> (<span class="id"><a name="i:837">i</a></span> : '<span class="id">I_</span>(<span class="id">n</span> * 2 ^ <span class="id">n</span>)) <span class="id"><a name="x:838">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> = 0%:<span class="id">E</span> -&gt; <span class="id">i</span> != <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> :&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt;<br/>
&nbsp;&nbsp;\1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">i</span>) <span class="id">x</span> = 0 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
<span class="id">move</span>=&gt; <span class="id">fx0</span> <span class="id">i0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">ltn_ord</span> =&gt; -[<span class="id">Dx</span>/=] /[1!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>]/= -[<span class="id">r</span>].<br/>
<span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">fx0</span> =&gt; + <span class="id">r0</span>; <span class="id">move</span>/<span class="id">eqP</span> : <span class="id">r0</span> =&gt; /[1!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe">eqe</a></span>] /<span class="id">eqP</span> -&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[+ <span class="id">_</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pdivr_mulr</span>// <span class="id">mul0r</span> <span class="id">lern0</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">i0</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.fgen_A0">fgen_A0</a></span> <span class="id"><a name="n:839">n</a></span> <span class="id"><a name="x:840">x</a></span> (<span class="id"><a name="i:841">i</a></span> : '<span class="id">I_</span>(<span class="id">n</span> * 2 ^ <span class="id">n</span>)) : (<span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">i</span>) <span class="id">x</span> = 0 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">move</span>=&gt; <span class="id">fxn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">ltn_ord</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>// =&gt; -[<span class="id">Dx</span>/=] /[1!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>]/= -[<span class="id">r</span>].<br/>
<span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span> <span class="id">h</span>] <span class="id">rfx</span>; <span class="id">move</span>: <span class="id">fxn</span>; <span class="id">rewrite</span> -<span class="id">rfx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id">ltNge</span> (<span class="id">lt_le_trans</span> <span class="id">h</span>)// -<span class="id">natrX</span> <span class="id">ler_pdivr_mulr</span>// -<span class="id">natrM</span> <span class="id">ler_nat</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">leq_trans</span> (<span class="id">ltn_ord</span> <span class="id">i</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.disj_A0">disj_A0</a></span> <span class="id"><a name="x:842">x</a></span> <span class="id"><a name="n:843">n</a></span> (<span class="id"><a name="i:844">i</a></span> <span class="id"><a name="k:845">k</a></span> : '<span class="id">I_</span>(<span class="id">n</span> * 2 ^ <span class="id">n</span>)) : <span class="id">i</span> != <span class="id">k</span> -&gt; <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">k</span> -&gt;<br/>
&nbsp;&nbsp;\1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">i</span>) <span class="id">x</span> = 0 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
<span class="id">move</span>=&gt; <span class="id">ik</span> /[1!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">xAn1k</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>// =&gt; <span class="id">xAi</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetP">trivIsetP</a></span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id">ik</span>)/= := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.trivIsetA">trivIsetA</a></span> <span class="id">n</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; /(<span class="id">_</span> <span class="id">x</span>)[+ <span class="id">_</span>]; <span class="id">exact</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#disj_A0">disj_A0</a></span> {<span class="id">x</span> <span class="id">n</span> <span class="id">i</span>} <span class="id">k</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.mB">mB</a></span> <span class="id"><a name="n:846">n</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.foo_B1">foo_B1</a></span> <span class="id"><a name="x:847">x</a></span> <span class="id"><a name="n:848">n</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> = +<span class="id">oo</span>%<span class="id">E</span> -&gt; \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>) <span class="id">x</span> = 1 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span> <span class="id">fxoo</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span>/= <span class="id">fxoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.f0_B0">f0_B0</a></span> <span class="id"><a name="x:849">x</a></span> <span class="id"><a name="n:850">n</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> = 0%:<span class="id">E</span> -&gt; <span class="id">n</span> != 0%<span class="id">N</span> -&gt; \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>) <span class="id">x</span> = 0 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">n0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span>/= <span class="id">h</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">lern0</span> <span class="id">n0</span> =&gt; -[].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.fgtn_B0">fgtn_B0</a></span> <span class="id"><a name="x:851">x</a></span> <span class="id"><a name="n:852">n</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> &lt; <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>)%<span class="id">E</span> -&gt; \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>) <span class="id">x</span> = 0 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>// =&gt; -[<span class="id">_</span>/=]; <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id">h</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.f0_approx0">f0_approx0</a></span> <span class="id"><a name="n:853">n</a></span> <span class="id"><a name="x:854">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> = 0%<span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
<span class="id">move</span>=&gt; <span class="id">fx0</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span>; <span class="id">have</span> [-&gt;|<span class="id">n0</span>] := <span class="id">eqVneq</span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0n</span> <span class="id">mul0r</span> <span class="id">addr0</span> <span class="id">big_ord0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f0_B0">f0_B0</a></span>// <span class="id">mulr0</span> <span class="id">addr0</span> <span class="id">big1</span>// =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">have</span> [-&gt;|<span class="id">i0</span>] := <span class="id">eqVneq</span> (<span class="id">nat_of_ord</span> <span class="id">i</span>) 0%<span class="id">N</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0r</span> <span class="id">mul0r</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f0_A0">f0_A0</a></span> // <span class="id">mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.fpos_approx_neq0">fpos_approx_neq0</a></span> <span class="id"><a name="x:855">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; (0%<span class="id">E</span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> &lt; +<span class="id">oo</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id"><a name="n:856">n</a></span> \<span class="id">near</span> \<span class="id">oo</span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> <span class="id">x</span> != 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">move</span>=&gt; <span class="id">Dx</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">fx_gt0</span> <span class="id">fxoo</span>].<br/>
<span class="id">have</span> <span class="id">fxfin</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_fin_numE">gt0_fin_numE</a></span>.<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="kwd">in</span> <span class="id">fx_gt0</span>; <span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">paddr_eq0</span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">sumr_ge0</span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">psumr_eq0</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulr_ge0</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/<span class="id">allP</span> <span class="id">An0</span>]; <span class="id">rewrite</span> <span class="id">mulf_eq0</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> 1%<span class="id">N</span> =&gt; //= <span class="id">m</span> /=; <span class="id">rewrite</span> <span class="id">lt0n</span> <span class="id">pnatr_eq0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> ?<span class="id">oner_eq0</span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> /= <span class="id">leNgt</span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; <span class="id">fxn</span>.<br/>
<span class="id">have</span> <span class="id">K</span> : (`|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) * 2 ^+ <span class="id">n</span>)| &lt; <span class="id">n</span> * 2 ^ <span class="id">n</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ltz_nat</span> <span class="id">gez0_abs</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id">mulr_ge0</span>// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">ltr_int</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>); <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))// <span class="id">PoszM</span> <span class="id">intrM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">natrX</span> <span class="id">ltr_pmul2r</span>// -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>).<br/>
<span class="id">have</span> /[!<span class="id">mem_index_enum</span>]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#isT">isT</a></span>) := <span class="id">An0</span> (<span class="id">Ordinal</span> <span class="id">K</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#implyTb">implyTb</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> ?<span class="id">mulr1</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">K</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">split</span>=&gt; //=; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_pdivr_mulr</span>// (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id">gez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span> <span class="id">mulr_ge0</span>// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_pdivl_mulr</span>// (<span class="id">lt_le_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span> <span class="id">_</span>))// -[<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">natr1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add2r</span>// -{1}(@<span class="id">gez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>// <span class="id">mulr_ge0</span>// <span class="id">ltW</span>.<br/>
<span class="id">rewrite</span> <span class="id">mulf_eq0</span>// -<span class="id">exprVn</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">expf_neq0</span>//= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">pnatr_eq0</span> -<span class="id">lt0n</span> <span class="id">absz_gt0</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_neq0">floor_neq0</a></span>// -<span class="id">ler_pdivr_mulr</span>//.<br/>
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>; <span class="id">right</span>; <span class="id">apply</span>/<span class="id">ltW</span>; <span class="id">near</span>: <span class="id">n</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_expn_lt">near_infty_natSinv_expn_lt</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">fx_gt0</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.f_ub_approx">f_ub_approx</a></span> <span class="id"><a name="n:857">n</a></span> <span class="id"><a name="x:858">x</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> &lt; <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> <span class="id">x</span> == 0 \/ <span class="kwd">exists</span> <span class="id"><a name="k:859">k</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ (0 &lt; <span class="id">k</span> &lt; <span class="id">n</span> * 2 ^ <span class="id">n</span>)%<span class="id">N</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span> <span class="id">k</span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> <span class="id">x</span> = <span class="id">k</span>%:<span class="id">R</span> / 2 ^+ <span class="id">n</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#I">I</a></span> <span class="id">n</span> <span class="id">k</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
<span class="id">move</span>=&gt; <span class="id">fxn</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgtn_B0">fgtn_B0</a></span> // <span class="id">mulr0</span> <span class="id">addr0</span>.<br/>
<span class="id">set</span> <span class="id">lhs</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> == 0); <span class="id">have</span> [|] := <span class="id">eqVneq</span> <span class="id">lhs</span> 0; <span class="id">first</span> <span class="kwd">by</span> <span class="id">left</span>.<br/>
<span class="id">rewrite</span> {}/<span class="id">lhs</span> <span class="id">psumr_eq0</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulr_ge0</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">allPn</span>[/= <span class="id">k</span> <span class="id">_</span>].<br/>
<span class="id">rewrite</span> <span class="id">mulf_eq0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">mulf_eq0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> -<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbA">andbA</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#and3P">and3P</a></span>[<span class="id">k_neq0</span> <span class="id">_</span>].<br/>
<span class="id">rewrite</span> <span class="id">pnatr_eq0</span> <span class="id">eqb0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> =&gt; <span class="id">xAnk</span>; <span class="id">right</span>.<br/>
<span class="id">rewrite</span> (<span class="id">bigD1</span> <span class="id">k</span>) //= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xAnk</span> <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">addr0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">ik</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> <span class="id">k</span>)// <span class="id">mulr0</span>.<br/>
<span class="kwd">exists</span> <span class="id">k</span>; <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt0n</span> -(@<span class="id">pnatr_eq0</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>) <span class="id">k_neq0</span>/=.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xAnk</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">ltn_ord</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= =&gt; -[/[<span class="id">swap</span>] <span class="id">Dx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.notinD_approx0">notinD_approx0</a></span> <span class="id"><a name="x:861">x</a></span> <span class="id"><a name="n:862">n</a></span> : ~ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> <span class="id">x</span> = 0 :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">big1</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> ?<span class="id">mulr0</span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [? []|<span class="id">_</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>// ?<span class="id">mulr0</span> ?<span class="id">addr0</span>// =&gt; -[].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nd_approx">nd_approx</a></span> : <span class="id">nondecreasing_seq</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqP">nondecreasing_seqP</a></span> =&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span> =&gt; <span class="id">x</span>.<br/>
<span class="id">have</span> [<span class="id">Dx</span>|<span class="id">Dx</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.notinD_approx0">notinD_approx0</a></span>.<br/>
<span class="id">have</span> [<span class="id">fxn</span>|<span class="id">fxn</span>] := <span class="id">ltP</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> {2}/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgtn_B0">fgtn_B0</a></span> ?<span class="id">mulr0</span> ?<span class="id">addr0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_trans</span> <span class="id">fxn</span>) // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_nat</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [/<span class="id">eqP</span> -&gt;|[<span class="id">k</span> [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">k0</span> <span class="id">kn</span>] <span class="id">xAnk</span> -&gt; <span class="id">_</span>]]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f_ub_approx">f_ub_approx</a></span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">sumr_ge0</span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: (<span class="id">xAnk</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> {1}/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">kn</span> =&gt; -[<span class="id">_</span>] /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">r</span>] /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv_subU">dyadic_itv_subU</a></span>[|] <span class="id">rnk</span> <span class="id">rfx</span>.<br/>
&nbsp;&nbsp;- <span class="id">have</span> <span class="id">k2n</span> : (<span class="id">k</span>.*2 &lt; <span class="id">n</span>.+1 * 2 ^ <span class="id">n</span>.+1)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">expnS</span> <span class="id">mulnCA</span> <span class="id">mul2n</span> <span class="id">ltn_double</span> (<span class="id">ltn_trans</span> <span class="id">kn</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltn_mul2r</span> <span class="id">expn_gt0</span> /= <span class="id">ltnS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">bigD1</span> (<span class="id">Ordinal</span> <span class="id">k2n</span>)) //= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xAn1k</span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>.+1 <span class="id">k</span>.*2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">k2n</span>; <span class="id">split</span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">xAn1k</span> <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">addr0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">ik2n</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> (<span class="id">Ordinal</span> <span class="id">k2n</span>)) ?<span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">exprS</span> <span class="id">invrM</span> ?<span class="id">unitfE</span>// -<span class="id">muln2</span> <span class="id">natrM</span> -<span class="id">mulrA</span> (<span class="id">mulrCA</span> 2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divrr</span> ?<span class="id">mulr1</span> ?<span class="id">unitfE</span>.<br/>
&nbsp;&nbsp;- <span class="id">have</span> <span class="id">k2n</span> : (<span class="id">k</span>.*2.+1 &lt; <span class="id">n</span>.+1 * 2 ^ <span class="id">n</span>.+1)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">kn</span>; <span class="id">rewrite</span> -<span class="id">ltn_double</span> -(<span class="id">ltn_add2r</span> 1) 2!<span class="id">addn1</span> =&gt; /<span class="id">leq_trans</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">muln2</span> -<span class="id">mulnA</span> -<span class="id">expnSr</span> <span class="id">ltn_mul2r</span> <span class="id">expn_gt0</span> /= <span class="id">ltnS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">bigD1</span> (<span class="id">Ordinal</span> <span class="id">k2n</span>)) //= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xAn1k</span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>.+1 <span class="id">k</span>.*2.+1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> /= <span class="id">k2n</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">split</span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">xAn1k</span> <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">addr0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">ik2n</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> (<span class="id">Ordinal</span> <span class="id">k2n</span>)) // <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">natr1</span> <span class="id">_</span> <span class="id">k</span>.*2) <span class="id">mulrDl</span> <span class="id">exprS</span> -<span class="id">mul2n</span> <span class="id">natrM</span> -<span class="id">mulf_div</span> <span class="id">divrr</span> ?<span class="id">unitfE</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">mul1r</span> <span class="id">ler_addl</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[{}<span class="id">fxn</span>|{}<span class="id">fxn</span>] :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> &lt; <span class="id">n</span>.+1%:<span class="id">R</span>%:<span class="id">E</span>) || (<span class="id">n</span>.+1%:<span class="id">R</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))%<span class="id">E</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">fxn</span>; <span class="id">case</span>: <span class="id">leP</span> =&gt; /= [<span class="id">_</span> <span class="id">_</span>|<span class="id">_</span> -&gt;//]; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">have</span> [<span class="id">k</span> [<span class="id">k1</span> <span class="id">k2</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dyadic_itv_image">dyadic_itv_image</a></span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xBn</span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /=; <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">fxn</span> =&gt; -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xBn</span> <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">add0r</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span> ?<span class="id">mulr0</span>//; <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgtn_B0">fgtn_B0</a></span> ?<span class="id">mulr0</span> ?<span class="id">addr0</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">kn2</span> : (<span class="id">k</span> &lt; <span class="id">n</span>.+1 * 2 ^ <span class="id">n</span>.+1)%<span class="id">N</span> <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">k1</span> =&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mulnC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">bigD1</span> (<span class="id">Ordinal</span> <span class="id">kn2</span>)) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">xAn1k</span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">n</span>.+1 <span class="id">k</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.A">A</a></span> <span class="id">kn2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xAn1k</span> <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">addr0</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> /= <span class="id">ikn2</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.disj_A0">disj_A0</a></span> (<span class="id">Ordinal</span> <span class="id">kn2</span>)) // <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">natrX</span> <span class="id">ler_pdivl_mulr</span>// <span class="id">mulrC</span> -<span class="id">natrM</span> <span class="id">ler_nat</span>; <span class="id">case</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> : <span class="id">k1</span>.<br/>
- <span class="id">have</span> <span class="id">xBn</span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">fxn</span>) // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_nat</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xBn</span> <span class="id">mulr1</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">xBn1</span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> <span class="id">n</span>.+1 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.B">B</a></span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">xBn1</span> <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">add0r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big1</span> ?<span class="id">add0r</span> ?<span class="id">ler_nat</span>// =&gt; /= <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span>// <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span> ?<span class="id">mulr0</span>// (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">fxn</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_nat</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_approx">cvg_approx</a></span> <span class="id"><a name="x:863">x</a></span> (<span class="id"><a name="f0:865">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:864">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> &lt; +<span class="id">oo</span>)%<span class="id">E</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span>^~ <span class="id">x</span>) --&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id">move</span>=&gt; <span class="id">Dx</span> <span class="id">fxoo</span>; <span class="id">have</span> <span class="id">fxfin</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id">f0</span>.<br/>
<span class="id">apply</span>/(@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> <span class="id">_</span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>^<span class="id">o</span>]) =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">have</span> [<span class="id">fx0</span>|<span class="id">fx0</span>] := <span class="id">eqVneq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) 0%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f0_approx0">f0_approx0</a></span> // <span class="id">fx0</span> /= <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">have</span> /(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fpos_approx_neq0">fpos_approx_neq0</a></span> <span class="id">Dx</span>)[<span class="id">m</span> <span class="id">_</span> <span class="id">Hm</span>] : (0 &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> &lt; +<span class="id">oo</span>)%<span class="id">E</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">fx0</span> <span class="id">f0</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mn</span> : (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) &lt; <span class="id">n</span>%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>: <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>))|.+1%<span class="id">N</span> =&gt; //= <span class="id">p</span> /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>); <span class="id">apply</span>: <span class="id">lt_le_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">natr1</span> (<span class="id">_</span> : `| <span class="id">_</span> |%:<span class="id">R</span>  = (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)))%:~<span class="id">R</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](@<span class="id">gez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.reals.html#floor_ge0">floor_ge0</a></span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id">f0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#lt_succ_floor">lt_succ_floor</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>) =&gt; <span class="id">fxn</span>.<br/>
<span class="id">have</span> [<span class="id">approx_nx0</span>|[<span class="id">k</span> [/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">k0</span> <span class="id">kn2n</span>] ? -&gt;]]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f_ub_approx">f_ub_approx</a></span> <span class="id">fxn</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">Hm</span> <span class="id">_</span> <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id">approx_nx0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= =&gt; -[<span class="id">r</span> /=]; <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">k1</span> <span class="id">k2</span>] <span class="id">rfx</span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (1 / 2 ^+ <span class="id">n</span>)) //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_norml</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_subr_addl</span> -<span class="id">mulrBl</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">fxfin</span>) -<span class="id">rfx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">k1</span>)// <span class="id">ler_pmul2r</span>// <span class="id">ler_subl_addl</span> <span class="id">ler_addr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_subl_addr</span> -<span class="id">mulrDl</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">nat1r</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id">ltW</span>// -<span class="id">rfx</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_expn_lt">near_infty_natSinv_expn_lt</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_approx">le_approx</a></span> <span class="id"><a name="k:866">k</a></span> <span class="id"><a name="x:867">x</a></span> (<span class="id"><a name="f0:869">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:868">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">k</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">have</span> [<span class="id">fixoo</span>|] := <span class="id">ltP</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>) (+<span class="id">oo</span>%<span class="id">E</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">have</span> <span class="id">nd_ag</span> : {<span class="id">homo</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> ^~ <span class="id">x</span> : <span class="id"><a name="n:870">n</a></span> <span class="id"><a name="m:871">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">n</span> &lt;= <span class="id">m</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span>.<br/>
<span class="id">have</span> <span class="id">fi0</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">y</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">y</span>)%<span class="id">E</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
<span class="id">have</span> <span class="id">cvg_af</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_approx">cvg_approx</a></span> <span class="id">fi0</span> <span class="id">Dx</span> <span class="id">fixoo</span>.<br/>
<span class="id">have</span> <span class="id">is_cvg_af</span> : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> ^~ <span class="id">x</span>) <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id">cvg_af</span>.<br/>
<span class="id">have</span> {<span class="id">is_cvg_af</span>} := <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_cvgn_le">nondecreasing_cvgn_le</a></span> <span class="id">nd_ag</span> <span class="id">is_cvg_af</span> <span class="id">k</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; /<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id">f0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (@<span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)) : <span class="id">cvg_af</span> =&gt; -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dvg_approx">dvg_approx</a></span> <span class="id"><a name="x:875">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span> = +<span class="id">oo</span>%<span class="id">E</span> -&gt; ~ <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span>^~ <span class="id">x</span> : <span class="id">_</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>^<span class="id">o</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">move</span>=&gt; <span class="id">Dx</span> <span class="id">fxoo</span>; <span class="id">have</span> <span class="id">approx_x</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> <span class="id">x</span> = <span class="id">n</span>%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.foo_B1">foo_B1</a></span>// <span class="id">mulr1</span> <span class="id">big1</span> ?<span class="id">add0r</span>// =&gt; /= <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.fgen_A0">fgen_A0</a></span> // ?<span class="id">mulr0</span> // <span class="id">fxoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span> =&gt; /= <span class="id">l</span>; <span class="id">have</span> [<span class="id">l0</span>|<span class="id">l0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">l</span>.<br/>
- <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">ltr01</span>) -[<span class="id">n</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">_</span> (`|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">l</span>|.+1 + <span class="id">n</span>)%<span class="id">N</span>) /= /(<span class="id">_</span> (<span class="id">leq_addl</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">approx_x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id">distrC</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ler_sub_norm_add</span> <span class="id">_</span> <span class="id">_</span>)) //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">normrN</span> <span class="id">ler_subr_addl</span> <span class="id">addSnnS</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">ger0_norm</span> ?<span class="id">ler0n</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">natrD</span> <span class="id">ler_add</span>// ?<span class="id">ler1n</span>// <span class="id">ger0_norm</span> // (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>)) //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id">gez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">_</span>)) // <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>.<br/>
- <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">ltr01</span>) -[<span class="id">n</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">_</span> (`|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">l</span>|.+1 + <span class="id">n</span>)%<span class="id">N</span>) /= /(<span class="id">_</span> (<span class="id">leq_addl</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">approx_x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id">distrC</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ler_sub_norm_add</span> <span class="id">_</span> <span class="id">_</span>)) //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">normrN</span> <span class="id">ler_subr_addl</span> <span class="id">addSnnS</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">ger0_norm</span> ?<span class="id">ler0n</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">natrD</span> <span class="id">ler_add</span>// ?<span class="id">ler1n</span>// <span class="id">ler0_norm</span> //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (- <span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">l</span>)%:~<span class="id">R</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNz</span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id">lez0_abs</span> (<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">_</span>)) // <span class="id"><a href="mathcomp.analysis.reals.html#floor_le0">floor_le0</a></span> // <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ecvg_approx">ecvg_approx</a></span> (<span class="id"><a name="f0:878">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:877">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span>) <span class="id"><a name="x:879">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span>^~<span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>); <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[|] <span class="id">fxoo</span>.<br/>
<span class="id">have</span> <span class="id">dvg_approx</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dvg_approx">dvg_approx</a></span> <span class="id">Dx</span> <span class="id">fxoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : {<span class="id">homo</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> ^~ <span class="id">x</span> : <span class="id"><a name="n:880">n</a></span> <span class="id"><a name="m:881">m</a></span> / (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> &gt;-&gt; <span class="id">n</span> &lt;= <span class="id">m</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span> <span class="id">mn</span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_dvgn_lt">nondecreasing_dvgn_lt</a></span> =&gt; /(<span class="id">_</span> <span class="id">dvg_approx</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fxoo</span> =&gt; ?; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeryP">cvgeryP</a></span>.<br/>
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)); <span class="id">first</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_approx">cvg_approx</a></span> <span class="id">f0</span> <span class="id">Dx</span> <span class="id">fxoo</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="approximation.k2n_ge0">k2n_ge0</a></span> <span class="id"><a name="n:884">n</a></span> (<span class="id"><a name="k:885">k</a></span> : '<span class="id">I_</span>(<span class="id">n</span> * 2 ^ <span class="id">n</span>)) : 0 &lt;= <span class="id">k</span>%:<span class="id">R</span> * 2 ^- <span class="id">n</span> :&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="nnsfun_approx">nnsfun_approx</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>}^<span class="id">nat</span> := <span class="kwd">fun</span> <span class="id"><a name="n:886">n</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#locked">locked</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfun">sum_nnsfun</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="k:887">k</a></span> =&gt; <span class="kwd">match</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Bool.Bool.html#bool_dec">Bool.bool_dec</a></span> (<span class="id">k</span> &lt; (<span class="id">n</span> * 2 ^ <span class="id">n</span>))%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">h</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.mA">mA</a></span> <span class="id">n</span> <span class="id">k</span>)) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.k2n_ge0">k2n_ge0</a></span> (<span class="id">Ordinal</span> <span class="id">h</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun0">nnsfun0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) (<span class="id">n</span> * 2 ^ <span class="id">n</span>)%<span class="id">N</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.mB">mB</a></span> <span class="id">n</span>)) (<span class="id">ler0n</span> <span class="id">_</span> <span class="id">n</span>))).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nnsfun_approxE">nnsfun_approxE</a></span> <span class="id"><a name="n:888">n</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id">n</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id">n</span> :&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">t</span> /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span>; <span class="id">unlock</span>; <span class="id">rewrite</span> /=.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sum_nnsfunE">sum_nnsfunE</a></span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Bool.Bool.html#bool_dec">Bool.bool_dec</a></span> =&gt; [<span class="id">h</span>|/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>]; [|<span class="id">rewrite</span> <span class="id">ltn_ord</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_nnsfun_approx">cvg_nnsfun_approx</a></span> (<span class="id"><a name="f0:890">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:889">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span>) <span class="id"><a name="x:891">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span>^~<span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ecvg_approx">ecvg_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nd_nnsfun_approx">nd_nnsfun_approx</a></span> : <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)^<span class="id">nat</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
<span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id">n</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id">m</span>).<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="approximation">approximation</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="t:892">t</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">t</span> -&gt; (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">t</span>)%<span class="id">E</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g:893">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>}^<span class="id">nat</span>, <span class="id">nondecreasing_seq</span> (<span class="id">g</span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.R">R</a></span>)^<span class="id">nat</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:894">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span>^~<span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation.f">f</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span>; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_nnsfun_approx">nd_nnsfun_approx</a></span>|].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_nnsfun_approx">cvg_nnsfun_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="semi_linearity0">semi_linearity0</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:895">d</a></span> (<span class="id"><a name="T:896">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:897">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="semi_linearity0.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.R">R</a></span>}) (<span class="id"><a name="semi_linearity0.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.T">T</a></span>) (<span class="id"><a name="semi_linearity0.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> <span class="id"><a name="semi_linearity0.f1">f1</a></span> <span class="id"><a name="semi_linearity0.f2">f2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.R">R</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="semi_linearity0.f10">f10</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:903">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="semi_linearity0.mf1">mf1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id"><a name="k:906">k</a></span> : (0 &lt;= <span class="id">k</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:907">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span>) (<span class="id">k</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id">x</span>) = <span class="id">k</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:908">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_scale">erestrict_scale</a></span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> =&gt; <span class="id">k0</span>.<br/>
<span class="id">set</span> <span class="id">h1</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.f1">f1</a></span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.D">D</a></span>.<br/>
<span class="id">have</span> <span class="id">h10</span> <span class="id">x</span> : 0 &lt;= <span class="id">h1</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">mh1</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h1</span> <span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mD">mD</a></span>).<br/>
<span class="id">have</span> [<span class="id">g</span> [<span class="id">nd_g</span> <span class="id">gh1</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh1</span> (<span class="kwd">fun</span> <span class="id"><a name="x:910">x</a></span> <span class="id">_</span> =&gt; <span class="id">h10</span> <span class="id">x</span>).<br/>
<span class="id">pose</span> <span class="id">kg</span> := <span class="kwd">fun</span> <span class="id"><a name="n:911">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id">g</span> <span class="id">n</span>) <span class="id">k0</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:912">x</a></span> =&gt; <span class="id">k</span>%:<span class="id">E</span> * <span class="id">h1</span> <span class="id">x</span>) <span class="id">kg</span>).<br/>
- <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = <span class="kwd">fun</span> <span class="id"><a name="n:915">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#scale_nnsfun">scale_nnsfun</a></span> (<span class="id">g</span> <span class="id">n</span>) <span class="id">k0</span>))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = (<span class="kwd">fun</span> <span class="id"><a name="n:918">n</a></span> =&gt; <span class="id">k</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> (<span class="id">g</span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeMl">limeMl</a></span> //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">x</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> <span class="id">h10</span>) // =&gt; <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g</span>)|<span class="id">exact</span>: <span class="id">gh1</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralrM">sintegralrM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0.mu">mu</a></span> <span class="id">k</span> (<span class="id">g</span> <span class="id">_</span>)).<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> /<span class="id">kg</span> <span class="id">ler_pmul</span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">nd_g</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = (<span class="kwd">fun</span> <span class="id"><a name="n:921">n</a></span> =&gt; <span class="id">k</span>%:<span class="id">E</span> * (<span class="id">g</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)) ?<span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeMl">cvgeMl</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">gh1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity0">semi_linearity0</a></span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">ge0_integralZl_EFin</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="ge0_integralM_EFin">ge0_integralM_EFin</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="semi_linearity">semi_linearity</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:925">d</a></span> (<span class="id"><a name="T:926">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:927">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="semi_linearity.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.R">R</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="semi_linearity.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.T">T</a></span>) (<span class="id"><a name="semi_linearity.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="semi_linearity.f1">f1</a></span> <span class="id"><a name="semi_linearity.f2">f2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.R">R</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="semi_linearity.f10">f10</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:933">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="semi_linearity.mf1">mf1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="semi_linearity.f20">f20</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:936">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="semi_linearity.mf2">mf2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integralD">ge0_integralD</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:939">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id">x</span> + <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:940">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id">x</span> + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:941">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="id">rewrite</span> !(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.numfun.html#erestrictD">erestrictD</a></span>.<br/>
<span class="id">set</span> <span class="id">h1</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>; <span class="id">set</span> <span class="id">h2</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>.<br/>
<span class="id">have</span> <span class="id">h10</span> <span class="id">x</span> : 0 &lt;= <span class="id">h1</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">h20</span> <span class="id">x</span> : 0 &lt;= <span class="id">h2</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">mh1</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h1</span> <span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">mh2</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h2</span> <span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> [<span class="id">g1</span> [<span class="id">nd_g1</span> <span class="id">gh1</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh1</span> (<span class="kwd">fun</span> <span class="id"><a name="x:944">x</a></span> <span class="id">_</span> =&gt; <span class="id">h10</span> <span class="id">x</span>).<br/>
<span class="id">have</span> [<span class="id">g2</span> [<span class="id">nd_g2</span> <span class="id">gh2</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh2</span> (<span class="kwd">fun</span> <span class="id"><a name="x:945">x</a></span> <span class="id">_</span> =&gt; <span class="id">h20</span> <span class="id">x</span>).<br/>
<span class="id">pose</span> <span class="id">g12</span> := <span class="kwd">fun</span> <span class="id"><a name="n:946">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#add_nnsfun">add_nnsfun</a></span> (<span class="id">g1</span> <span class="id">n</span>) (<span class="id">g2</span> <span class="id">n</span>).<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span> <span class="id">_</span> <span class="id">g12</span>) //; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqD">nondecreasing_seqD</a></span> =&gt; // <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>)|<span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>)].<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="kwd">fun</span> <span class="id"><a name="n:947">n</a></span> =&gt; (<span class="id">g1</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span> + (<span class="id">g2</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeD">cvgeD</a></span> =&gt; //; [|<span class="id">exact</span>: <span class="id">gh1</span>|<span class="id">exact</span>: <span class="id">gh2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def</a></span> =&gt; //; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; [<span class="id">exact</span>: <span class="id">h10</span>|<span class="id">exact</span>: <span class="id">h20</span>].<br/>
<span class="id">under</span> [<span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralD">sintegralD</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="x:950">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>)) //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id">gh1</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="x:953">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>)) //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id">gh2</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeD">limeD</a></span> //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">x</span> <span class="id">Dx</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">x</span> <span class="id">Dx</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">x</span> <span class="id">Dx</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>).<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">x</span> <span class="id">Dx</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g2</span>).<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_ge0">sintegral_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_le_integral">ge0_le_integral</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:956">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:957">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> <span class="id">x</span> &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:958">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">move</span>=&gt; <span class="id">f12</span>; <span class="id">rewrite</span> !(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>).<br/>
<span class="id">set</span> <span class="id">h1</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f1">f1</a></span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>; <span class="id">set</span> <span class="id">h2</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.f2">f2</a></span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.D">D</a></span>.<br/>
<span class="id">have</span> <span class="id">h10</span> <span class="id">x</span> : 0 &lt;= <span class="id">h1</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">h20</span> <span class="id">x</span> : 0 &lt;= <span class="id">h2</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
<span class="id">have</span> <span class="id">mh1</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h1</span> <span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">mh2</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">h2</span> <span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity.mD">mD</a></span>).<br/>
<span class="id">have</span> <span class="id">h12</span> <span class="id">x</span> : <span class="id">h1</span> <span class="id">x</span> &lt;= <span class="id">h2</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#lee_restrict">lee_restrict</a></span>.<br/>
<span class="id">have</span> [<span class="id">g1</span> [<span class="id">nd_g1</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)<span class="id">gh1</span>]] :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mh1</span> (<span class="kwd">fun</span> <span class="id"><a name="x:962">x</a></span> <span class="id">_</span> =&gt; <span class="id">h10</span> <span class="id">_</span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">h10</span> (<span class="kwd">fun</span> <span class="id"><a name="x:963">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">x</span> <span class="id">nd_g1</span>) <span class="id">gh1</span>)//.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">t</span> <span class="id">Dt</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span> <span class="id">t</span> <span class="id">nd_g1</span>).<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=.<br/>
<span class="kwd">exists</span> (<span class="id">g1</span> <span class="id">n</span>) =&gt; // <span class="id">t</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">h12</span> <span class="id">_</span>)) //.<br/>
<span class="id">have</span> := <span class="id">gh1</span> <span class="id">t</span>.<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id">h1</span> <span class="id">t</span>); <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|<span class="id">ftoo</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">have</span> <span class="id">h1tfin</span> : <span class="id">h1</span> <span class="id">t</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id">gt_eqF</span>/= ?<span class="id">lt_eqF</span>// (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id">h10</span> <span class="id">t</span>)).<br/>
<span class="id">have</span> := <span class="id">gh1</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">h1tfin</span>) =&gt; /<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>[<span class="id">ft_near</span>].<br/>
<span class="id">set</span> <span class="id">u_</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span>) =&gt; <span class="id">u_h1</span> <span class="id">g1h1</span>.<br/>
<span class="id">have</span> &lt;- : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">u_</span> = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">h1</span> <span class="id">t</span>) <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_cvgn_le">nondecreasing_cvgn_le</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; // <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">rewrite</span> /<span class="id">u_</span> /=; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">nd_g1</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id">u_h1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#semi_linearity">semi_linearity</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="approximation_sfun">approximation_sfun</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:967">d</a></span> (<span class="id"><a name="T:968">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:969">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:970">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="approximation_sfun.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.T">T</a></span>) (<span class="id"><a name="approximation_sfun.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="approximation_sfun.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.f">f</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="approximation_sfun">approximation_sfun</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g:974">g</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.R">R</a></span>}^<span class="id">nat</span>, (<span class="kwd">forall</span> <span class="id"><a name="x:975">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span>^~<span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.f">f</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
<span class="id">have</span> [<span class="id">fp_</span> [<span class="id">fp_nd</span> <span class="id">fp_cvg</span>]] :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mD">mD</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mf">mf</a></span>) (<span class="kwd">fun</span>=&gt; <span class="id">ltac</span>:(<span class="kwd">by</span> [])).<br/>
<span class="id">have</span> [<span class="id">fn_</span> [<span class="id">fn_nd</span> <span class="id">fn_cvg</span>]] :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mD">mD</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.mf">mf</a></span>) (<span class="kwd">fun</span>=&gt; <span class="id">ltac</span>:(<span class="kwd">by</span> [])).<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="n:976">n</a></span> =&gt; [<span class="id">the</span> {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.R">R</a></span>} <span class="id">of</span> <span class="id">fp_</span> <span class="id">n</span> \+ <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (-1) \* <span class="id">fn_</span> <span class="id">n</span>]) =&gt; <span class="id">x</span> /=.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">fp_</span>^~ <span class="id">x</span> \+ (-%<span class="id">E</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">fn_</span>^~ <span class="id">x</span>))%<span class="id">E</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id">mulN1r</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun.f">f</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeD">cvgeD</a></span>;<br/>
&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#add_def_funeposneg">add_def_funeposneg</a></span>|<span class="id">apply</span>: <span class="id">fp_cvg</span>|<span class="id">apply</span>:<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeN">cvgeN</a></span>; <span class="id">exact</span>: <span class="id">fn_cvg</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="lusin">lusin</a></span>.<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0  (<span class="id"><a href="mathcomp.analysis.topology.html#hausdorff_space">hausdorff_space</a></span> <span class="id">_</span>) =&gt; (<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> ) : <span class="id">core</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="rT:979">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="A:980">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="lusin.mu">mu</a></span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>].<br/>
<span class="kwd">Let</span> <span class="id"><a name="lusin.R">R</a></span>  := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>].<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="lusin.mA">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="lusin.finA">finA</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> &lt; +<span class="id">oo</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lusin.lusin_simple">lusin_simple</a></span> (<span class="id"><a name="f:983">f</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>}) (<span class="id"><a name="eps:984">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>) : (0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="K:985">K</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">K</span>, <span class="id">K</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` <span class="id">K</span>) &lt; <span class="id">eps</span>%:<span class="id">E</span> &amp;<br/>
&nbsp;&nbsp;{<span class="id">within</span> <span class="id">K</span>, <span class="id">continuous</span> <span class="id">f</span>}].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="id">move</span>: <span class="id">eps</span>=&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>]; <span class="id">have</span> [<span class="id">N</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#card_fset_set">card_fset_set</a></span> <span class="id">rfN</span>] := <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> <span class="id">f</span>.<br/>
<span class="id">pose</span> <span class="id">Af</span> <span class="id"><a name="x:986">x</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `&amp;` <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">x</span>].<br/>
<span class="id">have</span> <span class="id">mAf</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">Af</span> <span class="id">x</span>) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> <span class="id">finAf</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id">Af</span> <span class="id">x</span>) &lt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.finA">finA</a></span>)// <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
<span class="id">have</span> <span class="id">eNpos</span> : (0 &lt; <span class="id">eps</span>%:<span class="id">num</span>/<span class="id">N</span>.+1%:<span class="id">R</span>)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
<span class="id">have</span> <span class="id">dK</span>' <span class="id">x</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> (<span class="id">mAf</span> <span class="id">x</span>) (<span class="id">finAf</span> <span class="id">x</span>) <span class="id">eNpos</span>.<br/>
<span class="id">pose</span> <span class="id">dK</span> <span class="id"><a name="x:991">x</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">dK</span>' <span class="id">x</span>)); <span class="id">pose</span> <span class="id">J</span> <span class="id"><a name="i:993">i</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> := <span class="id">Af</span> <span class="id">i</span> `\` <span class="id">dK</span> <span class="id">i</span>.<br/>
<span class="id">have</span> <span class="id">dkP</span> <span class="id">x</span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">dK</span>' <span class="id">x</span>)).<br/>
<span class="id">have</span> <span class="id">mdK</span> <span class="id">i</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">dK</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> =&gt; //; <span class="id">case</span>: (<span class="id">dkP</span> <span class="id">i</span>).<br/>
<span class="id">have</span> <span class="id">mJ</span> <span class="id">i</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">J</span> <span class="id">i</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> <span class="id">dKsub</span> <span class="id">z</span> : <span class="id">dK</span> <span class="id">z</span> `&lt;=` <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">z</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">dkP</span> <span class="id">z</span>) =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> + <span class="id">_</span>; <span class="id">apply</span> =&gt; ? [].<br/>
<span class="kwd">exists</span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:999">i</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id">i</span>); <span class="id">split</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set">bigsetU_fset_set</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#bigsetU_compact">bigsetU_compact</a></span>=&gt;// <span class="id">i</span> <span class="id">_</span>; <span class="id">case</span>: (<span class="id">dkP</span> <span class="id">i</span>).<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> [<span class="id">y</span> <span class="id">_</span> <span class="id">dy</span>]; <span class="id">have</span> [<span class="id">_</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">dy</span>) []] := <span class="id">dkP</span> <span class="id">y</span>.<br/>
- <span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` \<span class="id">bigcup_</span>(<span class="id"><a name="i:1001">i</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id">i</span> = \<span class="id">bigcup_</span>(<span class="id"><a name="i:1002">i</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">J</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcupDr">bigcupDr</a></span> /= ?<span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>), <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span> =&gt; <span class="id">z</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">f</span> <span class="id">z</span>)) [//| ? ?]; <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span> =&gt; ? [? <span class="id">_</span> &lt;-] [[<span class="id">zab</span> /= &lt;- <span class="id">nfz</span>]] ? [<span class="id">r</span> <span class="id">_</span> &lt;-]; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">nfz</span>; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> =&gt; /[<span class="id">dup</span>] /<span class="id">dKsub</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:1003">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id">J</span> <span class="id">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#content_sub_fsum">content_sub_fsum</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#fin_bigcup_measurable">fin_bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.ereal.html#lee_fsum">lee_fsum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span>=&gt; (<span class="id">eps</span>%:<span class="id">num</span> / <span class="id">N</span>.+1%:<span class="id">R</span>)%:<span class="id">E</span> * 1%:<span class="id">E</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>; <span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">have</span> [<span class="id">_</span> <span class="id">_</span>] := <span class="id">dkP</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /=-<span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr</a></span> // -<span class="id"><a href="mathcomp.analysis.esum.html#esum_fset">esum_fset</a></span> // <span class="id"><a href="mathcomp.analysis.measure.html#finite_card_sum">finite_card_sum</a></span> // -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">rfN</span> -<span class="id">mulrA</span> <span class="id">gtr_pmulr</span> // <span class="id">mulrC</span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">mul1r</span> <span class="id">ltr_nat</span>.<br/>
- <span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:1011">i</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id">i</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">within</span> \<span class="id">bigcup_</span>(<span class="id"><a name="i:1012">i</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) <span class="id">dK</span> <span class="id">i</span>, <span class="id">continuous</span> <span class="id">f</span>} <span class="kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set">bigsetU_fset_set</a></span> //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">big_ind</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="U:1013">U</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id">U</span> /\ {<span class="id">within</span> <span class="id">U</span>, <span class="id">continuous</span> <span class="id">f</span>})).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">split</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closed0">closed0</a></span> | <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace0">continuous_subspace0</a></span>].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? [? ?][? ?]; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closedU">closedU</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#withinU_continuous">withinU_continuous</a></span>].<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span>; <span class="id">have</span> [] := <span class="id">dkP</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> (<span class="id">dKsub</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#subspace_eq_continuous">subspace_eq_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span>=&gt; <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span> =&gt; ?; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lusin.measurable_almost_continuous'">measurable_almost_continuous</a></span>' (<span class="id"><a name="f:1015">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span>) (<span class="id"><a name="eps:1016">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>) :<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id">f</span> -&gt; <span class="kwd">exists</span> <span class="id"><a name="K:1017">K</a></span>,<br/>
&nbsp;&nbsp;[/\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">K</span>, <span class="id">K</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` <span class="id">K</span>) &lt; <span class="id">eps</span>%:<span class="id">E</span> &amp;<br/>
&nbsp;&nbsp;{<span class="id">within</span> <span class="id">K</span>, <span class="id">continuous</span> <span class="id">f</span>}].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
<span class="id">move</span>: <span class="id">eps</span>=&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>] <span class="id">mf</span>; <span class="id">pose</span> <span class="id">f</span>' := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f</span>.<br/>
<span class="id">have</span> <span class="id">mf</span>' : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id">f</span>' <span class="kwd">by</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">have</span> [/= <span class="id">g_</span> <span class="id">gf</span>'] := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mA">mA</a></span> <span class="id">mf</span>'.<br/>
<span class="id">pose</span> <span class="id">e2n</span> <span class="id"><a name="n:1018">n</a></span> := (<span class="id">eps</span>%:<span class="id">num</span> / 2) / (2 ^ <span class="id">n</span>.+1)%:<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">e2npos</span> <span class="id">n</span> : (0 &lt; <span class="id">e2n</span> <span class="id">n</span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>.<br/>
<span class="id">have</span> <span class="id">gK</span>' <span class="id">n</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.lusin_simple">lusin_simple</a></span> (<span class="id">g_</span> <span class="id">n</span>) (<span class="id">e2n</span> <span class="id">n</span>) (<span class="id">e2npos</span> <span class="id">n</span>).<br/>
<span class="id">pose</span> <span class="id">gK</span> <span class="id"><a name="n:1021">n</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">gK</span>' <span class="id">n</span>)); <span class="id">have</span> <span class="id">gKP</span> <span class="id">n</span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">gK</span>' <span class="id">n</span>)).<br/>
<span class="id">pose</span> <span class="id">K</span> := \<span class="id">bigcap_i</span> <span class="id">gK</span> <span class="id">i</span>; <span class="id">have</span> <span class="id">mgK</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">gK</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> =&gt; //; <span class="id">have</span> [] := <span class="id">gKP</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mK</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">K</span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span>.<br/>
<span class="id">have</span> <span class="id">Kab</span> : <span class="id">K</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> /(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>); <span class="id">have</span> [<span class="id">_</span> + <span class="id">_</span> <span class="id">_</span>] := <span class="id">gKP</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>; <span class="id">apply</span>.<br/>
<span class="id">have</span> []// := @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#pointwise_almost_uniform">pointwise_almost_uniform</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id">g_</span> <span class="id">f</span> <span class="id">K</span> (<span class="id">eps</span>%:<span class="id">num</span> / 2).<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
- <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">_</span> <span class="id">Kab</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>))// <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">Kz</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_fcvg">fine_fcvg</a></span> := <span class="id">gf</span>' <span class="id">z</span> (<span class="id">Kab</span> <span class="id">_</span> <span class="id">Kz</span>); <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#fmap_comp">fmap_comp</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#compA">compA</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">D</span> [/= <span class="id">mD</span> <span class="id">Deps</span> <span class="id">KDf</span>]; <span class="kwd">exists</span> (<span class="id">K</span> `\` <span class="id">D</span>); <span class="id">split</span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Kab</span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDDr">setDDr</a></span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measureU2">measureU2</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">_</span>%:<span class="id">num</span>]<span class="id">splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_lt_add">lee_lt_add</a></span> =&gt; //=; <span class="id">first</span> 2 <span class="id">last</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id">D</span>)) ?<span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>))// <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcap">setC_bigcap</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span>(\<span class="id">sum_</span>(<span class="id"><a name="k:1025">k</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` <span class="id">gK</span> <span class="id">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_sub_additive">measure_sigma_sub_additive</a></span> =&gt; //; [|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; + <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //; <span class="id">apply</span>: <span class="id">mgK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //; <span class="id">apply</span>: <span class="id">mgK</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span>(\<span class="id">sum_</span>(<span class="id"><a name="k:1037">k</a></span> &lt;<span class="id">oo</span>) (<span class="id">e2n</span> <span class="id">k</span>)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#epsilon_trick0">epsilon_trick0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; // <span class="id">k</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">have</span> [] := <span class="id">gKP</span> <span class="id">k</span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#uniform_limit_continuous_subspace">uniform_limit_continuous_subspace</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">g_</span> @ \<span class="id">oo</span>)) =&gt; //.<br/>
<span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; // <span class="id">n</span>; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">gK</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> [+ <span class="id">_</span>]; <span class="id">apply</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">gK</span>' <span class="id">n</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_almost_continuous">measurable_almost_continuous</a></span> (<span class="id"><a name="f:1049">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.R">R</a></span>) (<span class="id"><a name="eps:1050">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.rT">rT</a></span>) :<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> <span class="id">f</span> -&gt; <span class="kwd">exists</span> <span class="id"><a name="K:1051">K</a></span>,<br/>
&nbsp;&nbsp;[/\ <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">K</span>, <span class="id">K</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` <span class="id">K</span>) &lt; <span class="id">eps</span>%:<span class="id">E</span> &amp;<br/>
&nbsp;&nbsp;{<span class="id">within</span> <span class="id">K</span>, <span class="id">continuous</span> <span class="id">f</span>}].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
<span class="id">move</span>: <span class="id">eps</span>=&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>] <span class="id">mf</span>; <span class="id">have</span> <span class="id">e2pos</span> : (0 &lt; <span class="id">eps</span>%:<span class="id">num</span>/2)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
<span class="id">have</span> [<span class="id">K</span> [<span class="id">mK</span> <span class="id">KA</span> ? ?]] := <span class="id">measurable_almost_continuous</span>' <span class="id">e2pos</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> <span class="id">Kfin</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.mu">mu</a></span> <span class="id">K</span> &lt; +<span class="id">oo</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.finA">finA</a></span>)// <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">have</span> [<span class="id">D</span> /= [<span class="id">cD</span> <span class="id">DK</span> <span class="id">KDe</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> <span class="id">mK</span> <span class="id">Kfin</span> <span class="id">e2pos</span>.<br/>
<span class="kwd">exists</span> <span class="id">D</span>; <span class="id">split</span> =&gt; //; <span class="id">last</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">DK</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">DK</span>).<br/>
<span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` <span class="id">D</span> = (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin.A">A</a></span> `\` <span class="id">K</span>) `|` (<span class="id">K</span> `\` <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">K</span> <span class="id">z</span>)) =&gt; // ? [? ?]; [<span class="id">right</span> | <span class="id">left</span>].<br/>
&nbsp;&nbsp;<span class="id">case</span>; <span class="id">case</span>=&gt; <span class="id">az</span> <span class="id">nz</span>; <span class="id">split</span> =&gt; //; [<span class="kwd">by</span> <span class="id">move</span>: <span class="id">z</span> <span class="id">nz</span> {<span class="id">az</span>}; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span>|].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">KA</span>.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measureU2">measureU2</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">_</span> <span class="id">eps</span>]<span class="id">splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lusin">lusin</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="emeasurable_fun">emeasurable_fun</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1052">d</a></span> (<span class="id"><a name="T:1053">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1054">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span>) (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_funD">emeasurable_funD</a></span> <span class="id"><a name="D:1055">D</a></span> <span class="id"><a name="f:1056">f</a></span> <span class="id"><a name="g:1057">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \+ <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>.<br/>
<span class="id">have</span> <span class="id">Cnoom</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (~` [<span class="id">set</span> -<span class="id">oo</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">Cpoom</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (~` [<span class="id">set</span> +<span class="id">oo</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">mfg</span> :  <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1058">x</a></span> | <span class="id">f</span> <span class="id">x</span> +? <span class="id">g</span> <span class="id">x</span>]).<br/>
&nbsp;&nbsp;<span class="id">suff</span> -&gt; : [<span class="id">set</span> <span class="id"><a name="x:1059">x</a></span> | <span class="id">f</span> <span class="id">x</span> +? <span class="id">g</span> <span class="id">x</span>] =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @^-1` (~` [<span class="id">set</span> +<span class="id">oo</span>]) `|` <span class="id">g</span> @^-1` (~` [<span class="id">set</span> -<span class="id">oo</span>])) `&amp;`<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @^-1` (~` [<span class="id">set</span> -<span class="id">oo</span>]) `|` <span class="id">g</span> @^-1` (~` [<span class="id">set</span> +<span class="id">oo</span>])).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIIr">setIIr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">do</span> ?[<span class="id">apply</span>: <span class="id">mf</span>|<span class="id">apply</span>: <span class="id">mg</span>].<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_def">adde_def</a></span> !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id">eqP</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>).<br/>
<span class="id">wlog</span> <span class="id">fg</span> : <span class="id">D</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mfg</span> / <span class="kwd">forall</span> <span class="id"><a name="x:1060">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> +? <span class="id">g</span> <span class="id">x</span> =&gt; [<span class="id">hwlogD</span>|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">f_</span> <span class="id">f_cvg</span>] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">g_</span> <span class="id">g_cvg</span>] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1061">n</a></span> <span class="id"><a name="x:1062">x</a></span> =&gt; (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span> + <span class="id">g_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeD">cvgeD</a></span> (<span class="id">fg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">f_cvg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">g_cvg</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">move</span>=&gt; <span class="id">A</span> <span class="id">mA</span>; <span class="id">wlog</span> <span class="id">NAnoo</span>: <span class="id">A</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mA</span> / ~ (<span class="id">A</span> -<span class="id">oo</span>) =&gt; [<span class="id">hwlogA</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">A</span> -<span class="id">oo</span>); <span class="id">last</span> <span class="id">exact</span>: <span class="id">hwlogA</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(@<span class="id"><a href="mathcomp.classical.classical_sets.html#setD1K">setD1K</a></span> <span class="id">_</span> -<span class="id">oo</span>)&lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setU">preimage_setU</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">hwlogA</span>=&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>|<span class="id">case</span>=&gt;/=].<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : (<span class="id">f</span> \+ <span class="id">g</span>) @^-1` [<span class="id">set</span> -<span class="id">oo</span>] = <span class="id">f</span> @^-1` [<span class="id">set</span> -<span class="id">oo</span>] `|` <span class="id">g</span> @^-1` [<span class="id">set</span> -<span class="id">oo</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> /= =&gt; [/<span class="id">eqP</span>|[]]; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_eq_ninfty">adde_eq_ninfty</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[] /<span class="id">eqP</span>-&gt;; [<span class="id">left</span>|<span class="id">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>-&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">apply</span>: <span class="id">mf</span>|<span class="id">apply</span>: <span class="id">mg</span>].<br/>
<span class="id">have</span>-&gt; : <span class="id">D</span> `&amp;` (<span class="id">f</span> \+ <span class="id">g</span>) @^-1` <span class="id">A</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1065">x</a></span> | <span class="id">f</span> <span class="id">x</span> +? <span class="id">g</span> <span class="id">x</span>]) `&amp;` (<span class="id">f</span> \+ <span class="id">g</span>) @^-1` <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span>; <span class="id">congr</span> (<span class="id">_</span> `&amp;` <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Afgx</span>; <span class="id">split</span>=&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">f</span> <span class="id">x</span>) (<span class="id">g</span> <span class="id">x</span>) <span class="id">Afgx</span> =&gt; [<span class="id">rf</span>||] [<span class="id">rg</span>||].<br/>
<span class="id">have</span> <span class="id">Dfg</span> : <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1066">x</a></span> | <span class="id">f</span> <span class="id">x</span> +? <span class="id">g</span> <span class="id">x</span>] `&lt;=` <span class="id">D</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset</a></span>; <span class="id">left</span>.<br/>
<span class="id">apply</span>: <span class="id">hwlogD</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) =&gt; //; <span class="id">do</span> ?<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) =&gt; //; <span class="id">do</span> ?<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? [].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_sum">emeasurable_fun_sum</a></span> <span class="id"><a name="D:1067">D</a></span> <span class="id"><a name="I:1068">I</a></span> <span class="id"><a name="s:1069">s</a></span> (<span class="id"><a name="h:1070">h</a></span> : <span class="id">I</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:1071">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:1072">x</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="i:1073">i</a></span> &lt;- <span class="id">s</span>) <span class="id">h</span> <span class="id">i</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
<span class="id">elim</span>: <span class="id">s</span> =&gt; [|<span class="id">s</span> <span class="id">t</span> <span class="id">ih</span>] <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">big_nil</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">big_cons</span> //=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span> =&gt; //.<br/>
<span class="id">exact</span>: <span class="id">ih</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> <span class="id"><a name="D:1076">D</a></span> (<span class="id"><a name="I:1077">I</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:1078">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="h:1079">h</a></span> : <span class="id">I</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:1080">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:1081">x</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="i:1082">i</a></span> \<span class="kwd">in</span> <span class="id">A</span>) <span class="id">h</span> <span class="id">i</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
<span class="id">move</span>=&gt; <span class="id">fs</span> <span class="id">mh</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id"><a name="D:1086">D</a></span> (<span class="id"><a name="h:1087">h</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="k:1088">k</a></span> <span class="id"><a name="x:1089">x</a></span>, 0 &lt;= <span class="id">h</span> <span class="id">k</span> <span class="id">x</span>) -&gt; (<span class="kwd">forall</span> <span class="id"><a name="k:1090">k</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">k</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:1091">x</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="i:1092">i</a></span> &lt;<span class="id">oo</span>) <span class="id">h</span> <span class="id">i</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="id">move</span>=&gt; <span class="id">h0</span> <span class="id">mh</span>; <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:1098">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1099">n</a></span> =&gt; \<span class="id">sum_</span>(0 &lt;= <span class="id"><a name="i:1100">i</a></span> &lt; <span class="id">n</span>) <span class="id">h</span> <span class="id">i</span> <span class="id">x</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_esupE">is_cvg_limn_esupE</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum">is_cvg_ereal_nneg_natsum</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> =&gt; <span class="id">k</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_funB">emeasurable_funB</a></span> <span class="id"><a name="D:1114">D</a></span> <span class="id"><a name="f:1115">f</a></span> <span class="id"><a name="g:1116">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \- <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_funM">emeasurable_funM</a></span> <span class="id"><a name="D:1117">D</a></span> <span class="id"><a name="f:1118">f</a></span> <span class="id"><a name="g:1119">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \* <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>.<br/>
<span class="id">have</span> <span class="id">m0</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> ([<span class="id">set</span> 0] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="kwd">by</span> [].<br/>
<span class="id">have</span> <span class="id">mC0</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> ([<span class="id">set</span>~ 0] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">mCoo</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (~` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">have</span> <span class="id">mfg</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1120">x</a></span> | <span class="id">f</span> <span class="id">x</span> *? <span class="id">g</span> <span class="id">x</span>]).<br/>
&nbsp;&nbsp;<span class="id">suff</span> -&gt; : [<span class="id">set</span> <span class="id"><a name="x:1121">x</a></span> | <span class="id">f</span> <span class="id">x</span> *? <span class="id">g</span> <span class="id">x</span>] =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @^-1` (~` [<span class="id">set</span> 0]) `|` <span class="id">g</span> @^-1` (~` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>])) `&amp;`<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">g</span> @^-1` (~` [<span class="id">set</span> 0]) `|` <span class="id">f</span> @^-1` (~` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>])).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIIr">setIIr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">do</span> ?[<span class="id">apply</span>: <span class="id">mf</span>|<span class="id">apply</span>: <span class="id">mg</span>].<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">mule_def</a></span> !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id">eqP</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) !(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP2">rwP2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_absl">eqe_absl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span> (<span class="id">g</span> <span class="id">x</span> == +<span class="id">oo</span>)).<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_absl">eqe_absl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbC">orbC</a></span> (<span class="id">f</span> <span class="id">x</span> == +<span class="id">oo</span>)).<br/>
<span class="id">wlog</span> <span class="id">fg</span> : <span class="id">D</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mfg</span> / <span class="kwd">forall</span> <span class="id"><a name="x:1122">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> *? <span class="id">g</span> <span class="id">x</span> =&gt; [<span class="id">hwlogM</span>|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">f_</span> <span class="id">f_cvg</span>] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">g_</span> <span class="id">g_cvg</span>] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun">approximation_sfun</a></span> <span class="id">mD</span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1123">n</a></span> <span class="id"><a name="x:1124">x</a></span> =&gt; (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span> * <span class="id">g_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeM">cvgeM</a></span> (<span class="id">fg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">f_cvg</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id">g_cvg</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">move</span>=&gt; <span class="id">A</span> <span class="id">mA</span>; <span class="id">wlog</span> <span class="id">NA0</span>: <span class="id">A</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">mA</span> / ~ (<span class="id">A</span> 0) =&gt; [<span class="id">hwlogA</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">A</span> 0); <span class="id">last</span> <span class="id">exact</span>: <span class="id">hwlogA</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(@<span class="id"><a href="mathcomp.classical.classical_sets.html#setD1K">setD1K</a></span> <span class="id">_</span> 0)&lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setU">preimage_setU</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">hwlogA</span>=&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>|<span class="id">case</span> =&gt; /=].<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="x:1127">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>) @^-1` [<span class="id">set</span> 0] =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @^-1` [<span class="id">set</span> 0] `|` <span class="id">g</span> @^-1` [<span class="id">set</span> 0].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> /= =&gt; [/<span class="id">eqP</span>|[]]; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_eq0">mule_eq0</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[] /<span class="id">eqP</span>-&gt;; [<span class="id">left</span>|<span class="id">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">apply</span>: <span class="id">mf</span>|<span class="id">apply</span>: <span class="id">mg</span>].<br/>
<span class="id">have</span>-&gt; : <span class="id">D</span> `&amp;` (<span class="kwd">fun</span> <span class="id"><a name="x:1128">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>) @^-1` <span class="id">A</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1129">x</a></span> | <span class="id">f</span> <span class="id">x</span> *? <span class="id">g</span> <span class="id">x</span>]) `&amp;` (<span class="kwd">fun</span> <span class="id"><a name="x:1130">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>) @^-1` <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span>; <span class="id">congr</span> (<span class="id">_</span> `&amp;` <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Afgx</span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#neq0_mule_def">neq0_mule_def</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notT">contra_notT</a></span> <span class="id">NA0</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> =&gt; /<span class="id">eqP</span> &lt;-.<br/>
<span class="id">have</span> <span class="id">Dfg</span> : <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1131">x</a></span> | <span class="id">f</span> <span class="id">x</span> *? <span class="id">g</span> <span class="id">x</span>] `&lt;=` <span class="id">D</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset</a></span>; <span class="id">left</span>.<br/>
<span class="id">apply</span>: <span class="id">hwlogM</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) =&gt; //; <span class="id">do</span> ?<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>) =&gt; //; <span class="id">do</span> ?<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? [].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_funeM">measurable_funeM</a></span> <span class="id"><a name="D:1132">D</a></span> (<span class="id"><a name="f:1133">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>) (<span class="id"><a name="k:1134">k</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:1135">x</a></span> =&gt; <span class="id">k</span> * <span class="id">f</span> <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">_</span> <span class="id">mf</span>). Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun">emeasurable_fun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_fun_measurable2">measurable_fun_measurable2</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1136">d</a></span> (<span class="id"><a name="T:1137">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1138">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="measurable_fun_measurable2.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.T">T</a></span>) (<span class="id"><a name="measurable_fun_measurable2.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_lt">emeasurable_fun_lt</a></span> <span class="id"><a name="f:1141">f</a></span> <span class="id"><a name="g:1142">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1143">x</a></span> | <span class="id">f</span> <span class="id">x</span> &lt; <span class="id">g</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">eq_set</a></span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_gt0">sube_gt0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_o_infty">emeasurable_fun_o_infty</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_le">emeasurable_fun_le</a></span> <span class="id"><a name="f:1144">f</a></span> <span class="id"><a name="g:1145">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1146">x</a></span> | <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">g</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">eq_set</a></span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_le0">sube_le0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_infty_c">emeasurable_fun_infty_c</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_eq">emeasurable_fun_eq</a></span> <span class="id"><a name="f:1147">f</a></span> <span class="id"><a name="g:1148">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1149">x</a></span> | <span class="id">f</span> <span class="id">x</span> = <span class="id">g</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_eq_le">set_eq_le</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIIr">setIIr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_le">emeasurable_fun_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_neq">emeasurable_fun_neq</a></span> <span class="id"><a name="f:1150">f</a></span> <span class="id"><a name="g:1151">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1152">x</a></span> | <span class="id">f</span> <span class="id">x</span> != <span class="id">g</span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_neq_lt">set_neq_lt</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_lt">emeasurable_fun_lt</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_measurable2">measurable_fun_measurable2</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ge0_integral_sum">ge0_integral_sum</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1153">d</a></span> (<span class="id"><a name="T:1154">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1155">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ge0_integral_sum.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.R">R</a></span>}) (<span class="id"><a name="ge0_integral_sum.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.T">T</a></span>) (<span class="id"><a name="ge0_integral_sum.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ge0_integral_sum.I">I</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="ge0_integral_sum.f">f</a></span> : <span class="id">I</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.R">R</a></span>)).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ge0_integral_sum.mf">mf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1161">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ge0_integral_sum.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1163">n</a></span> <span class="id"><a name="x:1164">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_sum">ge0_integral_sum</a></span> (<span class="id"><a name="s:1166">s</a></span> : <span class="id">seq</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.I">I</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1167">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span>) (\<span class="id">sum_</span>(<span class="id"><a name="k:1168">k</a></span> &lt;- <span class="id">s</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id">k</span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="k:1171">k</a></span> &lt;- <span class="id">s</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1174">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f">f</a></span> <span class="id">k</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">elim</span>: <span class="id">s</span> =&gt; [|<span class="id">h</span> <span class="id">t</span> <span class="id">ih</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> (<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">big_nil</span>); <span class="id">rewrite</span> <span class="id">big_nil</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">big_cons</span> /= -<span class="id">ih</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id">big_cons</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f0">f0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> =&gt; // <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum.f0">f0</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum">ge0_integral_sum</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ge0_integral_fsum">ge0_integral_fsum</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1175">d</a></span> (<span class="id"><a name="T:1176">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1177">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ge0_integral_fsum.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.R">R</a></span>}) (<span class="id"><a name="ge0_integral_fsum.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.T">T</a></span>) (<span class="id"><a name="ge0_integral_fsum.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ge0_integral_fsum.I">I</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="ge0_integral_fsum.f">f</a></span> : <span class="id">I</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.R">R</a></span>)).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ge0_integral_fsum.mf">mf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1183">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ge0_integral_fsum.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1185">n</a></span> <span class="id"><a name="x:1186">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_fsum">ge0_integral_fsum</a></span> (<span class="id"><a name="A:1188">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.I">I</a></span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1189">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span>) (\<span class="id">sum_</span>(<span class="id"><a name="k:1190">k</a></span> \<span class="kwd">in</span> <span class="id">A</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id">k</span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="k:1194">k</a></span> \<span class="kwd">in</span> <span class="id">A</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1195">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum.f">f</a></span> <span class="id">k</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
<span class="id">move</span>=&gt; <span class="id">fs</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum">ge0_integral_sum</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">xD</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="monotone_convergence_theorem">monotone_convergence_theorem</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1200">d</a></span> (<span class="id"><a name="T:1201">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1202">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="monotone_convergence_theorem.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="monotone_convergence_theorem.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span>) (<span class="id"><a name="monotone_convergence_theorem.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="monotone_convergence_theorem.g'">g</a></span>' : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)^<span class="id">nat</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="monotone_convergence_theorem.mg'">mg</a></span>' : <span class="kwd">forall</span> <span class="id"><a name="n:1207">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> (<span class="id">g</span>' <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="monotone_convergence_theorem.g'0">g</a></span>'0 : <span class="kwd">forall</span> <span class="id"><a name="n:1209">n</a></span> <span class="id"><a name="x:1210">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">g</span>' <span class="id">n</span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="monotone_convergence_theorem.nd_g'">nd_g</a></span>' : <span class="kwd">forall</span> <span class="id"><a name="x:1212">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">nondecreasing_seq</span> (<span class="id">g</span>'^~ <span class="id">x</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.f'">f</a></span>' := <span class="kwd">fun</span> <span class="id"><a name="x:1214">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">g</span>'^~ <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.g">g</a></span> <span class="id"><a name="n:1215">n</a></span> := (<span class="id">g</span>' <span class="id">n</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.g0">g0</a></span> <span class="id"><a name="n:1216">n</a></span> <span class="id"><a name="x:1217">x</a></span> : 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>/<span class="id">g</span>'0. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.mg">mg</a></span> <span class="id"><a name="n:1218">n</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
 <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mD">mD</a></span>). Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.nd_g">nd_g</a></span> <span class="id"><a name="x:1219">x</a></span> : <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span>^~ <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span>/<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> =&gt; // /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> /<span class="id">nd_g</span>' -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.f">f</a></span> := <span class="kwd">fun</span> <span class="id"><a name="x:1220">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span>^~ <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.is_cvg_g">is_cvg_g</a></span> <span class="id"><a name="t:1221">t</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span>^~ <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; <span class="id">m</span> <span class="id">n</span> ?; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g">nd_g</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="g2'">g2</a></span>' <span class="id"><a name="n:1222">n</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)^<span class="id">nat</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>).<br/>
<span class="id">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="g2">g2</a></span> <span class="id"><a name="n:1223">n</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>}^<span class="id">nat</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mg">mg</a></span> <span class="id">n</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="max_g2'">max_g2</a></span>' : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)^<span class="id">nat</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="k:1224">k</a></span> <span class="id"><a name="t:1225">t</a></span> =&gt; (\<span class="id">big</span>[<span class="id">maxr</span>/0]<span class="id">_</span>(<span class="id"><a name="i:1226">i</a></span> &lt; <span class="id">k</span>) (<span class="id">g2</span>' <span class="id">i</span> <span class="id">k</span>) <span class="id">t</span>)%<span class="id">R</span>.<br/>
<span class="id">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="max_g2">max_g2</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>}^<span class="id">nat</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="k:1229">k</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfun">bigmax_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span>^~ <span class="id">k</span>) <span class="id">k</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.is_cvg_g2">is_cvg_g2</a></span> <span class="id"><a name="n:1230">n</a></span> <span class="id"><a name="t:1231">t</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">n</span> ^~ <span class="id">t</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> 2!<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.nd_max_g2">nd_max_g2</a></span> : <span class="id">nondecreasing_seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>)^<span class="id">nat</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqP">nondecreasing_seqP</a></span> =&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfunE">bigmax_nnsfunE</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">big</span>[<span class="id">maxr</span>/0]<span class="id">_</span>(<span class="id"><a name="i:1232">i</a></span> &lt; <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">i</span> <span class="id">n</span>.+1 <span class="id">x</span>)%<span class="id">R</span>) //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_bigmax2</span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_seqP">nondecreasing_seqP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">i</span> ^~ <span class="id">x</span>)).2 =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">bigmaxD1</span> <span class="id">ord_max</span>)// <span class="id">le_maxr</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>; <span class="id">right</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">eq_bigl</span> (<span class="kwd">fun</span> <span class="id"><a name="i:1241">i</a></span> =&gt; <span class="id">nat_of_ord</span> <span class="id">i</span> &lt; <span class="id">n</span>)%<span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">big_ord_narrow</span> (<span class="id">leqnSn</span> <span class="id">n</span>)).<br/>
<span class="id">move</span>=&gt; <span class="id">i</span> /=; <span class="id">rewrite</span> <span class="id">neq_lt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span> =&gt; [[//|]|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">left</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">leq_trans</span> (<span class="id">ltn_ord</span> <span class="id">i</span>)); <span class="id">rewrite</span> <span class="id">ltnn</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.is_cvg_max_g2">is_cvg_max_g2</a></span> <span class="id"><a name="t:1244">t</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> ^~ <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_max_g2">nd_max_g2</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.max_g2_g">max_g2_g</a></span> <span class="id"><a name="k:1245">k</a></span> <span class="id"><a name="x:1246">x</a></span> : ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id">k</span> <span class="id">x</span>)%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">k</span> <span class="id">x</span>)%<span class="id">O</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfunE">bigmax_nnsfunE</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">big</span>[<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span>/0%:<span class="id">E</span>]<span class="id">_</span>(<span class="id"><a name="i:1247">i</a></span> &lt; <span class="id">k</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">k</span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">bigmax_leP</span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id">g0D</span>.<br/>
<span class="id">rewrite</span> (<span class="id">big_morph</span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin_max">EFin_max</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>) //.<br/>
<span class="id">apply</span>: <span class="id">le_bigmax2</span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_approx">le_approx</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g">nd_g</a></span>/<span class="id">ltnW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.lim_max_g2_f">lim_max_g2_f</a></span> <span class="id"><a name="t:1253">t</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> ^~ <span class="id">t</span>) &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> =&gt; //=; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_max_g2">is_cvg_max_g2</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_g">is_cvg_g</a></span>|].<br/>
<span class="kwd">by</span> <span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.max_g2_g">max_g2_g</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.lim_g2_max_g2">lim_g2_max_g2</a></span> <span class="id"><a name="t:1254">t</a></span> <span class="id"><a name="n:1255">n</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span>\<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">n</span> ^~ <span class="id">t</span>) &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> ^~ <span class="id">t</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span> =&gt; //; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_g2">is_cvg_g2</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_max_g2">is_cvg_max_g2</a></span>|].<br/>
<span class="id">near</span>=&gt; <span class="id">k</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#bigmax_nnsfunE">bigmax_nnsfunE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">nk</span> : (<span class="id">n</span> &lt; <span class="id">k</span>)%<span class="id">N</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">k</span>; <span class="kwd">exists</span> <span class="id">n</span>.+1.<br/>
<span class="id">exact</span>: (<span class="id">bigmax_sup</span> (<span class="id">Ordinal</span> <span class="id">nk</span>)).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="monotone_convergence_theorem.cvg_max_g2_f">cvg_max_g2_f</a></span> <span class="id"><a name="t:1256">t</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> ^~ <span class="id">t</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>[<span class="id">l</span> <span class="id">g_l</span>] := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_max_g2">is_cvg_max_g2</a></span> <span class="id">t</span>.<br/>
<span class="id">suff</span> : <span class="id">l</span> == <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id">t</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">eqP</span> &lt;-.<br/>
<span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.lim_max_g2_f">lim_max_g2_f</a></span> <span class="id">_</span>)) // (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> <span class="id">g_l</span>).<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">l</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|<span class="id">loo</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> <span class="id">g_l</span>) //= <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_g">is_cvg_g</a></span>.<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>); <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[|] <span class="id">fntoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">h</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dvg_approx">dvg_approx</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">_</span> <span class="id">t</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id">fntoo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">g2oo</span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">n</span> ^~ <span class="id">t</span>) = +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeryP">cvgeryP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">under</span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : {<span class="id">homo</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>))^~ <span class="id">t</span> : <span class="id"><a name="n0:1258">n0</a></span> <span class="id"><a name="m:1259">m</a></span> / (<span class="id">n0</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> &gt;-&gt; (<span class="id">n0</span> &lt;= <span class="id">m</span>)%<span class="id">R</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#lef_at">lef_at</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_approx">nd_approx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#nondecreasing_dvgn_lt">nondecreasing_dvgn_lt</a></span> =&gt; /(<span class="id">_</span> <span class="id">h</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> ^~ <span class="id">t</span>) = +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.lim_g2_max_g2">lim_g2_max_g2</a></span> <span class="id">t</span> <span class="id">n</span>; <span class="id">rewrite</span> <span class="id">g2oo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
- <span class="id">have</span> <span class="id">approx_g_g</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_approx">cvg_approx</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">_</span> <span class="id">t</span> (<span class="kwd">fun</span> <span class="id"><a name="t:1262">t</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span> <span class="id">n</span> <span class="id">t</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id">fntoo</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#g2">g2</a></span> <span class="id">n</span> ^~ <span class="id">t</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; &lt;-; <span class="id">exact</span>: (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.lim_g2_max_g2">lim_g2_max_g2</a></span> <span class="id">t</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> &lt;- // : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>)) ^~ <span class="id">t</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">cvg_comp</a></span> : <span class="id">approx_g_g</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">t</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approx">approx</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span>) ^~ <span class="id">t</span>)// <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]/= -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="monotone_convergence">monotone_convergence</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1263">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) (<span class="id">f</span>' <span class="id">x</span>) = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1264">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1265">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) (<span class="id">g</span>' <span class="id">n</span> <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>.<br/>
<span class="id">under</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> -/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">_</span>).<br/>
<span class="id">have</span> -&gt; : <span class="id">f</span>' \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> /<span class="id">f</span>' /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> /=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_cst">lim_cst</a></span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">nd_int_g</span> : <span class="id">nondecreasing_seq</span> (<span class="kwd">fun</span> <span class="id"><a name="n:1268">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g">nd_g</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ub</span> <span class="id">n</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g">g</a></span> <span class="id">n</span> <span class="id">x</span> &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.f">f</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_g">is_cvg_g</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">k</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mg">mg</a></span> <span class="id">_</span> =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_g">is_cvg_g</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">m</span>; <span class="id">have</span> <span class="id">nm</span> : (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">m</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g">nd_g</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> =&gt; //; [<span class="id">exact</span>:<span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span>|<span class="id">exact</span>:<span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span>].<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nd_ge0_integral_lim">nd_ge0_integral_lim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span>) //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">t</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.is_cvg_g">is_cvg_g</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.g0">g0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_max_g2">nd_max_g2</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#is_cvg_sintegral">is_cvg_sintegral</a></span> =&gt; // <span class="id">t</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_max_g2">nd_max_g2</a></span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; // <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.nd_g">nd_g</a></span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralTE">ge0_integralTE</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#max_g2">max_g2</a></span> <span class="id">n</span>) =&gt; // <span class="id">t</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.max_g2_g">max_g2_g</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvg_monotone_convergence">cvg_monotone_convergence</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:1273">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1274">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) <span class="id">g</span>' <span class="id">n</span> <span class="id">x</span>) --&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1275">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem.D">D</a></span>) <span class="id">f</span>' <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; // <span class="id">t</span> <span class="id">Dt</span>; [<span class="id">exact</span>: <span class="id">g</span>'0|<span class="id">exact</span>: <span class="id">g</span>'0|<span class="id">exact</span>: <span class="id">nd_g</span>'].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence_theorem">monotone_convergence_theorem</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_nneseries">integral_nneseries</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1276">d</a></span> (<span class="id"><a name="T:1277">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1278">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integral_nneseries.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.R">R</a></span>}) (<span class="id"><a name="integral_nneseries.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.T">T</a></span>) (<span class="id"><a name="integral_nneseries.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="integral_nneseries.f">f</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.R">R</a></span>)^<span class="id">nat</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="integral_nneseries.mf">mf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1283">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="integral_nneseries.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1285">n</a></span> <span class="id"><a name="x:1286">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_nneseries">integral_nneseries</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1288">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span>) (\<span class="id">sum_</span>(<span class="id"><a name="n:1289">n</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id">n</span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1295">n</a></span> &lt;<span class="id">oo</span>) (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1298">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f">f</a></span> <span class="id">n</span> <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.sequences.html#lim_mkord">lim_mkord</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_sum">ge0_integral_sum</a></span>// <span class="id">big_mkord</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_sum">emeasurable_fun_sum</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span> =&gt; <span class="id">m</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f0">f0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum_nneg_natr">lee_sum_nneg_natr</a></span> =&gt; // <span class="id">k</span> <span class="id">_</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries.f0">f0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ge0_integralZl">ge0_integralZl</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1303">d</a></span> (<span class="id"><a name="T:1304">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1305">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ge0_integralZl.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ge0_integralZl.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span>) (<span class="id"><a name="ge0_integralZl.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="ge0_integralZl.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ge0_integralZl.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integralZl">ge0_integralZl</a></span> (<span class="id"><a name="k:1311">k</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>) : (<span class="kwd">forall</span> <span class="id"><a name="x:1312">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id">k</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1313">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id">k</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>)%<span class="id">E</span> = <span class="id">k</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1314">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">move</span>: <span class="id">k</span> =&gt; [<span class="id">k</span>|<span class="id">_</span>|//]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span>.<br/>
<span class="id">pose</span> <span class="id">g</span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>)^<span class="id">nat</span> := <span class="kwd">fun</span> <span class="id"><a name="n:1315">n</a></span> <span class="id"><a name="x:1316">x</a></span> =&gt; <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>.<br/>
<span class="id">have</span> <span class="id">mg</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> (<span class="id">g</span> <span class="id">n</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
<span class="id">have</span> <span class="id">g0</span> <span class="id">n</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">g</span> <span class="id">n</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>; [<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>|<span class="id">exact</span>:<span class="id">f0</span>].<br/>
<span class="id">have</span> <span class="id">nd_g</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">nondecreasing_seq</span> (<span class="id">g</span>^~<span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2r">lee_wpmul2r</a></span> ?<span class="id">f0</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_nat</span>.<br/>
<span class="id">pose</span> <span class="id">h</span> := <span class="kwd">fun</span> <span class="id"><a name="x:1321">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">g</span>^~ <span class="id">x</span>).<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1322">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">g</span>^~ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">fx0</span>|<span class="id">fx0</span>|<span class="id">fx0</span>] := <span class="id">ltgtP</span> 0 (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye</a></span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPgey">cvgeyPgey</a></span>; <span class="id">near</span>=&gt; <span class="id">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">M0</span> : (0 &lt;= <span class="id">M</span>)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span>; <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>) <span class="id">fx0</span> =&gt; [<span class="id">r</span> <span class="id">r0</span>|<span class="id">_</span>|//]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> 1%<span class="id">N</span> =&gt; // <span class="id">m</span> /= <span class="id">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">mulry</a></span> <span class="id">gtr0_sg</span>// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>// <span class="id">ltr0n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -<span class="id">ler_pdivr_mulr</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id">M</span> / <span class="id">r</span>)|%<span class="id">N</span> =&gt; // <span class="id">m</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>); <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>// <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>// <span class="id">divr_ge0</span>// ?<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0_mulye">lt0_mulye</a></span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPleNy">cvgeNyPleNy</a></span>; <span class="id">near</span>=&gt; <span class="id">M</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">M0</span> : (<span class="id">M</span> &lt;= 0)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span>; <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>) <span class="id">fx0</span> =&gt; [<span class="id">r</span> <span class="id">r0</span>|//|<span class="id">_</span>]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> 1%<span class="id">N</span> =&gt; // <span class="id">m</span> /= <span class="id">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulrNy">mulrNy</a></span> <span class="id">gtr0_sg</span>// ?<span class="id">ltr0n</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -<span class="id">ler_ndivr_mulr</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id">M</span> / <span class="id">r</span>)|%<span class="id">N</span> =&gt; // <span class="id">m</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>); <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>// <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>// -<span class="id">mulrNN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0</span>// <span class="id">ler_oppr</span> <span class="id">oppr0</span>// <span class="id">ltW</span>// <span class="id">invr_lt0</span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> -<span class="id">fx0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> /<span class="id">g</span> -<span class="id">fx0</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span> --&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mD">mD</a></span> <span class="id">mg</span> <span class="id">g0</span> <span class="id">nd_g</span>).<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span>  <span class="id">rewrite</span> /<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span>//.<br/>
<span class="id">have</span> : 0 &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1325">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">if_gt0</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_cst">lim_cst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye</a></span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPgey">cvgeyPgey</a></span>; <span class="id">near</span>=&gt; <span class="id">M</span>.<br/>
<span class="id">have</span> <span class="id">M0</span> : (0 &lt;= <span class="id">M</span>)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">have</span> [<span class="id">ifoo</span>|] := <span class="id">ltP</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1326">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>)) +<span class="id">oo</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">mulry</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> 1%<span class="id">N</span> =&gt; // <span class="id">n</span> /= <span class="id">n0</span>; <span class="id">rewrite</span> <span class="id">gtr0_sg</span>// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>// <span class="id">ltr0n</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1327">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> <span class="id">ifoo</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">if_gt0</span>).<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pdivr_mulr">lee_pdivr_mulr</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">if_gt0</span> <span class="id">ifoo</span>; <span class="id">case</span>: (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1330">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>).<br/>
<span class="id">near</span>: <span class="id">n</span>.<br/>
<span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id">M</span> * (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1333">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.f">f</a></span> <span class="id">x</span>))^-1)|%<span class="id">N</span> =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> -(@<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl.R">R</a></span>) -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>// <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0</span>// ?<span class="id">invr_ge0</span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">ge0_integralZl</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="ge0_integralM">ge0_integralM</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_indic">integral_indic</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1335">d</a></span> (<span class="id"><a name="T:1336">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1337">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:1338">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:1339">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="mD:1340">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_indic">integral_indic</a></span> (<span class="id"><a name="E:1341">E</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1342">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.D">D</a></span>) (\1<span class="id">_E</span> <span class="id">x</span>)%:<span class="id">E</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span> (<span class="id">E</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.D">D</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
<span class="id">move</span>=&gt; <span class="id">mE</span>; <span class="id">rewrite</span> (<span class="id">_</span> : \1<span class="id">_E</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_nnsfun">indic_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.R">R</a></span> <span class="id">mE</span>)// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nnsfun">integral_nnsfun</a></span>//=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_indic">restrict_indic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_indic">sintegral_indic</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integralZl_indic">integralZl_indic</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1343">d</a></span> (<span class="id"><a name="T:1344">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1345">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integralZl_indic.m">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span>}) (<span class="id"><a name="integralZl_indic.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span>) (<span class="id"><a name="integralZl_indic.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralZl_indic">integralZl_indic</a></span> (<span class="id"><a name="f:1349">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span>) (<span class="id"><a name="k:1350">k</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id">k</span> &lt; 0)%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">k</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> <span class="id">k</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1351">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (<span class="id">k</span> * \1<span class="id">_</span>(<span class="id">f</span> <span class="id">k</span>) <span class="id">x</span>)%:<span class="id">E</span> =<br/>
&nbsp;&nbsp;<span class="id">k</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1352">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (\1<span class="id">_</span>(<span class="id">f</span> <span class="id">k</span>) <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
<span class="id">move</span>=&gt; <span class="id">fk0</span> <span class="id">mfk</span>; <span class="id">have</span> [<span class="id">k0</span>|<span class="id">k0</span>] := <span class="id">ltP</span> <span class="id">k</span> 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">fk0</span>// <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span> <span class="id">mulr0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>// =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">fk0</span>// <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span> (<span class="id"><a name="f:1353">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span>}) (<span class="id"><a name="k:1354">k</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1355">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (<span class="id">k</span> * \1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">k</span>]) <span class="id">x</span>)%:<span class="id">E</span> =<br/>
&nbsp;&nbsp;<span class="id">k</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1356">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic.D">D</a></span>) (\1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">k</span>]) <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> (<span class="kwd">fun</span> <span class="id"><a name="k:1357">k</a></span> =&gt; <span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">k</span>]))// =&gt; <span class="id">k0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">m</span> <span class="id">D</span>} <span class="id">mD</span> <span class="id">f</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">integralZl_indic</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="integralM_indic">integralM_indic</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">integralZl_indic_nnsfun</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="integralM_indic_nnsfun">integralM_indic_nnsfun</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_mscale">integral_mscale</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1360">d</a></span> (<span class="id"><a name="T:1361">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1362">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integral_mscale.m">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R</a></span>}) (<span class="id"><a name="integral_mscale.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span>) (<span class="id"><a name="integral_mscale.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integral_mscale.k">k</a></span> : {<span class="id">nonneg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R</a></span>}) (<span class="id"><a name="integral_mscale.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_mscale.integral_mscale_indic">integral_mscale_indic</a></span> <span class="id"><a name="E:1368">E</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mscale">mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1369">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (\1<span class="id">_E</span> <span class="id">x</span>)%:<span class="id">E</span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span>%:<span class="id">num</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1370">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (\1<span class="id">_E</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_mscale.integral_mscale_nnsfun">integral_mscale_nnsfun</a></span> (<span class="id"><a name="h:1371">h</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.R">R</a></span>}) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mscale">mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1372">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span>%:<span class="id">num</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1373">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
<span class="id">under</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">under</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">xD</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>// <span class="id"><a href="mathcomp.analysis.ereal.html#ge0_mule_fsumr">ge0_mule_fsumr</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">over</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>; <span class="id">do</span> 2 <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">r</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span>//= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.integral_mscale_indic">integral_mscale_indic</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleCA">muleCA</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_mscale">ge0_integral_mscale</a></span> (<span class="id"><a name="mf:1374">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1375">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mscale">mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1376">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span>%:<span class="id">num</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1377">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.f">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">have</span> [<span class="id">f_</span> [<span class="id">ndf_</span> <span class="id">f_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.mD">mD</a></span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1378">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mscale">mscale</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.k">k</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1379">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//=.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">xD</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //=; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> /<span class="id">ndf_</span> /<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1386">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1387">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1388">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.D">D</a></span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//=.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">xD</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> /<span class="id">ndf_</span> /<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#limeMl">limeMl</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale.integral_mscale_nnsfun">integral_mscale_nnsfun</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">move</span>/<span class="id">ndf_</span> : <span class="id">ab</span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mscale">integral_mscale</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fatou">fatou</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1401">d</a></span> (<span class="id"><a name="T:1402">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1403">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="fatou.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.R">R</a></span>}) (<span class="id"><a name="fatou.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.T">T</a></span>) (<span class="id"><a name="fatou.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="fatou.f">f</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.R">R</a></span>)^<span class="id">nat</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="fatou.mf">mf</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1408">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="fatou.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:1410">n</a></span> <span class="id"><a name="x:1411">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fatou">fatou</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1413">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf">limn_einf</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span>^~ <span class="id">x</span>) &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf">limn_einf</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1414">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1415">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id">n</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
<span class="id">pose</span> <span class="id">g</span> <span class="id"><a name="n:1416">n</a></span> := <span class="kwd">fun</span> <span class="id"><a name="x:1417">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#einfs">einfs</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> ^~ <span class="id">x</span>) <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mg</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_einfs">measurable_fun_einfs</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.mf">mf</a></span>.<br/>
<span class="id">have</span> <span class="id">g0</span> <span class="id">n</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">g</span> <span class="id">n</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> =&gt; <span class="id">_</span> [<span class="id">m</span> /= <span class="id">nm</span> &lt;-]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f0">f0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> =&gt; <span class="id">_</span> /= [<span class="id">p</span> /= <span class="id">np</span> &lt;-].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">p</span> =&gt; //=; <span class="id">rewrite</span> (<span class="id">leq_trans</span> <span class="id">mn</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>.<br/>
- <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">g0</span>| <span class="id">exact</span>: <span class="id">mg</span>| <span class="id">exact</span>: <span class="id">g0</span>| <span class="id">exact</span>: <span class="id">mg</span>|].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> =&gt; <span class="id">_</span> [<span class="id">n</span> /= <span class="id">bn</span> &lt;-].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //=; <span class="id">rewrite</span> (<span class="id">leq_trans</span> <span class="id">ab</span>).<br/>
- <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">le_ereal_inf</a></span> =&gt; // <span class="id">_</span> [<span class="id">n</span> /= <span class="id">bn</span> &lt;-].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //=; <span class="id">rewrite</span> (<span class="id">leq_trans</span> <span class="id">ab</span>).<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="kwd">forall</span> <span class="id"><a name="n:1420">n</a></span> <span class="id"><a name="p:1421">p</a></span>, (<span class="id">p</span> &gt;= <span class="id">n</span>)%<span class="id">N</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1422">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id">g</span> <span class="id">n</span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.sequences.html#einfs">einfs</a></span> (<span class="kwd">fun</span> <span class="id"><a name="k:1423">k</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1424">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f">f</a></span> <span class="id">k</span> <span class="id">x</span>) <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">p</span> <span class="id">np</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#lb_ereal_inf">lb_ereal_inf</a></span> =&gt; /= <span class="id">_</span> [<span class="id">k</span> /= <span class="id">nk</span> &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">g0</span>|<span class="id">exact</span>: <span class="id">mg</span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou.f0">f0</a></span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">ereal_inf_lb</a></span>; <span class="kwd">exists</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou">fatou</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integralN">integralN</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1425">d</a></span> (<span class="id"><a name="T:1426">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1427">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:1428">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralN">integralN</a></span> <span class="id"><a name="D:1429">D</a></span> (<span class="id"><a name="f:1430">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1431">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\+ <span class="id">x</span> +? (- \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1432">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1433">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) - <span class="id">f</span> <span class="id">x</span> = - \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1434">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
<span class="id">have</span> [<span class="id">f_fin</span> <span class="id">_</span>|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1435">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numE">fin_numE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> 2!<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">nfoo</span>|/<span class="id">eqP</span> <span class="id">nfoo</span>].<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="id">move</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> : <span class="id">nfoo</span>; <span class="id">apply</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leeNy_eq">leeNy_eq</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltNge</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id">nfoo</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defEninfty">adde_defEninfty</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> -<span class="id">ltNge</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey_eq">ltey_eq</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">f_fin</span>|/<span class="id">eqP</span> <span class="id">pfoo</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// <span class="id">nfoo</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#funeposN">funeposN</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span> <span class="id">nfoo</span> <span class="id">pfoo</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_ge0N">integral_ge0N</a></span> (<span class="id"><a name="D:1436">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.T">T</a></span>) (<span class="id"><a name="f:1437">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1438">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1439">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) - <span class="id">f</span> <span class="id">x</span> = - \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1440">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span> // (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#ge0_funenegE">ge0_funenegE</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_cst">integral_cst</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1441">d</a></span> (<span class="id"><a name="T:1442">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1443">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:1444">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integral_cst.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>) (<span class="id"><a name="integral_cst.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span>) (<span class="id"><a name="integral_cst.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sintegral_EFin_cst">sintegral_EFin_cst</a></span> (<span class="id"><a name="x:1448">x</a></span> : {<span class="id">nonneg</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral">sintegral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span>%:<span class="id">num</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) = <span class="id">x</span>%:<span class="id">num</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_widen">fsbig_widen</a></span> <span class="id">_</span> [<span class="id">set</span> 0%<span class="id">R</span>; <span class="id">x</span>%:<span class="id">num</span>])/=.<br/>
- <span class="id">have</span> [-&gt;|<span class="id">x0</span>] := <span class="id">eqVneq</span> <span class="id">x</span>%:<span class="id">num</span> 0%<span class="id">R</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUid">setUid</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set1">fsbig_set1</a></span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigU0">fsbigU0</a></span>//=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [-&gt;]/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_set1">fsbig_set1</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.classical.functions.html#preimage_restrict">preimage_restrict</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#set0U">set0U</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#setIidl">setIidl</a></span>//= <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>; <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id">t</span> <span class="id">_</span> &lt;-] /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; [<span class="id">right</span>|<span class="id">left</span>].<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id">_</span> /=/<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage10">preimage10</a></span>-&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="integral_cstr">integral_cstr</a></span> <span class="id"><a name="r:1449">r</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1450">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) <span class="id">r</span>%:<span class="id">E</span> = <span class="id">r</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
<span class="id">wlog</span> <span class="id">r0</span> : <span class="id">r</span> / (0 &lt;= <span class="id">r</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">have</span> [|<span class="id">r0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">r</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">opprK</span> <span class="id">r</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span> -<span class="id">h</span> ?<span class="id">oppr_ge0</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0N">integral_ge0N</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> ?; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">oppr_ge0</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">opprK</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cst_nnsfun">cst_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span> (<span class="id"><a href="mathcomp.analysis.signed.html#NngNum">NngNum</a></span> <span class="id">r0</span>)))//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nnsfun">integral_nnsfun</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegral_EFin_cst">sintegral_EFin_cst</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="integral_csty">integral_csty</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span> != 0 -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1451">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> +<span class="id">oo</span>) <span class="id">x</span> = +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
<span class="id">move</span>=&gt; <span class="id">muD0</span>; <span class="id">pose</span> <span class="id">g</span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>)^<span class="id">nat</span> := <span class="kwd">fun</span> <span class="id"><a name="n:1452">n</a></span> =&gt; <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
<span class="id">have</span> &lt;- : (<span class="kwd">fun</span> <span class="id"><a name="t:1453">t</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">g</span>^~ <span class="id">t</span>)) = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeryP">cvgeryP</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgryPge">cvgryPge</a></span> =&gt; <span class="id">M</span>; <span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">M</span>|%<span class="id">N</span> =&gt; //= <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= -(<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>); <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))// <span class="id">natr_absz</span> <span class="id">ler_int</span> <span class="id">ler_norm</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //.<br/>
- <span class="id">under</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPge">cvgeyPge</a></span> =&gt; <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">muDoo</span>|<span class="id">muDoo</span>] := <span class="id">ltP</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) +<span class="id">oo</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> 1%<span class="id">N</span> =&gt; // <span class="id">m</span> /= <span class="id">m0</span>; <span class="id">move</span>: <span class="id">muDoo</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulry">mulry</a></span> <span class="id">gtr0_sg</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>// <span class="id">ltr0n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id">M</span> / <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>))|%<span class="id">N</span> =&gt; // <span class="id">m</span> /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.R">R</a></span>) =&gt; <span class="id">MDm</span>; <span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>)) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pdivr_mulr">lee_pdivr_mulr</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">muD0</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">MDm</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">natr_absz</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))// <span class="id">ler_int</span> <span class="id">ler_norm</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span> <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">rewrite</span> /<span class="id">g</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_nat</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="integral_cstNy">integral_cstNy</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span> != 0 -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1454">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst.D">D</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> -<span class="id">oo</span>) <span class="id">x</span> = -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (\- <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> +<span class="id">oo</span>)) ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0N">integral_ge0N</a></span>/= ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_csty">integral_csty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="transfer">transfer</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:1455">d1</a></span> <span class="id"><a name="d2:1456">d2</a></span> (<span class="id"><a name="X:1457">X</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="Y:1458">Y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:1459">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="transfer.phi">phi</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.Y">Y</a></span>) (<span class="id"><a name="transfer.mphi">mphi</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">phi</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="transfer.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.X">X</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.R">R</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_pushforward">integral_pushforward</a></span> (<span class="id"><a name="f:1463">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.Y">Y</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="y:1464">y</a></span>, 0 &lt;= <span class="id">f</span> <span class="id">y</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#pushforward">pushforward</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mphi">mphi</a></span>]<span class="id">_y</span> <span class="id">f</span> <span class="id">y</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span>]<span class="id">_x</span> (<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">have</span> [<span class="id">f_</span> [<span class="id">ndf_</span> <span class="id">f_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mf</span> (<span class="kwd">fun</span> <span class="id"><a name="t:1467">t</a></span> <span class="id">_</span> =&gt; <span class="id">f0</span> <span class="id">t</span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1468">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#pushforward">pushforward</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mphi">mphi</a></span>]<span class="id">_x</span> (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">ndf_</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = (<span class="kwd">fun</span> <span class="id"><a name="n:1476">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f_</span> <span class="id">n</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>) <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">ndf_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">mfnphi</span> <span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f_</span> <span class="id">n</span> @^-1` [<span class="id">set</span> <span class="id">r</span>] \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>]/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span> @^-1` (<span class="id">f_</span> <span class="id">n</span> @^-1` [<span class="id">set</span> <span class="id">r</span>])) -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id">_</span> @^-1` <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mphi">mphi</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="k:1483">k</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">f_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.mu">mu</a></span>]<span class="id">_x</span> (<span class="id">k</span> * \1<span class="id">_</span>((<span class="id">f_</span> <span class="id">n</span> @^-1` [<span class="id">set</span> <span class="id">k</span>]) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>) <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">r</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="r:1495">r</a></span> =&gt; <span class="id">f_</span> <span class="id">n</span> @^-1` [<span class="id">set</span> <span class="id">r</span>] \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer.phi">phi</a></span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> * <span class="id">_</span>); <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funM">measurable_funM</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>// -<span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#transfer">transfer</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_dirac">integral_dirac</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1498">d</a></span> (<span class="id"><a name="T:1499">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="a:1500">a</a></span> : <span class="id">T</span>) (<span class="id"><a name="R:1501">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integral_dirac.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.T">T</a></span>) (<span class="id"><a name="integral_dirac.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_dirac.ge0_integral_dirac">ge0_integral_dirac</a></span> (<span class="id"><a name="f:1504">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.R">R</a></span>) (<span class="id"><a name="mf:1505">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f0:1507">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:1506">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span> -&gt; \<span class="id">int</span>[\<span class="id">d_a</span>]<span class="id">_</span>(<span class="id"><a name="x:1508">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>) (<span class="id">f</span> <span class="id">x</span>) = <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">move</span>=&gt; <span class="id">Da</span>; <span class="id">have</span> [<span class="id">f_</span> [<span class="id">ndf_</span> <span class="id">f_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.mD">mD</a></span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1509">n</a></span> =&gt; \<span class="id">int</span>[\<span class="id">d_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1510">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>: <span class="id">f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">ndf_</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = (<span class="kwd">fun</span> <span class="id"><a name="n:1517">n</a></span> =&gt; (<span class="id">f_</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span>// -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//.<br/>
- <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> (<span class="id">f_</span> <span class="id">n</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>))//=; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//= <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>// =&gt; <span class="id">r</span> /= [<span class="id">_</span> <span class="id">rfna</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//= <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_andP">not_andP</a></span>; <span class="id">left</span>; <span class="id">exact</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#nesym">nesym</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_dirac">integral_dirac</a></span> (<span class="id"><a name="f:1520">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.R">R</a></span>) (<span class="id"><a name="mf:1521">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id">f</span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[\<span class="id">d_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1522">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">d_a</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> * <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
<span class="id">have</span> [/[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">aD</span>|<span class="id">aD</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.a">a</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.ge0_integral_dirac">ge0_integral_dirac</a></span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.ge0_integral_dirac">ge0_integral_dirac</a></span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#diracE">diracE</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">aD</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero">integral_measure_zero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac.D">D</a></span> <span class="id">f</span>)//.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> =&gt; //= <span class="id">S</span> <span class="id">mS</span> <span class="id">DS</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">DS</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>; <span class="id">exact</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_measure_sum_nnsfun">integral_measure_sum_nnsfun</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1523">d</a></span> (<span class="id"><a name="T:1524">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1525">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integral_measure_sum_nnsfun.m_">m_</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.R">R</a></span>}^<span class="id">nat</span>) (<span class="id"><a name="integral_measure_sum_nnsfun.N">N</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_measure_sum_nnsfun.m">m</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m_">m_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_measure_sum_nnsfun.integral_measure_sum_indic">integral_measure_sum_indic</a></span> (<span class="id"><a name="E:1528">E</a></span> <span class="id"><a name="D:1529">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span>) (<span class="id"><a name="mE:1530">mE</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mD:1531">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1532">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) (\1<span class="id">_D</span> <span class="id">x</span>)%:<span class="id">E</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1533">n</a></span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1536">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) (\1<span class="id">_D</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//= /<span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span>/=; <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_measure_sum_nnsfun.integralT_measure_sum">integralT_measure_sum</a></span> (<span class="id"><a name="f:1537">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.R">R</a></span>}) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m">m</a></span>]<span class="id">_x</span> (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1539">n</a></span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m_">m_</a></span> <span class="id">n</span>]<span class="id">_x</span> (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:1543">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="n:1544">n</a></span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) <span class="id">i</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m_">m_</a></span> <span class="id">n</span>]<span class="id">_x</span> (\1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">i</span>]) <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.integral_measure_sum_indic">integral_measure_sum_indic</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_sume_distrr">ge0_sume_distrr</a></span>// =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= <span class="id">exchange_big</span>/=; <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralT_nnsfun">integralT_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//=; <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> * <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_measure_sum_nnsfun">integral_measure_sum_nnsfun</a></span> (<span class="id"><a name="D:1567">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span>) (<span class="id"><a name="mD:1568">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:1569">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.R">R</a></span>}) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1570">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1571">n</a></span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.N">N</a></span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1574">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.m">m</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#proj_nnsfun">proj_nnsfun</a></span> <span class="id">f</span> <span class="id">mD</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span> <span class="id">_</span> /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindicE">mindicE</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // <span class="id">tD</span>; <span class="id">rewrite</span> ?<span class="id">mulr1</span> ?<span class="id">mulr0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun.integralT_measure_sum">integralT_measure_sum</a></span>; <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> /= /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> \<span class="kwd">in</span> <span class="id">D</span>)) =&gt; <span class="id">tD</span>; <span class="id">rewrite</span> ?<span class="id">mulr1</span> ?<span class="id">mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun">integral_measure_sum_nnsfun</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_measure_add_nnsfun">integral_measure_add_nnsfun</a></span> <span class="id"><a name="d:1577">d</a></span> (<span class="id"><a name="T:1578">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1579">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="m1:1580">m1</a></span> <span class="id"><a name="m2:1581">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:1582">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="mD:1583">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1584">f</a></span> : {<span class="id">nnsfun</span> <span class="id">T</span> &gt;-&gt; <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;(\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> <span class="id">m1</span> <span class="id">m2</span>]<span class="id">_</span>(<span class="id"><a name="x:1585">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span> =<br/>
&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id">m1</span>]<span class="id">_</span>(<span class="id"><a name="x:1586">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span> + \<span class="id">int</span>[<span class="id">m2</span>]<span class="id">_</span>(<span class="id"><a name="x:1587">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_sum_nnsfun">integral_measure_sum_nnsfun</a></span>// 2!<span class="id">big_ord_recl</span>/= <span class="id">big_ord0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_mfun_measure_sum">integral_mfun_measure_sum</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1588">d</a></span> (<span class="id"><a name="T:1589">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1590">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="integral_mfun_measure_sum.m_">m_</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.R">R</a></span>}^<span class="id">nat</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_measure_sum">ge0_integral_measure_sum</a></span> (<span class="id"><a name="D:1592">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span>) (<span class="id"><a name="mD:1593">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1594">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1595">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="kwd">forall</span> <span class="id"><a name="N:1596">N</a></span>,<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>]<span class="id">_</span>(<span class="id"><a name="x:1597">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1598">n</a></span> &lt; <span class="id">N</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1601">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> [<span class="id">f_</span> [<span class="id">f_nd</span> <span class="id">f_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">f0</span>.<br/>
<span class="id">elim</span> =&gt; [|<span class="id">N</span> <span class="id">ih</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_ord0</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum_mzero">msum_mzero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_zero">integral_measure_zero</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">big_ord_recr</span>/= -<span class="id">ih</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>.+1 = <span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>] (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">A</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> /<span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span>/= <span class="id">big_ord_recr</span>.<br/>
<span class="id">have</span> <span class="id">mf_</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:1603">x</a></span> =&gt; (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">have</span> <span class="id">f_ge0</span> <span class="id">n</span> <span class="id">x</span> : <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">cvg_f_</span> (<span class="id"><a name="m:1606">m</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.R">R</a></span>}) : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:1607">x</a></span> =&gt; \<span class="id">int</span>[<span class="id">m</span>]<span class="id">_</span>(<span class="id"><a name="x0:1608">x0</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id">x</span> <span class="id">x0</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">f_ge0</span>|<span class="id">exact</span>: <span class="id">f_ge0</span>|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">f_nd</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1613">n</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>] (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>)]<span class="id">_</span>(<span class="id"><a name="x:1614">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">f_nd</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span> /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">Dt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:1621">n</a></span> =&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>]<span class="id">_</span>(<span class="id"><a name="x:1622">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span> + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum.m_">m_</a></span> <span class="id">N</span>]<span class="id">_</span>(<span class="id"><a name="x:1623">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>; <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_add_nnsfun">integral_measure_add_nnsfun</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeD">limeD</a></span>//; <span class="id">do</span>?[<span class="id">exact</span>: <span class="id">cvg_f_</span>]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_adde_def">ge0_adde_def</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_ge">lime_ge</a></span> =&gt; //; <span class="id">do</span>?[<span class="id">exact</span>: <span class="id">cvg_f_</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>;  <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_ge0</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>); (<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span> /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">Dt</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">f_f</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">f_nd</span>]).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mfun_measure_sum">integral_mfun_measure_sum</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_measure_add">integral_measure_add</a></span> <span class="id"><a name="d:1633">d</a></span> (<span class="id"><a name="T:1634">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1635">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="m1:1636">m1</a></span> <span class="id"><a name="m2:1637">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:1638">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="mD:1639">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1640">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1641">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>)%<span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> <span class="id">m1</span> <span class="id">m2</span>]<span class="id">_</span>(<span class="id"><a name="x:1642">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> =<br/>
&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id">m1</span>]<span class="id">_</span>(<span class="id"><a name="x:1643">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> + \<span class="id">int</span>[<span class="id">m2</span>]<span class="id">_</span>(<span class="id"><a name="x:1644">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">mf</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_sum">ge0_integral_measure_sum</a></span>// 2!<span class="id">big_ord_recl</span>/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_ord0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_measure_series">integral_measure_series</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1645">d</a></span> (<span class="id"><a name="T:1646">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1647">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="integral_measure_series.m_">m_</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.R">R</a></span>}^<span class="id">nat</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_measure_series.m">m</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m_">m_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_measure_series.integral_measure_series_indic">integral_measure_series_indic</a></span> (<span class="id"><a name="D:1649">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span>) (<span class="id"><a name="mD:1650">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m">m</a></span>]<span class="id">_x</span> (\1<span class="id">_D</span> <span class="id">x</span>)%:<span class="id">E</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1652">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m_">m_</a></span> <span class="id">n</span>]<span class="id">_x</span> (\1<span class="id">_D</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m">m</a></span>/= /<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_measure_series_nnsfun">integral_measure_series_nnsfun</a></span> (<span class="id"><a name="D:1660">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span>) (<span class="id"><a name="mD:1661">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1662">f</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.R">R</a></span>}) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m">m</a></span>]<span class="id">_x</span> (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1664">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m_">m_</a></span> <span class="id">n</span>]<span class="id">_x</span> (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:1672">i</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="n:1673">n</a></span> &lt;<span class="id">oo</span>) <span class="id">i</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.m_">m_</a></span> <span class="id">n</span>]<span class="id">_x</span> (\1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">i</span>]) <span class="id">x</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic_nnsfun">integralZl_indic_nnsfun</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series.integral_measure_series_indic">integral_measure_series_indic</a></span>// <span class="id"><a href="mathcomp.analysis.sequences.html#nneseriesZl">nneseriesZl</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= -<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_sum">nneseries_sum</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">j</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>// =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralT_nnsfun">integralT_nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sintegralE">sintegralE</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//=; <span class="id">apply</span>: <span class="id">eq_bigr</span> =&gt; <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> * <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series">integral_measure_series</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ge0_integral_measure_series">ge0_integral_measure_series</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1712">d</a></span> (<span class="id"><a name="T:1713">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1714">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ge0_integral_measure_series.m_">m_</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.R">R</a></span>}^<span class="id">nat</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="ge0_integral_measure_series.m">m</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_measure_series">ge0_integral_measure_series</a></span> (<span class="id"><a name="D:1716">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.T">T</a></span>) (<span class="id"><a name="mD:1717">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="f:1718">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:1719">t</a></span>, <span class="id">D</span> <span class="id">t</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">t</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1720">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1721">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1724">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : <span class="kwd">forall</span> <span class="id"><a name="n:1729">n</a></span>, \<span class="id">sum_</span>(<span class="id"><a name="k:1730">k</a></span> &lt; <span class="id">n</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">k</span>]<span class="id">_</span>(<span class="id"><a name="x:1733">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1734">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum">is_cvg_ereal_nneg_natsum</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">big_mkord</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> &lt;= <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = (\<span class="id">sum_</span>(<span class="id"><a name="k:1735">k</a></span> &lt; <span class="id">n</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">k</span>]<span class="id">_</span>(<span class="id"><a name="x:1738">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1739">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#msum">msum</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series.m_">m_</a></span> <span class="id">n</span>]]<span class="id">_</span>(<span class="id"><a name="x:1751">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congr</span> (\<span class="id">int</span>[<span class="id">_</span>]<span class="id">_</span>(<span class="id">_</span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_split">nneseries_split</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_add">integral_measure_add</a></span>//; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_sum">ge0_integral_measure_sum</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralE">ge0_integralE</a></span>//=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">_</span> [<span class="id">g</span> /= <span class="id">gf</span>] &lt;-.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralT_nnsfun">integralT_nnsfun</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series_nnsfun">integral_measure_series_nnsfun</a></span> <span class="id">_</span> <span class="id">mD</span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span>.<br/>
- <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">mD</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="subset_integral">subset_integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1753">d</a></span> (<span class="id"><a name="T:1754">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1755">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:1756">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_setU">integral_setU</a></span> (<span class="id"><a name="A:1757">A</a></span> <span class="id"><a name="B:1758">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span class="id"><a name="mA:1759">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>) (<span class="id"><a name="mB:1760">mB</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1761">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> (<span class="id">A</span> `|` <span class="id">B</span>) <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1762">x</a></span>, (<span class="id">A</span> `|` <span class="id">B</span>) <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; [<span class="id">disjoint</span> <span class="id">A</span> &amp; <span class="id">B</span>] -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1763">x</a></span> <span class="kwd">in</span> <span class="id">A</span> `|` <span class="id">B</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1764">x</a></span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">f</span> <span class="id">x</span> + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1765">x</a></span> <span class="kwd">in</span> <span class="id">B</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">f0</span> <span class="id">AB</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1766">x</a></span> <span class="kwd">in</span> <span class="id">A</span> `|` <span class="id">B</span>) ((<span class="id">f</span> \<span class="id">_</span> <span class="id">A</span>) <span class="id">x</span> + (<span class="id">f</span> \<span class="id">_</span> <span class="id">B</span>) <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">xA</span>|<span class="id">xB</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>//; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">xB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">AB</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set2E">disj_set2E</a></span> =&gt; /<span class="id">eqP</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>//; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">xA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">AB</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set2E">disj_set2E</a></span> =&gt; /<span class="id">eqP</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span>//; <span class="id">last</span> 5 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span> =&gt; <span class="id">y</span> <span class="id">Ay</span>; <span class="id">apply</span>: <span class="id">f0</span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;- <span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).1 =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span> =&gt; <span class="id">y</span> <span class="id">By</span>; <span class="id">apply</span>: <span class="id">f0</span>; <span class="id">right</span>.<br/>
&nbsp;&nbsp;- <span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUr">subsetUr</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).1 =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcondl">integral_mkcondl</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUK">setUK</a></span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcondl">integral_mkcondl</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setKU">setKU</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subset_integral">subset_integral</a></span> (<span class="id"><a name="A:1768">A</a></span> <span class="id"><a name="B:1769">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span class="id"><a name="mA:1770">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>) (<span class="id"><a name="mB:1771">mB</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1772">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">B</span> <span class="id">f</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:1773">x</a></span>, <span class="id">B</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">A</span> `&lt;=` <span class="id">B</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1774">x</a></span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">f</span> <span class="id">x</span> &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1775">x</a></span> <span class="kwd">in</span> <span class="id">B</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">f0</span> <span class="id">AB</span>; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setDUK">setDUK</a></span> <span class="id">AB</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU">integral_setU</a></span>//; <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUK">setDUK</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUK">setDUK</a></span>//; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set2E">disj_set2E</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDIK">setDIK</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; <span class="id">x</span> [<span class="id">Bx</span> <span class="id">_</span>]; <span class="id">exact</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_set0">integral_set0</a></span> (<span class="id"><a name="f:1776">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1777">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="id">f</span> <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>// =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_bigsetU">ge0_integral_bigsetU</a></span> (<span class="id"><a name="F:1778">F</a></span> : (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="f:1779">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) <span class="id"><a name="n:1780">n</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:1781">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">F</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id"><a name="D:1785">D</a></span> := \<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:1782">i</a></span> &lt; <span class="id">n</span>) <span class="id">F</span> <span class="id">i</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1786">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> `<span class="id">I_n</span> <span class="id">F</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1787">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:1788">i</a></span> &lt; <span class="id">n</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1791">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
<span class="id">move</span>=&gt; <span class="id">mF</span>.<br/>
<span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">ih</span>] <span class="id">D</span> <span class="id">mf</span> <span class="id">f0</span> <span class="id">tF</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">D</span> 2!<span class="id">big_ord0</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_set0">integral_set0</a></span>.<br/>
<span class="id">rewrite</span> /<span class="id">D</span> <span class="id">big_ord_recr</span>/= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU">integral_setU</a></span>//; <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">mf</span>; <span class="id">rewrite</span> /<span class="id">D</span> <span class="id">big_ord_recr</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">f0</span>; <span class="id">rewrite</span> /<span class="id">D</span> <span class="id">big_ord_recr</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">move</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_bigsetUI">trivIset_bigsetUI</a></span> <span class="id">tF</span> (<span class="id">ltnSn</span> <span class="id">n</span>) (<span class="id">leqnn</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> -&gt; <span class="id">_</span>](<span class="id">eq_bigl</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>)// =&gt; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">leq_trans</span> (<span class="id">ltn_ord</span> <span class="id">i</span>)).<br/>
<span class="id">rewrite</span> <span class="id">ih</span> ?<span class="id">big_ord_recr</span>//.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">D</span> <span class="id">big_ord_recr</span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">apply</span>: <span class="id">f0</span>; <span class="id">rewrite</span> /<span class="id">D</span> <span class="id">big_ord_recr</span>/=; <span class="id">left</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tF</span> =&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id">leq_trans</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_integral_abse">le_integral_abse</a></span> (<span class="id"><a name="D:1793">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span>) (<span class="id"><a name="mD:1794">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="g:1795">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.R">R</a></span>) <span class="id"><a name="a:1796">a</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; (0 &lt; <span class="id">a</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">a</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1797">x</a></span> | `|<span class="id">g</span> <span class="id">x</span>| &gt;= <span class="id">a</span>%:<span class="id">E</span>]) &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1798">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">g</span> <span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
<span class="id">move</span>=&gt; <span class="id">mg</span> <span class="id">a0</span>; <span class="id">have</span> ? : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1799">x</a></span> | <span class="id">a</span>%:<span class="id">E</span> &lt;= `|<span class="id">g</span> <span class="id">x</span>|]).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1801">x</a></span> <span class="kwd">in</span> <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:1800">x</a></span> | `|<span class="id">g</span> <span class="id">x</span>| &gt;= <span class="id">a</span>%:<span class="id">E</span>]) `|<span class="id">g</span> <span class="id">x</span>|)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">exact</span>/<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /= [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Rintegral">Rintegral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1804">d</a></span> (<span class="id"><a name="T:1805">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1806">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:1807">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rintegral">Rintegral</a></span> (<span class="id"><a name="D:1808">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.T">T</a></span>) (<span class="id"><a name="f:1809">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1810">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "\<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> ( <span class="id">x</span> '<span class="kwd">in</span>' <span class="id">D</span> ) <span class="id">f</span>" := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span> <span class="id">mu</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:1811">x</a></span> =&gt; <span class="id">f</span>)) : <span class="id">ring_scope</span>.<br/>
<span class="kwd">Notation</span> "\<span class="id">int</span> [ <span class="id">mu</span> ]<span class="id">_</span> <span class="id">x</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span> <span class="id">mu</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:1812">x</a></span> =&gt; <span class="id">f</span>)) : <span class="id">ring_scope</span>.<br/>
<br/>
<span class="id"><a name="integrableLocked">HB.lock</a></span> <span class="kwd">Definition</span> <span class="id">integrable</span> {<span class="id"><a name="d:1813">d</a></span>} {<span class="id"><a name="T:1814">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="R:1815">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:1816">mu</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) <span class="id"><a name="D:1817">D</a></span> <span class="id"><a name="f:1818">f</a></span> :=<br/>
&nbsp;&nbsp;`[&lt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> /\ (\<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:1819">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>| &lt; +<span class="id">oo</span>)%<span class="id">E</span> &gt;].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="integrable_unlockable">integrable_unlockable</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Unlockable">Unlockable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#unlock">integrable.unlock</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableP">integrableP</a></span> <span class="id"><a name="d:1820">d</a></span> <span class="id"><a name="T:1821">T</a></span> <span class="id"><a name="R:1822">R</a></span> <span class="id"><a name="mu:1823">mu</a></span> <span class="id"><a name="D:1824">D</a></span> <span class="id"><a name="f:1825">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> /\ (\<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:1826">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>| &lt; +<span class="id">oo</span>)%<span class="id">E</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#unlock">unlock</a></span>; <span class="id">apply</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> <span class="id">_</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_int">measurable_int</a></span> <span class="id"><a name="d:1827">d</a></span> <span class="id"><a name="T:1828">T</a></span> <span class="id"><a name="R:1829">R</a></span> <span class="id"><a name="mu:1830">mu</a></span> <span class="id"><a name="D:1831">D</a></span> <span class="id"><a name="f:1832">f</a></span> :<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#unlock">unlock</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>[]. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integrable_theory">integrable_theory</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1833">d</a></span> (<span class="id"><a name="T:1834">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1835">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integrable_theory.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>}).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integrable_theory.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span>) (<span class="id"><a name="integrable_theory.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="mu_int">mu_int</a></span> := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable0">integrable0</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; //; <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> (<span class="id">lexx</span> 0)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_integrable">eq_integrable</a></span> <span class="id"><a name="f:1839">f</a></span> <span class="id"><a name="g:1840">g</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>, <span class="id">f</span> =1 <span class="id">g</span>} -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
<span class="id">move</span>=&gt; <span class="id">fg</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span> <span class="id">fi</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">mf</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">fi</span>)//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span>=&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">mf</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id">fg</span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_integrable">le_integrable</a></span> <span class="id"><a name="f:1841">f</a></span> <span class="id"><a name="g:1842">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:1843">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= `|<span class="id">g</span> <span class="id">x</span>|) -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">fg</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mfg</span> <span class="id">goo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">goo</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableN">integrableN</a></span> <span class="id"><a name="f:1844">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (-%<span class="id">E</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span> <span class="id">foo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt;//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppe">measurable_oppe</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableZl">integrableZl</a></span> (<span class="id"><a name="k:1845">k</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>) <span class="id"><a name="f:1846">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:1847">x</a></span> =&gt; <span class="id">k</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span> <span class="id">foo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableZr">integrableZr</a></span> (<span class="id"><a name="k:1848">k</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>) <span class="id"><a name="f:1849">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id">f</span> \* <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">k</span>%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integrable">eq_integrable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZl">integrableZl</a></span> <span class="id">k</span> <span class="id">mf</span>) =&gt; // <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableD">integrableD</a></span> <span class="id"><a name="f:1850">f</a></span> <span class="id"><a name="g:1851">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id">f</span> \+ <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span> <span class="id">foo</span>] /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mg</span> <span class="id">goo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1852">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) (`|<span class="id">f</span> <span class="id">x</span>| + `|<span class="id">g</span> <span class="id">x</span>|))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>|<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_sum">integrable_sum</a></span> (<span class="id"><a name="s:1854">s</a></span> : <span class="id">seq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.R">R</a></span>)) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="h:1855">h</a></span>, <span class="id">h</span> \<span class="kwd">in</span> <span class="id">s</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">h</span>) -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:1856">x</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="h:1857">h</a></span> &lt;- <span class="id">s</span>) <span class="id">h</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
<span class="id">elim</span>: <span class="id">s</span> =&gt; [<span class="id">_</span>|<span class="id">h</span> <span class="id">s</span> <span class="id">ih</span> <span class="id">hs</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">big_nil</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable0">integrable0</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">big_cons</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">hs</span>; <span class="id">rewrite</span> <span class="id">in_cons</span> <span class="id">eqxx</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ih</span> =&gt; <span class="id">k</span> <span class="id">ks</span>; <span class="id">apply</span>: <span class="id">hs</span>; <span class="id">rewrite</span> <span class="id">in_cons</span> <span class="id">ks</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableB">integrableB</a></span> <span class="id"><a name="f:1860">f</a></span> <span class="id"><a name="g:1861">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> (<span class="id">f</span> \- <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fi</span> <span class="id">gi</span>; <span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> <span class="id">fi</span>)/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_add_def">integrable_add_def</a></span> <span class="id"><a name="f:1862">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1863">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id">f</span>^\+ <span class="id">x</span> +? - \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1864">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id">f</span>^\- <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span>]; <span class="id">rewrite</span> -[<span class="kwd">fun</span> <span class="id"><a name="x:1865">x</a></span> =&gt; <span class="id">_</span>]/(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> =&gt; <span class="id">foo</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> // <span class="kwd">in</span> <span class="id">foo</span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltpinfty_adde_def">ltpinfty_adde_def</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">foo</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> 0)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_funepos">integrable_funepos</a></span> <span class="id"><a name="f:1868">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span>^\+.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">Df</span> <span class="id">foo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">foo</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_funeneg">integrable_funeneg</a></span> <span class="id"><a name="f:1869">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span>^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">Df</span> <span class="id">foo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">foo</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span> <span class="id"><a name="f:1870">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1871">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id">f</span>^\- <span class="id">x</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span>]; <span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">have</span> [<span class="id">fx0</span>|/<span class="id">ltW</span> <span class="id">fx0</span>] := <span class="id">leP</span> (<span class="id">f</span> <span class="id">x</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee0_abs">lee0_abs</a></span>// /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">fx0</span>; <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">fx0</span>); <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_funepos_lt_pinfty">integral_funepos_lt_pinfty</a></span> <span class="id"><a name="f:1872">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1873">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id">f</span>^\+ <span class="id">x</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span>]; <span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">have</span> [<span class="id">fx0</span>|/<span class="id">ltW</span> <span class="id">fx0</span>] := <span class="id">leP</span> (<span class="id">f</span> <span class="id">x</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee0_abs">lee0_abs</a></span>// /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">fx0</span>) =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span>; <span class="id">move</span>: (<span class="id">fx0</span>) =&gt; /<span class="id">max_idPl</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_neg_fin_num">integrable_neg_fin_num</a></span> <span class="id"><a name="f:1874">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1875">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id">f</span>^\- <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> 0) ?<span class="id">lte_ninfty</span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">case</span>: <span class="id">fi</span> =&gt; <span class="id">mf</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_pos_fin_num">integrable_pos_fin_num</a></span> <span class="id"><a name="f:1876">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mu_int">mu_int</a></span> <span class="id">f</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1877">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory.D">D</a></span>) <span class="id">f</span>^\+ <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> 0) ?<span class="id">lte_ninfty</span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">case</span>: <span class="id">fi</span> =&gt; <span class="id">mf</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_theory">integrable_theory</a></span>.<br/>
<span class="kwd">Notation</span> "<span class="id">mu</span> .-<span class="id">integrable</span>" := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> <span class="id">mu</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integrable">eq_integrable</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span>} <span class="id">mD</span> <span class="id">f</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">integrableZl</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="integrablerM">integrablerM</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZl">integrableZl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">integrableZr</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="integrableMr">integrableMr</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZr">integrableZr</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sequence_measure">sequence_measure</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:1878">d</a></span> (<span class="id"><a name="T:1879">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:1880">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="sequence_measure.m_">m_</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.R">R</a></span>}^<span class="id">nat</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="sequence_measure.m">m</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_measure_series">integral_measure_series</a></span> (<span class="id"><a name="D:1882">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.T">T</a></span>) (<span class="id"><a name="mD:1883">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="f:1884">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:1885">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable">integrable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>) <span class="id">D</span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1886">n</a></span> &lt;<span class="id">oo</span>) `|\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1889">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span> | &lt; +<span class="id">oo</span>%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1894">n</a></span> &lt;<span class="id">oo</span>) `|\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1897">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\+ <span class="id">x</span> | &lt; +<span class="id">oo</span>%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m">m</a></span>]<span class="id">_</span>(<span class="id"><a name="x:1902">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:1903">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1906">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
<span class="id">move</span>=&gt; <span class="id">fi</span> <span class="id">mf</span> <span class="id">fmoo</span> <span class="id">fpoo</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:1911">n</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1914">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\+ <span class="id">x</span>))%:<span class="id">E</span> -<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1919">n</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1922">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span>))%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> - <span class="id">_</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>].<br/>
<span class="id">have</span> <span class="id">fineKn</span> : \<span class="id">sum_</span>(<span class="id"><a name="n:1943">n</a></span> &lt;<span class="id">oo</span>) `|\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1946">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span>| =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1951">n</a></span> &lt;<span class="id">oo</span>) `|(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1954">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span>))%:<span class="id">E</span>|.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
<span class="id">have</span> <span class="id">fineKp</span> : \<span class="id">sum_</span>(<span class="id"><a name="n:1959">n</a></span> &lt;<span class="id">oo</span>) `|\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1962">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\+ <span class="id">x</span>| =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1967">n</a></span> &lt;<span class="id">oo</span>) `|(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1970">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\+ <span class="id">x</span>))%:<span class="id">E</span>|.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">congr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.esum.html#esumB">esumB</a></span>//; <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> /= /<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// -<span class="id">fineKp</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> /= -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// -<span class="id">fineKn</span>; <span class="id">exact</span>: <span class="id">fmoo</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.esum.html#summable_eseries_esum">summable_eseries_esum</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">esum_</span>(<span class="id"><a name="i:1975">i</a></span> <span class="kwd">in</span> (<span class="kwd">fun</span>=&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`|(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">i</span>]<span class="id">_</span>(<span class="id"><a name="x:1976">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span>))%:<span class="id">E</span>|)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#le_esum">le_esum</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineB">fineB</a></span>// -?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>; <span class="id">last</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="n:1979">n</a></span> &lt;<span class="id">oo</span>) `|(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1982">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\+ <span class="id">x</span>))%:<span class="id">E</span>| +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:1987">n</a></span> &lt;<span class="id">oo</span>) `|(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure.m_">m_</a></span> <span class="id">n</span>]<span class="id">_</span>(<span class="id"><a name="x:1990">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span>^\- <span class="id">x</span>))%:<span class="id">E</span>|)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.sequences.html#nneseriesD">nneseriesD</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; // <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineB">fineB</a></span>// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fineKp</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">fineKn</span>; <span class="id">exact</span>: <span class="id">fmoo</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// -?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>//;<br/>
&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_pos_fin_num">integrable_pos_fin_num</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sequence_measure">sequence_measure</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integrable_lemmas">integrable_lemmas</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2011">d</a></span> (<span class="id"><a name="T:2012">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2013">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2014">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_bigcup">ge0_integral_bigcup</a></span> (<span class="id"><a name="F:2015">F</a></span> : (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">_</span>)^<span class="id">nat</span>) (<span class="id"><a name="f:2016">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="k:2017">k</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">F</span> <span class="id">k</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id"><a name="D:2019">D</a></span> := \<span class="id">bigcup_k</span> <span class="id">F</span> <span class="id">k</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:2020">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">F</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2021">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:2022">i</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2025">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
<span class="id">move</span>=&gt; <span class="id">mF</span> <span class="id">D</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">fi</span> <span class="id">f0</span> <span class="id">tF</span>.<br/>
<span class="id">pose</span> <span class="id">f_</span> <span class="id"><a name="N:2030">N</a></span> := <span class="id">f</span> \<span class="id">_</span> (\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(0 &lt;= <span class="id"><a name="i:2031">i</a></span> &lt; <span class="id">N</span>) <span class="id">F</span> <span class="id">i</span>).<br/>
<span class="id">have</span> <span class="id">lim_f_</span> <span class="id">t</span> : <span class="id">f_</span> ^~ <span class="id">t</span> --&gt; (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">f_</span> ^~ <span class="id">t</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [|<span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> =&gt; -[<span class="id">n</span> <span class="id">_</span> <span class="id">Fnt</span>]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id">n</span>.+1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span> <span class="id">big_mkord</span> <span class="id"><a href="mathcomp.classical.functions.html#patchT">patchT</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="id">big_ord_recr</span>/=; <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">t</span>))// ?<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span> <span class="id"><a href="mathcomp.classical.functions.html#patchN">patchN</a></span>// <span class="id">big_mkord</span> <span class="id">big_ord0</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; <span class="id">x</span> [<span class="id">n</span> <span class="id">_</span> &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lee">restrict_lee</a></span>// <span class="id">big_mkord</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_cvgn">ereal_nondecreasing_cvgn</a></span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">f_</span> !<span class="id">big_mkord</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lee">restrict_lee</a></span> //; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_bigsetU">subset_bigsetU</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id">f0</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dx</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">f_</span> ^~ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">lim_f_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">f</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">mF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">fi</span> =&gt; + <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> =&gt;//; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">big_mkord</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_ge0">erestrict_ge0</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">big_mkord</span> =&gt; <span class="id">Dy</span>; <span class="id">apply</span>: <span class="id">f0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dy</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lee">restrict_lee</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">big_mkord</span> =&gt; <span class="id">Dy</span>; <span class="id">apply</span>: <span class="id">f0</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> 2!<span class="id">big_mkord</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_bigsetU">subset_bigsetU</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="N:2038">N</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2042">x</a></span> <span class="kwd">in</span> \<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:2039">i</a></span> &lt; <span class="id">N</span>) <span class="id">F</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span> <span class="id">big_mkord</span>.<br/>
<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; /= <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigsetU">ge0_integral_bigsetU</a></span> ?<span class="id">big_mkord</span>//.<br/>
- <span class="id">case</span>: <span class="id">fi</span> =&gt; + <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">Dy</span>; <span class="id">apply</span>: <span class="id">f0</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigsetU_bigcup">bigsetU_bigcup</a></span> <span class="id">Dy</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrableS">integrableS</a></span> (<span class="id"><a name="E:2058">E</a></span> <span class="id"><a name="D:2059">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.T">T</a></span>) (<span class="id"><a name="f:2060">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id">D</span> `&lt;=` <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">E</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
<span class="id">move</span>=&gt; <span class="id">mE</span> <span class="id">mD</span> <span class="id">DE</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span> <span class="id">ifoo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span>.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">ifoo</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> =&gt; //.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_mkcond">integrable_mkcond</a></span> <span class="id"><a name="D:2061">D</a></span> <span class="id"><a name="f:2062">f</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> &lt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
<span class="id">move</span>=&gt; <span class="id">mD</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#unlock">unlock</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#asbool_equiv">asbool_equiv</a></span>; <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt;-&gt; <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcond">integral_mkcond</a></span>.<br/>
<span class="id">under</span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt;-&gt; <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#restrict_abse">restrict_abse</a></span>.<br/>
<span class="id">split</span> =&gt; [|] [<span class="id">mf</span> <span class="id">foo</span>].<br/>
- <span class="kwd">by</span> <span class="id">split</span>; [<span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).1|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">le_lt_trans</span> <span class="id">foo</span>].<br/>
- <span class="kwd">by</span> <span class="id">split</span>; [<span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">_</span>).2|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">le_lt_trans</span> <span class="id">foo</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_lemmas">integrable_lemmas</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span>} <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_measure_integrable_cst">finite_measure_integrable_cst</a></span> <span class="id"><a name="d:2065">d</a></span> (<span class="id"><a name="T:2066">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2067">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2068">mu</a></span> : {<span class="id">finite_measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) <span class="id"><a name="k:2069">k</a></span> :<br/>
&nbsp;&nbsp;<span class="id">mu</span>.-<span class="id">integrable</span> [<span class="id">set</span>: <span class="id">T</span>] (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">have</span> [<span class="id">k0</span>|<span class="id">k0</span>] := <span class="id">leP</span> 0 <span class="id">k</span>.<br/>
- <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">ger0_norm</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>//= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun_lty">fin_num_fun_lty</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_measure">fin_num_measure</a></span>.<br/>
- <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">ltr0_norm</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>//= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_oppr</span> <span class="id">oppr0</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun_lty">fin_num_fun_lty</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#fin_num_measure">fin_num_measure</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integrable_ae">integrable_ae</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2070">d</a></span> (<span class="id"><a name="T:2071">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2072">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integrable_ae.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.R">R</a></span>}) (<span class="id"><a name="integrable_ae.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.T">T</a></span>) (<span class="id"><a name="integrable_ae.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="integrable_ae.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.R">R</a></span>.<br/>
<span class="kwd">Hypotheses</span> <span class="id"><a name="integrable_ae.fint">fint</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_ae">integrable_ae</a></span> : {<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:2078">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
<span class="id">have</span> [<span class="id">muD0</span>|<span class="id">muD0</span>] := <span class="id">eqVneq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>; <span class="id">split</span> =&gt; // <span class="id">t</span> /= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>[].<br/>
<span class="id">pose</span> <span class="id">E</span> := [<span class="id">set</span> <span class="id"><a name="x:2079">x</a></span> | `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> <span class="id">x</span>| = +<span class="id">oo</span> /\ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> <span class="id">x</span> ].<br/>
<span class="id">have</span> <span class="id">mE</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">E</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> @^-1` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">E</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span>=&gt; [[/<span class="id">eqP</span>]|[<span class="id">Dt</span> [|]/= -&gt;//]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eqe_absl">eqe_absl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|]/<span class="id">eqP</span>; <span class="id">tauto</span>.<br/>
<span class="id">have</span> [<span class="id">ET</span>|<span class="id">ET</span>] := <span class="id">eqVneq</span> <span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">foo</span> <span class="id">t</span> : `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> <span class="id">t</span>| = +<span class="id">oo</span> <span class="kwd">by</span> <span class="id">have</span> [] : <span class="id">E</span> <span class="id">t</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ET</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span>: \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2081">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> <span class="id">x</span>| = +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>) =&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_csty">integral_csty</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mD">mD</a></span> <span class="id">muD0</span>)//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
<span class="id">suff</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> <span class="id">E</span> = 0.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">muE0</span>; <span class="kwd">exists</span> <span class="id">E</span>; <span class="id">split</span> =&gt; // <span class="id">t</span> /= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>[<span class="id">Dt</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span>.<br/>
<span class="id">have</span> [-&gt;|/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span> <span class="id">E0</span>] := <span class="id">eqVneq</span> <span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
<span class="id">have</span> [<span class="id">M</span> <span class="id">M0</span> <span class="id">muM</span>] : <span class="kwd">exists2</span> <span class="id"><a name="M:2082">M</a></span>, (0 &lt;= <span class="id">M</span>)%<span class="id">R</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="n:2084">n</a></span>, <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) &lt;= <span class="id">M</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2085">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>) `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.f">f</a></span> <span class="id">x</span>|)); <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>) =&gt; <span class="id">_</span> <span class="id">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.fint">fint</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [|<span class="id">xE</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">E</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= =&gt; -[-&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id">eqP</span> <span class="id">muED0</span>; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_forallP">not_forallP</a></span> : <span class="id">muM</span>; <span class="id">apply</span>.<br/>
<span class="id">have</span> [<span class="id">muEDoo</span>|] := <span class="id">ltP</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>)) +<span class="id">oo</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="kwd">exists</span> 1%<span class="id">N</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span>.<br/>
<span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id">M</span> * (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>)))^-1)|%<span class="id">N</span>.+1.<br/>
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">ltNge</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> * <span class="id">X</span>](@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.mu">mu</a></span> (<span class="id">E</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> <span class="id">muEDoo</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> -<span class="id">ltr_pdivr_mulr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">natr1</span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))// <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>// <span class="id">divr_ge0</span>//; <span class="id">apply</span>/<span class="id">le0R</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span>: <span class="id">E</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae.D">D</a></span> = <span class="id">E</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span>=&gt; -[].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="linearity">linearity</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2088">d</a></span> (<span class="id"><a name="T:2089">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2090">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="linearity.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R</a></span>}) (<span class="id"><a name="linearity.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span>) (<span class="id"><a name="linearity.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="linearity.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="linearity.intf">intf</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="linearity.mesf">mesf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.intf">intf</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralZl">integralZl</a></span> <span class="id"><a name="r:2096">r</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2097">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id">r</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span> <span class="id">x</span>) = <span class="id">r</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2098">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>|-&gt;] := <span class="id">ltgtP</span> <span class="id">r</span> 0%<span class="id">R</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">mul0e</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span>.<br/>
- <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funeposM">gt0_funeposM</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funenegM">gt0_funenegM</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">r0</span>)) //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">r0</span>)) //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleBr">muleBr</a></span> 1?[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
- <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#lt0_funeposM">lt0_funeposM</a></span>// <span class="id"><a href="mathcomp.analysis.numfun.html#lt0_funenegM">lt0_funenegM</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_oppr</span> <span class="id">oppr0</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl_EFin">ge0_integralZl_EFin</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_oppr</span> <span class="id">oppr0</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleBr">muleBr</a></span> //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity">linearity</a></span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">integralZl</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="integralM">integralM</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl">integralZl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="linearity">linearity</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2099">d</a></span> (<span class="id"><a name="T:2100">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2101">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="linearity.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R</a></span>}) (<span class="id"><a name="linearity.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span>) (<span class="id"><a name="linearity.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> <span class="id"><a name="linearity.f1">f1</a></span> <span class="id"><a name="linearity.f2">f2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.R">R</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="linearity.g1">g1</a></span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f1">f1</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="linearity.g2">g2</a></span> := <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.f2">f2</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="linearity.if1">if1</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="linearity.if2">if2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="linearity.mf1">mf1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.if1">if1</a></span>. Qed.</div>
<span class="kwd">Let</span> <span class="id"><a name="linearity.mf2">mf2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.if2">if2</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralD_EFin">integralD_EFin</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2109">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>) <span class="id">x</span> =<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2110">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> <span class="id">x</span> + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2111">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
<span class="id">suff</span>: \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2112">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)^\+ <span class="id">x</span>) + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2113">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\- <span class="id">x</span>) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2114">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\- <span class="id">x</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2115">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) ((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)^\- <span class="id">x</span>) + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2116">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\+ <span class="id">x</span>) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2117">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\+ <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">eqP</span> : <span class="id">h</span>; <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqRHS">eqRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqRHS">eqRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">g12pos</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2118">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\+ <span class="id">x</span>) + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2119">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\+ <span class="id">x</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funepos_lt_pinfty">integral_funepos_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">g12neg</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2120">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\- <span class="id">x</span>) + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2121">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\- <span class="id">x</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>// ; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funepos_lt_pinfty">integral_funepos_lt_pinfty</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defr">fin_num_adde_defr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2122">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)^\+ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2125">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)^\+ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2128">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\- <span class="id">x</span> + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2129">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\- <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eq_sym</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span> <span class="id">g12pos</span>) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>// =&gt; /<span class="id">eqP</span> &lt;-.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funeneg_lt_pinfty">integral_funeneg_lt_pinfty</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.if2">if2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeCA">addeCA</a></span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2134">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\+ <span class="id">x</span>) )).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>) -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>).<br/>
<span class="id">have</span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)^\+ \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\- \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\- = (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span> \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>)^\- \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\+ \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\+.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -2!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqRHS">eqRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> -!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_max">fine_max</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> -!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_max">fine_max</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id">eq_sym</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> -!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_max">fine_max</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> -!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_max">fine_max</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\+ \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\+ \- (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g1">g1</a></span>^\- \+ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.g2">g2</a></span>^\-)) <span class="id">x</span>) -<span class="id"><a href="mathcomp.analysis.numfun.html#funeD_posD">funeD_posD</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]/((<span class="id">_</span> \- <span class="id">_</span>) <span class="id">x</span>) -<span class="id"><a href="mathcomp.analysis.numfun.html#funeD_Dpos">funeD_Dpos</a></span>.<br/>
<span class="id">move</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:2137">y</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2138">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.D">D</a></span>) (<span class="id">y</span> <span class="id">x</span>) )).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>); <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>); <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">move</span>=&gt; -&gt;.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>); <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity.mD">mD</a></span>) //; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#linearity">linearity</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralB_EFin">integralB_EFin</a></span> <span class="id"><a name="d:2139">d</a></span> (<span class="id"><a name="T:2140">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2141">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="mu:2142">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:2143">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f1:2144">f1</a></span> <span class="id"><a name="f2:2145">f2</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="mD:2146">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) :<br/>
&nbsp;&nbsp;<span class="id">mu</span>.-<span class="id">integrable</span> <span class="id">D</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f1</span>) -&gt; <span class="id">mu</span>.-<span class="id">integrable</span> <span class="id">D</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f2</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2147">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) ((<span class="id">f1</span> <span class="id">x</span>)%:<span class="id">E</span> - (<span class="id">f2</span> <span class="id">x</span>)%:<span class="id">E</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2148">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f1</span> <span class="id">x</span>)%:<span class="id">E</span> - \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2149">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f2</span> <span class="id">x</span>)%:<span class="id">E</span>))%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
<span class="id">move</span>=&gt; <span class="id">if1</span> <span class="id">if2</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD_EFin">integralD_EFin</a></span> <span class="id">mD</span> <span class="id">if1</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:2150">x</a></span> =&gt; - (<span class="id">f2</span> <span class="id">x</span>)%:<span class="id">E</span>))%<span class="id">E</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>|<span class="kwd">by</span> []].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_abse_integral">le_abse_integral</a></span> <span class="id"><a name="d:2153">d</a></span> (<span class="id"><a name="T:2154">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2155">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="mu:2156">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:2157">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f:2158">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="mD:2159">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(`| \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2160">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>) | &lt;= \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2161">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>|)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
<span class="id">move</span>=&gt; <span class="id">mf</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span> // -?<span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span>//;<br/>
&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> | <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="abse_integralP">abse_integralP</a></span> <span class="id"><a name="d:2162">d</a></span> (<span class="id"><a name="T:2163">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2164">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2165">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:2166">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f:2167">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(`| \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2168">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> | &lt; +<span class="id">oo</span> &lt;-&gt; \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2169">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>| &lt; +<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">mf</span>; <span class="id">split</span> =&gt; [|] <span class="id">foo</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">mu</span> <span class="id">mD</span> <span class="id">mf</span>) <span class="id">foo</span>).<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span>//;[|<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>|<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>].<br/>
<span class="id">move</span>: <span class="id">foo</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>/= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numB">fin_numB</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">fpoo</span> <span class="id">fnoo</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey_eq">ltey_eq</a></span> ?<span class="id">fpoo</span> ?<span class="id">fnoo</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_indic">integral_indic</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2170">d</a></span> (<span class="id"><a name="T:2171">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2172">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2173">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_setI_indic">integral_setI_indic</a></span> (<span class="id"><a name="E:2174">E</a></span> <span class="id"><a name="D:2175">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span>) (<span class="id"><a name="mD:2176">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="f:2177">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2178">x</a></span> <span class="kwd">in</span> <span class="id">E</span> `&amp;` <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2179">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) (<span class="id">f</span> <span class="id">x</span> * (\1<span class="id">_D</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
<span class="id">move</span>=&gt; <span class="id">mE</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_mkcondr">integral_mkcondr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">xE</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_restrict">indic_restrict</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralEindic">integralEindic</a></span> (<span class="id"><a name="D:2180">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span>) (<span class="id"><a name="mD:2181">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="f:2182">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.R">R</a></span>) :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2183">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2184">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span> * (\1<span class="id">_D</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ae_eq">ae_eq</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2185">d</a></span> (<span class="id"><a name="T:2186">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2187">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ae_eq.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.R">R</a></span>}) (<span class="id"><a name="ae_eq.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.T">T</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span> <span class="id">i</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ae_eq">ae_eq</a></span> <span class="id"><a name="f:2190">f</a></span> <span class="id"><a name="g:2191">g</a></span> := {<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.mu">mu</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:2192">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id">g</span> <span class="id">x</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq0">ae_eq0</a></span> <span class="id"><a name="f:2193">f</a></span> <span class="id"><a name="g:2194">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.D">D</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.D">D</a></span> = 0 -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">D0</span>; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.D">D</a></span>; <span class="id">split</span> =&gt; // <span class="id">t</span>/= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>[]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_comp">ae_eq_comp</a></span> (<span class="id"><a name="j:2195">j</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq.R">R</a></span>) <span class="id"><a name="f:2196">f</a></span> <span class="id"><a name="g:2197">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> (<span class="id">j</span> \<span class="id">o</span> <span class="id">f</span>) (<span class="id">j</span> \<span class="id">o</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /[<span class="id">apply</span>] /= -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_funeposneg">ae_eq_funeposneg</a></span> <span class="id"><a name="f:2198">f</a></span> <span class="id"><a name="g:2199">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> &lt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span>^\+ <span class="id">g</span>^\+ /\ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span>^\- <span class="id">g</span>^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
<span class="id">split</span>=&gt; [<span class="id">fg</span>|[]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>; <span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> <span class="id">fg</span> =&gt; <span class="id">x</span> /[<span class="id">apply</span>] -&gt;.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> =&gt; <span class="id">x</span> + + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">fg</span> /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">gf</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">g</span>) <span class="id">fg</span> <span class="id">gf</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_refl">ae_eq_refl</a></span> <span class="id"><a name="f:2200">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">f</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_sym">ae_eq_sym</a></span> <span class="id"><a name="f:2201">f</a></span> <span class="id"><a name="g:2202">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">g</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_trans">ae_eq_trans</a></span> <span class="id"><a name="f:2203">f</a></span> <span class="id"><a name="g:2204">g</a></span> <span class="id"><a name="h:2205">h</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">g</span> <span class="id">h</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> =&gt; <span class="id">x</span> + + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>) -&gt;; <span class="id">exact</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_sub">ae_eq_sub</a></span> <span class="id"><a name="f:2206">f</a></span> <span class="id"><a name="g:2207">g</a></span> <span class="id"><a name="h:2208">h</a></span> <span class="id"><a name="i:2209">i</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">h</span> <span class="id">i</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> (<span class="id">f</span> \- <span class="id">h</span>) (<span class="id">g</span> \- <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> =&gt; <span class="id">x</span> + + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>) -&gt; /(<span class="id">_</span> <span class="id">Dx</span>) -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_mul2r">ae_eq_mul2r</a></span> <span class="id"><a name="f:2210">f</a></span> <span class="id"><a name="g:2211">g</a></span> <span class="id"><a name="h:2212">h</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> (<span class="id">f</span> \* <span class="id">h</span>) (<span class="id">g</span> \* <span class="id">h</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /[<span class="id">apply</span>] -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_mul2l">ae_eq_mul2l</a></span> <span class="id"><a name="f:2213">f</a></span> <span class="id"><a name="g:2214">g</a></span> <span class="id"><a name="h:2215">h</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> (<span class="id">h</span> \* <span class="id">f</span>) (<span class="id">h</span> \* <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /[<span class="id">apply</span>] -&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_mul1l">ae_eq_mul1l</a></span> <span class="id"><a name="f:2216">f</a></span> <span class="id"><a name="g:2217">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 1) -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">g</span> (<span class="id">g</span> \* <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /[<span class="id">apply</span>] -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_abse">ae_eq_abse</a></span> <span class="id"><a name="f:2218">f</a></span> <span class="id"><a name="g:2219">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /[<span class="id">apply</span>] /= -&gt;. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ae_eq_integral">ae_eq_integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2220">d</a></span> (<span class="id"><a name="T:2221">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2222">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2223">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="ae_eq">ae_eq</a></span> := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="ae_eq_integral.ae_eq_integral_abs_bounded">ae_eq_integral_abs_bounded</a></span> (<span class="id"><a name="D:2224">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="mD:2225">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="f:2226">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="M:2227">M</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:2228">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>%:<span class="id">E</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">D</span> <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0) -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2229">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>|%<span class="id">E</span>  = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Proof.</span></div>
<div class="proofscript" id="proof243">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">fM</span> [<span class="id">N</span> [<span class="id">mA</span> <span class="id">mN0</span> <span class="id">Df0N</span>]].<br/>
<span class="id">pose</span> <span class="id">Df_neq0</span> := <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2230">x</a></span> | <span class="id">f</span> <span class="id">x</span> != 0].<br/>
<span class="id">have</span> <span class="id">mDf_neq0</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">Df_neq0</span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_neq">emeasurable_neq</a></span>.<br/>
<span class="id">pose</span> <span class="id">f</span>' : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> := <span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span> <span class="id">Df_neq0</span>.<br/>
<span class="id">have</span> <span class="id">le_f_M</span> <span class="id">t</span> : <span class="id">D</span> <span class="id">t</span> -&gt; `|<span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id">M</span>%:<span class="id">E</span> * (<span class="id">f</span>' <span class="id">t</span>)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dt</span>; <span class="id">rewrite</span> /<span class="id">f</span>' <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>; <span class="id">have</span> [|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> \<span class="kwd">in</span> <span class="id">Df_neq0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">_</span> <span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id">fM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>=&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#not_andP">not_andP</a></span>[//|/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>/<span class="id">eqP</span> -&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
<span class="id">have</span> : 0 &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2232">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>|  &lt;= `|<span class="id">M</span>|%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">Df_neq0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>//= /<span class="id">Df_neq0</span> -{2}(<span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id">D</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC</a></span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -/<span class="id">Df_neq0</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">le_f_M</span> <span class="id">_</span> <span class="id">Dx</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> /<span class="id">f</span>' <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>) =&gt; //; <span class="id">rewrite</span> ?<span class="id">mulr1</span> ?<span class="id">mulr0</span>// <span class="id">ler_norm</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">Df_neq0</span> = 0.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#subset_measure0">subset_measure0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mN0</span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Df0N</span> =&gt; /= <span class="id">x</span> [/= <span class="id">f0</span> <span class="id">Dx</span>] /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>; <span class="id">split</span> =&gt; //; <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> -<span class="id">eq_le</span> =&gt; /<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_integral_abs">ae_eq_integral_abs</a></span> (<span class="id"><a name="D:2234">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="mD:2235">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="f:2236">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2237">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>|  = 0 &lt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">D</span> <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Proof.</span></div>
<div class="proofscript" id="proof244">
<span class="id">move</span>=&gt; <span class="id">mf</span>; <span class="id">split</span>=&gt; [<span class="id">iDf0</span>|<span class="id">Df0</span>].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2238">x</a></span> | <span class="id">f</span> <span class="id">x</span> != 0]); <span class="id">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_neq">emeasurable_neq</a></span>| |<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> /= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span> [<span class="id">Dt</span> /<span class="id">eqP</span> <span class="id">ft0</span>]].<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">muDf</span> <span class="id">a</span> : (0 &lt; <span class="id">a</span>)%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2241">x</a></span> | <span class="id">a</span>%:<span class="id">E</span> &lt;= `|<span class="id">f</span> <span class="id">x</span>|]) = 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">a0</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.measure.html#measure_le0">measure_le0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integral_abse">le_integral_abse</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">a0</span>; <span class="id">rewrite</span> <span class="id">iDf0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#pmule_rle0">pmule_rle0</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">bigcup_n</span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2243">x</a></span> | `|<span class="id">f</span> <span class="id">x</span>| &gt;= <span class="id">n</span>.+1%:<span class="id">R</span>^-1%:<span class="id">E</span>])); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span>=&gt; [[<span class="id">Dt</span> <span class="id">ft0</span>]|[<span class="id">n</span> <span class="id">_</span> /= [<span class="id">Dt</span> <span class="id">nft</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ftoo</span>|<span class="id">ftoo</span>] := <span class="id">eqVneq</span> `|<span class="id">f</span> <span class="id">t</span>| +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> 0%<span class="id">N</span> =&gt; //; <span class="id">split</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">ftoo</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">m</span> := `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> `|<span class="id">f</span> <span class="id">t</span>|)^-1|%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ftfin</span> : `|<span class="id">f</span> <span class="id">t</span>|%<span class="id">E</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">m</span> =&gt; //; <span class="id">split</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> `|<span class="id">f</span> <span class="id">t</span>|) // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> -<span class="id">ler_pinv</span>; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">unitfE</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_eq0">fine_eq0</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_eq0">abse_eq0</a></span> <span class="id">ft0</span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_gt0">fine_gt0</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_eq0">abse_eq0</a></span> <span class="id">ft0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">unitfE</span> <span class="id">invr_eq0</span> <span class="id">pnatr_eq0</span> /= <span class="id">invr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">invrK</span> /<span class="id">m</span> -<span class="id">natr1</span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> `|<span class="id">f</span> <span class="id">t</span>|)^-1 + 1)%<span class="id">R</span>) ?<span class="id">ler_addl</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add2r</span>// <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contraTN">contraTN</a></span> <span class="id">nft</span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span> -<span class="id">ltNge</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2249">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2250">x</a></span> | `|<span class="id">f</span> <span class="id">x</span>| &gt;= <span class="id">n</span>.+1%:<span class="id">R</span>^-1%:<span class="id">E</span>]))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span> =&gt; <span class="id">t</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">lef_pinv</span> // ?<span class="id">ler_nat</span> // <span class="id">posrE</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0) ?<span class="id"><a href="mathcomp.analysis.topology.html#lim_cst">lim_cst</a></span>//= <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> <span class="id">muDf</span>.<br/>
<span class="id">pose</span> <span class="id">f_</span> := <span class="kwd">fun</span> <span class="id"><a name="n:2257">n</a></span> <span class="id"><a name="x:2258">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mine">mine</a></span> `|<span class="id">f</span> <span class="id">x</span>| <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="x:2259">x</a></span> =&gt; `|<span class="id">f</span> <span class="id">x</span>|) = (<span class="kwd">fun</span> <span class="id"><a name="x:2260">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">f_</span>^~ <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /= /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> /= /<span class="id">f_</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [-&gt;|<span class="id">fxoo</span>] := <span class="id">eqVneq</span> `|<span class="id">f</span> <span class="id">x</span>|%<span class="id">E</span> +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract">contract</a></span> +<span class="id">oo</span>](@<span class="id">divrr</span> <span class="id">_</span> (1 + <span class="id">n</span>%:<span class="id">R</span>)%<span class="id">R</span>) ?<span class="id">unitfE</span> ?<span class="id">nat1r</span>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">ger0_norm</span> <span class="id">_</span> <span class="id">n</span>%:<span class="id">R</span>)// <span class="id">nat1r</span> -<span class="id">mulrBl</span> -<span class="id">natrB</span>// <span class="id">subSnn</span> <span class="id">ger0_norm</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">div1r</span>; <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_lt">near_infty_natSinv_lt</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fxn</span> : `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">_</span> `|<span class="id">f</span> <span class="id">x</span>|); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">ltey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> (<span class="id">Num.bound</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> `|<span class="id">f</span> <span class="id">x</span>|)) =&gt; //= <span class="id">n</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">ler_nat</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>); <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">exact</span>/<span class="id">ltW</span>/<span class="id">archi_boundP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">min_l</span>// <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2261">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2262">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>) )).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_monotone_convergence">cvg_monotone_convergence</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mine">measurable_mine</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> /<span class="id">f_</span> <span class="id">lexI</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0</a></span> //= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">rewrite</span> /<span class="id">f_</span> <span class="id">lexI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ftm</span>|<span class="id">ftm</span>] := <span class="id">leP</span> `|<span class="id">f</span> <span class="id">t</span>|%<span class="id">E</span> <span class="id">m</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lexx</span> /= (<span class="id">le_trans</span> <span class="id">ftm</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ltW</span> <span class="id">ftm</span>) /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_nat</span>.<br/>
<span class="id">have</span> <span class="id">ae_eq_f_</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">D</span> (<span class="id">f_</span> <span class="id">n</span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0).<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">Df0</span> =&gt; <span class="id">N</span> [<span class="id">mN</span> <span class="id">muN0</span> <span class="id">DfN</span>].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; // <span class="id">t</span> /= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>[<span class="id">Dt</span> <span class="id">fnt0</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">DfN</span> =&gt; /=; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">fnt0</span> =&gt; <span class="id">ft0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span> <span class="id">ft0</span> /= <span class="id">normr0</span> <span class="id">min_l</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">f_bounded</span> <span class="id">n</span> <span class="id">x</span> : <span class="id">D</span> <span class="id">x</span> -&gt; `|<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>| &lt;= <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> /<span class="id">f_</span>; <span class="id">have</span> [|<span class="id">_</span>] := <span class="id">leP</span> `|<span class="id">f</span> <span class="id">x</span>| <span class="id">n</span>%:<span class="id">R</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">have</span> <span class="id">if_0</span> <span class="id">n</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2273">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>|  = 0.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.ae_eq_integral_abs_bounded">ae_eq_integral_abs_bounded</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">n</span>%:<span class="id">R</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mine">measurable_mine</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">f_bounded</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0) // ?<span class="id"><a href="mathcomp.analysis.topology.html#lim_cst">lim_cst</a></span>// <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">if_0</span> <span class="id">n</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// /<span class="id">f_</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_abs_eq0">integral_abs_eq0</a></span> <span class="id"><a name="D:2274">D</a></span> (<span class="id"><a name="N:2275">N</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="f:2276">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id">N</span> `&lt;=` <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">N</span> = 0 -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2277">x</a></span> <span class="kwd">in</span> <span class="id">N</span>) `|<span class="id">f</span> <span class="id">x</span>| = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Proof.</span></div>
<div class="proofscript" id="proof245">
<span class="id">move</span>=&gt; <span class="id">mN</span> <span class="id">mD</span> <span class="id">ND</span> <span class="id">mf</span> <span class="id">muN0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralEindic">integralEindic</a></span>//.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2278">x</a></span> =&gt; `|<span class="id">f</span> <span class="id">x</span> * (\1<span class="id">_N</span> <span class="id">x</span>)%:<span class="id">E</span>|)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (\1<span class="id">_N</span> <span class="id">t</span>)%:<span class="id">E</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral_abs">ae_eq_integral_abs</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mD</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; // <span class="id">t</span> /= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> \<span class="kwd">in</span> <span class="id">N</span>); <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funID">funID</a></span> (<span class="id"><a name="N:2281">N</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="mN:2282">mN</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span>) (<span class="id"><a name="f:2283">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id"><a name="oneCN:2284">oneCN</a></span> := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span> <span class="id">mN</span>)] <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id"><a name="oneN:2285">oneN</a></span> := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id">mN</span>] <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">f</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:2286">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneCN</span> <span class="id">x</span>)%:<span class="id">E</span>) \+ (<span class="kwd">fun</span> <span class="id"><a name="x:2287">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneN</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Proof.</span></div>
<div class="proofscript" id="proof246">
<span class="id">move</span>=&gt; <span class="id">oneCN</span> <span class="id">oneN</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>.<br/>
<span class="id">rewrite</span> /<span class="id">oneCN</span> /<span class="id">oneN</span>/= /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> !<span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="id">have</span> [<span class="id">xN</span>|<span class="id">xN</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC</a></span> <span class="id">xN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setC">in_setC</a></span> <span class="id">xN</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="negligible_integrable">negligible_integrable</a></span> (<span class="id"><a name="D:2288">D</a></span> <span class="id"><a name="N:2289">N</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="f:2290">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">N</span> = 0 -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> &lt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> (<span class="id">D</span> `\` <span class="id">N</span>) <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Proof.</span></div>
<div class="proofscript" id="proof247">
<span class="id">move</span>=&gt; <span class="id">mN</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">muN0</span>.<br/>
<span class="id">pose</span> <span class="id">mCN</span> := <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span> <span class="id">mN</span>.<br/>
<span class="id">pose</span> <span class="id">oneCN</span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>} := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id">mCN</span>].<br/>
<span class="id">pose</span> <span class="id">oneN</span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>} := [<span class="id">the</span> {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span> <span class="id">mN</span>].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">intone</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:2291">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneN</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2292">x</a></span> =&gt; `|<span class="id">f</span> <span class="id">x</span>| * (\1<span class="id">_N</span> <span class="id">x</span>)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (\1<span class="id">_N</span> <span class="id">t</span>)%:<span class="id">E</span>) // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>// (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_abs_eq0">integral_abs_eq0</a></span> <span class="id">D</span>)//.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#subset_measure0">subset_measure0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN0</span>) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> <span class="id">h1</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> &lt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:2295">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneCN</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">intf</span> | /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">intCf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2296">x</a></span> =&gt; `|<span class="id">f</span> <span class="id">x</span>| * (\1<span class="id">_</span>(~` <span class="id">N</span>) <span class="id">x</span>)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (\1<span class="id">_</span>(~` <span class="id">N</span>) <span class="id">t</span>)%:<span class="id">E</span>) // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>//; <span class="id">case</span>: <span class="id">intf</span> =&gt; <span class="id">_</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> =&gt; //; [<span class="id">exact</span>:<span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>|<span class="id">exact</span>:<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#funID">funID</a></span> <span class="id">mN</span> <span class="id">f</span>) -/<span class="id">oneCN</span> -/<span class="id">oneN</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> ? : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:2299">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneCN</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>=&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> ? : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:2300">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneN</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2301">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (`|<span class="id">f</span> <span class="id">x</span> * (<span class="id">oneCN</span> <span class="id">x</span>)%:<span class="id">E</span>| + `|<span class="id">f</span> <span class="id">x</span> * (<span class="id">oneN</span> <span class="id">x</span>)%:<span class="id">E</span>|))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_add">lee_abs_add</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span>//; [|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span>; [<span class="id">case</span>: <span class="id">intCf</span>|<span class="id">case</span>: <span class="id">intone</span>].<br/>
<span class="id">have</span> <span class="id">h2</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> (<span class="id">D</span> `\` <span class="id">N</span>) <span class="id">f</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:2303">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * (<span class="id">oneCN</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">intCf</span> | /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">intCf</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2304">x</a></span> =&gt; `|<span class="id">f</span> <span class="id">x</span>| * (\1<span class="id">_</span>(~` <span class="id">N</span>) <span class="id">x</span>)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (\1<span class="id">_</span>(~` <span class="id">N</span>) <span class="id">t</span>)%:<span class="id">E</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span> //; <span class="id">case</span>: <span class="id">intCf</span> =&gt; <span class="id">_</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span> =&gt; // ? [].<br/>
&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">mDN</span> <span class="id">A</span> <span class="id">mA</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> <span class="id">D</span>) -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">mf</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">intCf</span> =&gt; <span class="id">_</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2307">x</a></span> =&gt; `|<span class="id">f</span> <span class="id">x</span>| * (\1<span class="id">_</span>(~` <span class="id">N</span>) <span class="id">x</span>)%:<span class="id">E</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseM">abseM</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> <span class="id">_</span> (\1<span class="id">_</span>(~` <span class="id">N</span>) <span class="id">t</span>)%:<span class="id">E</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> <span class="id">h1</span>); <span class="id">exact</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_sym">iff_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_negligible_integral">ge0_negligible_integral</a></span> (<span class="id"><a name="D:2310">D</a></span> <span class="id"><a name="N:2311">N</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="f:2312">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:2313">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">N</span> = 0 -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2314">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2315">x</a></span> <span class="kwd">in</span> <span class="id">D</span> `\` <span class="id">N</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Proof.</span></div>
<div class="proofscript" id="proof248">
<span class="id">move</span>=&gt; <span class="id">mN</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">f0</span> <span class="id">muN0</span>.<br/>
<span class="id">rewrite</span> {1}(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#funID">funID</a></span> <span class="id">mN</span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralD">ge0_integralD</a></span>//; <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">f0</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>].<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">f0</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>].<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>// [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> + <span class="id">X</span> = <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = 0) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>//.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">xD</span> <span class="id">xN</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id">f0</span>//; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">xD</span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_abs_eq0">integral_abs_eq0</a></span> <span class="id">D</span>)//; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#subset_measure0">subset_measure0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN0</span>) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_ae_eq_integral">ge0_ae_eq_integral</a></span> (<span class="id"><a name="D:2317">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="f:2318">f</a></span> <span class="id"><a name="g:2319">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:2320">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:2321">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">g</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">D</span> <span class="id">f</span> <span class="id">g</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2322">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">f</span> <span class="id">x</span>)  = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2323">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id">g</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Proof.</span></div>
<div class="proofscript" id="proof249">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> <span class="id">f0</span> <span class="id">g0</span> [<span class="id">N</span> [<span class="id">mN</span> <span class="id">N0</span> <span class="id">subN</span>]].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralEindic">integralEindic</a></span>// [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralEindic">integralEindic</a></span>//.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">mN</span>)//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">f0</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>].<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">mN</span>)//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">g0</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>].<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span>;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span> <span class="id">xN</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>; <span class="id">have</span> [|?] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">xN</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> =&gt; <span class="id">fxgx</span>; <span class="id">apply</span>: <span class="id">subN</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_eq_integral">ae_eq_integral</a></span> (<span class="id"><a name="D:2324">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span>) (<span class="id"><a name="g:2325">g</a></span> <span class="id"><a name="f:2326">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id">D</span> <span class="id">f</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">D</span> <span class="id">f</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral.mu">mu</a></span> <span class="id">D</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Proof.</span></div>
<div class="proofscript" id="proof250">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">mf</span> <span class="id">mg</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_funeposneg">ae_eq_funeposneg</a></span>[<span class="id">Dfgp</span> <span class="id">Dfgn</span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>// [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>//; <span class="id">congr</span> (<span class="id">_</span> - <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_ae_eq_integral">ge0_ae_eq_integral</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_ae_eq_integral">ge0_ae_eq_integral</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span>} <span class="id">g</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_cst">integral_cst</a></span> <span class="id"><a name="d:2327">d</a></span> (<span class="id"><a name="T:2328">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2329">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2330">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}) (<span class="id"><a name="D:2331">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">d</span>.-<span class="id">measurable</span> <span class="id">D</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="r:2332">r</a></span>, \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2333">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">r</span>) <span class="id">x</span> = <span class="id">r</span> * <span class="id">mu</span> <span class="id">D</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Proof.</span></div>
<div class="proofscript" id="proof251">
<span class="id">move</span>=&gt; <span class="id">mD</span>; <span class="id">have</span> [<span class="id">D0</span> <span class="id">r</span>|<span class="id">D0</span> [<span class="id">r</span>| |]] := <span class="id">eqVneq</span> (<span class="id">mu</span> <span class="id">D</span>) 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0))// ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span> ?<span class="id">D0</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq0">ae_eq0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstr">integral_cstr</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_csty">integral_csty</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulye">gt0_mulye</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">D0</span>/=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cstNy">integral_cstNy</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gt0_mulNye">gt0_mulNye</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lt0e">lt0e</a></span> <span class="id">D0</span>/=.<br/>
Qed.</div>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> "<span class="id">integral_cstr</span>" "<span class="id">integral_csty</span>" "<span class="id">integral_cstNy</span>".<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le_integral_comp_abse">le_integral_comp_abse</a></span> <span class="id"><a name="d:2334">d</a></span> (<span class="id"><a name="T:2335">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2336">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2337">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>})  (<span class="id"><a name="D:2338">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="mD:2339">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="g:2340">g</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) <span class="id"><a name="a:2341">a</a></span> (<span class="id"><a name="f:2342">f</a></span> : \<span class="id">bar</span> <span class="id">R</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id"><a name="mf:2343">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f0:2345">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="r:2344">r</a></span>, 0 &lt;= <span class="id">r</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f_nd:2350">f_nd</a></span> : {<span class="kwd">in</span> `[0, +<span class="id">oo</span>[%<span class="id">classic</span> &amp;, {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:2346">x</a></span> <span class="id"><a name="y:2347">y</a></span> / <span class="id">x</span> &lt;= <span class="id">y</span>}}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; (0 &lt; <span class="id">a</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">f</span> <span class="id">a</span>%:<span class="id">E</span>) * <span class="id">mu</span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2351">x</a></span> | (`|<span class="id">g</span> <span class="id">x</span>| &gt;= <span class="id">a</span>%:<span class="id">E</span>)%<span class="id">E</span>]) &lt;= \<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2352">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> `|<span class="id">g</span> <span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Proof.</span></div>
<div class="proofscript" id="proof252">
<span class="id">move</span>=&gt; <span class="id">mg</span> <span class="id">a0</span>; <span class="id">have</span> ? : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2353">x</a></span> | (<span class="id">a</span>%:<span class="id">E</span> &lt;= `|<span class="id">g</span> <span class="id">x</span>|)%<span class="id">E</span>]).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">int</span>[<span class="id">mu</span>]<span class="id">_</span>(<span class="id"><a name="x:2355">x</a></span> <span class="kwd">in</span> <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2354">x</a></span> | `|<span class="id">g</span> <span class="id">x</span>| &gt;= <span class="id">a</span>%:<span class="id">E</span>]) <span class="id">f</span> `|<span class="id">g</span> <span class="id">x</span>|)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id">f0</span> // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id">f0</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /= [<span class="id">Dx</span>]; <span class="id">apply</span>: <span class="id">f_nd</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ltW</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> =&gt; //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id">f0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Close</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ae_measurable_fun">ae_measurable_fun</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2358">d</a></span> (<span class="id"><a name="T:2359">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2360">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2361">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ae_measurable_fun.cmu">cmu</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measure_is_complete">measure_is_complete</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.mu">mu</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ae_measurable_fun.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.T">T</a></span>) (<span class="id"><a name="ae_measurable_fun.f">f</a></span> <span class="id"><a name="ae_measurable_fun.g">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_measurable_fun">ae_measurable_fun</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Proof.</span></div>
<div class="proofscript" id="proof253">
<span class="id">move</span>=&gt; [<span class="id">N</span> [<span class="id">mN</span> <span class="id">N0</span> <span class="id">subN</span>]] <span class="id">mf</span> <span class="id">B</span> <span class="id">mB</span> <span class="id">mD</span>.<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurableE">ErealGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.R">R</a></span>)) =&gt; // <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-].<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> `&amp;` ~` <span class="id">N</span> `&amp;` (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> @^-1` `]<span class="id">x</span>%:<span class="id">E</span>, +<span class="id">oo</span>[)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`|` (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.D">D</a></span> `&amp;` <span class="id">N</span> `&amp;` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> @^-1` `]<span class="id">x</span>%:<span class="id">E</span>, +<span class="id">oo</span>[)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">y</span> /= [<span class="id">Dy</span> <span class="id">gyxoo</span>]|<span class="id">y</span> /= [[[<span class="id">Dy</span> <span class="id">Ny</span>] <span class="id">fyxoo</span>]|]].<br/>
&nbsp;&nbsp;- <span class="id">have</span> [-&gt;|<span class="id">fgy</span>] := <span class="id">eqVneq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id">y</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">yN</span>|<span class="id">yN</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">right</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">yN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">left</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="kwd">in</span> <span class="id">yN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">right</span>; <span class="id">split</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id">subN</span> =&gt; /= /(<span class="id">_</span> <span class="id">Dy</span>); <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;- <span class="id">split</span> =&gt; //; <span class="id">have</span> [&lt;-//|<span class="id">fgy</span>] := <span class="id">eqVneq</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.f">f</a></span> <span class="id">y</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.g">g</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">exfalso</span>; <span class="id">apply</span>/<span class="id">Ny</span>/<span class="id">subN</span> =&gt; /= /(<span class="id">_</span> <span class="id">Dy</span>); <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; [[]].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">mf</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun.cmu">cmu</a></span>; <span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset</a></span>; <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_measurable_fun">ae_measurable_fun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integralD">integralD</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2367">d</a></span> (<span class="id"><a name="T:2368">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2369">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integralD.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.R">R</a></span>}) (<span class="id"><a name="integralD.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.T">T</a></span>) (<span class="id"><a name="integralD.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integralD.f1">f1</a></span> <span class="id"><a name="integralD.f2">f2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.R">R</a></span>).<br/>
<span class="kwd">Hypotheses</span> (<span class="id"><a name="integralD.if1">if1</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span>) (<span class="id"><a name="integralD.if2">if2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integralD.mf1">mf1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Proof.</span></div>
<div class="proofscript" id="proof254">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>. Qed.</div>
<span class="kwd">Let</span> <span class="id"><a name="integralD.mf2">mf2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Proof.</span></div>
<div class="proofscript" id="proof255">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralD">integralD</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2377">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id">x</span> + <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2378">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id">x</span> + \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2379">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Proof.</span></div>
<div class="proofscript" id="proof256">
<span class="id">pose</span> <span class="id">A</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2380">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>].<br/>
<span class="id">pose</span> <span class="id">B</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2381">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>].<br/>
<span class="id">have</span> <span class="id">mA</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fin_num">emeasurable_fin_num</a></span>.<br/>
<span class="id">have</span> <span class="id">mB</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">B</span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fin_num">emeasurable_fin_num</a></span>.<br/>
<span class="id">have</span> <span class="id">mAB</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">A</span> `&amp;` <span class="id">B</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">pose</span> <span class="id">g1</span> := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> \<span class="id">_</span> (<span class="id">A</span> `&amp;` <span class="id">B</span>))%<span class="id">R</span>.<br/>
<span class="id">pose</span> <span class="id">g2</span> := (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> \<span class="id">_</span> (<span class="id">A</span> `&amp;` <span class="id">B</span>))%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">ig1</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g1</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f1">f1</a></span> \<span class="id">_</span> (<span class="id">A</span> `&amp;` <span class="id">B</span>)) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>)=&gt;//; <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id">_</span> <span class="id">_</span>).1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>=&gt;//; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset</a></span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g1</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span> //=; <span class="id">rewrite</span> !/<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">xA</span> <span class="id">f1xfin</span>] <span class="id">_</span>] /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">f1xfin</span>.<br/>
<span class="id">have</span> <span class="id">mg1</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">ig1</span>.<br/>
<span class="id">have</span> <span class="id">ig2</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g2</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.f2">f2</a></span> \<span class="id">_</span> (<span class="id">A</span> `&amp;` <span class="id">B</span>)) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>)=&gt;//; <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id">_</span> <span class="id">_</span>).1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>=&gt;//; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIAC">setIAC</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset</a></span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g2</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span> //=; <span class="id">rewrite</span> !/<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">xB</span> <span class="id">f2xfin</span>] /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>//; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">f2xfin</span>.<br/>
<span class="id">have</span> <span class="id">mg2</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">ig2</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2382">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> (<span class="id">g1</span> \+ <span class="id">g2</span>)%<span class="id">R</span>) <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g1</span>) \+ (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g2</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> + + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f1fin</span> /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f2fin</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> /<span class="id">g1</span> /<span class="id">g2</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> /=; <span class="id">have</span> [|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">xA</span> <span class="id">xB</span>] /=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> /= (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Dx</span>)/= <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>/=.<br/>
- <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g1</span>) \+ (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g2</span>))// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD_EFin">integralD_EFin</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> + + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f1fin</span> /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f2fin</span> /=; <span class="id">rewrite</span> /<span class="id">g1</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [/=|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">B</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> /= (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Dx</span>) /= <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>/=.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#filterS2">filterS2</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if1">if1</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD.if2">if2</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> + + <span class="id">Dx</span> =&gt; /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f1fin</span> /(<span class="id">_</span> <span class="id">Dx</span>) <span class="id">f2fin</span> /=; <span class="id">rewrite</span> /<span class="id">g2</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [/=|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">B</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_and">negb_and</a></span> /= (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Dx</span>) /= <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD">integralD</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integralB">integralB</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2384">d</a></span> (<span class="id"><a name="T:2385">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2386">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integralB.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.R">R</a></span>}) (<span class="id"><a name="integralB.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.T">T</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integralB.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) (<span class="id"><a name="integralB.f1">f1</a></span> <span class="id"><a name="integralB.f2">f2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.R">R</a></span>).<br/>
<span class="kwd">Hypotheses</span> (<span class="id"><a name="integralB.if1">if1</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f1">f1</a></span>) (<span class="id"><a name="integralB.if2">if2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integralB">integralB</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2394">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f1">f1</a></span> \- <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span>) <span class="id">x</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2395">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f1">f1</a></span> <span class="id">x</span> - \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2396">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Proof.</span></div>
<div class="proofscript" id="proof257">
<span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB.f2">f2</a></span>); <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_add_def">integrable_add_def</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD">integralD</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="negligible_integral">negligible_integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2397">d</a></span> (<span class="id"><a name="T:2398">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2399">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mu:2400">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="negligible_integral">negligible_integral</a></span> (<span class="id"><a name="D:2401">D</a></span> <span class="id"><a name="N:2402">N</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.T">T</a></span>) (<span class="id"><a name="f:2403">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.mu">mu</a></span> <span class="id">N</span> = 0 -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2404">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2405">x</a></span> <span class="kwd">in</span> <span class="id">D</span> `\` <span class="id">N</span>) <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
<span class="id">move</span>=&gt; <span class="id">mN</span> <span class="id">mD</span> <span class="id">mf</span> <span class="id">muN0</span>; <span class="id">rewrite</span> [<span class="id">f</span>]<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span> //; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>.<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">mD</span>) =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>.<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">mD</span>) =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> - <span class="id">_</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id">mD</span> <span class="id">mf</span>).<br/>
<span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> <span class="id">mD</span> <span class="id">mf</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral">negligible_integral</a></span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> "<span class="id">ge0_negligible_integral</span>".<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integrable_fune">integrable_fune</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2406">d</a></span> (<span class="id"><a name="T:2407">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2408">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="integrable_fune.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.R">R</a></span>}) (<span class="id"><a name="integrable_fune.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span>) (<span class="id"><a name="integrable_fune.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_fune_lt_pinfty">integral_fune_lt_pinfty</a></span> (<span class="id"><a name="f:2412">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span> <span class="id">f</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2413">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span>) <span class="id">f</span> <span class="id">x</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
<span class="id">move</span>=&gt; <span class="id">intf</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">f</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>//;<br/>
&nbsp;&nbsp;[|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add_pinfty">lte_add_pinfty</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_funepos_lt_pinfty">integral_funepos_lt_pinfty</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">lte_oppl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNye_eq">ltNye_eq</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_fune_fin_num">integral_fune_fin_num</a></span> (<span class="id"><a name="f:2414">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span> <span class="id">f</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2415">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune.D">D</a></span>) <span class="id">f</span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numPlt">fin_numPlt</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_lt_pinfty">integral_fune_lt_pinfty</a></span>// <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span>/= -/(- +<span class="id">oo</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_oppl">lte_oppl</a></span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralN">integralN</a></span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_lt_pinfty">integral_fune_lt_pinfty</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numN">fin_numN</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_neg_fin_num">integrable_neg_fin_num</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_fune">integrable_fune</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_counting">integral_counting</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="integral_counting.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="counting_dirac">counting_dirac</a></span> (<span class="id"><a name="A:2417">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#counting">counting</a></span> <span class="id">A</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:2418">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">d_</span> <span class="id">n</span> <span class="id">A</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
<span class="id">have</span> -&gt; : \<span class="id">sum_</span>(<span class="id"><a name="n:2424">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">d_</span> <span class="id">n</span> <span class="id">A</span> = \<span class="id">esum_</span>(<span class="id"><a name="i:2430">i</a></span> <span class="kwd">in</span> <span class="id">A</span>) \<span class="id">d_</span> <span class="id">i</span> <span class="id">A</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// (<span class="id">_</span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span>] = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>); <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id"><a href="mathcomp.analysis.esum.html#esumID">esumID</a></span> <span class="id">A</span>)// !<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> + <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = 0) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum1">esum1</a></span> =&gt; <span class="id">i</span> <span class="id">Ai</span>; <span class="id">rewrite</span> /= /<span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.measure.html#counting">counting</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> <span class="id">finA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.measure.html#finite_card_dirac">finite_card_dirac</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#infinite_card_dirac">infinite_card_dirac</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="summable_integral_dirac">summable_integral_dirac</a></span> (<span class="id"><a name="a:2432">a</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:2433">n</a></span> &lt;<span class="id">oo</span>) `|\<span class="id">int</span>[\<span class="id">d_</span> <span class="id">n</span>]<span class="id">_x</span> <span class="id">a</span> <span class="id">x</span>| &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
<span class="id">move</span>=&gt; <span class="id">sa</span>.<br/>
<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:2441">i</a></span> &lt;<span class="id">oo</span>) `|<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">a</span> <span class="id">i</span>)|%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; // <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">move</span>: (@<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">sa</span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">a</span> <span class="id">n</span>) =&gt; //= <span class="id">r</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id">mul1r</span>.<br/>
<span class="id">move</span>: (<span class="id">sa</span>); <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span> -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>//; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; // <span class="id">n</span> <span class="id">_</span> /=; <span class="id">case</span>: (<span class="id">a</span> <span class="id">n</span>) =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_count">integral_count</a></span> (<span class="id"><a name="a:2453">a</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#counting">counting</a></span>]<span class="id">_t</span> (<span class="id">a</span> <span class="id">t</span>) = \<span class="id">sum_</span>(<span class="id"><a name="k:2455">k</a></span> &lt;<span class="id">oo</span>) (<span class="id">a</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
<span class="id">move</span>=&gt; <span class="id">sa</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2461">n</a></span> =&gt; [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> \<span class="id">d_</span> <span class="id">n</span>]) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>]<span class="id">_t</span> <span class="id">a</span> <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#counting_dirac">counting_dirac</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_measure_series">integral_measure_series</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2465">n</a></span> =&gt; [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> \<span class="id">d_</span> <span class="id">n</span>]) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)//=.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac</a></span>//= <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; [//|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac</a></span>//= <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> (<span class="id"><a href="mathcomp.analysis.esum.html#summable_pinfty">summable_pinfty</a></span> <span class="id">sa</span>).<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#summable_integral_dirac">summable_integral_dirac</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#summable_funeneg">summable_funeneg</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#summable_integral_dirac">summable_integral_dirac</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#summable_funepos">summable_funepos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_integral_count">ge0_integral_count</a></span> (<span class="id"><a name="a:2468">a</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span>) : (<span class="kwd">forall</span> <span class="id"><a name="k:2469">k</a></span>, 0 &lt;= <span class="id">a</span> <span class="id">k</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#counting">counting</a></span>]<span class="id">_t</span> (<span class="id">a</span> <span class="id">t</span>) = \<span class="id">sum_</span>(<span class="id"><a name="k:2471">k</a></span> &lt;<span class="id">oo</span>) (<span class="id">a</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
<span class="id">move</span>=&gt; <span class="id">sa</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2477">n</a></span> =&gt; [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> \<span class="id">d_</span> <span class="id">n</span>]) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>]<span class="id">_t</span> <span class="id">a</span> <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral">integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#counting_dirac">counting_dirac</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting.R">R</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2481">n</a></span> =&gt; [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> \<span class="id">d_</span> <span class="id">n</span>]) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)//=.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_dirac">integral_dirac</a></span>//= <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_counting">integral_counting</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="subadditive_countable">subadditive_countable</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2484">d</a></span> (<span class="id"><a name="T:2485">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2486">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="subadditive_countable.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_abse">integrable_abse</a></span> (<span class="id"><a name="D:2488">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span>) (<span class="id"><a name="f:2489">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mf</span> <span class="id">foo</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_summable">integrable_summable</a></span> (<span class="id"><a name="F:2490">F</a></span> : (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="g:2491">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>):<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">F</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="k:2492">k</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">F</span> <span class="id">k</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.-<span class="id">integrable</span> (\<span class="id">bigcup_k</span> <span class="id">F</span> <span class="id">k</span>) <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> [<span class="id">set</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>] (<span class="kwd">fun</span> <span class="id"><a name="i:2494">i</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2495">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
<span class="id">move</span>=&gt; <span class="id">tF</span> <span class="id">mF</span> <span class="id">fi</span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> -(<span class="id">_</span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>] = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>); <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>//.<br/>
<span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fi</span>) =&gt; <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigcup">ge0_integral_bigcup</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lee_lim">lee_lim</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum_cond">is_cvg_ereal_nneg_natsum_cond</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_ereal_nneg_natsum_cond">is_cvg_ereal_nneg_natsum_cond</a></span> =&gt; <span class="id">n</span> <span class="id">_</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> =&gt; <span class="id">m</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">fi</span>) =&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>|].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_sup">bigcup_sup</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_bigcup">integral_bigcup</a></span> (<span class="id"><a name="F:2496">F</a></span> : (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">_</span>)^<span class="id">nat</span>) (<span class="id"><a name="g:2497">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">F</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="k:2498">k</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">F</span> <span class="id">k</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>.-<span class="id">integrable</span> (\<span class="id">bigcup_k</span> <span class="id">F</span> <span class="id">k</span>) <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2501">x</a></span> <span class="kwd">in</span> \<span class="id">bigcup_i</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:2502">i</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2505">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span> <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
<span class="id">move</span>=&gt; <span class="id">tF</span> <span class="id">mF</span> <span class="id">fi</span>.<br/>
<span class="id">have</span> ? : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2511">x</a></span> <span class="kwd">in</span> \<span class="id">bigcup_i</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_absl">lte_absl</a></span> <span class="id">_</span> +<span class="id">oo</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">fi</span>).2; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">fi</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2513">x</a></span> <span class="kwd">in</span> \<span class="id">bigcup_i</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span>^\+ <span class="id">x</span> -<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2515">x</a></span> <span class="kwd">in</span> \<span class="id">bigcup_i</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span>^\- <span class="id">x</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span> <span class="id">Ft</span>; <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> <span class="id">g</span>).<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:2520">i</a></span> &lt;<span class="id">oo</span>) (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2523">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span>^\+ <span class="id">x</span> -<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2524">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span>^\- <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; // <span class="id">i</span>; <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>.<br/>
<span class="id">transitivity</span> ((\<span class="id">sum_</span>(<span class="id"><a name="i:2540">i</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2543">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span>^\+ <span class="id">x</span>) -<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:2548">i</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2551">x</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">g</span>^\- <span class="id">x</span>))%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigcup">ge0_integral_bigcup</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_bigcup">ge0_integral_bigcup</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>].<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> - <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> - <span class="id">X</span>]<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_true">set_true</a></span> -<span class="id"><a href="mathcomp.analysis.esum.html#esumB">esumB</a></span>//=; <span class="id">last</span> 4 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_summable">integrable_summable</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_summable">integrable_summable</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableN">integrableN</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable_eseries">summable_eseries</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.esum.html#summable">summable</a></span> <span class="id">_</span> <span class="id">X</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_summable">integrable_summable</a></span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> - <span class="id">_</span>)%<span class="id">E</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set_true">set_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subadditive_countable">subadditive_countable</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="dominated_convergence_lemma">dominated_convergence_lemma</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2575">d</a></span> (<span class="id"><a name="T:2576">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2577">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="dominated_convergence_lemma.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>}) (<span class="id"><a name="dominated_convergence_lemma.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span>) (<span class="id"><a name="dominated_convergence_lemma.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="dominated_convergence_lemma.f_">f_</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="dominated_convergence_lemma.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>) (<span class="id"><a name="dominated_convergence_lemma.g">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.R">R</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_lemma.mf_">mf_</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:2584">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_lemma.f_f">f_f</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:2586">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> ^~ <span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_lemma.fing">fing</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:2588">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_lemma.ig">ig</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_lemma.absfg">absfg</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:2591">n</a></span> <span class="id"><a name="x:2592">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>| &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.g0">g0</a></span> <span class="id"><a name="x:2594">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof268')">Proof.</span></div>
<div class="proofscript" id="proof268">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">_</span> <span class="id">Dx</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof269')">Proof.</span></div>
<div class="proofscript" id="proof269">
 <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mf_">mf_</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>). Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="dominated_integrable">dominated_integrable</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof270')">Proof.</span></div>
<div class="proofscript" id="proof270">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //; <span class="id">have</span> <span class="id">Dfg</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; `| <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span> | &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">have</span> /(@<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span>) &lt;- // : `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>| @[<span class="id"><a name="n:2596">n</a></span> --&gt; \<span class="id">oo</span>] --&gt; `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>|.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse">cvg_abse</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvg_abse">is_cvg_abse</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
<span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span> =&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">mg</span>]; <span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span> /=; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0</a></span> <span class="id">Dx</span>)); <span class="id">exact</span>: <span class="id">Dfg</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a name="n:2597">n</a></span> <span class="id"><a name="x:2598">x</a></span> := `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>|.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.cvg_g_">cvg_g_</a></span> <span class="id"><a name="x:2599">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> ^~ <span class="id">x</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof271')">Proof.</span></div>
<div class="proofscript" id="proof271">
<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse">cvg_abse</a></span>.<br/>
<span class="id">move</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span> <span class="id">Dx</span>); <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>) =&gt; [<span class="id">r</span>|/=|/=].<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_r</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvge_sub0">cvge_sub0</a></span>.<br/>
- <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPge">cvgeyPge</a></span>/(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) + 1)%<span class="id">R</span>) =&gt; [<span class="id">n</span> <span class="id">_</span>]/(<span class="id">_</span> <span class="id">_</span> (<span class="id">leqnn</span> <span class="id">n</span>))/= <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) + 1)%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">h</span>)// (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id">n</span> <span class="id">Dx</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span> <span class="id">Dx</span>) =&gt; [<span class="id">r</span> <span class="id">_</span>| |]//; <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_addl">lte_addl</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte01">lte01</a></span>.<br/>
- <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPle">cvgeNyPle</a></span>/(<span class="id">_</span> (- (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) + 1))%<span class="id">R</span>) =&gt; [<span class="id">n</span> <span class="id">_</span>]/(<span class="id">_</span> <span class="id">_</span> (<span class="id">leqnn</span> <span class="id">n</span>)) <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) + 1)%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">le_trans</span> -&gt;//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id">n</span> <span class="id">Dx</span>))// -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span> <span class="id">Dx</span>) =&gt; [<span class="id">r</span> <span class="id">_</span>| |]//; <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_addl">lte_addl</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte01">lte01</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.gg_">gg_</a></span> <span class="id"><a name="n:2600">n</a></span> <span class="id"><a name="x:2601">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= 2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof272')">Proof.</span></div>
<div class="proofscript" id="proof272">
<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subre_ge0">subre_ge0</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span>.<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span> <span class="id">Dx</span>)) -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id">mulr_natl</span> <span class="id">mulr2n</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>))// [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
<span class="id">have</span> <span class="id">f_fx</span> : `|(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>)| @[<span class="id"><a name="n:2602">n</a></span> --&gt; \<span class="id">oo</span>] --&gt; `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>| <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse">cvg_abse</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_f">f_f</a></span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> : (<span class="id">f_fx</span>) =&gt; &lt;-//.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#lime_le">lime_le</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id">f_fx</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">k</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.mgg">mgg</a></span> <span class="id"><a name="n:2603">n</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2604">x</a></span> =&gt; 2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof273')">Proof.</span></div>
<div class="proofscript" id="proof273">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span> =&gt; //; [<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span>)|].<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_lemma.gg_ge0">gg_ge0</a></span> <span class="id"><a name="n:2605">n</a></span> <span class="id"><a name="x:2606">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= 2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof274')">Proof.</span></div>
<div class="proofscript" id="proof274">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.gg_">gg_</a></span>. Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="dominated_cvg0">dominated_cvg0</a></span> : [<span class="id">sequence</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2608">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>]<span class="id">_n</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof275')">Proof.</span></div>
<div class="proofscript" id="proof275">
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fatou">fatou</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mgg">mgg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.gg_ge0">gg_ge0</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt;= <span class="id">_</span> -&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2609">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>) ); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dt</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf_shift">limn_einf_shift</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numM">fin_numM</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.fing">fing</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_einfE">is_cvg_limn_einfE</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgeN">is_cvgeN</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.cvg_g_">cvg_g_</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> + <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = 0) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeN">cvgeN</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.cvg_g_">cvg_g_</a></span>.<br/>
<span class="id">have</span> <span class="id">i2g</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2614">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>)  &lt; +<span class="id">oo</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl">integralZl</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>//; <span class="id">case</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span>) =&gt; <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>; <span class="id">left</span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0</a></span>//; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">Dt</span>.<br/>
<span class="id">have</span> ? : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2615">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>)  \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>// =&gt; ? ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> &lt;= <span class="id">X</span> -&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2616">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>)  + -<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2617">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2618">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = (<span class="kwd">fun</span> <span class="id"><a name="n:2626">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2627">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) (2%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g">g</a></span> <span class="id">x</span>)  +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2628">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0N">integral_ge0N</a></span>// =&gt; <span class="id">x</span> <span class="id">Dx</span>//; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableZl">integrableZl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">have</span> <span class="id">integrable_normfn</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span> <span class="id">_</span> <span class="id">Dx</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2635">x</a></span> =&gt; `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>| + `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>|).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span> <span class="id">_</span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span>; [<span class="kwd">by</span> []| <span class="kwd">by</span> []|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_id">abse_id</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf_shift">limn_einf_shift</a></span> // -<span class="id"><a href="mathcomp.analysis.sequences.html#limn_einfN">limn_einfN</a></span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id"><a href="mathcomp.analysis.sequences.html#limn_einf">limn_einf</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0N">integral_ge0N</a></span>// =&gt; <span class="id">x</span> <span class="id">Dx</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subl_addr">lee_subl_addr</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> =&gt; <span class="id">lim_ge0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup_le_cvg">limn_esup_le_cvg</a></span> =&gt; // <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>// =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="dominated_cvg">dominated_cvg</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:2636">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2637">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>) --&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2638">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof276')">Proof.</span></div>
<div class="proofscript" id="proof276">
<span class="id">have</span> <span class="id">h</span> <span class="id">n</span> : `| \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2640">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span> - \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2641">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2642">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span>)//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.ig">ig</a></span> =&gt; // <span class="id">x</span> <span class="id">Dx</span> /=; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g0">g0</a></span> <span class="id">Dx</span>)) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.absfg">absfg</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">suff</span>: (<span class="kwd">fun</span> <span class="id"><a name="n:2643">n</a></span> =&gt; `| \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2644">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span> - \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2645">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id">x</span> |) --&gt; 0.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_abse0P">cvg_abse0P</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvge_sub0">cvge_sub0</a></span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span> (<span class="id">_</span> : -<span class="id">oo</span> = - +<span class="id">oo</span>)// -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_absl">lte_absl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> =&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[?]; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">le_trans</span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mD">mD</a></span> <span class="id">_</span>)).<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#squeeze_cvge">squeeze_cvge</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0) <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="n:2646">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2647">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>)).<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_ge0">abse_ge0</a></span>//=; <span class="id">exact</span>: <span class="id">h</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_cvg0">dominated_cvg0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_lemma">dominated_convergence_lemma</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span>} <span class="id">_</span> <span class="id">f_</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="dominated_convergence_theorem">dominated_convergence_theorem</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2650">d</a></span> (<span class="id"><a name="T:2651">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2652">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="dominated_convergence_theorem.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>}) (<span class="id"><a name="dominated_convergence_theorem.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span>) (<span class="id"><a name="dominated_convergence_theorem.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="dominated_convergence_theorem.f_">f_</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="dominated_convergence_theorem.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>) (<span class="id"><a name="dominated_convergence_theorem.g">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.R">R</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_theorem.mf_">mf_</a></span> : <span class="kwd">forall</span> <span class="id"><a name="n:2659">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_theorem.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_theorem.f_f">f_f</a></span> : {<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:2662">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> ^~ <span class="id">x</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id">x</span>}.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_theorem.ig">ig</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="dominated_convergence_theorem.f_g">f_g</a></span> : {<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:2665">x</a></span> <span class="id"><a name="n:2666">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>| &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span> <span class="id">x</span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="dominated_convergence_theorem.g_">g_</a></span> <span class="id"><a name="n:2668">n</a></span> <span class="id"><a name="x:2669">x</a></span> := `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id">x</span>|.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="dominated_convergence">dominated_convergence</a></span> : [/\ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span>,<br/>
&nbsp;&nbsp;[<span class="id">sequence</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2671">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g_">g_</a></span> <span class="id">n</span> <span class="id">x</span>)]<span class="id">_n</span> --&gt; 0 &amp;<br/>
&nbsp;&nbsp;[<span class="id">sequence</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2673">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span> <span class="id">x</span>)]<span class="id">_n</span> --&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2674">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> <span class="id">x</span>) ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof277')">Proof.</span></div>
<div class="proofscript" id="proof277">
<span class="id">have</span> [<span class="id">N1</span> [<span class="id">mN1</span> <span class="id">N10</span> <span class="id">subN1</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_f">f_f</a></span>.<br/>
<span class="id">have</span> [<span class="id">N2</span> [<span class="id">mN2</span> <span class="id">N20</span> <span class="id">subN2</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_g">f_g</a></span>.<br/>
<span class="id">have</span> [<span class="id">N3</span> [<span class="id">mN3</span> <span class="id">N30</span> <span class="id">subN3</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.ig">ig</a></span>.<br/>
<span class="id">pose</span> <span class="id">N</span> := <span class="id">N1</span> `|` <span class="id">N2</span> `|` <span class="id">N3</span>.<br/>
<span class="id">have</span> <span class="id">mN</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">N</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">have</span> <span class="id">N0</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span> <span class="id">N</span> = 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#null_set_setU">null_set_setU</a></span>// ?<span class="id"><a href="mathcomp.analysis.measure.html#null_set_setU">null_set_setU</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">pose</span> <span class="id">f</span>' := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f">f</a></span> \<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> `\` <span class="id">N</span>); <span class="id">pose</span> <span class="id">g</span>' := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span> \<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> `\` <span class="id">N</span>).<br/>
<span class="id">pose</span> <span class="id">f_</span>' := <span class="kwd">fun</span> <span class="id"><a name="n:2675">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span> \<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> `\` <span class="id">N</span>).<br/>
<span class="id">have</span> <span class="id">f_f</span>' <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">f_</span>' ^~ <span class="id">x</span> --&gt; <span class="id">f</span>' <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> /<span class="id">f_</span>' /<span class="id">f</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//=.<br/>
&nbsp;&nbsp;<span class="id">have</span> [/= <span class="id">xN</span>|/= <span class="id">xN</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">N</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contraPP">contraPP</a></span> (<span class="id">xN</span>) =&gt; <span class="id">h</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">left</span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">subN1</span> =&gt; /= /(<span class="id">_</span> <span class="id">Dx</span>); <span class="id">exact</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> <span class="id">h</span>.<br/>
<span class="id">have</span> <span class="id">f_g</span>' <span class="id">n</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; `|<span class="id">f_</span>' <span class="id">n</span> <span class="id">x</span>| &lt;= <span class="id">g</span>' <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> /<span class="id">f_</span>' /<span class="id">g</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//=.<br/>
&nbsp;&nbsp;<span class="id">have</span> [/=|/= <span class="id">xN</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">N</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> =&gt; <span class="id">fg</span>; <span class="id">move</span>: <span class="id">xN</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">left</span>; <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">subN2</span> =&gt; /= /(<span class="id">_</span> <span class="id">n</span> <span class="id">Dx</span>).<br/>
<span class="id">have</span> <span class="id">mu_</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> (<span class="id">f_</span>' <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.f_">f_</a></span> <span class="id">n</span>) (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">mN</span>) <span class="id">_</span> <span class="id">_</span>).1 =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mf_">mf_</a></span> <span class="id">_</span>) =&gt; // <span class="id">x</span> [].<br/>
<span class="id">have</span> <span class="id">ig</span>' : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">g</span>'.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_mkcond">integrable_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g">g</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">mN</span>)).1.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.ig">ig</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">have</span> <span class="id">finv</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">g</span>' <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> /<span class="id">g</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setD">in_setD</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//=.<br/>
&nbsp;&nbsp;<span class="id">have</span> [//|<span class="id">xN</span> /=] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span> =&gt; <span class="id">fing</span>; <span class="id">move</span>: <span class="id">xN</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">subN3</span> =&gt; /= /(<span class="id">_</span> <span class="id">Dx</span>).<br/>
<span class="id">split</span>.<br/>
- <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="kwd">if</span>' : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.D">D</a></span> <span class="id">f</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_integrable">dominated_integrable</a></span> <span class="id">_</span> <span class="id">f_</span>' <span class="id">_</span> <span class="id">g</span>').<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="kwd">if</span>' =&gt; [?]; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">le_eqVlt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>; <span class="id">left</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>|].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> =&gt; <span class="id">x</span> <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
- <span class="id">have</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_cvg0">dominated_cvg0</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mu_</span> <span class="id">f_f</span>' <span class="id">finv</span> <span class="id">ig</span>' <span class="id">f_g</span>'.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">X</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> -&gt; <span class="id">X</span> --&gt; <span class="id">_</span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span> -&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">X</span>) //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span>).1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span>) =&gt; // <span class="id">x</span> [].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.g_">g_</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> =&gt; <span class="id">x</span> /= <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span>' /<span class="id">f</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
- <span class="id">have</span> := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_cvg">dominated_cvg</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mu_</span> <span class="id">f_f</span>' <span class="id">finv</span> <span class="id">ig</span>' <span class="id">f_g</span>'.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">X</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> -&gt; <span class="id">X</span> --&gt; <span class="id">_</span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> --&gt; <span class="id">_</span> -&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">X</span>) //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> =&gt; <span class="id">x</span> /= <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f_</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">Y</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> -&gt; <span class="id">_</span> --&gt; <span class="id">X</span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span> -&gt; <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">Y</span>) //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span>).1 =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem.mD">mD</a></span>) =&gt; // <span class="id">x</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">N</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">N</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> =&gt; <span class="id">x</span> /= <span class="id">Nx</span> <span class="id">Dx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f</span>' /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence_theorem">dominated_convergence_theorem</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ae_ge0_le_integral">ae_ge0_le_integral</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2687">d</a></span> (<span class="id"><a name="T:2688">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2689">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ae_ge0_le_integral.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.R">R</a></span>}.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ae_ge0_le_integral.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.T">T</a></span>) (<span class="id"><a name="ae_ge0_le_integral.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="ae_ge0_le_integral.f1">f1</a></span> <span class="id"><a name="ae_ge0_le_integral.f2">f2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.R">R</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ae_ge0_le_integral.f10">f10</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:2695">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ae_ge0_le_integral.mf1">mf1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ae_ge0_le_integral.f20">f20</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:2698">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="ae_ge0_le_integral.mf2">mf2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_ge0_le_integral">ae_ge0_le_integral</a></span> : {<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mu">mu</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:2701">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span> <span class="id">x</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2702">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f1">f1</a></span> <span class="id">x</span> &lt;= \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2703">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.D">D</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f2">f2</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof278')">Proof.</span></div>
<div class="proofscript" id="proof278">
<span class="id">move</span>=&gt; [<span class="id">N</span> [<span class="id">mN</span> <span class="id">muN</span> <span class="id">f1f2N</span>]]; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN</span>)//.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_negligible_integral">ge0_negligible_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">muN</span>)//.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> [<span class="id">Dt</span> <span class="id">_</span>]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f10">f10</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mf1">mf1</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> [<span class="id">Dt</span> <span class="id">_</span>]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.f20">f20</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral.mf2">mf2</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> [<span class="id">Dt</span> <span class="id">Nt</span>]; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetCl">subsetCl</a></span> : <span class="id">f1f2N</span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral">ae_ge0_le_integral</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_bounded">integral_bounded</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2704">d</a></span> {<span class="id"><a name="T:2705">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>} {<span class="id"><a name="R:2706">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="integral_bounded.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.R">R</a></span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_le_bound">integral_le_bound</a></span> (<span class="id"><a name="D:2708">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.T">T</a></span>) (<span class="id"><a name="f:2709">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.R">R</a></span>) (<span class="id"><a name="M:2710">M</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; 0 &lt;= <span class="id">M</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.mu">mu</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:2711">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>} -&gt;<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2712">x</a></span> <span class="kwd">in</span> <span class="id">D</span>) `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded.mu">mu</a></span> <span class="id">D</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof279')">Proof.</span></div>
<div class="proofscript" id="proof279">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">mf</span> <span class="id">M0</span> <span class="id">dfx</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_ge0_le_integral">ae_ge0_le_integral</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_bounded">integral_bounded</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">mu</span> <span class="id">D</span> <span class="id">f</span>} <span class="id">M</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="integral_ae_eq">integral_ae_eq</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2713">d</a></span> (<span class="id"><a name="T:2714">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2715">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="mu:2716">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>}).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="integral_ae_eq.integral_measure_lt">integral_measure_lt</a></span> (<span class="id"><a name="D:2717">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span>) (<span class="id"><a name="mD:2718">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="g:2719">g</a></span> <span class="id"><a name="f:2720">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="E:2721">E</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2722">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2723">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id">g</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2724">x</a></span> | <span class="id">g</span> <span class="id">x</span> &lt; <span class="id">f</span> <span class="id">x</span>]) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof280')">Proof.</span></div>
<div class="proofscript" id="proof280">
<span class="id">move</span>=&gt; <span class="id">itf</span> <span class="id">itg</span> <span class="id">fg</span>; <span class="id">pose</span> <span class="id">E</span> <span class="id"><a name="j:2725">j</a></span> := <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2726">x</a></span> | <span class="id">f</span> <span class="id">x</span> - <span class="id">g</span> <span class="id">x</span> &gt;= <span class="id">j</span>.+1%:<span class="id">R</span>^-1%:<span class="id">E</span>].<br/>
<span class="id">have</span> <span class="id">msf</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">itf</span>.<br/>
<span class="id">have</span> <span class="id">msg</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">itg</span>.<br/>
<span class="id">have</span> <span class="id">mE</span> <span class="id">j</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">E</span> <span class="id">j</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">E</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_le">emeasurable_fun_le</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span> <span class="id">msf</span>)/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">case</span>: <span class="id">mg</span>.<br/>
<span class="id">have</span> <span class="id">muE</span> <span class="id">j</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">E</span> <span class="id">j</span>) = 0.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.measure.html#measure_le0">measure_le0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fg0</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2729">x</a></span> <span class="kwd">in</span> <span class="id">E</span> <span class="id">j</span>) (<span class="id">f</span> \- <span class="id">g</span>) <span class="id">x</span> = 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">itf</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">itg</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fg</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">msg</span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">itg</span>).2; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#subset_integral">subset_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">E</span> <span class="id">j</span>) &lt;= <span class="id">j</span>.+1%:<span class="id">R</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2730">x</a></span> <span class="kwd">in</span> <span class="id">E</span> <span class="id">j</span>) (<span class="id">f</span> \- <span class="id">g</span>) <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fg0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">j</span>.+1%:<span class="id">R</span>%:<span class="id">E</span> * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2731">x</a></span> <span class="kwd">in</span> <span class="id">E</span> <span class="id">j</span>) <span class="id">j</span>.+1%:<span class="id">R</span>^-1%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleA">muleA</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id">divrr</span> ?<span class="id">unitfE</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pmul">lee_pmul</a></span>//; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //; [| |<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> []].<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> [<span class="id">_</span>/=]; <span class="id">exact</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">msf</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">msg</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
<span class="id">have</span> <span class="id">nd_E</span> : {<span class="id">homo</span> <span class="id">E</span> : <span class="id"><a name="n0:2733">n0</a></span> <span class="id"><a name="m:2734">m</a></span> / (<span class="id">n0</span> &lt;= <span class="id">m</span>)%<span class="id">N</span> &gt;-&gt; (<span class="id">n0</span> &lt;= <span class="id">m</span>)%<span class="id">O</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">ij</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span> =&gt; <span class="id">x</span> [<span class="id">Dx</span> /= <span class="id">ifg</span>]; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">ifg</span>; <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">lef_pinv</span>// ?<span class="id">posrE</span>// <span class="id">ler_nat</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#set_lte_bigcup">set_lte_bigcup</a></span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">h1</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> \<span class="id">o</span> <span class="id">E</span> --&gt; 0 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_near_cst">cvg_near_cst</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span>.<br/>
<span class="id">have</span> := @<span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> <span class="id">E</span> <span class="id">mE</span> (<span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">E</span> <span class="id">mE</span>) <span class="id">nd_E</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; <span class="id">h2</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span> -<span class="id">h2</span>// <span class="id">h1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integral_ae_eq">integral_ae_eq</a></span> (<span class="id"><a name="D:2737">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span>) (<span class="id"><a name="mD:2738">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>) (<span class="id"><a name="g:2739">g</a></span> <span class="id"><a name="f:2740">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="E:2741">E</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2742">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id">f</span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="x:2743">x</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id">g</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq">ae_eq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> <span class="id">D</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof281')">Proof.</span></div>
<div class="proofscript" id="proof281">
<span class="id">move</span>=&gt; <span class="id">fi</span> <span class="id">mg</span> <span class="id">fg</span>; <span class="id">have</span> <span class="id">mf</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id">fi</span>; <span class="id">have</span> <span class="id">gi</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">D</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#abse_integralP">abse_integralP</a></span> =&gt; //; <span class="id">rewrite</span> -<span class="id">fg</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#abse_integralP">abse_integralP</a></span> =&gt; //; <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> : <span class="id">fi</span>.<br/>
<span class="id">have</span> <span class="id">mugf</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2744">x</a></span> | <span class="id">g</span> <span class="id">x</span> &lt; <span class="id">f</span> <span class="id">x</span>]) = 0 <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.integral_measure_lt">integral_measure_lt</a></span>.<br/>
<span class="id">have</span> <span class="id">mufg</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.mu">mu</a></span> (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2745">x</a></span> | <span class="id">f</span> <span class="id">x</span> &lt; <span class="id">g</span> <span class="id">x</span>]) = 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq.integral_measure_lt">integral_measure_lt</a></span> =&gt; // <span class="id">E</span> <span class="id">mE</span>; <span class="id">rewrite</span> <span class="id">fg</span>.<br/>
<span class="id">have</span> <span class="id">h</span> : ~` [<span class="id">set</span> <span class="id"><a name="x:2746">x</a></span> | <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id">g</span> <span class="id">x</span>] = <span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:2747">x</a></span> | <span class="id">f</span> <span class="id">x</span> != <span class="id">g</span> <span class="id">x</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">x</span>/= /<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>[? /<span class="id">eqP</span>]//|<span class="id">x</span>/= [<span class="id">Dx</span> <span class="id">fgx</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_implyP">not_implyP</a></span>; <span class="id">split</span> =&gt; //; <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#negligibleP">negligibleP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">h</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_neq">emeasurable_fun_neq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">h</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_neq_lt">set_neq_lt</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> + <span class="id">_</span>]<span class="id">mufg</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">mugf</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_lt">emeasurable_fun_lt</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_lt">emeasurable_fun_lt</a></span>.<br/>
- <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">x</span> [[<span class="id">Dx</span>/= + [<span class="id">_</span>]]]|//].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">lt_trans</span> =&gt; /[<span class="id">apply</span>]; <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ae_eq">integral_ae_eq</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Product measure                                                         
</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_section">measurable_section</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2749">d1</a></span> <span class="id"><a name="d2:2750">d2</a></span> (<span class="id"><a name="T1:2751">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2752">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2753">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.T2">T2</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_xsection">measurable_xsection</a></span> <span class="id"><a name="A:2754">A</a></span> <span class="id"><a name="x:2755">x</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof282')">Proof.</span></div>
<div class="proofscript" id="proof282">
<span class="id">move</span>=&gt; <span class="id">mA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#xsection_indic">xsection_indic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.R">R</a></span>) -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id">_</span> @^-1` <span class="id">_</span>)).<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_ysection">measurable_ysection</a></span> <span class="id"><a name="A:2756">A</a></span> <span class="id"><a name="y:2757">y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span> <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof283')">Proof.</span></div>
<div class="proofscript" id="proof283">
<span class="id">move</span>=&gt; <span class="id">mA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.numfun.html#ysection_indic">ysection_indic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section.R">R</a></span>) -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id">_</span> @^-1` <span class="id">_</span>)).<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_section">measurable_section</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ndseq_closed_B">ndseq_closed_B</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2758">d1</a></span> <span class="id"><a name="d2:2759">d2</a></span> (<span class="id"><a name="T1:2760">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2761">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2762">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ndseq_closed_B.xsection">xsection</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="ndseq_closed_B.xsection.pt2">pt2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T2">T2</a></span>) (<span class="id"><a name="ndseq_closed_B.xsection.m2">m2</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T1">T1</a></span> -&gt; {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.R">R</a></span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="ndseq_closed_B.xsection.phi">phi</a></span> <span class="id"><a name="A:2765">A</a></span> <span class="id"><a name="x:2766">x</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.m2">m2</a></span> <span class="id">x</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id">x</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="ndseq_closed_B.xsection.B">B</a></span> := [<span class="id">set</span> <span class="id"><a name="A:2767">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> <span class="id">A</span>)].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="xsection_ndseq_closed">xsection_ndseq_closed</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#ndseq_closed">ndseq_closed</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof284')">Proof.</span></div>
<div class="proofscript" id="proof284">
<span class="id">move</span>=&gt; <span class="id">F</span> <span class="id">ndF</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.B">B</a></span> /= =&gt; <span class="id">BF</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">n</span>; <span class="id">have</span> [] := <span class="id">BF</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">phiF</span> <span class="id">x</span> : (<span class="kwd">fun</span> <span class="id"><a name="i:2769">i</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> (<span class="id">F</span> <span class="id">i</span>) <span class="id">x</span>) --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> (\<span class="id">bigcup_i</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_bigcup">xsection_bigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>; <span class="id">case</span>: (<span class="id">BF</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">i</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>; <span class="id">case</span>: (<span class="id">BF</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#le_xsection">le_xsection</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">ndF</span>.<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection.phi">phi</a></span> \<span class="id">o</span> <span class="id">F</span>)) =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">have</span> [] := <span class="id">BF</span> <span class="id">i</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">phiF</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.xsection">xsection</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ndseq_closed_B.ysection">ysection</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ndseq_closed_B.ysection.m1">m1</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.R">R</a></span>}.<br/>
<span class="kwd">Let</span> <span class="id"><a name="ndseq_closed_B.ysection.psi">psi</a></span> <span class="id"><a name="A:2772">A</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.m1">m1</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="ndseq_closed_B.ysection.B">B</a></span> := [<span class="id">set</span> <span class="id"><a name="A:2773">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> <span class="id">A</span>)].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ysection_ndseq_closed">ysection_ndseq_closed</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#ndseq_closed">ndseq_closed</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof285')">Proof.</span></div>
<div class="proofscript" id="proof285">
<span class="id">move</span>=&gt; <span class="id">F</span> <span class="id">ndF</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.B">B</a></span> /= =&gt; <span class="id">BF</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">n</span>; <span class="id">have</span> [] := <span class="id">BF</span> <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">psiF</span> <span class="id">x</span> : (<span class="kwd">fun</span> <span class="id"><a name="i:2775">i</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> (<span class="id">F</span> <span class="id">i</span>) <span class="id">x</span>) --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> (\<span class="id">bigcup_i</span> <span class="id">F</span> <span class="id">i</span>) <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection_bigcup">ysection_bigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>; <span class="id">case</span>: (<span class="id">BF</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">i</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>; <span class="id">case</span>: (<span class="id">BF</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#le_ysection">le_ysection</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">ndF</span>.<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection.psi">psi</a></span> \<span class="id">o</span> <span class="id">F</span>)) =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">have</span> [] := <span class="id">BF</span> <span class="id">i</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">psiF</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B.ysection">ysection</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ndseq_closed_B">ndseq_closed_B</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_prod_subset">measurable_prod_subset</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2777">d1</a></span> <span class="id"><a name="d2:2778">d2</a></span> (<span class="id"><a name="T1:2779">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2780">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2781">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_prod_subset.xsection">xsection</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="measurable_prod_subset.xsection.m2">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.R">R</a></span>}) (<span class="id"><a name="measurable_prod_subset.xsection.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T2">T2</a></span>) (<span class="id"><a name="measurable_prod_subset.xsection.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_prod_subset.xsection.m2D">m2D</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.mD">mD</a></span>.<br/>
<span class="id"><a name="HB_unnamed_factory_118">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_prod_subset.xsection.phi">phi</a></span> <span class="id"><a name="A:2785">A</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_prod_subset.xsection.B">B</a></span> := [<span class="id">set</span> <span class="id"><a name="A:2786">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> <span class="id">A</span>)].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_prod_subset_xsection">measurable_prod_subset_xsection</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="m2D_bounded:2789">m2D_bounded</a></span> : <span class="kwd">exists</span> <span class="id"><a name="M:2787">M</a></span>, <span class="kwd">forall</span> <span class="id"><a name="X:2788">X</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> <span class="id">X</span> &lt; <span class="id">M</span>%:<span class="id">E</span>)%<span class="id">E</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof286')">Proof.</span></div>
<div class="proofscript" id="proof286">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> := [<span class="id">set</span> <span class="id">A1</span> `*` <span class="id">A2</span> | <span class="id"><a name="A1:2790">A1</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> &amp; <span class="id"><a name="A2:2791">A2</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span>].<br/>
<span class="id">have</span> <span class="id">CI</span> : <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">X</span> <span class="id">Y</span> [<span class="id">X1</span> <span class="id">mX1</span> [<span class="id">X2</span> <span class="id">mX2</span> &lt;-{<span class="id">X</span>}]] [<span class="id">Y1</span> <span class="id">mY1</span> [<span class="id">Y2</span> <span class="id">mY2</span> &lt;-{<span class="id">Y</span>}]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">X1</span> `&amp;` <span class="id">Y1</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">X2</span> `&amp;` <span class="id">Y2</span>); [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI</a></span>].<br/>
<span class="id">have</span> <span class="id">CT</span> : <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CB</span> : <span class="id">C</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.B">B</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">X</span> [<span class="id">X1</span> <span class="id">mX1</span> [<span class="id">X2</span> <span class="id">mX2</span> &lt;-{<span class="id">X</span>}]]; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> (<span class="id">X1</span> `*` <span class="id">X2</span>) = (<span class="kwd">fun</span> <span class="id"><a name="x:2796">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> <span class="id">X2</span> * (\1<span class="id">_X1</span> <span class="id">x</span>)%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2">m2</a></span>/= /<span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">xX1</span>|<span class="id">xX1</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">X1</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">suff</span> <span class="id">monoB</span> : <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.B">B</a></span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> =&gt; //; [<span class="id">exact</span>: <span class="id">CB</span>| |<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed</a></span>].<br/>
<span class="id">move</span>=&gt; <span class="id">X</span> <span class="id">Y</span> <span class="id">XY</span> [<span class="id">mX</span> <span class="id">mphiX</span>] [<span class="id">mY</span> <span class="id">mphiY</span>]; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> (<span class="id">X</span> `\` <span class="id">Y</span>) = (<span class="kwd">fun</span> <span class="id"><a name="x:2797">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> <span class="id">X</span> <span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span> <span class="id">Y</span> <span class="id">x</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.phi">phi</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionD">xsectionD</a></span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection.m2D">m2D</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#le_xsection">le_xsection</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>: <span class="id">m2D_bounded</span> =&gt; [<span class="id">M</span> <span class="id">m2M</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">lt_le_trans</span> (<span class="id">m2M</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">X</span> <span class="id">x</span>) <span class="id">_</span>))// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.xsection">xsection</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_prod_subset.ysection">ysection</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="measurable_prod_subset.ysection.m1">m1</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.R">R</a></span>}) (<span class="id"><a name="measurable_prod_subset.ysection.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.T1">T1</a></span>) (<span class="id"><a name="measurable_prod_subset.ysection.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_prod_subset.ysection.m1D">m1D</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.mD">mD</a></span>.<br/>
<span class="id"><a name="HB_unnamed_factory_123">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_prod_subset.ysection.psi">psi</a></span> <span class="id"><a name="A:2801">A</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_prod_subset.ysection.B">B</a></span> := [<span class="id">set</span> <span class="id"><a name="A:2802">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">A</span>)].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_prod_subset_ysection">measurable_prod_subset_ysection</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="m1_bounded:2805">m1_bounded</a></span> : <span class="kwd">exists</span> <span class="id"><a name="M:2803">M</a></span>, <span class="kwd">forall</span> <span class="id"><a name="X:2804">X</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> <span class="id">X</span> &lt; <span class="id">M</span>%:<span class="id">E</span>)%<span class="id">E</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.B">B</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof287')">Proof.</span></div>
<div class="proofscript" id="proof287">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> := [<span class="id">set</span> <span class="id">A1</span> `*` <span class="id">A2</span> | <span class="id"><a name="A1:2806">A1</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> &amp; <span class="id"><a name="A2:2807">A2</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span>].<br/>
<span class="id">have</span> <span class="id">CI</span> : <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">X</span> <span class="id">Y</span> [<span class="id">X1</span> <span class="id">mX1</span> [<span class="id">X2</span> <span class="id">mX2</span> &lt;-{<span class="id">X</span>}]] [<span class="id">Y1</span> <span class="id">mY1</span> [<span class="id">Y2</span> <span class="id">mY2</span> &lt;-{<span class="id">Y</span>}]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">X1</span> `&amp;` <span class="id">Y1</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">X2</span> `&amp;` <span class="id">Y2</span>); [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI</a></span>].<br/>
<span class="id">have</span> <span class="id">CT</span> : <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> =&gt; //; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CB</span> : <span class="id">C</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.B">B</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">X</span> [<span class="id">X1</span> <span class="id">mX1</span> [<span class="id">X2</span> <span class="id">mX2</span> &lt;-{<span class="id">X</span>}]]; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> (<span class="id">X1</span> `*` <span class="id">X2</span>) = (<span class="kwd">fun</span> <span class="id"><a name="x:2812">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> <span class="id">X1</span> * (\1<span class="id">_X2</span> <span class="id">x</span>)%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1">m1</a></span>/= /<span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">yX2</span>|<span class="id">yX2</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">X2</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_ysectionM">in_ysectionM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_ysectionM">notin_ysectionM</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">suff</span> <span class="id">monoB</span> : <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.B">B</a></span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> =&gt; //; [<span class="id">exact</span>: <span class="id">CB</span>| |<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ysection_ndseq_closed">ysection_ndseq_closed</a></span>].<br/>
<span class="id">move</span>=&gt; <span class="id">X</span> <span class="id">Y</span> <span class="id">XY</span> [<span class="id">mX</span> <span class="id">mphiX</span>] [<span class="id">mY</span> <span class="id">mphiY</span>]; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">_</span> = (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">X</span> \- <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span> <span class="id">Y</span>)%<span class="id">E</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.psi">psi</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#ysectionD">ysectionD</a></span>// /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection.m1D">m1D</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#le_ysection">le_ysection</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
- <span class="id">have</span> [<span class="id">M</span> <span class="id">m1M</span>] := <span class="id">m1_bounded</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">lt_le_trans</span> (<span class="id">m1M</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">X</span> <span class="id">y</span>) <span class="id">_</span>))// ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset.ysection">ysection</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset">measurable_prod_subset</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2813">d1</a></span> <span class="id"><a name="d2:2814">d2</a></span> (<span class="id"><a name="T1:2815">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2816">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2817">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="measurable_fun_xsection.m2">m2</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.R">R</a></span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_fun_xsection.phi">phi</a></span> <span class="id"><a name="A:2819">A</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_fun_xsection.B">B</a></span> := [<span class="id">set</span> <span class="id"><a name="A:2820">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.phi">phi</a></span> <span class="id">A</span>)].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_xsection">measurable_fun_xsection</a></span> <span class="id"><a name="A:2821">A</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.phi">phi</a></span> <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof288')">Proof.</span></div>
<div class="proofscript" id="proof288">
<span class="id">move</span>: <span class="id">A</span>; <span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.B">B</a></span> <span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">A</span> =&gt; /[<span class="id">apply</span>] -[].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteP">sigma_finiteP</a></span> [<span class="id">F</span> <span class="id">F_T</span> [<span class="id">F_nd</span> <span class="id">F_oo</span>]] := <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> =&gt; <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">X</span> = \<span class="id">bigcup_n</span> (<span class="id">X</span> `&amp;` (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> `*` <span class="id">F</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setM_bigcupr">setM_bigcupr</a></span> -<span class="id">F_T</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setSM">setSM</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">F_nd</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> -/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.B">B</a></span>; <span class="id">have</span> [? ?] := <span class="id">F_oo</span> <span class="id">n</span>.<br/>
<span class="id">pose</span> <span class="id">m2Fn</span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> (<span class="id">F_oo</span> <span class="id">n</span>).1].<br/>
<span class="id">have</span> <span class="id">m2Fn_bounded</span> : <span class="kwd">exists</span> <span class="id"><a name="M:2823">M</a></span>, <span class="kwd">forall</span> <span class="id"><a name="X:2824">X</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span> -&gt; (<span class="id">m2Fn</span> <span class="id">X</span> &lt; <span class="id">M</span>%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">m2Fn</span> (<span class="id">F</span> <span class="id">n</span>)) + 1) =&gt; <span class="id">Y</span> <span class="id">mY</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_spadder">lte_spadder</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>//= /<span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= /<span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">pose</span> <span class="id">phi</span>' <span class="id"><a name="A:2825">A</a></span> := <span class="id">m2Fn</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span>.<br/>
<span class="id">pose</span> <span class="id">B</span>' := [<span class="id">set</span> <span class="id"><a name="A:2826">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">phi</span>' <span class="id">A</span>)].<br/>
<span class="id">have</span> <span class="id">subset_B</span>' : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `&lt;=` <span class="id">B</span>' <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset_xsection">measurable_prod_subset_xsection</a></span>.<br/>
<span class="id">split</span>=&gt; [|<span class="id">_</span> <span class="id">Y</span> <span class="id">mY</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="id">have</span> [<span class="id">_</span> /(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">Y</span> <span class="id">mY</span>)] := <span class="id">subset_B</span>' <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> -&gt;// : <span class="id">phi</span>' <span class="id">X</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection.m2">m2</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">X</span> `&amp;` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> `*` <span class="id">F</span> <span class="id">n</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> /<span class="id">phi</span>' <span class="id"><a href="mathcomp.classical.classical_sets.html#setTM">setTM</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionI">xsectionI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_preimage_snd">xsection_preimage_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_fun_ysection">measurable_fun_ysection</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2827">d1</a></span> <span class="id"><a name="d2:2828">d2</a></span> (<span class="id"><a name="T1:2829">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2830">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2831">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="measurable_fun_ysection.m1">m1</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.R">R</a></span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_fun_ysection.phi">phi</a></span> <span class="id"><a name="A:2833">A</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="measurable_fun_ysection.B">B</a></span> := [<span class="id">set</span> <span class="id"><a name="A:2834">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.phi">phi</a></span> <span class="id">A</span>)].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_ysection">measurable_fun_ysection</a></span> <span class="id"><a name="A:2835">A</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.phi">phi</a></span> <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof289')">Proof.</span></div>
<div class="proofscript" id="proof289">
<span class="id">move</span>: <span class="id">A</span>; <span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `&lt;=` <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.B">B</a></span> <span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">A</span> =&gt; /[<span class="id">apply</span>] -[].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteP">sigma_finiteP</a></span>[<span class="id">F</span> <span class="id">F_T</span> [<span class="id">F_nd</span> <span class="id">F_oo</span>]] := <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> =&gt; <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">X</span> = \<span class="id">bigcup_n</span> (<span class="id">X</span> `&amp;` (<span class="id">F</span> <span class="id">n</span> `*` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setM_bigcupl">setM_bigcupl</a></span> -<span class="id">F_T</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ysection_ndseq_closed">ysection_ndseq_closed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setSM">setSM</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">F_nd</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> [? ?] := <span class="id">F_oo</span> <span class="id">n</span>; <span class="id">rewrite</span> -/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.B">B</a></span>.<br/>
<span class="id">pose</span> <span class="id">m1Fn</span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> (<span class="id">F_oo</span> <span class="id">n</span>).1].<br/>
<span class="id">have</span> <span class="id">m1Fn_bounded</span> : <span class="kwd">exists</span> <span class="id"><a name="M:2837">M</a></span>, <span class="kwd">forall</span> <span class="id"><a name="X:2838">X</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span> -&gt; (<span class="id">m1Fn</span> <span class="id">X</span> &lt; <span class="id">M</span>%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">m1Fn</span> (<span class="id">F</span> <span class="id">n</span>)) + 1) =&gt; <span class="id">Y</span> <span class="id">mY</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_spadder">lte_spadder</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>// /<span class="id">m1Fn</span>/= /<span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">m1Fn</span>/= /<span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//=; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">pose</span> <span class="id">psi</span>' <span class="id"><a name="A:2839">A</a></span> := <span class="id">m1Fn</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span>.<br/>
<span class="id">pose</span> <span class="id">B</span>' := [<span class="id">set</span> <span class="id"><a name="A:2840">A</a></span> | <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">psi</span>' <span class="id">A</span>)].<br/>
<span class="id">have</span> <span class="id">subset_B</span>' : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `&lt;=` <span class="id">B</span>' <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_prod_subset_ysection">measurable_prod_subset_ysection</a></span>.<br/>
<span class="id">split</span>=&gt; [|<span class="id">_</span> <span class="id">Y</span> <span class="id">mY</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="id">have</span> [<span class="id">_</span> /(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">Y</span> <span class="id">mY</span>)] := <span class="id">subset_B</span>' <span class="id">X</span> <span class="id">mX</span>.<br/>
<span class="id">have</span> -&gt;// : <span class="id">psi</span>' <span class="id">X</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection.m1">m1</a></span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> (<span class="id">X</span> `&amp;` <span class="id">F</span> <span class="id">n</span> `*` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">y</span>/=; <span class="id">rewrite</span> /<span class="id">psi</span>' <span class="id"><a href="mathcomp.classical.classical_sets.html#setMT">setMT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysectionI">ysectionI</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection_preimage_fst">ysection_preimage_fst</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="product_measures">product_measures</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2841">d1</a></span> <span class="id"><a name="d2:2842">d2</a></span> (<span class="id"><a name="T1:2843">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2844">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2845">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Context</span> (<span class="id"><a name="m1:2846">m1</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.R">R</a></span>}) (<span class="id"><a name="m2:2847">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.R">R</a></span>}).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="product_measure1">product_measure1</a></span> := (<span class="kwd">fun</span> <span class="id"><a name="A:2848">A</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.m1">m1</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.m2">m2</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span>) <span class="id">x</span>)%<span class="id">E</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="product_measure2">product_measure2</a></span> := (<span class="kwd">fun</span> <span class="id"><a name="A:2850">A</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.m2">m2</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures.m1">m1</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span>) <span class="id">x</span>)%<span class="id">E</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measures">product_measures</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">m1</span> '\<span class="id">x</span>' <span class="id">m2</span>" := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1">product_measure1</a></span> <span class="id">m1</span> <span class="id">m2</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">m1</span> '\<span class="id">x</span>^' <span class="id">m2</span>" := (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2">product_measure2</a></span> <span class="id">m1</span> <span class="id">m2</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="product_measure1">product_measure1</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2852">d1</a></span> <span class="id"><a name="d2:2853">d2</a></span> (<span class="id"><a name="T1:2854">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2855">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2856">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure1.m1">m1</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure1.m2">m2</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.R">R</a></span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="product_measure1.pm10">pm10</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof290')">Proof.</span></div>
<div class="proofscript" id="proof290">
 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>// =&gt; <span class="id">x</span>/= <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection0">xsection0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="product_measure1.pm1_ge0">pm1_ge0</a></span> <span class="id"><a name="A:2859">A</a></span> : 0 &lt;= (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>) <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof291')">Proof.</span></div>
<div class="proofscript" id="proof291">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // *; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="product_measure1.pm1_sigma_additive">pm1_sigma_additive</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof292')">Proof.</span></div>
<div class="proofscript" id="proof292">
<span class="id">move</span>=&gt; <span class="id">F</span> <span class="id">mF</span> <span class="id">tF</span> <span class="id">mUF</span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:2860">n</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>) (<span class="id">F</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_closeP">cvg_closeP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> =&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_bigcup">xsection_bigcup</a></span>.<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_additive">measure_sigma_additive</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_xsection">trivIset_xsection</a></span> <span class="id">tF</span>)) =&gt; ?.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_130">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.m2">m2</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.pm10">pm10</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.pm1_ge0">pm1_ge0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1.pm1_sigma_additive">pm1_sigma_additive</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1">product_measure1</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="product_measure1E">product_measure1E</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2879">d1</a></span> <span class="id"><a name="d2:2880">d2</a></span> (<span class="id"><a name="T1:2881">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2882">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2883">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure1E.m1">m1</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure1E.m2">m2</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.R">R</a></span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="product_measure1E">product_measure1E</a></span> (<span class="id"><a name="A1:2886">A1</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T1">T1</a></span>) (<span class="id"><a name="A2:2887">A2</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.T2">T2</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A1</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A2</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m2">m2</a></span>) (<span class="id">A1</span> `*` <span class="id">A2</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m1">m1</a></span> <span class="id">A1</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m2">m2</a></span> <span class="id">A2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof293')">Proof.</span></div>
<div class="proofscript" id="proof293">
<span class="id">move</span>=&gt; <span class="id">mA1</span> <span class="id">mA2</span> /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1">product_measure1</a></span> /=.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:2888">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E.m2">m2</a></span> <span class="id">A2</span> * (\1<span class="id">_A1</span> <span class="id">x</span>)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>; <span class="id">have</span> [<span class="id">xA1</span>|<span class="id">xA1</span>] /= := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="product_measure_unique">product_measure_unique</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2891">d1</a></span> <span class="id"><a name="d2:2892">d2</a></span> (<span class="id"><a name="T1:2893">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2894">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2895">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure_unique.m1">m1</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure_unique.m2">m2</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="product_measure_unique">product_measure_unique</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="m':2898">m</a></span>' : {<span class="id">measure</span> <span class="id">set</span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#SemiRingOfSets.Exports.semiRingOfSetsType">semiRingOfSetsType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span>] -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.R">R</a></span>}) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="A1:2899">A1</a></span> <span class="id"><a name="A2:2900">A2</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A1</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span>' (<span class="id">A1</span> `*` <span class="id">A2</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> <span class="id">A1</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span> <span class="id">A2</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="X:2901">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span>), <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span> -&gt; (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>) <span class="id">X</span> = <span class="id">m</span>' <span class="id">X</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof294')">Proof.</span></div>
<div class="proofscript" id="proof294">
<span class="id">move</span>=&gt; <span class="id">m</span>'<span class="id">E</span>; <span class="id">pose</span> <span class="id">m</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1">product_measure1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteP">sigma_finiteP</a></span> [<span class="id">F1</span> <span class="id">F1_T</span> [<span class="id">F1_nd</span> <span class="id">F1_oo</span>]] := <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m1">m1</a></span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteP">sigma_finiteP</a></span> [<span class="id">F2</span> <span class="id">F2_T</span> [<span class="id">F2_nd</span> <span class="id">F2_oo</span>]] := <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteT">sigma_finiteT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.m2">m2</a></span>.<br/>
<span class="id">have</span> <span class="id">UF12T</span> : \<span class="id">bigcup_k</span> (<span class="id">F1</span> <span class="id">k</span> `*` <span class="id">F2</span> <span class="id">k</span>) = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span> <span class="id">F1_T</span> <span class="id">F2_T</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; -[<span class="id">x</span> <span class="id">y</span>]; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">n</span> <span class="id">_</span> []/= ? ?]; <span class="id">split</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [/= [<span class="id">n</span> <span class="id">_</span> <span class="id">F1nx</span>] [<span class="id">k</span> <span class="id">_</span> <span class="id">F2ky</span>]]; <span class="kwd">exists</span> (<span class="id">maxn</span> <span class="id">n</span> <span class="id">k</span>) =&gt; //; <span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">F1nx</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">F1_nd</span>; <span class="id">rewrite</span> <span class="id">leq_maxl</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">y</span> <span class="id">F2ky</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">F2_nd</span>; <span class="id">rewrite</span> <span class="id">leq_maxr</span>.<br/>
<span class="id">have</span> <span class="id">mF1F2</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">F1</span> <span class="id">n</span> `*` <span class="id">F2</span> <span class="id">n</span>) /\ <span class="id">m</span> (<span class="id">F1</span> <span class="id">n</span> `*` <span class="id">F2</span> <span class="id">n</span>) &lt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [? ?] := <span class="id">F1_oo</span> <span class="id">n</span>; <span class="id">have</span> [? ?] := <span class="id">F2_oo</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">m</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E</a></span> // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
<span class="id">have</span> <span class="id">sm</span> : <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finite">sigma_finite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">m</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="n:2904">n</a></span> =&gt; <span class="id">F1</span> <span class="id">n</span> `*` <span class="id">F2</span> <span class="id">n</span>).<br/>
<span class="id">pose</span> <span class="id">C</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique.T2">T2</a></span>)) := [<span class="id">set</span> <span class="id"><a name="C:2906">C</a></span> |<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="A1:2907">A1</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A1</span> /\ <span class="kwd">exists</span> <span class="id"><a name="A2:2908">A2</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A2</span> /\ <span class="id">C</span> = <span class="id">A1</span> `*` <span class="id">A2</span>].<br/>
<span class="id">have</span> <span class="id">CI</span> : <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /= <span class="id">_</span> <span class="id">_</span> [<span class="id">X1</span> [<span class="id">mX1</span> [<span class="id">X2</span> [<span class="id">mX2</span> -&gt;]]]] [<span class="id">Y1</span> [<span class="id">mY1</span> [<span class="id">Y2</span> [<span class="id">mY2</span> -&gt;]]]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI</a></span>; <span class="kwd">exists</span> (<span class="id">X1</span> `&amp;` <span class="id">Y1</span>); <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">X2</span> `&amp;` <span class="id">Y2</span>); <span class="id">split</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">X</span> <span class="id">mX</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measure_unique">measure_unique</a></span> <span class="id">C</span> (<span class="kwd">fun</span> <span class="id"><a name="n:2909">n</a></span> =&gt; <span class="id">F1</span> <span class="id">n</span> `*` <span class="id">F2</span> <span class="id">n</span>)) =&gt; //.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span> //; <span class="id">congr</span> (&lt;&lt;<span class="id">s</span> <span class="id">_</span> &gt;&gt;).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span>; <span class="id">split</span> =&gt; [[<span class="id">A1</span> <span class="id">mA1</span> [<span class="id">A2</span> <span class="id">mA2</span> &lt;-]]|[<span class="id">A1</span> [<span class="id">mA1</span> [<span class="id">A2</span> [<span class="id">mA2</span> -&gt;]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">A1</span>; <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id">A2</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">A1</span> =&gt; //; <span class="kwd">exists</span> <span class="id">A2</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id">C</span> /=; <span class="kwd">exists</span> (<span class="id">F1</span> <span class="id">n</span>); <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">F1_oo</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">F2</span> <span class="id">n</span>); <span class="id">split</span> =&gt; //; <span class="id">have</span> [] := <span class="id">F2_oo</span> <span class="id">n</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span> [<span class="id">A1</span> [<span class="id">mA1</span> [<span class="id">A2</span> [<span class="id">mA2</span> -&gt;]]]]; <span class="id">rewrite</span> <span class="id">m</span>'<span class="id">E</span>//= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">have</span> [? ?] := <span class="id">F1_oo</span> <span class="id">k</span>; <span class="id">have</span> [? ?] := <span class="id">F2_oo</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure1E">product_measure1E</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique">product_measure_unique</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="product_measure2">product_measure2</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2911">d1</a></span> <span class="id"><a name="d2:2912">d2</a></span> (<span class="id"><a name="T1:2913">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2914">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2915">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure2.m1">m1</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure2.m2">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.R">R</a></span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.T2">T2</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="product_measure2.pm20">pm20</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof295')">Proof.</span></div>
<div class="proofscript" id="proof295">
<span class="kwd">by</span> <span class="id">rewrite</span> /(<span class="id">_</span> \<span class="id">x</span>^ <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>// =&gt; <span class="id">y</span>/= <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection0">ysection0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="product_measure2.pm2_ge0">pm2_ge0</a></span> <span class="id"><a name="A:2918">A</a></span> : 0 &lt;= (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>) <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof296')">Proof.</span></div>
<div class="proofscript" id="proof296">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // *; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="product_measure2.pm2_sigma_additive">pm2_sigma_additive</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof297')">Proof.</span></div>
<div class="proofscript" id="proof297">
<span class="id">move</span>=&gt; <span class="id">F</span> <span class="id">mF</span> <span class="id">tF</span> <span class="id">mUF</span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">sum_</span>(<span class="id"><a name="n:2919">n</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>) (<span class="id">F</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_closeP">cvg_closeP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> =&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection_bigcup">ysection_bigcup</a></span>.<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_additive">measure_sigma_additive</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_ysection">trivIset_ysection</a></span> <span class="id">tF</span>)) =&gt; ?.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_135">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.m2">m2</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.pm20">pm20</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.pm2_ge0">pm2_ge0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2.pm2_sigma_additive">pm2_sigma_additive</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2">product_measure2</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="product_measure2E">product_measure2E</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:2938">d1</a></span> <span class="id"><a name="d2:2939">d2</a></span> (<span class="id"><a name="T1:2940">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:2941">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:2942">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure2E.m1">m1</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="product_measure2E.m2">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="product_measure2E">product_measure2E</a></span> (<span class="id"><a name="A1:2945">A1</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T1">T1</a></span>) (<span class="id"><a name="A2:2946">A2</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.T2">T2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="mA1:2947">mA1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A1</span>) (<span class="id"><a name="mA2:2948">mA2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A2</span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m2">m2</a></span>) (<span class="id">A1</span> `*` <span class="id">A2</span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> <span class="id">A1</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m2">m2</a></span> <span class="id">A2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof298')">Proof.</span></div>
<div class="proofscript" id="proof298">
<span class="id">have</span> <span class="id">mA1A2</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">A1</span> `*` <span class="id">A2</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m2">m2</a></span>]<span class="id">_y</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> (<span class="id">A1</span> `*` <span class="id">A2</span>)) <span class="id">y</span>) =&gt; //.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = <span class="kwd">fun</span> <span class="id"><a name="y:2951">y</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E.m1">m1</a></span> <span class="id">A1</span> * (\1<span class="id">_A2</span> <span class="id">y</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="id">have</span> [<span class="id">yA2</span>|<span class="id">yA2</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">A2</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#in_ysectionM">in_ysectionM</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_ysectionM">notin_ysectionM</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E">product_measure2E</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="simple_density_L1">simple_density_L1</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:2954">d</a></span> (<span class="id"><a name="T:2955">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:2956">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="simple_density_L1.mu">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>}) (<span class="id"><a name="simple_density_L1.E">E</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span>) (<span class="id"><a name="simple_density_L1.mE">mE</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_bounded_integrable">measurable_bounded_integrable</a></span> (<span class="id"><a name="f:2960">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>^<span class="id">o</span>)  :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> &lt; +<span class="id">oo</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;[<span class="id">bounded</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a name="x:2961">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span>] -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof299')">Proof.</span></div>
<div class="proofscript" id="proof299">
<span class="id">move</span>=&gt; <span class="id">Afin</span> <span class="id">mfA</span> <span class="id">bdA</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">have</span> [<span class="id">M</span> [<span class="id">_</span> <span class="id">mrt</span>]] := <span class="id">bdA</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> (`|<span class="id">M</span>| + 1)%:<span class="id">E</span>) =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> =&gt; <span class="id">z</span> <span class="id">Az</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mrt</span>// <span class="id">ltr_spaddr</span>// <span class="id">ler_norm</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_mul_pinfty">lte_mul_pinfty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="simple_density_L1.sfun_dense_L1_pos">sfun_dense_L1_pos</a></span> (<span class="id"><a name="f:2962">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id">f</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:2963">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g_:2964">g_</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>}^<span class="id">nat</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="kwd">forall</span> <span class="id"><a name="n:2965">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g_</span> <span class="id">n</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:2966">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g_</span>^~ <span class="id">x</span> @ \<span class="id">oo</span> --&gt; <span class="id">f</span> <span class="id">x</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:2967">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:2968">z</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span>) `|<span class="id">f</span> <span class="id">z</span> - (<span class="id">g_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>|) --&gt; 0].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof300')">Proof.</span></div>
<div class="proofscript" id="proof300">
<span class="id">move</span>=&gt; <span class="id">intf</span> <span class="id">fpos</span>; <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>: (<span class="id">intf</span>) =&gt; <span class="id">mfE</span> <span class="id">_</span>.<br/>
<span class="id">pose</span> <span class="id">g_</span> <span class="id"><a name="n:2969">n</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approx">nnsfun_approx</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">mfE</span> <span class="id">n</span>.<br/>
<span class="id">have</span> [] // := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#dominated_convergence">dominated_convergence</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:2970">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g_</span> <span class="id">n</span>) <span class="id">f</span> <span class="id">f</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> =&gt; ? ?; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> /<span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ecvg_approx">ecvg_approx</a></span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> =&gt; /= ? ? ?; <span class="id">rewrite</span> <span class="id">ger0_norm</span> // /<span class="id">g_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_approx">le_approx</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> /= <span class="id">fg0</span> <span class="id">gfcvg</span>; <span class="kwd">exists</span> <span class="id">g_</span>; <span class="id">split</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_integrable">le_integrable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">intf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> /<span class="id">g_</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id">fpos</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnsfun_approxE">nnsfun_approxE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_approx">le_approx</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_nnsfun_approx">cvg_nnsfun_approx</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">fg0</span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; <span class="id">t</span> <span class="id">do</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> -[<span class="id">_</span> - <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span> // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">abseN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="approximation_sfun_integrable">approximation_sfun_integrable</a></span> (<span class="id"><a name="f:2971">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>):<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g_:2972">g_</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.R">R</a></span>}^<span class="id">nat</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="kwd">forall</span> <span class="id"><a name="n:2973">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g_</span> <span class="id">n</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:2974">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g_</span>^~ <span class="id">x</span> @ \<span class="id">oo</span> --&gt; <span class="id">f</span> <span class="id">x</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:2975">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:2976">z</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span>) `|<span class="id">f</span> <span class="id">z</span> - (<span class="id">g_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>|) --&gt; 0].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof301')">Proof.</span></div>
<div class="proofscript" id="proof301">
<span class="id">move</span>=&gt; <span class="id">intf</span>.<br/>
<span class="id">have</span> [//|<span class="id">p_</span> [<span class="id">intp</span> <span class="id">pf</span> <span class="id">pl1</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.sfun_dense_L1_pos">sfun_dense_L1_pos</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">intf</span>).<br/>
<span class="id">have</span> [//|<span class="id">n_</span> [<span class="id">intn</span> <span class="id">nf</span> <span class="id">nl1</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.sfun_dense_L1_pos">sfun_dense_L1_pos</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mE">mE</a></span> <span class="id">intf</span>).<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="n:2977">n</a></span> =&gt; <span class="id">p_</span> <span class="id">n</span> - <span class="id">n_</span> <span class="id">n</span>)%<span class="id">R</span>; <span class="id">split</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunB">sfunB</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id">intp</span> | <span class="id">exact</span>: <span class="id">intn</span>].<br/>
- <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunB">sfunB</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">f</span>]<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeB">cvgeB</a></span> =&gt; //;[|<span class="id">exact</span>: <span class="id">pf</span>|<span class="id">exact</span>:<span class="id">nf</span>].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#add_def_funeposneg">add_def_funeposneg</a></span>.<br/>
<span class="id">have</span> <span class="id">fpn</span> <span class="id">z</span> <span class="id">n</span> : <span class="id">f</span> <span class="id">z</span> - ((<span class="id">p_</span> <span class="id">n</span> - <span class="id">n_</span> <span class="id">n</span>) <span class="id">z</span>)%:<span class="id">E</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span>^\+ <span class="id">z</span> - (<span class="id">p_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>) - (<span class="id">f</span>^\- <span class="id">z</span> - (<span class="id">n_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfunB">sfunB</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span> // {1}[<span class="id">f</span>]<span class="id"><a href="mathcomp.analysis.numfun.html#funeposneg">funeposneg</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeACA">addeACA</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span>.<br/>
<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>: (<span class="id">intf</span>) =&gt; <span class="id">mf</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">mfpn</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="kwd">fun</span> <span class="id"><a name="z:2982">z</a></span> =&gt; <span class="id">f</span> <span class="id">z</span> - ((<span class="id">p_</span> <span class="id">n</span> - <span class="id">n_</span> <span class="id">n</span>) <span class="id">z</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id">fpn</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span> | <span class="id">exact</span>: <span class="id">intp</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span> | <span class="id">exact</span>: <span class="id">intn</span>].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">N</span>; <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>: (<span class="id">mfpn</span> <span class="id">N</span>) =&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span>=&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>]; <span class="id">have</span> <span class="id">e2p</span> : (0 &lt; <span class="id">eps</span>%:<span class="id">num</span>/2)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>: <span class="id">pl1</span> =&gt; + /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">e2p</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app2">filter_app2</a></span>.<br/>
<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>: <span class="id">nl1</span> =&gt; + /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">e2p</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app2">filter_app2</a></span>.<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /=; <span class="id">do</span> 3 <span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">subr0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">finfn</span> <span class="id">ne2</span> <span class="id">finfp</span> <span class="id">pe2</span>; <span class="id">rewrite</span> [<span class="id">_</span>%:<span class="id">num</span>]<span class="id">splitr</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> (<span class="id">ltr_add</span> <span class="id">pe2</span> <span class="id">ne2</span>))// (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
<span class="id">under</span> [<span class="kwd">fun</span> <span class="id"><a name="z:2983">z</a></span> =&gt; <span class="id">_</span> (<span class="id">f</span>^\+ <span class="id">z</span> + <span class="id">_</span>)]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>.<br/>
<span class="id">under</span> [<span class="kwd">fun</span> <span class="id"><a name="z:2986">z</a></span> =&gt; <span class="id">_</span> (<span class="id">f</span>^\- <span class="id">z</span> + <span class="id">_</span>)]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>.<br/>
<span class="id">have</span> <span class="id">mfp</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="kwd">fun</span> <span class="id"><a name="z:2989">z</a></span> =&gt; `|<span class="id">f</span>^\+ <span class="id">z</span> - (<span class="id">p_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>|).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funepos">integrable_funepos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">intp</span>.<br/>
<span class="id">have</span> <span class="id">mfn</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1.E">E</a></span> (<span class="kwd">fun</span> <span class="id"><a name="z:2990">z</a></span> =&gt; `|<span class="id">f</span>^\- <span class="id">z</span> - (<span class="id">n_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>|).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_funeneg">integrable_funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">intn</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">x</span> <span class="kwd">in</span> (<span class="id">_</span> &lt;= `|<span class="id">x</span>|)%<span class="id">R</span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineD">fineD</a></span> // -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD">integralD</a></span> //.<br/>
<span class="id">rewrite</span> !<span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>/<span class="id">mfpn</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableD">integrableD</a></span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>: (<span class="id">mfpn</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD</a></span>; [<span class="id">move</span>: <span class="id">mfp</span> | <span class="id">move</span>: <span class="id">mfn</span>]; <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> <span class="id">fpn</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs_sub">lee_abs_sub</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_density_L1">simple_density_L1</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="continuous_density_L1">continuous_density_L1</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="rT:2992">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="continuous_density_L1.mu">mu</a></span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>].<br/>
<span class="kwd">Let</span> <span class="id"><a name="continuous_density_L1.R">R</a></span>  := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>].<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compact_finite_measure">compact_finite_measure</a></span> (<span class="id"><a name="A:2993">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span>^<span class="id">o</span>) : <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id">A</span> &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof302')">Proof.</span></div>
<div class="proofscript" id="proof302">
<span class="id">move</span>=&gt; /[<span class="id">dup</span>]/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span> =&gt; <span class="id">mA</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#compact_bounded">compact_bounded</a></span>[<span class="id">N</span> [<span class="id">_</span> <span class="id">N1x</span>]].<br/>
<span class="id">have</span> <span class="id">AN1</span> : (<span class="id">A</span> `&lt;=` `[- (`|<span class="id">N</span>| + 1), `|<span class="id">N</span>| + 1])%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">Az</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvcc">set_itvcc</a></span> /= -<span class="id">ler_norml</span> <span class="id">N1x</span>// <span class="id">ltr_spaddr</span>// <span class="id">ler_norm</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">AN1</span>)) ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">gtr_opp</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_compact_integrable">continuous_compact_integrable</a></span> (<span class="id"><a name="f:2994">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span>^<span class="id">o</span>) (<span class="id"><a name="A:2995">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span>^<span class="id">o</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">A</span> -&gt; {<span class="id">within</span> <span class="id">A</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">A</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof303')">Proof.</span></div>
<div class="proofscript" id="proof303">
<span class="id">move</span>=&gt; <span class="id">cptA</span> <span class="id">ctsfA</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_bounded_integrable">measurable_bounded_integrable</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#compact_finite_measure">compact_finite_measure</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#subspace_continuous_measurable_fun">subspace_continuous_measurable_fun</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span>.<br/>
- <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#compact_bounded">compact_bounded</a></span>[<span class="id">M</span> [<span class="id">_</span> <span class="id">mrt</span>]] := <span class="id"><a href="mathcomp.analysis.topology.html#continuous_compact">continuous_compact</a></span> <span class="id">ctsfA</span> <span class="id">cptA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">split</span>; <span class="id">rewrite</span> ?<span class="id">num_real</span> // =&gt; ? ? ? ?; <span class="id">exact</span>: <span class="id">mrt</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="approximation_continuous_integrable">approximation_continuous_integrable</a></span> (<span class="id"><a name="E:2996">E</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span>) (<span class="id"><a name="f:2997">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span>^<span class="id">o</span>):<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id">E</span> &lt; +<span class="id">oo</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g_:2998">g_</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>)^<span class="id">nat</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="kwd">forall</span> <span class="id"><a name="n:2999">n</a></span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">g_</span> <span class="id">n</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="n:3000">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g_</span> <span class="id">n</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:3001">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3002">z</a></span> <span class="kwd">in</span> <span class="id">E</span>) `|(<span class="id">f</span> <span class="id">z</span> - <span class="id">g_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>|) --&gt; 0].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof304')">Proof.</span></div>
<div class="proofscript" id="proof304">
<span class="id">move</span>=&gt; <span class="id">mE</span> <span class="id">Efin</span> <span class="id">intf</span>.<br/>
<span class="id">have</span> <span class="id">mf</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">E</span> <span class="id">f</span> <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> : <span class="id">intf</span> =&gt; /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
<span class="id">suff</span> <span class="id">apxf</span> <span class="id">eps</span> : <span class="kwd">exists</span> <span class="id"><a name="h:3004">h</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>, (<span class="id">eps</span> &gt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">h</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">h</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3005">z</a></span> <span class="kwd">in</span> <span class="id">E</span>) `|(<span class="id">f</span> <span class="id">z</span> - <span class="id">h</span> <span class="id">z</span>)%:<span class="id">E</span>| &lt; <span class="id">eps</span>%:<span class="id">E</span>].<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">g_</span> <span class="id"><a name="n:3006">n</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.+1%:<span class="id">R</span>^-1)); <span class="kwd">exists</span> <span class="id">g_</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> [] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.+1%:<span class="id">R</span>^-1)).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> [] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.+1%:<span class="id">R</span>^-1)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span> =&gt; <span class="id">eps</span> <span class="id">epspos</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span>/(<span class="id">_</span> <span class="id">eps</span> <span class="id">epspos</span>)[<span class="id">N</span> <span class="id">_</span> <span class="id">Nball</span>] := @<span class="id"><a href="mathcomp.analysis.sequences.html#cvge_harmonic">cvge_harmonic</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">N</span> =&gt; //; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">Nball</span>) =&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /= /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract0">contract0</a></span> !<span class="id">sub0r</span> !<span class="id">normrN</span> =&gt; /(<span class="id">lt_trans</span> <span class="id">_</span>); <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id">ger0_norm</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#le_expandLR">le_expandLR</a></span> // ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> ?<span class="id">normr0</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand0">expand0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#le_expandLR">le_expandLR</a></span> // ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> ?<span class="id">normr0</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#expand0">expand0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">apxf</span> <span class="id">n</span>.+1%:<span class="id">R</span>^-1)) =&gt; // <span class="id">_</span> <span class="id">_</span> <span class="id">ipaxfn</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.ereal.html#lt_expandRL">lt_expandRL</a></span> ?<span class="id"><a href="mathcomp.analysis.ereal.html#contractK">contractK</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract_le1">contract_le1</a></span>.<br/>
<span class="id">have</span> [|] := <span class="id">ltP</span> 0%<span class="id">R</span> <span class="id">eps</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="id">move</span>: <span class="id">eps</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>].<br/>
<span class="id">have</span> [<span class="id">g</span> [<span class="id">gfe2</span> <span class="id">ig</span>]] : <span class="kwd">exists</span> <span class="id"><a name="g:3007">g</a></span> : {<span class="id">sfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.R">R</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.rT">rT</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3008">z</a></span> <span class="kwd">in</span> <span class="id">E</span>) `|(<span class="id">f</span> <span class="id">z</span> - <span class="id">g</span> <span class="id">z</span>)%:<span class="id">E</span>| &lt; (<span class="id">eps</span>%:<span class="id">num</span> / 2)%:<span class="id">E</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">g_</span> [<span class="id">intG</span> ?]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation_sfun_integrable">approximation_sfun_integrable</a></span> <span class="id">mE</span> <span class="id">intf</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_fcvg">fine_fcvg</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ballP">cvg_ballP</a></span>/(<span class="id">_</span> (<span class="id">eps</span>%:<span class="id">num</span> / 2)) =&gt; -[] // <span class="id">n</span> <span class="id">_</span> <span class="id">Nb</span>; <span class="kwd">exists</span> (<span class="id">g_</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">fg_fin_num</span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3009">z</a></span> <span class="kwd">in</span> <span class="id">E</span>) `|(<span class="id">f</span> <span class="id">z</span> - <span class="id">g_</span> <span class="id">n</span> <span class="id">z</span>)%:<span class="id">E</span>| \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">intG</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">intG</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /= := <span class="id">Nb</span> <span class="id">_</span> (<span class="id">leqnn</span> <span class="id">n</span>); <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span>/= <span class="id">sub0r</span> <span class="id">normrN</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_abse">fine_abse</a></span>// -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_fin_num">abse_fin_num</a></span>// =&gt; /<span class="id">le_lt_trans</span>; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_abs</a></span>.<br/>
<span class="id">have</span> <span class="id">mg</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">E</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funP">measurable_funP</a></span>.<br/>
<span class="id">have</span> [<span class="id">M</span> <span class="id">Mpos</span> <span class="id">Mbd</span>] : (<span class="kwd">exists2</span> <span class="id"><a name="M:3010">M</a></span>, 0 &lt; <span class="id">M</span> &amp; <span class="kwd">forall</span> <span class="id"><a name="x:3012">x</a></span>, `|<span class="id">g</span> <span class="id">x</span>| &lt;= <span class="id">M</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">M</span> [<span class="id">_</span> /= <span class="id">bdM</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#simple_bounded">simple_bounded</a></span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (`|<span class="id">M</span>| + 1)%<span class="id">R</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">ltr_spaddr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">bdM</span>// <span class="id">ltr_spaddr</span>// <span class="id">ler_norm</span>.<br/>
<span class="id">have</span> [] // := @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_almost_continuous">measurable_almost_continuous</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">mE</span> <span class="id">_</span> <span class="id">g</span> (<span class="id">eps</span>%:<span class="id">num</span> / 2 / (<span class="id">M</span> *+ 2)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>// <span class="id">mulrn_wgt0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">A</span> [<span class="id">cptA</span> <span class="id">AE</span> /= <span class="id">muAE</span> <span class="id">ctsAF</span>].<br/>
<span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.numfun.html#continuous_bounded_extension">continuous_bounded_extension</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Mpos</span> <span class="id">ctsAF</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudometric_normal">pseudometric_normal</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">exact</span>: <span class="id">Mbd</span>.<br/>
<span class="id">have</span> <span class="id">mA</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span> <span class="id">cptA</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">h</span> [<span class="id">gh</span> <span class="id">ctsh</span> <span class="id">hbdM</span>]; <span class="id">have</span> <span class="id">mh</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">E</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#subspace_continuous_measurable_fun">subspace_continuous_measurable_fun</a></span>=&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>.<br/>
<span class="id">have</span> <span class="id">intg</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">h</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_bounded_integrable">measurable_bounded_integrable</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">M</span>; <span class="id">split</span>; <span class="id">rewrite</span> ?<span class="id">num_real</span> // =&gt; <span class="id">x</span> <span class="id">Mx</span> <span class="id">y</span> <span class="id">_</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">Mx</span>)).<br/>
<span class="kwd">exists</span> <span class="id">h</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> [<span class="id">eps</span>%:<span class="id">num</span>]<span class="id">splitr</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">fgh</span> <span class="id"><a name="x:3013">x</a></span> := `|(<span class="id">f</span> <span class="id">x</span> - <span class="id">g</span> <span class="id">x</span>)%:<span class="id">E</span>| + `|(<span class="id">g</span> <span class="id">x</span> - <span class="id">h</span> <span class="id">x</span>)%:<span class="id">E</span>|.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id">_</span> <span class="id">mE</span> <span class="id">_</span> <span class="id">fgh</span>) =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) =&gt; //; <span class="id">do</span> 2 <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id">fgh</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) =&gt; //; (<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> -(<span class="id">subrK</span> (<span class="id">g</span> <span class="id">x</span>) (<span class="id">f</span> <span class="id">x</span>)) -(<span class="id">addrA</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">R</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_norm_add</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralD">integralD</a></span>//; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>// -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setDKU">setDKU</a></span> <span class="id">AE</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setU">integral_setU</a></span> =&gt; //; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set">disj_set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDKI">setDKI</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDKU">setDKU</a></span> //; <span class="id">do</span> 2 <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ae_eq_integral">ae_eq_integral</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1.mu">mu</a></span> <span class="id">A</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0)) //; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> =&gt; <span class="id">z</span> <span class="id">Az</span>; <span class="id">rewrite</span> (<span class="id">gh</span> <span class="id">z</span>) ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// <span class="id">subrr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse0">abse0</a></span>.<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) =&gt; //; <span class="id">do</span> 2 <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0">integral0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">apply</span>: (<span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> (<span class="id">M</span> *+ 2)%:<span class="id">E</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mE</span>) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mulrn_wge0</span>// <span class="id">ltW</span>.<br/>
- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> =&gt; <span class="id">z</span> [<span class="id">Ez</span> <span class="id">_</span>]; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mulr2n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_norm_sub</span> <span class="id">_</span> <span class="id">_</span>))// <span class="id">ler_add</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_pdivl_mull">lte_pdivl_mull</a></span> ?<span class="id">mulrn_wgt0</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">muleC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_density_L1">continuous_density_L1</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fubini_functions">fubini_functions</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:3014">d1</a></span> <span class="id"><a name="d2:3015">d2</a></span> (<span class="id"><a name="T1:3016">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:3017">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:3018">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="fubini_functions.m1">m1</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.R">R</a></span>}) (<span class="id"><a name="fubini_functions.m2">m2</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.R">R</a></span>}).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini_functions.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fubini_F">fubini_F</a></span> <span class="id"><a name="x:3022">x</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fubini_G">fubini_G</a></span> <span class="id"><a name="y:3024">y</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_functions">fubini_functions</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fubini_tonelli">fubini_tonelli</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:3026">d1</a></span> <span class="id"><a name="d2:3027">d2</a></span> (<span class="id"><a name="T1:3028">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:3029">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:3030">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini_tonelli.m1">m1</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini_tonelli.m2">m2</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fubini_tonelli.indic_fubini_tonelli">indic_fubini_tonelli</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="fubini_tonelli.indic_fubini_tonelli.A">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span>)) (<span class="id"><a name="fubini_tonelli.indic_fubini_tonelli.mA">mA</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.indic_fubini_tonelli.f">f</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span>) -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span> := \1<span class="id">_A</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.indic_fubini_tonelli.F">F</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.indic_fubini_tonelli.G">G</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli_F_ge0">indic_fubini_tonelli_F_ge0</a></span> <span class="id"><a name="x:3035">x</a></span> : 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof305')">Proof.</span></div>
<div class="proofscript" id="proof305">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli_G_ge0">indic_fubini_tonelli_G_ge0</a></span> <span class="id"><a name="x:3036">x</a></span> : 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof306')">Proof.</span></div>
<div class="proofscript" id="proof306">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli_FE">indic_fubini_tonelli_FE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof307')">Proof.</span></div>
<div class="proofscript" id="proof307">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>; [|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>|<span class="kwd">by</span> []].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">y</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicT">indicT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> !<span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_xsection">mem_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli_GE">indic_fubini_tonelli_GE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof308')">Proof.</span></div>
<div class="proofscript" id="proof308">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> /= -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_setI_indic">integral_setI_indic</a></span>; [|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_ysection">measurable_ysection</a></span>|<span class="kwd">by</span> []].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicT">indicT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul1e">mul1e</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> 2!<span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_ysection">mem_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_measurable_fun_fubini_tonelli_F">indic_measurable_fun_fubini_tonelli_F</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof309')">Proof.</span></div>
<div class="proofscript" id="proof309">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_measurable_fun_fubini_tonelli_G">indic_measurable_fun_fubini_tonelli_G</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof310')">Proof.</span></div>
<div class="proofscript" id="proof310">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli1">indic_fubini_tonelli1</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> <span class="id">z</span>)%:<span class="id">E</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof311')">Proof.</span></div>
<div class="proofscript" id="proof311">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli2">indic_fubini_tonelli2</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> <span class="id">z</span>)%:<span class="id">E</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof312')">Proof.</span></div>
<div class="proofscript" id="proof312">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.f">f</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fubini_tonelli">indic_fubini_tonelli</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.F">F</a></span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli.G">G</a></span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof313')">Proof.</span></div>
<div class="proofscript" id="proof313">
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli1">indic_fubini_tonelli1</a></span>// -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli2">indic_fubini_tonelli2</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//=.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>//= !<span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique">product_measure_unique</a></span> =&gt; //= ? ? ? ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E">product_measure2E</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.indic_fubini_tonelli">indic_fubini_tonelli</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fubini_tonelli.sfun_fubini_tonelli">sfun_fubini_tonelli</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> : {<span class="id">nnsfun</span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> : <span class="kwd">Type</span>] &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.F">F</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.G">G</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_fubini_tonelli_FE">sfun_fubini_tonelli_FE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span> = <span class="kwd">fun</span> <span class="id"><a name="x:3044">x</a></span> =&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="k:3045">k</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>) <span class="id">k</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">k</span>]) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof314')">Proof.</span></div>
<div class="proofscript" id="proof314">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/=.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[/= <span class="id">t</span> <span class="id">_</span> &lt;-{<span class="id">i</span>}].<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">_</span>) <span class="id">x</span>) -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_measurable_fun_fubini_tonelli_F">sfun_measurable_fun_fubini_tonelli_F</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof315')">Proof.</span></div>
<div class="proofscript" id="proof315">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_FE">sfun_fubini_tonelli_FE</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> =&gt; // <span class="id">r</span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_xsection">measurable_fun_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_fubini_tonelli_GE">sfun_fubini_tonelli_GE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span> = <span class="kwd">fun</span> <span class="id"><a name="y:3049">y</a></span> =&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="k:3050">k</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>) <span class="id">k</span>%:<span class="id">E</span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">k</span>]) <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof316')">Proof.</span></div>
<div class="proofscript" id="proof316">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/=.<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> -<span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[/= <span class="id">t</span> <span class="id">_</span> &lt;-{<span class="id">i</span>}].<br/>
<span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -/((<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">_</span>) <span class="id">y</span>) -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE</a></span>.<br/>
- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_measurable_fun_fubini_tonelli_G">sfun_measurable_fun_fubini_tonelli_G</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof317')">Proof.</span></div>
<div class="proofscript" id="proof317">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_GE">sfun_fubini_tonelli_GE</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> =&gt; // <span class="id">r</span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_ysection">measurable_fun_ysection</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.sfun_fubini_tonelli.EFinf">EFinf</a></span> <span class="id"><a name="x:3054">x</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id">x</span>)%:<span class="id">E</span> =<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="k:3055">k</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>) <span class="id">k</span>%:<span class="id">E</span> * (\1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">k</span>]) <span class="id">x</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof318')">Proof.</span></div>
<div class="proofscript" id="proof318">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#fsumEFin">fsumEFin</a></span> //= <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_fubini_tonelli1">sfun_fubini_tonelli1</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id">z</span>)%:<span class="id">E</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.F">F</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof319')">Proof.</span></div>
<div class="proofscript" id="proof319">
<span class="id">under</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.EFinf">EFinf</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> /= <span class="id">z</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="k:3061">k</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>)<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> (<span class="id">k</span>%:<span class="id">E</span> * (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">k</span>])) <span class="id">x</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">z</span> <span class="id">_</span> &lt;-{<span class="id">i</span>}].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli1">indic_fubini_tonelli1</a></span>// -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_measurable_fun_fubini_tonelli_F">indic_measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_F_ge0">indic_fubini_tonelli_F_ge0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_measurable_fun_fubini_tonelli_F">indic_measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_F_ge0">indic_fubini_tonelli_F_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>// =&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>//= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_FE">sfun_fubini_tonelli_FE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_FE">indic_fubini_tonelli_FE</a></span>//.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_fubini_tonelli2">sfun_fubini_tonelli2</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id">z</span>)%:<span class="id">E</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.G">G</a></span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof320')">Proof.</span></div>
<div class="proofscript" id="proof320">
<span class="id">under</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span><br/>
&nbsp;&nbsp;<span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.EFinf">EFinf</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span> /= <span class="id">z</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="k:3075">k</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span>)<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_x</span> (<span class="id">k</span>%:<span class="id">E</span> * (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> \1<span class="id">_</span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> @^-1` [<span class="id">set</span> <span class="id">k</span>])) <span class="id">x</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">z</span> <span class="id">_</span> &lt;-{<span class="id">i</span>}].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli2">indic_fubini_tonelli2</a></span>// -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_measurable_fun_fubini_tonelli_G">indic_measurable_fun_fubini_tonelli_G</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_G_ge0">indic_fubini_tonelli_G_ge0</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum</a></span> //; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_measurable_fun_fubini_tonelli_G">indic_measurable_fun_fubini_tonelli_G</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">r</span> <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_ge0">mule_ge0</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_G_ge0">indic_fubini_tonelli_G_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span>// =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>//= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli_GE">sfun_fubini_tonelli_GE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#indic_fubini_tonelli_GE">indic_fubini_tonelli_GE</a></span>//.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfun_fubini_tonelli">sfun_fubini_tonelli</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id">z</span>)%:<span class="id">E</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span>^ <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli.f">f</a></span> <span class="id">z</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof321')">Proof.</span></div>
<div class="proofscript" id="proof321">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> =&gt; /= <span class="id">A</span> <span class="id">Ameasurable</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure_unique">product_measure_unique</a></span> =&gt; //= *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#product_measure2E">product_measure2E</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.sfun_fubini_tonelli">sfun_fubini_tonelli</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli">fubini_tonelli</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:3091">x</a></span>, 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> <span class="id">x</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.T">T</a></span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.T2">T2</a></span> : <span class="kwd">Type</span>].<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.F">F</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.G">G</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.F_">F_</a></span> (<span class="id"><a name="g:3093">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>}^<span class="id">nat</span>) <span class="id"><a name="n:3094">n</a></span> <span class="id"><a name="x:3095">x</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> (<span class="id">g</span> <span class="id">n</span> (<span class="id">x</span>, <span class="id">y</span>))%:<span class="id">E</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini_tonelli.fubini_tonelli.G_">G_</a></span> (<span class="id"><a name="g:3097">g</a></span> : {<span class="id">nnsfun</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.R">R</a></span>}^<span class="id">nat</span>) <span class="id"><a name="n:3098">n</a></span> <span class="id"><a name="y:3099">y</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> (<span class="id">g</span> <span class="id">n</span> (<span class="id">x</span>, <span class="id">y</span>))%:<span class="id">E</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof322')">Proof.</span></div>
<div class="proofscript" id="proof322">
<span class="id">have</span> [<span class="id">g</span> [<span class="id">g_nd</span> /= <span class="id">g_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3101">x</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id">x</span>).<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> <span class="id">g</span>)) =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_F">sfun_measurable_fun_fubini_tonelli_F</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="y:3102">y</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> ^~ (<span class="id">x</span>, <span class="id">y</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">g_f</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_monotone_convergence">cvg_monotone_convergence</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">g_nd</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof323')">Proof.</span></div>
<div class="proofscript" id="proof323">
<span class="id">have</span> [<span class="id">g</span> [<span class="id">g_nd</span> /= <span class="id">g_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3106">x</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id">x</span>).<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> <span class="id">g</span>)) =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_G">sfun_measurable_fun_fubini_tonelli_G</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="x:3107">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> ^~ (<span class="id">x</span>, <span class="id">y</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">g_f</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#cvg_monotone_convergence">cvg_monotone_convergence</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>/<span class="id">g_nd</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini_tonelli1">fubini_tonelli1</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> <span class="id">z</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof324')">Proof.</span></div>
<div class="proofscript" id="proof324">
<span class="id">have</span> [<span class="id">g</span> [<span class="id">g_nd</span> /= <span class="id">g_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3113">x</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id">x</span>).<br/>
<span class="id">have</span> <span class="id">F_F</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F">F</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> <span class="id">g</span> ^~ <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3115">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> <span class="id">n</span>) (<span class="id">x</span>, <span class="id">y</span>)))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> /= <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> /= <span class="id">_</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; /<span class="id">g_nd</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3127">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> <span class="id">n</span>) <span class="id">z</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> /= <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> /= <span class="id">_</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; /<span class="id">g_nd</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; /= <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3139">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> <span class="id">n</span>) (<span class="id">x</span>, <span class="id">y</span>)))).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli1">sfun_fubini_tonelli1</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3157">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.F_">F_</a></span> <span class="id">g</span> <span class="id">n</span> <span class="id">x</span>))//.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_F">sfun_measurable_fun_fubini_tonelli_F</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // <span class="id">y</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> /= <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">move</span>/<span class="id">g_nd</span> : <span class="id">ab</span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini_tonelli2">fubini_tonelli2</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> <span class="id">z</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof325')">Proof.</span></div>
<div class="proofscript" id="proof325">
<span class="id">have</span> [<span class="id">g</span> [<span class="id">g_nd</span> /= <span class="id">g_f</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.mf">mf</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3171">x</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f0">f0</a></span> <span class="id">x</span>).<br/>
<span class="id">have</span> <span class="id">G_G</span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span> <span class="id">y</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> <span class="id">g</span> ^~ <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G">G</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3173">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> <span class="id">n</span>) (<span class="id">x</span>, <span class="id">y</span>)))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> /= <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /= <span class="id">_</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; /<span class="id">g_nd</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3185">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_z</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> <span class="id">n</span>) <span class="id">z</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> /= <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> /= <span class="id">_</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; /<span class="id">g_nd</span>/<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; /= <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">g_f</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:3197">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span> <span class="id">n</span>) (<span class="id">x</span>, <span class="id">y</span>)))).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli">sfun_fubini_tonelli</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_fubini_tonelli2">sfun_fubini_tonelli2</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="n:3215">n</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.G_">G_</a></span> <span class="id">g</span> <span class="id">n</span> <span class="id">y</span>))//.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence</a></span> //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfun_measurable_fun_fubini_tonelli_G">sfun_measurable_fun_fubini_tonelli_G</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> =&gt; // <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">y</span> /= <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">move</span>/<span class="id">g_nd</span> : <span class="id">ab</span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#lefP">lefP</a></span>; <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini_tonelli">fubini_tonelli</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>) = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m2">m2</a></span>]<span class="id">_y</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof326')">Proof.</span></div>
<div class="proofscript" id="proof326">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli.fubini_tonelli">fubini_tonelli</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli">fubini_tonelli</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span> {<span class="id">d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span> <span class="id">m2</span>} <span class="id">f</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span> {<span class="id">d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span> <span class="id">m2</span>} <span class="id">f</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli">fubini_tonelli</a></span> {<span class="id">d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span> <span class="id">m2</span>} <span class="id">f</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> {<span class="id">d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m2</span>} <span class="id">f</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> {<span class="id">d1</span> <span class="id">d2</span> <span class="id">T1</span> <span class="id">T2</span> <span class="id">R</span> <span class="id">m1</span>} <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fubini">fubini</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d1:3231">d1</a></span> <span class="id"><a name="d2:3232">d2</a></span> (<span class="id"><a name="T1:3233">T1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d1</span>) (<span class="id"><a name="T2:3234">T2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d2</span>) (<span class="id"><a name="R:3235">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini.m1">m1</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T1">T1</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini.m2">m2</a></span> : {<span class="id">sigma_finite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.R">R</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="fubini.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T1">T1</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.T2">T2</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.R">R</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="fubini.imf">imf</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>).-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof327')">Proof.</span></div>
<div class="proofscript" id="proof327">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_int">measurable_int</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini1a">fubini1a</a></span> :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>).-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> &lt;-&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)| &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof328')">Proof.</span></div>
<div class="proofscript" id="proof328">
<span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">_</span>]|] <span class="id">ioo</span>; [|<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; [//|]].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>))//=; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini1b">fubini1b</a></span> :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>).-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> &lt;-&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)| &lt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof329')">Proof.</span></div>
<div class="proofscript" id="proof329">
<span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>[<span class="id">_</span>]|] <span class="id">ioo</span>; [|<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; [//|]].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>))//=; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.measurable_fun1">measurable_fun1</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3244">x</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)|).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof330')">Proof.</span></div>
<div class="proofscript" id="proof330">
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>)) =&gt; //=.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.measurable_fun2">measurable_fun2</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:3246">y</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)|).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof331')">Proof.</span></div>
<div class="proofscript" id="proof331">
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>)) =&gt; //=.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_integrable1">ae_integrable1</a></span> :<br/>
&nbsp;&nbsp;{<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>, <span class="kwd">forall</span> <span class="id"><a name="x:3248">x</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:3249">y</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>))}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof332')">Proof.</span></div>
<div class="proofscript" id="proof332">
<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3250">x</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)|).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span>  (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1a">fubini1a</a></span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>))// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> //.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> =&gt; /(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /= /(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id">im2f</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numPlt">fin_numPlt</a></span> : <span class="id">im2f</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_integrable2">ae_integrable2</a></span> :<br/>
&nbsp;&nbsp;{<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>, <span class="kwd">forall</span> <span class="id"><a name="y:3252">y</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:3253">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>))}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof333')">Proof.</span></div>
<div class="proofscript" id="proof333">
<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:3254">y</a></span> =&gt; \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> `|<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)|).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1b">fubini1b</a></span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>))// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> //.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_ae">integrable_ae</a></span> =&gt; /(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span> =&gt; <span class="id">x</span> /= /(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id">im2f</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numPlt">fin_numPlt</a></span> : <span class="id">im2f</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.F">F</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_F">fubini_F</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.Fplus">Fplus</a></span> <span class="id"><a name="x:3256">x</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>^\+ (<span class="id">x</span>, <span class="id">y</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.Fminus">Fminus</a></span> <span class="id"><a name="x:3258">x</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>^\- (<span class="id">x</span>, <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.FE">FE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fplus">Fplus</a></span> \- <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fminus">Fminus</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof334')">Proof.</span></div>
<div class="proofscript" id="proof334">
 <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.measurable_Fplus">measurable_Fplus</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fplus">Fplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof335')">Proof.</span></div>
<div class="proofscript" id="proof335">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.measurable_Fminus">measurable_Fminus</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fminus">Fminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof336')">Proof.</span></div>
<div class="proofscript" id="proof336">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fubini_F">measurable_fubini_F</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof337')">Proof.</span></div>
<div class="proofscript" id="proof337">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.FE">FE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.measurable_Fplus">measurable_Fplus</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.measurable_Fminus">measurable_Fminus</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.integrable_Fplus">integrable_Fplus</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fplus">Fplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof338')">Proof.</span></div>
<div class="proofscript" id="proof338">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; //.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1a">fubini1a</a></span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x</span>, <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.integrable_Fminus">integrable_Fminus</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Fminus">Fminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof339')">Proof.</span></div>
<div class="proofscript" id="proof339">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; //.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1a">fubini1a</a></span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x</span>, <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="integrable_fubini_F">integrable_fubini_F</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof340')">Proof.</span></div>
<div class="proofscript" id="proof340">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.FE">FE</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.G">G</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_G">fubini_G</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.Gplus">Gplus</a></span> <span class="id"><a name="y:3260">y</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>^\+ (<span class="id">x</span>, <span class="id">y</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.Gminus">Gminus</a></span> <span class="id"><a name="y:3262">y</a></span> := \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>^\- (<span class="id">x</span>, <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.GE">GE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.G">G</a></span> = <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gplus">Gplus</a></span> \- <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gminus">Gminus</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof341')">Proof.</span></div>
<div class="proofscript" id="proof341">
 <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.measurable_Gplus">measurable_Gplus</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gplus">Gplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof342')">Proof.</span></div>
<div class="proofscript" id="proof342">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.measurable_Gminus">measurable_Gminus</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gminus">Gminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof343')">Proof.</span></div>
<div class="proofscript" id="proof343">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fubini_G">measurable_fubini_G</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.G">G</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof344')">Proof.</span></div>
<div class="proofscript" id="proof344">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.GE">GE</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.integrable_Gplus">integrable_Gplus</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gplus">Gplus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof345')">Proof.</span></div>
<div class="proofscript" id="proof345">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; //.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1b">fubini1b</a></span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x</span>, <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addl">lee_addl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="fubini.integrable_Gminus">integrable_Gminus</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>.-<span class="id">integrable</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.Gminus">Gminus</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof346')">Proof.</span></div>
<div class="proofscript" id="proof346">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>; <span class="id">split</span>=&gt; //.<br/>
<span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1b">fubini1b</a></span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.imf">imf</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// -/((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span>) (<span class="id">x</span>, <span class="id">y</span>)) <span class="id"><a href="mathcomp.analysis.numfun.html#fune_abse">fune_abse</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini1">fubini1</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.F">F</a></span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_z</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof347')">Proof.</span></div>
<div class="proofscript" id="proof347">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.FE">FE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>; [|<span class="kwd">by</span>[]|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Fplus">integrable_Fplus</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Fminus">integrable_Fminus</a></span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli1">fubini_tonelli1</a></span>//;<br/>
&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fubini2">fubini2</a></span> : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.G">G</a></span> <span class="id">x</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span> \<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_z</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof348')">Proof.</span></div>
<div class="proofscript" id="proof348">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.GE">GE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB">integralB</a></span>; [|<span class="kwd">by</span>[]|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Gplus">integrable_Gplus</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.integrable_Gminus">integrable_Gminus</a></span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralE">integralE</a></span> ?<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli2">fubini_tonelli2</a></span>//;<br/>
&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Fubini">Fubini</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>) = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m2">m2</a></span>]<span class="id">_y</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof349')">Proof.</span></div>
<div class="proofscript" id="proof349">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini1">fubini1</a></span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini2">fubini2</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini">fubini</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="sfinite_fubini">sfinite_fubini</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:3272">d</a></span> <span class="id"><a name="d':3273">d</a></span>' (<span class="id"><a name="X:3274">X</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="Y:3275">Y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>') (<span class="id"><a name="R:3276">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sfinite_fubini.m1">m1</a></span> : {<span class="id">sfinite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.X">X</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.R">R</a></span>}).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sfinite_fubini.m2">m2</a></span> : {<span class="id">sfinite_measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.Y">Y</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.R">R</a></span>}).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="sfinite_fubini.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.X">X</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.Y">Y</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.R">R</a></span>) (<span class="id"><a name="sfinite_fubini.f0">f0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="xy:3280">xy</a></span>, 0 &lt;= <span class="id">f</span> <span class="id">xy</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="sfinite_fubini.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sfinite_Fubini">sfinite_Fubini</a></span> :<br/>
&nbsp;&nbsp;\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m1">m1</a></span>]<span class="id">_x</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m2">m2</a></span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>) = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m2">m2</a></span>]<span class="id">_y</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m1">m1</a></span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof350')">Proof.</span></div>
<div class="proofscript" id="proof350">
<span class="id">pose</span> <span class="id">s1</span> := <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seq">sfinite_measure_seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m1">m1</a></span>.<br/>
<span class="id">pose</span> <span class="id">s2</span> := <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seq">sfinite_measure_seq</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m2">m2</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s1</span> 0]); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span> <span class="id">mA</span> <span class="id">_</span>; <span class="id">rewrite</span> /=; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s1</span> 0]<span class="id">_x</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s2</span> 0]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> =&gt; ? ? <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:3291">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id">s1</span> <span class="id">n</span>]<span class="id">_x</span> \<span class="id">sum_</span>(<span class="id"><a name="m:3295">m</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id">s2</span> <span class="id">m</span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>; [|<span class="kwd">by</span> []| |]; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.X">X</a></span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="x:3339">x</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="n:3340">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id">s2</span> <span class="id">n</span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span> <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">x</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:3367">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">sum_</span>(<span class="id"><a name="m:3370">m</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id">s1</span> <span class="id">n</span>]<span class="id">_x</span> \<span class="id">int</span>[<span class="id">s2</span> <span class="id">m</span>]<span class="id">_y</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_F">measurable_fun_fubini_tonelli_F</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">x</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:3419">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">sum_</span>(<span class="id"><a name="m:3422">m</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id">s2</span> <span class="id">m</span>]<span class="id">_y</span> \<span class="id">int</span>[<span class="id">s1</span> <span class="id">n</span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">m</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#fubini_tonelli">fubini_tonelli</a></span>//; <span class="id">exact</span>: <span class="id">finite_measure_sigma_finite</span>.<br/>
<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:3471">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s2</span> 0]<span class="id">_y</span> \<span class="id">int</span>[<span class="id">s1</span> <span class="id">n</span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s2</span> 0]<span class="id">_y</span> \<span class="id">sum_</span>(<span class="id"><a name="n:3492">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">int</span>[<span class="id">s1</span> <span class="id">n</span>]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_fun_fubini_tonelli_G">measurable_fun_fubini_tonelli_G</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s2</span> 0]<span class="id">_y</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s1</span> 0]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">transitivity</span> (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.m2">m2</a></span>]<span class="id">_y</span> \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> <span class="id">s1</span> 0]<span class="id">_x</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini.f">f</a></span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> =&gt; <span class="id">A</span> <span class="id">mA</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> =&gt; <span class="id">y</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> =&gt; <span class="id">A</span> <span class="id">mA</span> <span class="id">_</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure_seqP">sfinite_measure_seqP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_fubini">sfinite_fubini</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#sfinite_Fubini">sfinite_Fubini</a></span> {<span class="id">d</span> <span class="id">d</span>' <span class="id">X</span> <span class="id">Y</span> <span class="id">R</span>} <span class="id">m1</span> <span class="id">m2</span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="lebesgue_differentiation_continuous">lebesgue_differentiation_continuous</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="rT:3517">rT</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_differentiation_continuous.mu">mu</a></span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>].<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_differentiation_continuous.R">R</a></span>  := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>].<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_differentiation_continuous.ballE">ballE</a></span> (<span class="id"><a name="x:3518">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>) (<span class="id"><a name="r:3519">r</a></span> : {<span class="id">posnum</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span>%:<span class="id">num</span> = `](<span class="id">x</span> - <span class="id">r</span>%:<span class="id">num</span>), (<span class="id">x</span> + <span class="id">r</span>%:<span class="id">num</span>)[%<span class="id">classic</span> :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof351')">Proof.</span></div>
<div class="proofscript" id="proof351">
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>^<span class="id">o</span>]) /<span class="id"><a href="mathcomp.analysis.topology.html#ball_">ball_</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvoo">set_itvoo</a></span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">eq_set</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltr_distlC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_differentiation_continuous">lebesgue_differentiation_continuous</a></span> (<span class="id"><a name="f:3520">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>^<span class="id">o</span>) (<span class="id"><a name="A:3521">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>) (<span class="id"><a name="x:3522">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>.-<span class="id">integrable</span> <span class="id">A</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f</span>) -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="r:3523">r</a></span> =&gt; 1 / (<span class="id">r</span> *+ 2) * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3524">z</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span>) <span class="id">f</span> <span class="id">z</span>) @ 0^'+ --&gt;<br/>
&nbsp;&nbsp;(<span class="id">f</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span>^<span class="id">o</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof352')">Proof.</span></div>
<div class="proofscript" id="proof352">
<span class="id">have</span> <span class="id">ball_itvr</span> <span class="id">r</span> : 0 &lt; <span class="id">r</span> -&gt; `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>] `\` <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span> = [<span class="id">set</span> <span class="id">x</span> + <span class="id">r</span>; <span class="id">x</span> - <span class="id">r</span>].<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">r</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">r</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setU1itv">setU1itv</a></span> ?<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bnd_simp">bnd_simp</a></span> ?<span class="id">ler_subl_addr</span> -?<span class="id">addrA</span> ?<span class="id">ler_paddr</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setUitv1">setUitv1</a></span> ?<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bnd_simp">bnd_simp</a></span> ?<span class="id">ltr_subl_addr</span> -?<span class="id">addrA</span> ?<span class="id">ltr_spaddr</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUA">setUA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUA">setUA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUl">setDUl</a></span> !<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.ballE">ballE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDv">setDv</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDidl">setDidl</a></span>// -<span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> /= [[]] -&gt;; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">ltxx</span>// <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
<span class="id">have</span> <span class="id">ball_itv2</span> <span class="id">r</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span> = `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>] `\` [<span class="id">set</span> <span class="id">x</span> + <span class="id">r</span>; <span class="id">x</span> - <span class="id">r</span>].<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">r</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">r</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ball_itvr</span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#setDD">setDD</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#setIidPl">setIidPl</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.ballE">ballE</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvcc">set_itvcc</a></span> =&gt; ?/=; <span class="id">rewrite</span> <span class="id">in_itv</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> [/<span class="id">ltW</span> -&gt; /<span class="id">ltW</span> -&gt;].<br/>
<span class="id">have</span> <span class="id">ritv</span> <span class="id">r</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span> `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>]%<span class="id">classic</span> = (<span class="id">r</span> *+ 2)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">gt0_cp</span> <span class="id">rE</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_lt_add</span> // ?<span class="id">rE</span> // -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>; <span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrAC</span> [<span class="id">_</span> - <span class="id">_</span>]<span class="id">addrC</span> <span class="id">addrA</span> <span class="id">subrr</span> <span class="id">add0r</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">oA</span> <span class="id">intf</span> <span class="id">ctsfx</span> <span class="id">Ax</span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_zero">cvg_zero</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span>^<span class="id">o</span>]).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_le">cvgrPdist_le</a></span> =&gt; <span class="id">eps</span> <span class="id">epos</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (@<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_gt">nbhs_right_gt</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.rT">rT</a></span> 0).<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_le">cvgrPdist_le</a></span>/(<span class="id">_</span> <span class="id">eps</span> <span class="id">epos</span>)/<span class="id"><a href="mathcomp.analysis.normedtype.html#at_right_in_segment">at_right_in_segment</a></span> : <span class="id">ctsfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#open_itvcc_subset">open_itvcc_subset</a></span> <span class="id">oA</span> <span class="id">Ax</span>).<br/>
<span class="id">have</span> <span class="id">mA</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span> <span class="id">oA</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">r</span> =&gt; <span class="id">xrA</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#addrfctE">addrfctE</a></span> <span class="id"><a href="mathcomp.classical.functions.html#opprfctE">opprfctE</a></span> =&gt; <span class="id">feps</span> <span class="id">rp</span>.<br/>
<span class="id">have</span> <span class="id">cptxr</span> : <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>] := @<span class="id"><a href="mathcomp.analysis.normedtype.html#segment_compact">segment_compact</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">subr0</span>.<br/>
<span class="id">have</span> -&gt; : \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3528">z</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span>) <span class="id">f</span> <span class="id">z</span> = \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3529">z</a></span> <span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>]) <span class="id">f</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ball_itv2</span> //; <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">_</span>); <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#negligible_integral">negligible_integral</a></span> //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">mA</span>).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU0">measureU0</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_set1">lebesgue_measure_set1</a></span>.<br/>
<span class="id">have</span> <span class="id">r20</span> : 0 &lt;= 1 / (<span class="id">r</span> *+ 2) <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">divr_ge0</span> // <span class="id">mulrn_wge0</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">f</span> <span class="id">x</span> = 1 / (<span class="id">r</span> *+ 2) * \<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3530">z</a></span> <span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>]) <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">z</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#Rintegral">Rintegral</a></span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst</a></span> /= ?<span class="id">ritv</span> // <span class="id">mulrC</span> <span class="id">mul1r</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">mulrA</span> <span class="id">divff</span> ?<span class="id">mulr1</span>//; <span class="id">apply</span>: <span class="id">lt0r_neq0</span>; <span class="id">rewrite</span> <span class="id">mulrn_wgt0</span>.<br/>
<span class="id">have</span> <span class="id">intRf</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>.-<span class="id">integrable</span> `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>] (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableS">integrableS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">xrA</span> <span class="id">intf</span>).<br/>
<span class="id">rewrite</span> /= -<span class="id">mulrBr</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineB">fineB</a></span>; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_compact_integrable">continuous_compact_integrable</a></span>// =&gt; ?.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralB_EFin">integralB_EFin</a></span> //; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_compact_integrable">continuous_compact_integrable</a></span> =&gt; // ?; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">under</span> [<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde">adde</a></span> <span class="id">_</span> <span class="id">_</span> ]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>.<br/>
<span class="id">have</span> <span class="id">int_fx</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>.-<span class="id">integrable</span> `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>] (<span class="kwd">fun</span> <span class="id"><a name="z:3531">z</a></span> =&gt; (<span class="id">f</span> <span class="id">z</span> - <span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> [<span class="kwd">fun</span> <span class="id"><a name="z:3532">z</a></span> =&gt; (<span class="id">f</span> <span class="id">z</span> - <span class="id">_</span>)%:<span class="id">E</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableB">integrableB</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#continuous_compact_integrable">continuous_compact_integrable</a></span>// =&gt; ?.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">normrM</span> [ `|<span class="id">_</span>/<span class="id">_</span>| ]<span class="id">ger0_norm</span> // -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_abse">fine_abse</a></span> //; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>.<br/>
<span class="id">suff</span> : (\<span class="id">int</span>[<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous.mu">mu</a></span>]<span class="id">_</span>(<span class="id"><a name="z:3535">z</a></span> <span class="kwd">in</span> `[(<span class="id">x</span> - <span class="id">r</span>)%<span class="id">R</span>, (<span class="id">x</span> + <span class="id">r</span>)%<span class="id">R</span>]) `|<span class="id">f</span> <span class="id">z</span> - <span class="id">f</span> <span class="id">x</span>|%:<span class="id">E</span> &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">r</span> *+ 2 * <span class="id">eps</span>)%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">intfeps</span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id">ler_pmul</span> <span class="id">r20</span> <span class="id">_</span> (<span class="id">le_refl</span> <span class="id">_</span>)); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>; <span class="id">last</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#le_abse_integral">le_abse_integral</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_fin_num">abse_fin_num</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span> : <span class="id">int_fx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">div1r</span> <span class="id">ler_pdivr_mull</span> ?<span class="id">mulrn_wgt0</span> // -[<span class="id">_</span> * <span class="id">_</span>]/(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">_</span>%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_le">fine_le</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_fune_fin_num">integral_fune_fin_num</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrable_abse">integrable_abse</a></span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
- <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_le_bound">integral_le_bound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="z:3536">z</a></span> =&gt; (<span class="id">f</span> <span class="id">z</span> - <span class="id">f</span> <span class="id">x</span>)%:<span class="id">E</span>) <span class="id">eps</span>%:<span class="id">E</span>) =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integrableP">integrableP</a></span>: <span class="id">int_fx</span>.<br/>
&nbsp;&nbsp;+ <span class="id">exact</span>: <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#aeW">aeW</a></span> =&gt; ? ?; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">distrC</span> <span class="id">feps</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ritv</span> //= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mulrC</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#lebesgue_differentiation_continuous">lebesgue_differentiation_continuous</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
