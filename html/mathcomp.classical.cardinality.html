
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.classical.cardinality</title>
<meta name="description" content="Documentation of Coq module mathcomp.classical.cardinality" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.classical.cardinality</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">finmap</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">ssrint</span> <span class="id">rat</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                             Cardinality                                   
                                                                           
This file provides an account of cardinality properties of classical sets. 
This includes standard results of set theory such as the Pigeon Hole       
principle, the Cantor-Bernstein Theorem, or lemmas about the cardinal of   
nat, nat * nat, and rat.                                                   
                                                                           
Since universe polymorphism is not yet available in our framework, we      
develop a relational theory of cardinals: there is no type for cardinals   
only relations A #&lt;= B and A #= B to compare the cardinals of two sets     
(on two possibly different types).                                         
                                                                           
          A #&lt;= B == the cardinal of A is smaller or equal to the one of B 
          A #&gt;= B := B #&lt;= A                                               
           A #= B == the cardinal of A is equal to the cardinal of B       
          A #!= B := ~~ (A #= B)                                           
     finite_set A == the set A is finite                                   
                  := exists n, A #= `I_n                                   
                  &lt;-&gt; exists X : {fset T}, A = [set` X]                    
                  &lt;-&gt; ~ ([set: nat] #&lt;= A)                                 
   infinite_set A := ~ finite_set A                                        
      countable A &lt;-&gt; A is countable                                       
                  := A #&lt;= [set: nat]                                      
       fset_set A == the finite set corresponding if A : set T is finite,  
                     set0 otherwise (T : choiceType)                       
             A.`1 := [fset x.1 | x in A]                                   
             A.`2 := [fset x.2 | x in A]                                   
{fimfun aT &gt;-&gt; T} == type of functions with a finite image                 
                                                                           
</pre>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">A</span> '#&lt;=' <span class="id">B</span>" (<span class="kwd">at</span> <span class="id">level</span> 79, <span class="id">format</span> "<span class="id">A</span>  '#&lt;='  <span class="id">B</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">A</span> '#&gt;=' <span class="id">B</span>" (<span class="kwd">at</span> <span class="id">level</span> 79, <span class="id">format</span> "<span class="id">A</span>  '#&gt;='  <span class="id">B</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">A</span> '#=' <span class="id">B</span>" (<span class="kwd">at</span> <span class="id">level</span> 79, <span class="id">format</span> "<span class="id">A</span>  '#='  <span class="id">B</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">A</span> '#!=' <span class="id">B</span>" (<span class="kwd">at</span> <span class="id">level</span> 79, <span class="id">format</span> "<span class="id">A</span>  '#!='  <span class="id">B</span>").<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.Theory</span> <span class="id">GRing.Theory</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">function_scope</span>.<br/>
<br/>
<span class="id">Declare</span> <span class="kwd">Scope</span> <span class="id">card_scope</span>.<br/>
<span class="id">Delimit</span> <span class="kwd">Scope</span> <span class="id">card_scope</span> <span class="kwd">with</span> <span class="id">card</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">card_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="card_le">card_le</a></span> <span class="id"><a name="T:1">T</a></span> <span class="id"><a name="U:2">U</a></span> (<span class="id"><a name="A:3">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:4">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :=<br/>
&nbsp;&nbsp;`[&lt; $|{<span class="id">injfun</span> [<span class="id">set</span>: <span class="id">A</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">B</span>]}| &gt;].<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> '#&lt;=' <span class="id">B</span>" := (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le">card_le</a></span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">card_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> '#&gt;=' <span class="id">B</span>" := (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le">card_le</a></span> <span class="id">B</span> <span class="id">A</span>) (<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">card_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="card_eq">card_eq</a></span> <span class="id"><a name="T:5">T</a></span> <span class="id"><a name="U:6">U</a></span> (<span class="id"><a name="A:7">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:8">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :=<br/>
&nbsp;&nbsp;`[&lt; $|{<span class="id">bij</span> [<span class="id">set</span>: <span class="id">A</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">B</span>]}| &gt;].<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> '#=' <span class="id">B</span>" := (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eq">card_eq</a></span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">card_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> '#!=' <span class="id">B</span>" := (~~ (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eq">card_eq</a></span> <span class="id">A</span> <span class="id">B</span>)) : <span class="id">card_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="finite_set">finite_set</a></span> {<span class="id"><a name="T:9">T</a></span>} (<span class="id"><a name="A:10">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) := <span class="kwd">exists</span> <span class="id"><a name="n:11">n</a></span>, <span class="id">A</span> #= `<span class="id">I_n</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="infinite_set">infinite_set</a></span> <span class="id">A</span> := (~ <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injPex">injPex</a></span> {<span class="id"><a name="T:12">T</a></span> <span class="id"><a name="U:13">U</a></span>} {<span class="id"><a name="A:14">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} :<br/>
&nbsp;&nbsp;&nbsp;$|{<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}| &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="f:15">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>, <span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">A</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [[<span class="id">f</span>]|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[<span class="id">f</span> <span class="id">_</span>]]]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">f</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjPex">surjPex</a></span> {<span class="id"><a name="T:16">T</a></span> <span class="id"><a name="U:17">U</a></span>} {<span class="id"><a name="A:18">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:19">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;$|{<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}| &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="f:20">f</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [[<span class="id">f</span>]|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#Psurj">Psurj</a></span>[<span class="id">f</span> <span class="id">_</span>]]]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">f</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bijPex">bijPex</a></span> {<span class="id"><a name="T:21">T</a></span> <span class="id"><a name="U:22">U</a></span>} {<span class="id"><a name="A:23">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:24">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;$|{<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}| &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="f:25">f</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [[<span class="id">f</span>]|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[<span class="id">f</span> <span class="id">_</span>]]]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">f</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjfunPex">surjfunPex</a></span> {<span class="id"><a name="T:26">T</a></span> <span class="id"><a name="U:27">U</a></span>} {<span class="id"><a name="A:28">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:29">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;$|{<span class="id">surjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}| &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="f:30">f</a></span>, <span class="id">B</span> = <span class="id">f</span> @` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">split</span>=&gt; [[<span class="id">f</span>]|[<span class="id">f</span> -&gt;]]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">squash</span> [<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id">A</span>].<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">f</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injfunPex">injfunPex</a></span> {<span class="id"><a name="T:31">T</a></span> <span class="id"><a name="U:32">U</a></span>} {<span class="id"><a name="A:33">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:34">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>}:<br/>
&nbsp;&nbsp;&nbsp;$|{<span class="id">injfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}| &lt;-&gt; <span class="kwd">exists2</span> <span class="id"><a name="f:35">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>, <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">A</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [[<span class="id">f</span>]|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#Pfun">Pfun</a></span>[? -&gt;] /<span class="id"><a href="mathcomp.classical.functions.html#funPinj">funPinj</a></span>[<span class="id">f</span>]]]; [<span class="kwd">exists</span> <span class="id">f</span> | <span class="id">squash</span> <span class="id">f</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_leP">card_leP</a></span> {<span class="id"><a name="T:37">T</a></span> <span class="id"><a name="U:38">U</a></span>} {<span class="id"><a name="A:39">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:40">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">injfun</span> [<span class="id">set</span>: <span class="id">A</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">B</span>]}| (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inj_card_le">inj_card_le</a></span> {<span class="id"><a name="T:41">T</a></span> <span class="id"><a name="U:42">U</a></span>} {<span class="id"><a name="A:43">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:44">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} : {<span class="id">injfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} -&gt; (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_leP">pcard_leP</a></span> {<span class="id"><a name="T:45">T</a></span>} {<span class="id"><a name="U:46">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:47">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:48">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">injfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}| (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>) =&gt; -[<span class="id">f</span>]; [<span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> <span class="id">f</span>) | <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>)].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_leTP">pcard_leTP</a></span> {<span class="id"><a name="T:49">T</a></span>} {<span class="id"><a name="U:50">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:51">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}| (<span class="id">A</span> #&lt;= [<span class="id">set</span>: <span class="id">U</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>) =&gt; -[<span class="id">f</span>]; [<span class="id">squash</span> <span class="id">f</span> | <span class="id">squash</span> ('<span class="id">totalfun_A</span> <span class="id">f</span>)].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_injP">pcard_injP</a></span> {<span class="id"><a name="T:52">T</a></span>} {<span class="id"><a name="U:53">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:54">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="f:55">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>, {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}) (<span class="id">A</span> #&lt;= [<span class="id">set</span>: <span class="id">U</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leTP">pcard_leTP</a></span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#injPex">injPex</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ppcard_leP">ppcard_leP</a></span> {<span class="id"><a name="T:56">T</a></span> <span class="id"><a name="U:57">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:58">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:59">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">splitinjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}| (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>) =&gt; -[<span class="id">f</span>]; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_ge0">card_ge0</a></span> <span class="id"><a name="T:60">T</a></span> <span class="id"><a name="U:61">U</a></span> (<span class="id"><a name="S:62">S</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : @<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">T</span> #&lt;= <span class="id">S</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">card_ge0</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le0P">card_le0P</a></span> <span class="id"><a name="T:63">T</a></span> <span class="id"><a name="U:64">U</a></span> (<span class="id"><a name="A:65">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="id">A</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) (<span class="id">A</span> #&lt;= @<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">U</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) =&gt; [/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>[<span class="id">f</span>]|-&gt;//].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> =&gt; <span class="id">a</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">aA</span>; <span class="id">have</span> [<span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] := <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">aA</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le0">card_le0</a></span>  <span class="id"><a name="T:66">T</a></span> <span class="id"><a name="U:67">U</a></span> (<span class="id"><a name="A:68">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : (<span class="id">A</span> #&lt;= @<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">U</span>) = (<span class="id">A</span> == <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_le0P">card_le0P</a></span>/<span class="id">eqP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eqP">card_eqP</a></span> {<span class="id"><a name="T:69">T</a></span> <span class="id"><a name="U:70">U</a></span>} {<span class="id"><a name="A:71">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:72">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">bij</span> [<span class="id">set</span>: <span class="id">A</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">B</span>]}| (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_eq">pcard_eq</a></span> {<span class="id"><a name="T:73">T</a></span> <span class="id"><a name="U:74">U</a></span>} {<span class="id"><a name="A:75">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:76">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} -&gt; <span class="id">A</span> #= <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_eqP">pcard_eqP</a></span> {<span class="id"><a name="T:77">T</a></span>} {<span class="id"><a name="U:78">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:79">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:80">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $| {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} | (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>) =&gt; -[<span class="id">f</span>]; [<span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> <span class="id">f</span>) | <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>)].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_bijP">card_bijP</a></span> {<span class="id"><a name="T:81">T</a></span> <span class="id"><a name="U:82">U</a></span>} {<span class="id"><a name="A:83">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:84">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="f:85">f</a></span> : <span class="id">A</span> -&gt; <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">f</span>) (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>) =&gt; [[<span class="id">f</span>]|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#PbijTT">PbijTT</a></span>[<span class="id">f</span> <span class="id">_</span>]]]; [<span class="kwd">exists</span> <span class="id">f</span>|<span class="id">squash</span> <span class="id">f</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eqVP">card_eqVP</a></span> {<span class="id"><a name="T:86">T</a></span> <span class="id"><a name="U:87">U</a></span>} {<span class="id"><a name="A:88">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:89">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">splitbij</span> [<span class="id">set</span>: <span class="id">A</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">B</span>]}| (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_bijP">card_bijP</a></span>) =&gt; [[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#PbijTT">PbijTT</a></span>[<span class="id">f</span> <span class="id">_</span>]]//|[<span class="id">f</span>]]; <span class="kwd">exists</span> <span class="id">f</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_set_bijP">card_set_bijP</a></span> {<span class="id"><a name="T:90">T</a></span>} {<span class="id"><a name="U:91">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:92">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:93">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="f:94">f</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>) (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>) =&gt; [[<span class="id">f</span>]|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[<span class="id">f</span> <span class="id">_</span>]]]; [<span class="kwd">exists</span> <span class="id">f</span>|<span class="id">squash</span> <span class="id">f</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ppcard_eqP">ppcard_eqP</a></span> {<span class="id"><a name="T:95">T</a></span> <span class="id"><a name="U:96">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="A:97">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:98">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $| {<span class="id">splitbij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} | (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>) =&gt; -[<span class="id">f</span>]; [<span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>)|<span class="id">squash</span> <span class="id">f</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eqxx">card_eqxx</a></span> <span class="id"><a name="T:99">T</a></span> (<span class="id"><a name="A:100">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">A</span> #= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>; <span class="id">squash</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">card_eqxx</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq00">card_eq00</a></span> <span class="id"><a name="T:101">T</a></span> <span class="id"><a name="U:102">U</a></span> : @<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">T</span> #= @<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">U</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#squash">squash</a></span>; <span class="id">apply</span>: @<span class="id"><a href="mathcomp.classical.functions.html#bijection_of_bijective">bijection_of_bijective</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span> =&gt; -[<span class="id">x</span> <span class="id">x0</span>]; <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">x0</span>.<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">card_eq00</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="empty1">empty1</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">T</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Empty.Exports.emptyType">emptyType</a></span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="empty_eq0">empty_eq0</a></span> <span class="id"><a name="T:103">T</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#all_equal_to">all_equal_to</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">X</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#setF_eq0">setF_eq0</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#no">no</a></span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_emptyl">card_le_emptyl</a></span> <span class="id"><a name="T:104">T</a></span> <span class="id"><a name="U:105">U</a></span> (<span class="id"><a name="A:106">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:107">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : <span class="id">A</span> #&lt;= <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#empty_eq0">empty_eq0</a></span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_emptyr">card_le_emptyr</a></span> <span class="id"><a name="T:108">T</a></span> <span class="id"><a name="U:109">U</a></span> (<span class="id"><a name="A:110">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:111">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : (<span class="id">B</span> #&lt;= <span class="id">A</span>) = (<span class="id">B</span> == <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#empty_eq0">empty_eq0</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id">eqP</span>=&gt; [/<span class="id"><a href="mathcomp.classical.cardinality.html#card_le0P">card_le0P</a></span>|-&gt;//]. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="emptyE_subdef">emptyE_subdef</a></span> := (<span class="id"><a href="mathcomp.classical.cardinality.html#empty_eq0">empty_eq0</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_emptyl">card_le_emptyl</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_emptyr">card_le_emptyr</a></span>, <span class="id"><a href="mathcomp.classical.boolp.html#eq_opE">eq_opE</a></span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.cardinality.html#empty1">empty1</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Cantor_Bernstein">Cantor_Bernstein</a></span> <span class="id"><a name="T:112">T</a></span> <span class="id"><a name="U:113">U</a></span> (<span class="id"><a name="A:114">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:115">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> #&lt;= <span class="id">B</span> -&gt; <span class="id">B</span> #&lt;= <span class="id">A</span> -&gt; <span class="id">A</span> #= <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE_subdef">emptyE_subdef</a></span> =&gt; <span class="id">_</span> -&gt;.<br/>
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">U</span> =&gt; <span class="id">U</span> <span class="kwd">in</span> <span class="id">B</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE_subdef">emptyE_subdef</a></span> =&gt; -&gt;.<br/>
<span class="id">suff</span> {<span class="id">A</span> <span class="id">B</span>} <span class="id">card_eq</span> (<span class="id"><a name="A:116">A</a></span> <span class="id"><a name="B:117">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : <span class="id">B</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">A</span> #&lt;= <span class="id">B</span> -&gt; <span class="id">A</span> #= <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#ppcard_leP">ppcard_leP</a></span>[<span class="id">f</span>] /<span class="id"><a href="mathcomp.classical.cardinality.html#ppcard_leP">ppcard_leP</a></span>[<span class="id">g</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="mathcomp.classical.cardinality.html#ppcard_eqP">ppcard_eqP</a></span>[|<span class="id">h</span>] := <span class="id">card_eq</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>; <span class="id">squash</span> ([<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id">A</span>] \<span class="id">o</span> <span class="id">g</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>; <span class="id">squash</span> ((<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">h</span>)^-1 \<span class="id">o</span> [<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id">A</span>]).<br/>
<span class="id">move</span>=&gt; <span class="id">BA</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#ppcard_leP">ppcard_leP</a></span>[<span class="id">u</span>]; <span class="id">have</span> <span class="id">uAB</span> := '<span class="id">funS_u</span>.<br/>
<span class="id">pose</span> <span class="id">C_</span> := <span class="kwd">fix</span> <span class="id">C</span> <span class="id"><a name="n:118">n</a></span> := <span class="kwd">if</span> <span class="id">n</span> <span class="id">is</span> <span class="id">n</span>.+1 <span class="kwd">then</span> <span class="id">u</span> @` <span class="id">C</span> <span class="id">n</span> <span class="kwd">else</span> <span class="id">A</span> `\` <span class="id">B</span>.<br/>
<span class="id">pose</span> <span class="id">C</span> := \<span class="id">bigcup_n</span> <span class="id">C_</span> <span class="id">n</span>; <span class="id">have</span> <span class="id">CA</span> : <span class="id">C</span> `&lt;=` <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; + [] =&gt; /[<span class="id">swap</span>]; <span class="id">elim</span>=&gt; [|<span class="id">i</span> <span class="id">IH</span>] <span class="id">y</span> <span class="id">_</span> []// <span class="id">x</span> /<span class="id">IH</span>/<span class="id">uAB</span>/<span class="id">BA</span> + &lt;-; <span class="id">apply</span>.<br/>
<span class="id">have</span> <span class="id">uC</span>: {<span class="id">homo</span> <span class="id">u</span> : <span class="id"><a name="x:122">x</a></span> / <span class="id">x</span> \<span class="kwd">in</span> <span class="id">C</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[<span class="id">i</span> <span class="id">_</span> <span class="id">Cix</span>]; <span class="kwd">exists</span> <span class="id">i</span>.+1 =&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_set_bijP">card_set_bijP</a></span>; <span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="x:124">x</a></span> =&gt; <span class="kwd">if</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id">C</span> <span class="kwd">then</span> <span class="id">u</span> <span class="id">x</span> <span class="kwd">else</span> <span class="id">x</span>); <span class="id">split</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">apply</span>: <span class="id">uAB</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> =&gt; <span class="id">NBx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="kwd">exists</span> 0%<span class="id">N</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xA</span> <span class="id">yA</span>; <span class="id">have</span> := '<span class="id">inj_u</span> <span class="id">xA</span> <span class="id">yA</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">xC</span>|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">C</span>); <span class="id">have</span> [<span class="id">yC</span>|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">C</span>) =&gt; // + <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]&lt;-; <span class="id">rewrite</span> <span class="id">uC</span>// <span class="id">xC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]-&gt;; <span class="id">rewrite</span> <span class="id">uC</span>// <span class="id">yC</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">y</span> /[<span class="id">dup</span>] <span class="id">By</span> /<span class="id">BA</span> <span class="id">Ay</span>/=.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">C</span>)); <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span>; <span class="id">rewrite</span> // <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifN">ifN</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[[|<span class="id">i</span>]/= <span class="id">_</span> []// <span class="id">x</span> <span class="id">Cix</span> &lt;-]; <span class="id">have</span> <span class="id">Cx</span> : <span class="id">C</span> <span class="id">x</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; [<span class="id">exact</span>: <span class="id">CA</span>|<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_esym">card_esym</a></span> <span class="id"><a name="T:126">T</a></span> <span class="id"><a name="U:127">U</a></span> (<span class="id"><a name="A:128">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:129">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : <span class="id">A</span> #= <span class="id">B</span> -&gt; <span class="id">B</span> #= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqVP">card_eqVP</a></span>[<span class="id">f</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>; <span class="id">squash</span> <span class="id">f</span>^-1. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_le">card_eq_le</a></span> <span class="id"><a name="T:130">T</a></span> <span class="id"><a name="U:131">U</a></span> (<span class="id"><a name="A:132">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:133">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;(<span class="id">A</span> #= <span class="id">B</span>) = (<span class="id">A</span> #&lt;= <span class="id">B</span>) &amp;&amp; (<span class="id">B</span> #&lt;= <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> =&gt; [/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqVP">card_eqVP</a></span>[<span class="id">f</span>]|[]]; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#Cantor_Bernstein">Cantor_Bernstein</a></span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; [<span class="id">squash</span> <span class="id">f</span>|<span class="id">squash</span> <span class="id">f</span>^-1].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eqPle">card_eqPle</a></span> <span class="id"><a name="T:134">T</a></span> <span class="id"><a name="U:135">U</a></span> (<span class="id"><a name="A:136">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:137">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;(<span class="id">A</span> #= <span class="id">B</span>) &lt;-&gt; (<span class="id">A</span> #&lt;= <span class="id">B</span>) /\ (<span class="id">B</span> #&lt;= <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_le">card_eq_le</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP">rwP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_lexx">card_lexx</a></span> <span class="id"><a name="T:138">T</a></span> (<span class="id"><a name="A:139">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">A</span> #&lt;= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">card_lexx</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_leT">card_leT</a></span> <span class="id"><a name="T:140">T</a></span> (<span class="id"><a name="S:141">S</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">S</span> #&lt;= [<span class="id">set</span>: <span class="id">T</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#inclT">inclT</a></span> <span class="id">_</span> \<span class="id">o</span> <span class="id">val</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subset_card_le">subset_card_le</a></span> <span class="id"><a name="T:142">T</a></span> (<span class="id"><a name="A:143">A</a></span> <span class="id"><a name="B:144">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">A</span> `&lt;=` <span class="id">B</span> -&gt; <span class="id">A</span> #&lt;= <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">AB</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#inclT">inclT</a></span> <span class="id">_</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_image_le">card_image_le</a></span> {<span class="id"><a name="T:145">T</a></span> <span class="id"><a name="U:146">U</a></span>} (<span class="id"><a name="f:147">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>) (<span class="id"><a name="A:148">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">f</span> @` <span class="id">A</span> #&lt;= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> <span class="id">f</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE_subdef">emptyE_subdef</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">A</span> <span class="id">f</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inj_card_eq">inj_card_eq</a></span> {<span class="id"><a name="T:149">T</a></span> <span class="id"><a name="U:150">U</a></span>} {<span class="id"><a name="A:151">A</a></span>} {<span class="id"><a name="f:152">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>} : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; <span class="id">f</span> @` <span class="id">A</span> #= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#inj_bij">inj_bij</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eq">pcard_eq</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_esym">card_esym</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.cardinality.html#inj_card_eq">inj_card_eq</a></span> {<span class="id">T</span> <span class="id">U</span> <span class="id">A</span> <span class="id">f</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_some">card_some</a></span> {<span class="id"><a name="T:153">T</a></span>} {<span class="id"><a name="A:154">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span> #= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#inj_card_eq">inj_card_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_image">card_image</a></span> {<span class="id"><a name="T:155">T</a></span> <span class="id"><a name="U:156">U</a></span>} {<span class="id"><a name="A:157">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="f:158">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) : <span class="id">f</span> @` <span class="id">A</span> #= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#inj_card_eq">inj_card_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_imsub">card_imsub</a></span> {<span class="id"><a name="T:159">T</a></span> <span class="id"><a name="U:160">U</a></span>} (<span class="id"><a name="A:161">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f:162">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:163">X</a></span> : <span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">f</span> @` <span class="id">X</span> #= <span class="id">X</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">XA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_image">card_image</a></span> [<span class="id">inj</span> <span class="id">of</span> <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id">XA</span>]). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_trans">card_le_trans</a></span> (<span class="id"><a name="T:164">T</a></span> <span class="id"><a name="U:165">U</a></span> <span class="id"><a name="V:166">V</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="B:167">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) (<span class="id"><a name="A:168">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="C:169">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> #&lt;= <span class="id">B</span> -&gt; <span class="id">B</span> #&lt;= <span class="id">C</span> -&gt; <span class="id">A</span> #&lt;= <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>[<span class="id">f</span>]/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>[<span class="id">g</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_sym">card_eq_sym</a></span> <span class="id"><a name="T:170">T</a></span> <span class="id"><a name="U:171">U</a></span> (<span class="id"><a name="A:172">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:173">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : (<span class="id">A</span> #= <span class="id">B</span>) = (<span class="id">B</span> #= <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_le">card_eq_le</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_trans">card_eq_trans</a></span> <span class="id"><a name="T:174">T</a></span> <span class="id"><a name="U:175">U</a></span> <span class="id"><a name="V:176">V</a></span> (<span class="id"><a name="A:177">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:178">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) (<span class="id"><a name="C:179">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; <span class="id">B</span> #= <span class="id">C</span> -&gt; <span class="id">A</span> #= <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>[<span class="id">f</span>]/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>[<span class="id">g</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>; <span class="id">squash</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_eql">card_le_eql</a></span> <span class="id"><a name="T:180">T</a></span> <span class="id"><a name="T':181">T</a></span>' <span class="id"><a name="T'':182">T</a></span>'' (<span class="id"><a name="A:183">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:184">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') [<span class="id"><a name="C:185">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>''] :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; (<span class="id">A</span> #&lt;= <span class="id">C</span>) = (<span class="id">B</span> #&lt;= <span class="id">C</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqPle">card_eqPle</a></span>[*]; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_eqr">card_le_eqr</a></span> <span class="id"><a name="T:186">T</a></span> <span class="id"><a name="T':187">T</a></span>' <span class="id"><a name="T'':188">T</a></span>'' (<span class="id"><a name="A:189">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:190">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') [<span class="id"><a name="C:191">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>''] :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; (<span class="id">C</span> #&lt;= <span class="id">A</span>) = (<span class="id">C</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqPle">card_eqPle</a></span>[*]; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eql">card_eql</a></span> <span class="id"><a name="T:192">T</a></span> <span class="id"><a name="T':193">T</a></span>' <span class="id"><a name="T'':194">T</a></span>'' (<span class="id"><a name="A:195">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:196">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') [<span class="id"><a name="C:197">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>''] :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; (<span class="id">A</span> #= <span class="id">C</span>) = (<span class="id">B</span> #= <span class="id">C</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_le">card_eq_le</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> <span class="id">e</span>) (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">card_le_eqr</a></span> <span class="id">e</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eqr">card_eqr</a></span> <span class="id"><a name="T:198">T</a></span> <span class="id"><a name="T':199">T</a></span>' <span class="id"><a name="T'':200">T</a></span>'' (<span class="id"><a name="A:201">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:202">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') [<span class="id"><a name="C:203">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>''] :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; (<span class="id">C</span> #= <span class="id">A</span>) = (<span class="id">C</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_le">card_eq_le</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> <span class="id">e</span>) (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">card_le_eqr</a></span> <span class="id">e</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_ge_image">card_ge_image</a></span> {<span class="id"><a name="T:204">T</a></span> <span class="id"><a name="U:205">U</a></span> <span class="id"><a name="V:206">V</a></span>} {<span class="id"><a name="A:207">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="f:208">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:209">X</a></span> (<span class="id"><a name="Y:210">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; (<span class="id">f</span> @` <span class="id">X</span> #&lt;= <span class="id">Y</span>) = (<span class="id">X</span> #&lt;= <span class="id">Y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">XA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_imsub">card_imsub</a></span> <span class="id">_</span> <span class="id">_</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_image">card_le_image</a></span> {<span class="id"><a name="T:211">T</a></span> <span class="id"><a name="U:212">U</a></span> <span class="id"><a name="V:213">V</a></span>} {<span class="id"><a name="A:214">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="f:215">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:216">X</a></span> (<span class="id"><a name="Y:217">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; (<span class="id">Y</span> #&lt;= <span class="id">f</span> @` <span class="id">X</span>) = (<span class="id">Y</span> #&lt;= <span class="id">X</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">XA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">card_le_eqr</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_imsub">card_imsub</a></span> <span class="id">_</span> <span class="id">_</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_image2">card_le_image2</a></span> {<span class="id"><a name="T:218">T</a></span> <span class="id"><a name="U:219">U</a></span>} (<span class="id"><a name="A:220">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f:221">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:222">X</a></span> <span class="id"><a name="Y:223">Y</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">Y</span> `&lt;=` <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @` <span class="id">X</span> #&lt;= <span class="id">f</span> @` <span class="id">Y</span>) = (<span class="id">X</span> #&lt;= <span class="id">Y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_ge_image">card_ge_image</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_image">card_le_image</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_image">card_eq_image</a></span> {<span class="id"><a name="T:224">T</a></span> <span class="id"><a name="U:225">U</a></span> <span class="id"><a name="V:226">V</a></span>} {<span class="id"><a name="A:227">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="f:228">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:229">X</a></span> (<span class="id"><a name="Y:230">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; (<span class="id">f</span> @` <span class="id">X</span> #= <span class="id">Y</span>) = (<span class="id">X</span> #= <span class="id">Y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">XA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eql">card_eql</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_imsub">card_imsub</a></span> <span class="id">_</span> <span class="id">_</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_imager">card_eq_imager</a></span> {<span class="id"><a name="T:231">T</a></span> <span class="id"><a name="U:232">U</a></span> <span class="id"><a name="V:233">V</a></span>} {<span class="id"><a name="A:234">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="f:235">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:236">X</a></span> (<span class="id"><a name="Y:237">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; (<span class="id">Y</span> #= <span class="id">f</span> @` <span class="id">X</span>) = (<span class="id">Y</span> #= <span class="id">X</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">XA</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_imsub">card_imsub</a></span> <span class="id">_</span> <span class="id">_</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_image2">card_eq_image2</a></span> {<span class="id"><a name="T:238">T</a></span> <span class="id"><a name="U:239">U</a></span>} (<span class="id"><a name="A:240">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f:241">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">U</span>}) <span class="id"><a name="X:242">X</a></span> <span class="id"><a name="Y:243">Y</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">Y</span> `&lt;=` <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> @` <span class="id">X</span> #= <span class="id">f</span> @` <span class="id">Y</span>) = (<span class="id">X</span> #= <span class="id">Y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_image">card_eq_image</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_imager">card_eq_imager</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_ge_some">card_ge_some</a></span> {<span class="id"><a name="T:244">T</a></span> <span class="id"><a name="T':245">T</a></span>'} {<span class="id"><a name="A:246">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:247">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'} :<br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span> #&lt;= <span class="id">B</span>) = (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_some">card_le_some</a></span> {<span class="id"><a name="T:248">T</a></span> <span class="id"><a name="T':249">T</a></span>'} {<span class="id"><a name="A:250">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:251">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'} :<br/>
&nbsp;&nbsp;(<span class="id">A</span> #&lt;= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>) = (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">card_le_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_some2">card_le_some2</a></span> {<span class="id"><a name="T:252">T</a></span> <span class="id"><a name="T':253">T</a></span>'} {<span class="id"><a name="A:254">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:255">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'} :<br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span> #&lt;= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>) = (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_ge_some">card_ge_some</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_some">card_le_some</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_somel">card_eq_somel</a></span> {<span class="id"><a name="T:256">T</a></span> <span class="id"><a name="T':257">T</a></span>'} {<span class="id"><a name="A:258">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:259">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'} :<br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span> #= <span class="id">B</span>) = (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eql">card_eql</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_somer">card_eq_somer</a></span> {<span class="id"><a name="T:260">T</a></span> <span class="id"><a name="T':261">T</a></span>'} {<span class="id"><a name="A:262">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:263">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'} :<br/>
&nbsp;&nbsp;(<span class="id">A</span> #= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>) = (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_some2">card_eq_some2</a></span> {<span class="id"><a name="T:264">T</a></span> <span class="id"><a name="T':265">T</a></span>'} {<span class="id"><a name="A:266">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:267">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'} :<br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span> #= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>) = (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_somel">card_eq_somel</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_somer">card_eq_somer</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq0">card_eq0</a></span> {<span class="id"><a name="T:268">T</a></span> <span class="id"><a name="U:269">U</a></span>} {<span class="id"><a name="A:270">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} : (<span class="id">A</span> #= @<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">U</span>) = (<span class="id">A</span> == <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_le">card_eq_le</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_le0">card_le0</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_ge0">card_ge0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_set1">card_set1</a></span> {<span class="id"><a name="T:271">T</a></span>} {<span class="id"><a name="x:272">x</a></span> : <span class="id">T</span>} : [<span class="id">set</span> <span class="id">x</span>] #= `<span class="id">I_1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>; <span class="id">suff</span> /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[<span class="id">f</span>]: <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> [<span class="id">set</span> <span class="id">x</span>] `<span class="id">I_1</span> (<span class="kwd">fun</span>=&gt; 0%<span class="id">N</span>) <span class="kwd">by</span> <span class="id">squash</span> <span class="id">f</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>=&gt; [//|<span class="id">y</span> <span class="id">z</span> /[!<span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span>]-&gt; -&gt;//|[]//]; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_card1">eq_card1</a></span> {<span class="id"><a name="T:273">T</a></span> <span class="id"><a name="U:274">U</a></span>} (<span class="id"><a name="x:275">x</a></span> : <span class="id">T</span>) (<span class="id"><a name="y:276">y</a></span> : <span class="id">U</span>) : [<span class="id">set</span> <span class="id">x</span>] #= [<span class="id">set</span> <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eql">card_eql</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_set1">card_set1</a></span>) (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_set1">card_set1</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_emptyr">card_eq_emptyr</a></span> (<span class="id"><a name="T:277">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Empty.Exports.emptyType">emptyType</a></span>) <span class="id"><a name="U:278">U</a></span> (<span class="id"><a name="A:279">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:280">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;(<span class="id">B</span> #= <span class="id">A</span>) = (<span class="id">B</span> == <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#empty_eq0">empty_eq0</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq0">card_eq0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_emptyl">card_eq_emptyl</a></span> (<span class="id"><a name="T:281">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Empty.Exports.emptyType">emptyType</a></span>) <span class="id"><a name="U:282">U</a></span> (<span class="id"><a name="A:283">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:284">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;(<span class="id">A</span> #= <span class="id">B</span>) = (<span class="id">B</span> == <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_emptyr">card_eq_emptyr</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="emptyE">emptyE</a></span> := (<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE_subdef">emptyE_subdef</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_emptyr">card_eq_emptyr</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_emptyl">card_eq_emptyl</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_setT">card_setT</a></span> <span class="id"><a name="T:285">T</a></span> (<span class="id"><a name="A:286">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : [<span class="id">set</span>: <span class="id">A</span>] #= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_esym">card_esym</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>; <span class="id">squash</span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">card_setT</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_setT_sym">card_setT_sym</a></span> <span class="id"><a name="T:287">T</a></span> (<span class="id"><a name="A:288">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">A</span> #= [<span class="id">set</span>: <span class="id">A</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_esym">card_esym</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_setT">card_setT</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">card_setT</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj_card_ge">surj_card_ge</a></span> {<span class="id"><a name="T:289">T</a></span> <span class="id"><a name="U:290">U</a></span>} {<span class="id"><a name="A:291">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:292">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} : {<span class="id">surj</span> <span class="id">B</span> &gt;-&gt; <span class="id">A</span>} -&gt; <span class="id">A</span> #&lt;= <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">g</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span> '<span class="id">surj_g</span>)) ?<span class="id"><a href="mathcomp.classical.cardinality.html#card_image_le">card_image_le</a></span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.cardinality.html#surj_card_ge">surj_card_ge</a></span> {<span class="id">T</span> <span class="id">U</span> <span class="id">A</span> <span class="id">B</span>} <span class="id">g</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_surjP">pcard_surjP</a></span> {<span class="id"><a name="T:293">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="U:294">U</a></span>} {<span class="id"><a name="A:295">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:296">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="g:297">g</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">B</span> <span class="id">A</span> <span class="id">g</span>) (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
<span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) =&gt; [|[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.functions.html#Psurj">Psurj</a></span>[<span class="id">g</span> <span class="id">_</span>]]]; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#surj_card_ge">surj_card_ge</a></span>.<br/>
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">U</span> =&gt; <span class="id">U</span> <span class="kwd">in</span> <span class="id">B</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">emptyE</a></span> =&gt; -&gt;; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>[<span class="id">f</span>]; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">A</span> <span class="id">f</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#subl_surj">subl_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pcard_geP">pcard_geP</a></span> {<span class="id"><a name="T:298">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="U:299">U</a></span>} {<span class="id"><a name="A:300">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:301">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">surj</span> <span class="id">B</span> &gt;-&gt; <span class="id">A</span>}| (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_surjP">pcard_surjP</a></span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#surjPex">surjPex</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ocard_geP">ocard_geP</a></span> {<span class="id"><a name="T:302">T</a></span> <span class="id"><a name="U:303">U</a></span>} {<span class="id"><a name="A:304">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:305">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">surj</span> <span class="id">B</span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span>}| (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
<span class="kwd">by</span> <span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.cardinality.html#card_ge_some">card_ge_some</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_geP">pcard_geP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pfcard_geP">pfcard_geP</a></span> {<span class="id"><a name="T:306">T</a></span> <span class="id"><a name="U:307">U</a></span>} {<span class="id"><a name="A:308">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:309">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="id">A</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> \/ $|{<span class="id">surjfun</span> <span class="id">B</span> &gt;-&gt; <span class="id">A</span>}|) (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; [-&gt;//|[<span class="id">f</span>]]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#surj_card_ge">surj_card_ge</a></span>; <span class="id">exact</span>: <span class="id">f</span>.<br/>
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">emptyE</a></span>; <span class="id">left</span>.<br/>
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">U</span> =&gt; <span class="id">U</span> <span class="kwd">in</span> <span class="id">B</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">emptyE</a></span> =&gt; -&gt;; <span class="id">right</span>; <span class="id">squash</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span>.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_geP">pcard_geP</a></span>[<span class="id">f</span>]; <span class="id">case</span>: (<span class="id">eqVneq</span> <span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">left</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>[<span class="id">x</span> <span class="id">Ax</span>]; <span class="id">right</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#surjfunPex">surjfunPex</a></span>.<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="y:310">y</a></span> =&gt; <span class="kwd">if</span> <span class="id">f</span> <span class="id">y</span> \<span class="kwd">in</span> <span class="id">A</span> <span class="kwd">then</span> <span class="id">f</span> <span class="id">y</span> <span class="kwd">else</span> <span class="id">x</span>).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>' /[<span class="id">dup</span>] /= /'<span class="id">surj_f</span> [<span class="id">y</span> <span class="id">By</span> &lt;-] <span class="id">Afy</span>; <span class="kwd">exists</span> <span class="id">y</span>; <span class="id">rewrite</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span> =&gt; <span class="id">y</span> <span class="id">By</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_II">card_le_II</a></span> <span class="id"><a name="n:312">n</a></span> <span class="id"><a name="m:313">m</a></span> : (`<span class="id">I_n</span> #&lt;= `<span class="id">I_m</span>) = (<span class="id">n</span> &lt;= <span class="id">m</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>=&gt; [/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>[<span class="id">f</span>]|?];<br/>
&nbsp;&nbsp;<span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span> =&gt; <span class="id">k</span> /<span class="id">leq_trans</span>; <span class="id">apply</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> /<span class="id">leq_card</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#in2TT">in2TT</a></span> '<span class="id">inj_</span>(<span class="id"><a href="mathcomp.classical.classical_sets.html#IIord">IIord</a></span> \<span class="id">o</span> <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#IIord">IIord</a></span>^-1); <span class="id">rewrite</span> !<span class="id">card_ord</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ocard_eqP">ocard_eqP</a></span> {<span class="id"><a name="T:314">T</a></span> <span class="id"><a name="U:315">U</a></span>} {<span class="id"><a name="A:316">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:317">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>}| (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">U</span> =&gt; <span class="id">U</span> <span class="kwd">in</span> <span class="id">B</span> *.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>); <span class="id">exact</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oocard_eqP">oocard_eqP</a></span> {<span class="id"><a name="T:318">T</a></span> <span class="id"><a name="U:319">U</a></span>} {<span class="id"><a name="A:320">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="B:321">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> $|{<span class="id">splitbij</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>}| (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">U</span> =&gt; <span class="id">U</span> <span class="kwd">in</span> <span class="id">B</span> *; <span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *.<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.cardinality.html#card_eql">card_eql</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>) -(<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_some">card_some</a></span>).<br/>
<span class="id">exact</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#ppcard_eqP">ppcard_eqP</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_eq_II">card_eq_II</a></span> {<span class="id"><a name="n:322">n</a></span> <span class="id"><a name="m:323">m</a></span>} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="id">n</span> = <span class="id">m</span>) (`<span class="id">I_n</span> #= `<span class="id">I_m</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_le">card_eq_le</a></span> !<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_II">card_le_II</a></span> -<span class="id">eqn_leq</span>; <span class="id">apply</span>: <span class="id">eqP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sub_setP">sub_setP</a></span>  {<span class="id"><a name="T:324">T</a></span>} {<span class="id"><a name="A:325">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="X:326">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">A</span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> @` <span class="id">X</span> `&lt;=` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> [/= <span class="id">a</span> <span class="id">Xa</span> &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.cardinality.html#sub_setP">sub_setP</a></span> {<span class="id">T</span> <span class="id">A</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> {<span class="id">aT</span> <span class="id">rT</span>} <span class="id">f</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_subP">card_subP</a></span> <span class="id"><a name="T:327">T</a></span> <span class="id"><a name="U:328">U</a></span> (<span class="id"><a name="A:329">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:330">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists2</span> <span class="id"><a name="C:331">C</a></span>, <span class="id">C</span> #= <span class="id">A</span> &amp; <span class="id">C</span> `&lt;=` <span class="id">B</span>) (<span class="id">A</span> #&lt;= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>) =&gt; [/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>[<span class="id">f</span>]|[<span class="id">C</span> <span class="id">CA</span> <span class="id">CB</span>]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> <span class="id">CA</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#inclT">inclT</a></span> <span class="id">_</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">CB</span>).<br/>
<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> @` <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>); <span class="id">last</span> <span class="id">exact</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#sub_setP">sub_setP</a></span> <span class="id">_</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.cardinality.html#card_eql">card_eql</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#inj_card_eq">inj_card_eq</a></span> <span class="id">_</span>))//; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#in2TT">in2TT</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pigeonhole">pigeonhole</a></span> <span class="id"><a name="m:333">m</a></span> <span class="id"><a name="n:334">n</a></span> (<span class="id"><a name="f:335">f</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) : {<span class="kwd">in</span> `<span class="id">I_m</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @` `<span class="id">I_m</span> `&lt;=` `<span class="id">I_n</span> -&gt; (<span class="id">m</span> &lt;= <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt;] /<span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#inj_card_eq">inj_card_eq</a></span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_II">card_le_II</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="countable">countable</a></span> <span class="id"><a name="T:336">T</a></span> (<span class="id"><a name="A:337">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) := <span class="id">A</span> #&lt;= @<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_countable">eq_countable</a></span> <span class="id"><a name="T:338">T</a></span> <span class="id"><a name="U:339">U</a></span> (<span class="id"><a name="A:340">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:341">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">A</span> = <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> <span class="id">leA</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">leA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="countable_setT_countMixin">countable_setT_countMixin</a></span> (<span class="id"><a name="T:342">T</a></span> : <span class="kwd">Type</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">T</span>) -&gt; <span class="id">Countable.mixin_of</span> <span class="id">T</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#unsquash">unsquash</a></span> <span class="id">f</span>; <span class="kwd">exists</span> <span class="id">f</span> '<span class="id">oinv_f</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#in1TT">in1TT</a></span> '<span class="id">funoK_f</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="countableP">countableP</a></span> (<span class="id"><a name="T:343">T</a></span> : <span class="id">countType</span>) (<span class="id"><a name="A:344">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_leP">card_leP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> \<span class="id">o</span> <span class="id">choice.pickle</span>). Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">countableP</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="countable0">countable0</a></span> <span class="id"><a name="T:345">T</a></span> : <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">T</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_ge0">card_ge0</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">countable0</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="countable_injP">countable_injP</a></span> <span class="id"><a name="T:346">T</a></span> (<span class="id"><a name="A:347">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="f:348">f</a></span> : <span class="id">T</span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>, {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}) (<span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_injP">pcard_injP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="countable_bijP">countable_bijP</a></span> <span class="id"><a name="T:349">T</a></span> (<span class="id"><a name="A:350">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">reflect</a></span> (<span class="kwd">exists</span> <span class="id"><a name="B:351">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>, (<span class="id">A</span> #= <span class="id">B</span>)%<span class="id">card</span>) (<span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">apply</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#iffP">iffP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">B</span>] /<span class="id"><a href="mathcomp.classical.cardinality.html#eq_countable">eq_countable</a></span> -&gt;.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>[<span class="id">f</span>]; <span class="kwd">exists</span> (<span class="id">f</span> @` <span class="id">A</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>; <span class="id">squash</span> [<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id">A</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sub_countable">sub_countable</a></span> <span class="id"><a name="T:352">T</a></span> <span class="id"><a name="U:353">U</a></span> (<span class="id"><a name="A:354">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:355">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) : <span class="id">A</span> #&lt;= <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setP">finite_setP</a></span> <span class="id"><a name="T:356">T</a></span> (<span class="id"><a name="A:357">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="n:358">n</a></span>, <span class="id">A</span> #= `<span class="id">I_n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_II">finite_II</a></span> <span class="id"><a name="n:359">n</a></span> : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> `<span class="id">I_n</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">finite_setP</a></span>; <span class="kwd">exists</span> <span class="id">n</span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_II</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_II">card_II</a></span> {<span class="id"><a name="n:360">n</a></span>} : `<span class="id">I_n</span> #= [<span class="id">set</span>: '<span class="id">I_n</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_esym">card_esym</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#bijPex">bijPex</a></span>; <span class="kwd">exists</span> <span class="id">val</span>; <span class="id">split</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_fsetP">finite_fsetP</a></span> {<span class="id"><a name="T:361">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="A:362">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="X:363">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}, <span class="id">A</span> = [<span class="id">set</span>` <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">finite_setP</a></span>; <span class="id">split</span>=&gt; [[<span class="id">n</span>]|[<span class="id">X</span> {<span class="id">A</span>}-&gt;]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> #|{: <span class="id">X</span>}|; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_II">card_II</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqP">card_eqP</a></span>; <span class="id">squash</span> (<span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> \<span class="id">o</span> <span class="id">enum_rank</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#val_finset">val_finset</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_eqr</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_II">card_II</a></span>) =&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_esym">card_esym</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqVP">card_eqVP</a></span>[<span class="id">f</span>]; <span class="id">pose</span> <span class="id">g</span> := <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span>.<br/>
<span class="kwd">exists</span> [<span class="id">fset</span> <span class="id">val</span> (<span class="id">g</span> <span class="id">i</span>) | <span class="id"><a name="i:364">i</a></span> <span class="kwd">in</span> '<span class="id">I_n</span>]%<span class="id">fset</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Ax</span>|<span class="id">_</span> /<span class="id">imfsetP</span>[<span class="id">i</span> <span class="id">_</span> -&gt;]]; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">imfsetP</span>; <span class="kwd">exists</span> (<span class="id">g</span>^-1 (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span>)); <span class="id">rewrite</span> ?[<span class="id">g</span> <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span>//= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_subfset">finite_subfset</a></span> {<span class="id"><a name="T:366">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="X:367">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}) {<span class="id"><a name="A:368">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} :<br/>
&nbsp;&nbsp;<span class="id">A</span> `&lt;=` [<span class="id">set</span>` <span class="id">X</span>] -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">move</span>=&gt; <span class="id">AX</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>; <span class="kwd">exists</span> [<span class="id">fset</span> <span class="id"><a name="x:369">x</a></span> <span class="kwd">in</span> <span class="id">X</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>]%<span class="id">fset</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>//; <span class="id">apply</span>: <span class="id">AX</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_subfset">finite_subfset</a></span> {<span class="id">T</span>} <span class="id">X</span> {<span class="id">A</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set0">finite_set0</a></span> <span class="id"><a name="T:381">T</a></span> : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">finite_setP</a></span>; <span class="kwd">exists</span> 0%<span class="id">N</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#II0">II0</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set0</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_seqP">finite_seqP</a></span> {<span class="id"><a name="T:382">T</a></span> : <span class="id">eqType</span>} <span class="id"><a name="A:383">A</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="s:384">s</a></span> : <span class="id">seq</span> <span class="id">T</span>, <span class="id">A</span> = [<span class="id">set</span>` <span class="id">s</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#eqPchoice">eqPchoice</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>.<br/>
<span class="id">split</span>=&gt; [[<span class="id">X</span> -&gt;]|[<span class="id">s</span> -&gt;]]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">X</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">fset</span> <span class="id">x</span> | <span class="id"><a name="x:385">x</a></span> <span class="kwd">in</span> <span class="id">s</span>]%<span class="id">fset</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_seq">finite_seq</a></span> {<span class="id"><a name="T:387">T</a></span> : <span class="id">eqType</span>} (<span class="id"><a name="s:388">s</a></span> : <span class="id">seq</span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span>` <span class="id">s</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_seqP">finite_seqP</a></span>; <span class="kwd">exists</span> <span class="id">s</span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_seq</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_fset">finite_fset</a></span> {<span class="id"><a name="T:389">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="X:390">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span>` <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>; <span class="kwd">exists</span> <span class="id">X</span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_fset</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_finpred">finite_finpred</a></span> {<span class="id"><a name="T:391">T</a></span> : <span class="id">finType</span>} {<span class="id"><a name="pT:392">pT</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#predType">predType</a></span> <span class="id">T</span>} (<span class="id"><a name="P:393">P</a></span> : <span class="id">pT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span>` <span class="id">P</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_seqP">finite_seqP</a></span>; <span class="kwd">exists</span> (<span class="id">enum</span> <span class="id">P</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">mem_enum</span>.<br/>
Qed.</div>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span>` <span class="id">_</span>]) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_finpred">finite_finpred</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_finset">finite_finset</a></span> {<span class="id"><a name="T:394">T</a></span> : <span class="id">finType</span>} {<span class="id"><a name="X:395">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">X</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="kwd">by</span> <span class="id">have</span> -&gt; : <span class="id">X</span> = [<span class="id">set</span>` <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id">X</span>] <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_finset</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set_countable">finite_set_countable</a></span> <span class="id"><a name="T:396">T</a></span> (<span class="id"><a name="A:397">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">finite_setP</a></span>[<span class="id">n</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#eq_countable">eq_countable</a></span>-&gt;]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="infiniteP">infiniteP</a></span> <span class="id"><a name="T:398">T</a></span> (<span class="id"><a name="A:399">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#infinite_set">infinite_set</a></span> <span class="id">A</span> &lt;-&gt; [<span class="id">set</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>] #&lt;= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">emptyE</a></span>; <span class="id">split</span>=&gt; // /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (@^~ 0%<span class="id">N</span>))/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span> =&gt; -[].<br/>
<span class="id">split</span>=&gt; [<span class="id">Ainfinite</span>| + /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">finite_setP</a></span>[<span class="id">n</span> <span class="id">eqAI</span>]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">card_le_eqr</a></span> <span class="id">eqAI</span>) =&gt; <span class="id">le_nat_n</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span>: `<span class="id">I_n</span>.+1 #&lt;= `<span class="id">I_n</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_II">card_le_II</a></span> <span class="id">ltnn</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span> <span class="id">_</span>) <span class="id">le_nat_n</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#all_sig2">all_sig2</a></span>[<span class="id">f</span> <span class="id">Af</span> <span class="id">fX</span>] : <span class="kwd">forall</span> <span class="id"><a name="X:400">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}, {<span class="id"><a name="x:401">x</a></span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span> &amp; <span class="id">x</span> \<span class="id">notin</span> <span class="id">X</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">X</span>; <span class="id">apply</span>/<span class="id">sig2W</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notP">contra_notP</a></span> <span class="id">Ainfinite</span> =&gt; <span class="id">nAX</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> [<span class="id">fset</span> <span class="id"><a name="x:403">x</a></span> <span class="kwd">in</span> <span class="id">X</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>]%<span class="id">fset</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span> /=; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contra_notT">contra_notT</a></span> <span class="id">nAX</span> =&gt; <span class="id">xNX</span>; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">do</span> [<span class="id">under</span> [<span class="kwd">forall</span> <span class="id"><a name="x:415">x</a></span> : {<span class="id">fset</span> <span class="id">_</span>}, <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_forall">eq_forall</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="kwd">in</span> <span class="id">Af</span> *.<br/>
<span class="id">suff</span> [<span class="id">g</span> <span class="id">gE</span>] : <span class="kwd">exists</span> <span class="id"><a name="g:418">g</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="n:419">n</a></span>, <span class="id">g</span> <span class="id">n</span> = <span class="id">f</span> [<span class="id">fset</span> <span class="id">g</span> <span class="id">k</span> | <span class="id"><a name="k:420">k</a></span> <span class="kwd">in</span> <span class="id">iota</span> 0 <span class="id">n</span>]%<span class="id">fset</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[<span class="id">h</span> <span class="id">hE</span>] : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id">contra_eq</span>; <span class="id">wlog</span> <span class="id">lt_ij</span> : <span class="id">i</span> <span class="id">j</span> / (<span class="id">i</span> &lt; <span class="id">j</span>)%<span class="id">N</span> =&gt; [<span class="id">hwlog</span>|<span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltngtP</span> =&gt; // <span class="id">ij</span> <span class="id">_</span>; [|<span class="id">rewrite</span> <span class="id">eq_sym</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">hwlog</span>=&gt; //; <span class="id">rewrite</span> <span class="id">lt_eqF</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">g</span> <span class="id">j</span>]<span class="id">gE</span>; <span class="id">set</span> <span class="id">X</span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id">f</span> <span class="id">X</span>); <span class="id">have</span> := <span class="id">fX</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contraNneq</span> =&gt; &lt;-; <span class="id">apply</span>/<span class="id">imfsetP</span>; <span class="kwd">exists</span> <span class="id">i</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">mem_iota</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span>/<span class="id"><a href="mathcomp.classical.functions.html#injPfun">injPfun</a></span>[<span class="id">i</span> <span class="id">_</span>] : {<span class="id">homo</span> <span class="id">h</span> : <span class="id"><a name="x:422">x</a></span> / <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>} <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> -<span class="id">hE</span> <span class="id">gE</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_leP">pcard_leP</a></span>; <span class="id">squash</span> <span class="id">i</span>.<br/>
<span class="id">pose</span> <span class="id">g</span> := <span class="kwd">fix</span> <span class="id">g</span> <span class="id"><a name="n:424">n</a></span> <span class="id"><a name="k:425">k</a></span> := <span class="kwd">if</span> <span class="id">n</span> <span class="id">isn</span>'<span class="id">t</span> <span class="id">n</span>'.+1 <span class="kwd">then</span> <span class="id">f</span> <span class="id">fset0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">f</span> [<span class="id">fset</span> <span class="id">g</span> <span class="id">n</span>' <span class="id">i</span> | <span class="id"><a name="i:428">i</a></span> <span class="kwd">in</span> <span class="id">iota</span> 0 <span class="id">k</span>]%<span class="id">fset</span>.<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="n:429">n</a></span> =&gt; <span class="id">g</span> <span class="id">n</span> <span class="id">n</span>) =&gt; <span class="id">n</span>.<br/>
<span class="id">suff</span> {<span class="id">n</span>} <span class="id">gn</span> <span class="id">n</span> <span class="id">k</span> : (<span class="id">k</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> -&gt; <span class="id">g</span> <span class="id">n</span> <span class="id">k</span> = <span class="id">f</span> [<span class="id">fset</span> <span class="id">g</span> <span class="id">k</span> <span class="id">k</span> | <span class="id"><a name="k:433">k</a></span> <span class="kwd">in</span> <span class="id">iota</span> 0 <span class="id">k</span>]%<span class="id">fset</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gn</span>//; <span class="id">congr</span> <span class="id">f</span>; <span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">k</span>.<br/>
<span class="id">have</span> [<span class="id">m</span>] := <span class="id">ubnP</span> <span class="id">n</span>; <span class="id">elim</span>: <span class="id">m</span> <span class="id">n</span> <span class="id">k</span> =&gt; //= <span class="id">m</span> <span class="id">IHm</span> [|<span class="id">n</span>] <span class="id">k</span> /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">leqn0</span> =&gt; <span class="id">_</span> /<span class="id">eqP</span>-&gt;/=.<br/>
&nbsp;&nbsp;<span class="id">congr</span> <span class="id">f</span>; <span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">imfsetP</span> =&gt; /= -[].<br/>
<span class="id">rewrite</span> <span class="id">ltnS</span> =&gt; <span class="id">ltmn</span> <span class="id">lekSn</span> /=; <span class="id">congr</span> <span class="id">f</span>; <span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">imfsetP</span>/<span class="id">imfsetP</span> =&gt; /= -[<span class="id">j</span>]; <span class="id">rewrite</span> <span class="id">mem_iota</span>/= =&gt; <span class="id">jk</span> -&gt;;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">j</span>; <span class="id">rewrite</span> ?<span class="id">mem_iota</span>//= ?<span class="id">add0n</span> ?<span class="id">IHm</span>//;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">rewrite</span> (<span class="id">leq_trans</span> <span class="id">jk</span>)// (<span class="id">leq_trans</span> <span class="id">lekSn</span>)|<span class="id">rewrite</span> -<span class="id">ltnS</span> (<span class="id">leq_trans</span> <span class="id">jk</span>)].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setPn">finite_setPn</a></span> <span class="id"><a name="T:434">T</a></span> (<span class="id"><a name="A:435">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> &lt;-&gt; ~ ([<span class="id">set</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>] #&lt;= <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.cardinality.html#infiniteP">infiniteP</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#notK">notK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_finite">card_le_finite</a></span> <span class="id"><a name="T:436">T</a></span> <span class="id"><a name="U:437">U</a></span> (<span class="id"><a name="A:438">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:439">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> #&lt;= <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setPn">finite_setPn</a></span>; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_not">contra_not</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sub_finite_set">sub_finite_set</a></span> <span class="id"><a name="T:440">T</a></span> (<span class="id"><a name="A:441">A</a></span> <span class="id"><a name="B:442">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">A</span> `&lt;=` <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_finite">card_le_finite</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set_leP">finite_set_leP</a></span> <span class="id"><a name="T:443">T</a></span> (<span class="id"><a name="A:444">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id"><a name="n:445">n</a></span>, <span class="id">A</span> #&lt;= `<span class="id">I_n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">split</span>=&gt; [[<span class="id">n</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqPle">card_eqPle</a></span>[]]|[<span class="id">n</span> <span class="id">leAn</span>]]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_finite">card_le_finite</a></span> <span class="id">leAn</span> <span class="id">_</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_ge_preimage">card_ge_preimage</a></span> {<span class="id"><a name="T:446">T</a></span> <span class="id"><a name="U:447">U</a></span>} (<span class="id"><a name="B:448">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) (<span class="id"><a name="f:449">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">f</span> @^-1` <span class="id">B</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; <span class="id">f</span> @^-1` <span class="id">B</span> #&lt;= <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[<span class="id">g</span> <span class="id">eqg</span>]; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_eql</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_image">card_image</a></span> <span class="id">g</span>)) -<span class="id">eqg</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#image_preimage_subset">image_preimage_subset</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="finite_preimage">finite_preimage</a></span> {<span class="id"><a name="T:450">T</a></span> <span class="id"><a name="U:451">U</a></span>} (<span class="id"><a name="B:452">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) (<span class="id"><a name="f:453">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">f</span> @^-1` <span class="id">B</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">f</span> @^-1` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_ge_preimage">card_ge_preimage</a></span> <span class="id">fB</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_finite">card_le_finite</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_finite_set">eq_finite_set</a></span> <span class="id"><a name="T:454">T</a></span> <span class="id"><a name="U:455">U</a></span> (<span class="id"><a name="A:456">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:457">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> #= <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> = <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
<span class="id">move</span>=&gt; <span class="id">eqAB</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propeqP">propeqP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>=&gt; -[<span class="id">n</span> <span class="id">Xn</span>]; <span class="kwd">exists</span> <span class="id">n</span>; <span class="id">move</span>: <span class="id">Xn</span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eql">card_eql</a></span> <span class="id">eqAB</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="card_le_setD">card_le_setD</a></span> <span class="id"><a name="T:458">T</a></span> (<span class="id"><a name="A:459">A</a></span> <span class="id"><a name="B:460">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id">A</span> `\` <span class="id">B</span> #&lt;= <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIset">subIset</a></span>; <span class="id">left</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_image">finite_image</a></span> <span class="id"><a name="T:461">T</a></span> <span class="id"><a name="T':462">T</a></span>' <span class="id"><a name="A:463">A</a></span> (<span class="id"><a name="f:464">f</a></span> : <span class="id">T</span> -&gt; <span class="id">T</span>') : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">f</span> @` <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_finite">card_le_finite</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_image_le">card_image_le</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set1">finite_set1</a></span> <span class="id"><a name="T:465">T</a></span> (<span class="id"><a name="x:466">x</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">x</span> *.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>; <span class="kwd">exists</span> (<span class="id">fset1</span> <span class="id">x</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_fset1">set_fset1</a></span>.<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set1</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setD">finite_setD</a></span> <span class="id"><a name="T:467">T</a></span> (<span class="id"><a name="A:468">A</a></span> <span class="id"><a name="B:469">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `\` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_finite">card_le_finite</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_setD">card_le_setD</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setU">finite_setU</a></span> <span class="id"><a name="T:470">T</a></span> (<span class="id"><a name="A:471">A</a></span> <span class="id"><a name="B:472">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `|` <span class="id">B</span>) = (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> /\ <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
<span class="id">pose</span> <span class="id">fP</span> := @<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span> [<span class="id">choiceType</span> <span class="id">of</span> {<span class="id">classic</span> <span class="id">T</span>}]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">finAUB</span>; <span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#sub_finite_set">sub_finite_set</a></span> <span class="id">finAUB</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>=&gt; /<span class="id">fP</span>[<span class="id">X</span>-&gt;]/<span class="id">fP</span>[<span class="id">Y</span>-&gt;]; <span class="id">apply</span>/<span class="id">fP</span>; <span class="kwd">exists</span> (<span class="id">X</span> `|` <span class="id">Y</span>)%<span class="id">fset</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_fsetU">set_fsetU</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set2">finite_set2</a></span> <span class="id"><a name="T:473">T</a></span> (<span class="id"><a name="x:474">x</a></span> <span class="id"><a name="y:475">y</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>; <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>; <span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set1">finite_set1</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set2</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set3">finite_set3</a></span> <span class="id"><a name="T:476">T</a></span> (<span class="id"><a name="x:477">x</a></span> <span class="id"><a name="y:478">y</a></span> <span class="id"><a name="z:479">z</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>; <span class="id">y</span>; <span class="id">z</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>; <span class="id">do</span> !<span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set1">finite_set1</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set3</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set4">finite_set4</a></span> <span class="id"><a name="T:480">T</a></span> (<span class="id"><a name="x:481">x</a></span> <span class="id"><a name="y:482">y</a></span> <span class="id"><a name="z:483">z</a></span> <span class="id"><a name="t:484">t</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>; <span class="id">y</span>; <span class="id">z</span>; <span class="id">t</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>; <span class="id">do</span> !<span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set1">finite_set1</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set4</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set5">finite_set5</a></span> <span class="id"><a name="T:485">T</a></span> (<span class="id"><a name="x:486">x</a></span> <span class="id"><a name="y:487">y</a></span> <span class="id"><a name="z:488">z</a></span> <span class="id"><a name="t:489">t</a></span> <span class="id"><a name="u:490">u</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>; <span class="id">y</span>; <span class="id">z</span>; <span class="id">t</span>; <span class="id">u</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>; <span class="id">do</span> !<span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set1">finite_set1</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set5</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set6">finite_set6</a></span> <span class="id"><a name="T:491">T</a></span> (<span class="id"><a name="x:492">x</a></span> <span class="id"><a name="y:493">y</a></span> <span class="id"><a name="z:494">z</a></span> <span class="id"><a name="t:495">t</a></span> <span class="id"><a name="u:496">u</a></span> <span class="id"><a name="v:497">v</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>; <span class="id">y</span>; <span class="id">z</span>; <span class="id">t</span>; <span class="id">u</span>; <span class="id">v</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>; <span class="id">do</span> !<span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set1">finite_set1</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set6</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set7">finite_set7</a></span> <span class="id"><a name="T:498">T</a></span> (<span class="id"><a name="x:499">x</a></span> <span class="id"><a name="y:500">y</a></span> <span class="id"><a name="z:501">z</a></span> <span class="id"><a name="t:502">t</a></span> <span class="id"><a name="u:503">u</a></span> <span class="id"><a name="v:504">v</a></span> <span class="id"><a name="w:505">w</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">x</span>; <span class="id">y</span>; <span class="id">z</span>; <span class="id">t</span>; <span class="id">u</span>; <span class="id">v</span>; <span class="id">w</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>; <span class="id">do</span> !<span class="id">split</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set1">finite_set1</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">finite_set7</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setI">finite_setI</a></span> <span class="id"><a name="T:506">T</a></span> (<span class="id"><a name="A:507">A</a></span> <span class="id"><a name="B:508">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> \/ <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span>) -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `&amp;` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
<span class="kwd">by</span> <span class="id">case</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contraPP">contraPP</a></span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#infiniteP">infiniteP</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_trans">card_le_trans</a></span>; <span class="id">apply</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#subset_card_le">subset_card_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setIl">finite_setIl</a></span> <span class="id"><a name="T:509">T</a></span> (<span class="id"><a name="A:510">A</a></span> <span class="id"><a name="B:511">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `&amp;` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setI">finite_setI</a></span>; <span class="id">left</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setIr">finite_setIr</a></span> <span class="id"><a name="T:512">T</a></span> (<span class="id"><a name="A:513">A</a></span> <span class="id"><a name="B:514">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `&amp;` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setI">finite_setI</a></span>; <span class="id">right</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setM">finite_setM</a></span> <span class="id"><a name="T:515">T</a></span> <span class="id"><a name="T':516">T</a></span>' (<span class="id"><a name="A:517">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:518">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `*` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *; <span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">T</span>' =&gt; <span class="id">T</span>' <span class="kwd">in</span> <span class="id">B</span> *.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>[{}<span class="id">A</span> -&gt;] /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>[{}<span class="id">B</span> -&gt;].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>; <span class="kwd">exists</span> (<span class="id">A</span> `*` <span class="id">B</span>)%<span class="id">fset</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span> =&gt; <span class="id">x</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_image2">finite_image2</a></span> [<span class="id"><a name="aT:519">aT</a></span> <span class="id"><a name="bT:520">bT</a></span> <span class="id"><a name="rT:521">rT</a></span> : <span class="kwd">Type</span>] [<span class="id"><a name="A:522">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>] [<span class="id"><a name="B:523">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">bT</span>] (<span class="id"><a name="f:524">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">bT</span> -&gt; <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span> | <span class="id"><a name="x:525">x</a></span> <span class="kwd">in</span> <span class="id">A</span> &amp; <span class="id"><a name="y:526">y</a></span> <span class="kwd">in</span> <span class="id">B</span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">fB</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image2E">image2E</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image">finite_image</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_image11">finite_image11</a></span> [<span class="id"><a name="xT:527">xT</a></span> <span class="id"><a name="aT:528">aT</a></span> <span class="id"><a name="bT:529">bT</a></span> <span class="id"><a name="rT:530">rT</a></span> : <span class="kwd">Type</span>] [<span class="id"><a name="X:531">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">xT</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="g:532">g</a></span> : <span class="id">aT</span> -&gt; <span class="id">bT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="fa:533">fa</a></span> : <span class="id">xT</span> -&gt; <span class="id">aT</span>) (<span class="id"><a name="fb:534">fb</a></span> : <span class="id">xT</span> -&gt; <span class="id">bT</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">fa</span> @` <span class="id">X</span>) -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">fb</span> @` <span class="id">X</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> [<span class="id">set</span> <span class="id">g</span> (<span class="id">fa</span> <span class="id">x</span>) (<span class="id">fb</span> <span class="id">x</span>) | <span class="id"><a name="x:535">x</a></span> <span class="kwd">in</span> <span class="id">X</span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">move</span>=&gt; /(<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image2">finite_image2</a></span> <span class="id">g</span>) /[<span class="id">apply</span>]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#sub_finite_set">sub_finite_set</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image2E">image2E</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r</span>/= [<span class="id">x</span> <span class="id">Xx</span> &lt;-]; <span class="kwd">exists</span> (<span class="id">fa</span> <span class="id">x</span>, <span class="id">fb</span> <span class="id">x</span>) =&gt; //; <span class="id">split</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fset_set">fset_set</a></span> (<span class="id"><a name="T:536">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:537">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">Afin</span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>.1 <span class="id">Afin</span>)) <span class="kwd">else</span> <span class="id">fset0</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setK">fset_setK</a></span> (<span class="id"><a name="T:538">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:539">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;[<span class="id">set</span>` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span>] = <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; // <span class="id">Afin</span> <span class="id">_</span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_fset_set">in_fset_set</a></span> (<span class="id"><a name="T:540">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:541">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> =<span class="id">i</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">x</span>; <span class="id">rewrite</span> -[<span class="id">A</span> <span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id"><a href="mathcomp.classical.cardinality.html#fset_setK">fset_setK</a></span>//; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set_sub">fset_set_sub</a></span> (<span class="id"><a name="T:542">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:543">A</a></span> <span class="id"><a name="B:544">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id">A</span> `&lt;=` <span class="id">B</span> = (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> `&lt;=` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">B</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
<span class="id">move</span>=&gt; <span class="id">finA</span> <span class="id">finB</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propext">propext</a></span>; <span class="id">split</span>=&gt; [<span class="id">AB</span>|/<span class="id">fsubsetP</span> <span class="id">AB</span> <span class="id">t</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">fsubsetP</span> =&gt; <span class="id">t</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// 2!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">AB</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> := <span class="id">AB</span> <span class="id">t</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set_set0">fset_set_set0</a></span> (<span class="id"><a name="T:545">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:546">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> = <span class="id">fset0</span> -&gt; <span class="id">A</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id">move</span>=&gt; <span class="id">finA</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; // {}<span class="id">finA</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> =&gt; <span class="id">_</span>/= -&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_fset0">set_fset0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set0">fset_set0</a></span> {<span class="id"><a name="T:547">T</a></span> : <span class="id">choiceType</span>} : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) = <span class="id">fset0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set1">fset_set1</a></span> {<span class="id"><a name="T:548">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="x:549">x</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> [<span class="id">set</span> <span class="id">x</span>] = [<span class="id">fset</span> <span class="id">x</span>]%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; /<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setU">fset_setU</a></span> {<span class="id"><a name="T:550">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="A:551">A</a></span> <span class="id"><a name="B:552">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">A</span> `|` <span class="id">B</span>) = (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> `|` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">B</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">fB</span>; <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">x</span>.<br/>
<span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>)//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setU">finite_setU</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setI">fset_setI</a></span> {<span class="id"><a name="T:553">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="A:554">A</a></span> <span class="id"><a name="B:555">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">A</span> `&amp;` <span class="id">B</span>) = (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> `&amp;` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">B</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">fB</span>; <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">x</span>.<br/>
<span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>)//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setI">finite_setI</a></span>; <span class="id">left</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setU1">fset_setU1</a></span> {<span class="id"><a name="T:556">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="x:557">x</a></span> : <span class="id">T</span>) (<span class="id"><a name="A:558">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">x</span> |` <span class="id">A</span>) = (<span class="id">x</span> |` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fA</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_setU">fset_setU</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set1">fset_set1</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setD">fset_setD</a></span> {<span class="id"><a name="T:559">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="A:560">A</a></span> <span class="id"><a name="B:561">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">A</span> `\` <span class="id">B</span>) = (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> `\` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">B</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
<span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">fB</span>; <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">x</span>.<br/>
<span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>)//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setD">finite_setD</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[]; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setD1">fset_setD1</a></span> {<span class="id"><a name="T:562">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="x:563">x</a></span> : <span class="id">T</span>) (<span class="id"><a name="A:564">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">A</span> `\ <span class="id">x</span>) = (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> `\ <span class="id">x</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fA</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_setD">fset_setD</a></span>// <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set1">fset_set1</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_setM">fset_setM</a></span> {<span class="id"><a name="T1:565">T1</a></span> <span class="id"><a name="T2:566">T2</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="A:567">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T1</span>) (<span class="id"><a name="B:568">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T2</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">A</span> `*` <span class="id">B</span>) = (<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> `*` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">B</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="id">move</span>=&gt; <span class="id">Afin</span> <span class="id">Bfin</span>; <span class="id">have</span> <span class="id">ABfin</span> : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `*` <span class="id">B</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span>.<br/>
<span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">i</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>; <span class="id">rewrite</span> !(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>)//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [/<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>-&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>-&gt;].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fst_fset">fst_fset</a></span> (<span class="id"><a name="T1:569">T1</a></span> <span class="id"><a name="T2:570">T2</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:571">A</a></span> : {<span class="id">fset</span> (<span class="id">T1</span> * <span class="id">T2</span>)}) : {<span class="id">fset</span> <span class="id">T1</span>} :=<br/>
&nbsp;&nbsp;[<span class="id">fset</span> <span class="id">x</span>.1 | <span class="id"><a name="x:572">x</a></span> <span class="kwd">in</span> <span class="id">A</span>]%<span class="id">fset</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="snd_fset">snd_fset</a></span> (<span class="id"><a name="T1:573">T1</a></span> <span class="id"><a name="T2:574">T2</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:575">A</a></span> : {<span class="id">fset</span> (<span class="id">T1</span> * <span class="id">T2</span>)}) : {<span class="id">fset</span> <span class="id">T2</span>} :=<br/>
&nbsp;&nbsp;[<span class="id">fset</span> <span class="id">x</span>.2 | <span class="id"><a name="x:576">x</a></span> <span class="kwd">in</span> <span class="id">A</span>]%<span class="id">fset</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> .`1" := (<span class="id"><a href="mathcomp.classical.cardinality.html#fst_fset">fst_fset</a></span> <span class="id">A</span>) : <span class="id">fset_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> .`2" := (<span class="id"><a href="mathcomp.classical.cardinality.html#snd_fset">snd_fset</a></span> <span class="id">A</span>) : <span class="id">fset_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set_fst">finite_set_fst</a></span> (<span class="id"><a name="T1:577">T1</a></span> <span class="id"><a name="T2:578">T2</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:579">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id">T1</span> * <span class="id">T2</span>)) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>.`1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>[<span class="id">B</span> <span class="id">A_B</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>; <span class="kwd">exists</span> (<span class="id">B</span>.`1)%<span class="id">fset</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">x</span>/= [<span class="id">y</span>]|<span class="id">_</span>/= /<span class="id">imfsetP</span>[[<span class="id">x1</span> <span class="id">x2</span>]/= +] -&gt;]; <span class="id">rewrite</span> <span class="id">A_B</span>;<br/>
&nbsp;&nbsp;[<span class="id">move</span>=&gt; <span class="id">xyB</span>; <span class="id">apply</span>/<span class="id">imfsetP</span>; <span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">y</span>)|<span class="id">move</span>=&gt; ?; <span class="kwd">exists</span> <span class="id">x2</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_set_snd">finite_set_snd</a></span> (<span class="id"><a name="T1:580">T1</a></span> <span class="id"><a name="T2:581">T2</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:582">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id">T1</span> * <span class="id">T2</span>)) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span>.`2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>[<span class="id">B</span> <span class="id">A_B</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_fsetP">finite_fsetP</a></span>; <span class="kwd">exists</span> (<span class="id">B</span>.`2)%<span class="id">fset</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">y</span>/= [<span class="id">x</span>]|<span class="id">_</span>/= /<span class="id">imfsetP</span>[[<span class="id">x1</span> <span class="id">x2</span>]/= +] -&gt;]; <span class="id">rewrite</span> <span class="id">A_B</span>;<br/>
&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">move</span>=&gt; <span class="id">xyB</span>; <span class="id">apply</span>/<span class="id">imfsetP</span>; <span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">y</span>)|<span class="id">move</span>=&gt; ?; <span class="kwd">exists</span> <span class="id">x1</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bigcup_finite">bigcup_finite</a></span> {<span class="id"><a name="I:583">I</a></span> <span class="id"><a name="T:584">T</a></span>} (<span class="id"><a name="D:585">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="F:586">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">D</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="i:587">i</a></span>, <span class="id">D</span> <span class="id">i</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">F</span> <span class="id">i</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:588">i</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">F</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.boolp.html#Pchoice">Pchoice</a></span>: <span class="id">I</span> =&gt; <span class="id">I</span> <span class="kwd">in</span> <span class="id">D</span> <span class="id">F</span> *.<br/>
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">F</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">emptyE</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">Dfin</span> <span class="id">Ffin</span>; <span class="id">pose</span> <span class="id">G</span> (<span class="id"><a name="i:589">i</a></span> : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">D</span>) := <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">F</span> (<span class="id">val</span> <span class="id">i</span>)).<br/>
<span class="id">suff</span>: (\<span class="id">bigcup_</span>(<span class="id"><a name="i:590">i</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">F</span> <span class="id">i</span> #&lt;= [<span class="id">set</span>: {<span class="id"><a name="i:591">i</a></span> &amp; <span class="id">G</span> <span class="id">i</span>}])%<span class="id">card</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_finite">card_le_finite</a></span>; <span class="id">apply</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_finset">finite_finset</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_geP">pcard_geP</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#surjPex">surjPex</a></span>.<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span> (<span class="id"><a name="k:593">k</a></span> : {<span class="id"><a name="i:592">i</a></span> : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">D</span> &amp; <span class="id">G</span> <span class="id">i</span>}) =&gt; <span class="id">val</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> <span class="id">k</span>)).<br/>
<span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id">i</span> <span class="id">Di</span> <span class="id">Fky</span>]/=.<br/>
<span class="id">have</span> <span class="id">Dk</span> : <span class="id">i</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">D</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">pose</span> <span class="id">k</span> : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">D</span> := [` <span class="id">Dk</span>]%<span class="id">fset</span>.<br/>
<span class="id">have</span> <span class="id">Gy</span> : <span class="id">y</span> \<span class="kwd">in</span> <span class="id">G</span> <span class="id">k</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">apply</span>: <span class="id">Ffin</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#Tagged">Tagged</a></span> <span class="id">G</span> [` <span class="id">Gy</span>]%<span class="id">fset</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="trivIset_sum_card">trivIset_sum_card</a></span> (<span class="id"><a name="T:596">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="F:597">F</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) <span class="id"><a name="n:598">n</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:599">n</a></span>, <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">F</span> <span class="id">n</span>)) -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> [<span class="id">set</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>] <span class="id">F</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:600">i</a></span> &lt; <span class="id">n</span>) #|` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">F</span> <span class="id">i</span>)| =<br/>
&nbsp;&nbsp;&nbsp;#|` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (\<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="k:603">k</a></span> &lt; <span class="id">n</span>) <span class="id">F</span> <span class="id">k</span>)|)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
<span class="id">move</span>=&gt; <span class="id">finF</span> <span class="id">tF</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">ih</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">big_ord0</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set0">fset_set0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">big_ord_recr</span>//= <span class="id">ih</span> <span class="id">big_ord_recr</span>/= <span class="id"><a href="mathcomp.classical.cardinality.html#fset_setU">fset_setU</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkord">bigcup_mkord</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#bigcup_finite">bigcup_finite</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">cardfsU</span> [<span class="id">X</span> <span class="kwd">in</span> (<span class="id">_</span> - <span class="id">X</span>)%<span class="id">N</span>](<span class="id">_</span> : <span class="id">_</span>  = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>) ?<span class="id">subn0</span>// ?<span class="id">EFinD</span> ?<span class="id">natrD</span>//.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">cardfs_eq0</span> -<span class="id"><a href="mathcomp.classical.cardinality.html#fset_setI">fset_setI</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkord">bigcup_mkord</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#bigcup_finite">bigcup_finite</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_bigsetUI">trivIset_bigsetUI</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>)// ?<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set0">fset_set0</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id">X</span> <span class="id">F</span>](<span class="id">_</span> : <span class="id">_</span> = [<span class="id">set</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>])//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setMR">finite_setMR</a></span> (<span class="id"><a name="T:608">T</a></span> <span class="id"><a name="T':609">T</a></span>' : <span class="id">choiceType</span>) (<span class="id"><a name="A:610">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:611">B</a></span> : <span class="id">T</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:612">x</a></span>, <span class="id">A</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">B</span> <span class="id">x</span>)) -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> `*`` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="id">move</span>=&gt; <span class="id">Afin</span> <span class="id">Bfin</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcupM1l">bigcupM1l</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#bigcup_finite">bigcup_finite</a></span> =&gt; // <span class="id">i</span> <span class="id">Ai</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span>/<span class="id">Bfin</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finite_setML">finite_setML</a></span> (<span class="id"><a name="T:613">T</a></span> <span class="id"><a name="T':614">T</a></span>' : <span class="id">choiceType</span>) (<span class="id"><a name="A:615">A</a></span> : <span class="id">T</span>' -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="B:616">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:617">x</a></span>, <span class="id">B</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> <span class="id">x</span>)) -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">A</span> ``*` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
<span class="id">move</span>=&gt; <span class="id">Afin</span> <span class="id">Bfin</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcupM1r">bigcupM1r</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#bigcup_finite">bigcup_finite</a></span> =&gt; // <span class="id">i</span> <span class="id">Ai</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setM">finite_setM</a></span>=&gt; //; <span class="id">apply</span>: <span class="id">Afin</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set_II">fset_set_II</a></span> <span class="id"><a name="n:618">n</a></span> : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> `<span class="id">I_n</span> = [<span class="id">fset</span> <span class="id">val</span> <span class="id">i</span> | <span class="id"><a name="i:619">i</a></span> <span class="kwd">in</span> '<span class="id">I_n</span>]%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
<span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> /= ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//.<br/>
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id">imfsetP</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">lt_in</span>; <span class="kwd">exists</span> (<span class="id">Ordinal</span> <span class="id">lt_in</span>).<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">j</span> <span class="id">_</span> -&gt;].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_fsetK">set_fsetK</a></span> (<span class="id"><a name="T:620">T</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:621">A</a></span> : {<span class="id">fset</span> <span class="id">T</span>}) : <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> [<span class="id">set</span>` <span class="id">A</span>] = <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
<span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>//=.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set_image">fset_set_image</a></span> {<span class="id"><a name="T:622">T</a></span> <span class="id"><a name="U:623">U</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="f:624">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>) (<span class="id"><a name="A:625">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> (<span class="id">f</span> @` <span class="id">A</span>) = (<span class="id">f</span> @` <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span>)%<span class="id">fset</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
<span class="id">move</span>=&gt; <span class="id">Afset</span>; <span class="id">apply</span>/<span class="id">fsetP</span>=&gt; <span class="id">i</span>.<br/>
<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_image">finite_image</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#idP">idP</a></span>/<span class="id">imfsetP</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span> <span class="id">Ax</span> &lt;-]; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span> + -&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#in_fset_set">in_fset_set</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fset_set_inj">fset_set_inj</a></span> {<span class="id"><a name="T:626">T</a></span> : <span class="id">choiceType</span>} (<span class="id"><a name="A:627">A</a></span> <span class="id"><a name="B:628">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span> = <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">B</span> -&gt; <span class="id">A</span> = <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Afin</span> <span class="id">Bfin</span> /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#pred_set">pred_set</a></span>); <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.cardinality.html#fset_setK">fset_setK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bigsetU_fset_set">bigsetU_fset_set</a></span> <span class="id"><a name="T:629">T</a></span> (<span class="id"><a name="I:630">I</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:631">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="F:632">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; \<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:633">i</a></span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span> =\<span class="id">bigcup_</span>(<span class="id"><a name="i:636">i</a></span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="id">move</span>=&gt; <span class="id">finA</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_fset">bigcup_fset</a></span> /<span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; [{}<span class="id">finA</span>|//].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [<span class="id">x</span> [<span class="id">i</span> /=]|<span class="id">x</span> [<span class="id">i</span> <span class="id">Ai</span> <span class="id">Fix</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> =&gt; /= <span class="id">B</span> -&gt; <span class="id">iB</span> <span class="id">Fix</span>; <span class="kwd">exists</span> <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span> =&gt; //; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> =&gt; // <span class="id">B</span> <span class="id">AB</span> /=; <span class="id">move</span>: <span class="id">Ai</span>; <span class="id">rewrite</span> <span class="id">AB</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__bigcup_fset_set">__deprecated__bigcup_fset_set</a></span> <span class="id"><a name="T:637">T</a></span> (<span class="id"><a name="I:638">I</a></span> : <span class="id">choiceType</span>) (<span class="id"><a name="A:639">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="F:640">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> <span class="id">A</span> -&gt; \<span class="id">bigcup_</span>(<span class="id"><a name="i:641">i</a></span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span> = \<span class="id">big</span>[<span class="id"><a href="mathcomp.classical.classical_sets.html#setU">setU</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>]<span class="id">_</span>(<span class="id"><a name="i:642">i</a></span> &lt;- <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">fset_set</a></span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.cardinality.html#bigsetU_fset_set">bigsetU_fset_set</a></span>-&gt;. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">note</span>="<span class="id">Use</span> -<span class="id">bigsetU_fset_set</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bigcup_fset_set">bigcup_fset_set</a></span> := <span class="id"><a href="mathcomp.classical.cardinality.html#__deprecated__bigcup_fset_set">__deprecated__bigcup_fset_set</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigsetU_fset_set_cond</span> <span class="id">T</span> (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) : <span class="id">finite_set</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">big</span>[<span class="id">setU</span>/<span class="id">set0</span>]<span class="id">_</span>(<span class="id">i</span> &lt;- <span class="id">fset_set</span> <span class="id">A</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id"><a name="i:653">F</a></span> <span class="id">i</span> = \<span class="id">bigcup_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">P</span>) <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id">bigcup_mkcondr</span> <span class="id">big_mkcond</span> -<span class="id">bigsetU_fset_set</span> ?<span class="id">mem_setE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__bigcup_fset_set_cond</span> <span class="id">T</span> (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id">pred</span> <span class="id">I</span>) : <span class="id">finite_set</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">bigcup_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">P</span>) <span class="id">F</span> <span class="id">i</span> = \<span class="id">big</span>[<span class="id">setU</span>/<span class="id">set0</span>]<span class="id">_</span>(<span class="id">i</span> &lt;- <span class="id">fset_set</span> <span class="id">A</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">bigsetU_fset_set_cond</span>-&gt;. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">note</span>="<span class="id">Use</span> -<span class="id">bigsetU_fset_set_cond</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">bigcup_fset_set_cond</span> := <span class="id">__deprecated__bigcup_fset_set_cond</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigsetI_fset_set</span> <span class="id">T</span> (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">finite_set</span> <span class="id">A</span> -&gt; \<span class="id">big</span>[<span class="id">setI</span>/<span class="id">setT</span>]<span class="id">_</span>(<span class="id">i</span> &lt;- <span class="id">fset_set</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span> =\<span class="id">bigcap_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_inj">i</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigsetI">setC_inj</a></span>; <span class="id">rewrite</span> <span class="id">setC_bigcap</span> <span class="id">setC_bigsetI</span> <span class="id"><a name="__deprecated__bigcap_fset_set">bigsetU_fset_set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="T:671">__deprecated__bigcap_fset_set</a></span> <span class="id">T</span> (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">finite_set</span> <span class="id">A</span> -&gt; \<span class="id">bigcap_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span> = \<span class="id">big</span>[<span class="id">setI</span>/<span class="id">setT</span>]<span class="id">_</span>(<span class="id">i</span> &lt;- <span class="id">fset_set</span> <span class="id">A</span>) <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">bigsetI_fset_set</span>-&gt;. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">note</span>="<span class="id">Use</span> -<span class="id">bigsetI_fset_set</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">bigcap_fset_set</span> := <span class="id">__deprecated__bigcap_fset_set</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigsetI_fset_set_cond</span> <span class="id">T</span> (<span class="id">I</span> : <span class="id">choiceType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI">T</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">P</span> : <span class="id"><a name="i:684">pred</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set">I</a></span>) : <span class="id">finite_set</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">big</span>[<span class="id">setI</span>/<span class="id"><a name="i:687">setT</a></span>]<span class="id">_</span>(<span class="id">i</span> &lt;- <span class="id">fset_set</span> <span class="id">A</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">F</span> <span class="id">i</span> = \<span class="id">bigcap_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">A</span> `&amp;` <span class="id">P</span>) <span class="id">F</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
<span class="kwd">by</span> <span class="id"><a href="mathcomp.classical.cardinality.html#bigsetI_fset_set">move</a></span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">bigcap_mkcondr</a></span> <span class="id">big_mkcond</span> -<span class="id">bigsetI_fset_set</span> ?<span class="id">mem_setE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">super_bij</span> <span class="id">T</span> <span class="id">U</span> (<span class="id">X</span> <span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">Y</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">U</span>) (<span class="id">f</span> : {<span class="id">bij</span> <span class="id">X</span> &gt;-&gt; <span class="id">Y</span>}) :<br/>
&nbsp;&nbsp;<span class="id">X</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">Y</span> `&lt;=` <span class="id">B</span> -&gt; <span class="id">A</span> `\` <span class="id">X</span> #= <span class="id">B</span> `\` <span class="id">Y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">g</span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}, {<span class="kwd">in</span> <span class="id">X</span>, <span class="id">g</span> =1 <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">elim</a></span>/<span class="id">Ppointed</span>: <span class="id">U</span> =&gt; <span class="id">U</span> <span class="kwd">in</span> <span class="id">Y</span> <span class="id">B</span> <span class="id">f</span> *.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">emptyE</span> <span class="kwd">in</span> <span class="id">f</span> * =&gt; <span class="id">XA</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">setD_eq0</span> =&gt; <span class="id">AX</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">suff</span> /<span class="id">seteqP</span>-&gt;// : <span class="id">A</span> `&lt;=&gt;` <span class="id">X</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">f</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">XA</span> <span class="id">YB</span> /<span class="id">pcard_eqP</span>[<span class="id">g</span>].<br/>
<span class="id">rewrite</span> -(<span class="id">joinIB</span> <span class="id">X</span> <span class="id">A</span>) -(<span class="id">joinIB</span> <span class="id">Y</span> <span class="id">B</span>) !<span class="id">meetEset</span>.<br/>
<span class="id">have</span> /<span class="id">disj_set2P</span> <span class="id">AX</span> : (<span class="id">A</span> `&amp;` <span class="id">X</span>) `&amp;` (<span class="id">A</span> `\` <span class="id">X</span>) = <span class="id">set0</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">meetIB</span>.<br/>
<span class="id">have</span> /<span class="id">disj_set2P</span> <span class="id">BY</span> : (<span class="id">B</span> `&amp;` <span class="id">Y</span>) `&amp;` (<span class="id">B</span> `\` <span class="id">Y</span>) = <span class="id">set0</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">meetIB</span>.<br/>
<span class="id">rewrite</span> !(<span class="id">setIidr</span> <span class="id">XA</span>) !(<span class="id">setIidr</span> <span class="id">YB</span>) <span class="kwd">in</span> <span class="id">AX</span> <span class="id">BY</span> *.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">bij</span> <span class="id">of</span> <span class="id">glue</span> <span class="id">AX</span> <span class="id">BY</span> <span class="id">f</span> <span class="id">g</span>] =&gt; <span class="id">x</span> /= <span class="id">xX</span>; <span class="id">rewrite</span> <span class="id">glue1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">card_eq_fsetP</span> {<span class="id">T</span> : <span class="id">choiceType</span>} {<span class="id">A</span> : {<span class="id">fset</span> <span class="id">T</span>}} {<span class="id">n</span>} :<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (#|` <span class="id">A</span>| = <span class="id">n</span>) ([<span class="id">set</span>` <span class="id">A</span>] #= `<span class="id">I_n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">elim</span>/<span class="id">choicePpointed</span>: <span class="id">T</span> =&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#fset_set0">T</a></span> <span class="kwd">in</span> <span class="id">A</span> *.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -{1}[<span class="id">A</span>]<span class="id">set_fsetK</span> !<span class="id">emptyE</span> <span class="id">fset_set0</span> <span class="id">cardfs0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">iffP</span> <span class="id">eqP</span>) =&gt; [/<span class="id">IIn_eq0</span>-&gt;//|&lt;-]; <span class="id">rewrite</span> <span class="id">II0</span>.<br/>
<span class="id">rewrite</span> (<span class="id">card_eqr</span> <span class="id">card_II</span>) <span class="id">card_eq_sym</span>.<br/>
<span class="id">apply</span>: (<span class="id">iffP</span> <span class="id">pcard_eqP</span>) =&gt; [[<span class="id">f</span>]|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">cardfE</span> =&gt; <span class="id">eqAn</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">squash</span> (<span class="id">set_val</span> \<span class="id">o</span> <span class="id">finset_val</span> \<span class="id">o</span> <span class="id">enum_val</span> \<span class="id">o</span> <span class="id">cast_ord</span> (<span class="id">esym</span> <span class="id">eqAn</span>)).<br/>
<span class="id">suff</span> -&gt; : <span class="id">A</span> = [<span class="id">fset</span> <span class="id">f</span> <span class="id">i</span> | <span class="id">i</span> <span class="kwd">in</span> '<span class="id">I_n</span>]%<span class="id">fset</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">card_imfset</span> ?<span class="id">size_enum_ord</span>.<br/>
<span class="id">apply</span>/<span class="id">fsetP</span> =&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">idP</span>/<span class="id">imfsetP</span> =&gt; /= [<span class="id">xA</span>|[<span class="id">i</span> <span class="id">_</span> -&gt;]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [<span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">_</a></span> &lt;-] := '<span class="id">surj_f</span> <span class="id">xA</span>; <span class="kwd">exists</span> <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> /(<span class="id">_</span> <span class="id">i</span> <span class="id">I</span>) := '<span class="id">funS_f</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">card_fset_set</span> {<span class="id">T</span> : <span class="id">choiceType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;<span class="id">A</span> #= `<span class="id">I_n</span> -&gt; #|`<span class="id">fset_set</span> <span class="id">A</span>| = <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
<span class="id">move</span>=&gt; <span class="id">An</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">card_eq_fsetP</a></span>; <span class="id">rewrite</span> <span class="id">fset_setK</span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">finite_setP</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">geq_card_fset_set</span> {<span class="id">T</span> : <span class="id">choiceType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;<span class="id">A</span> #&lt;= `<span class="id">I_n</span> -&gt; (#|`<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">fset_set</a></span> <span class="id">A</span>| &lt;= <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
<span class="id">move</span>=&gt; <span class="id">An</span>; <span class="id">have</span> /<span class="id">finite_setP</span>[<span class="id">m</span> <span class="id">Am</span>] : <span class="id">finite_set</span> <span class="id">A</span><br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">finite_set_leP</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">card_fset_set</span> <span class="id">Am</span>) -<span class="id">card_le_II</span> -(<span class="id">card_le_eql</span> <span class="id">Am</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">leq_card_fset_set</span> {<span class="id">T</span> : <span class="id">choiceType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;<span class="id">finite_set</span> <span class="id">A</span> -&gt; <span class="id">A</span> #&gt;= `<span class="id">I_n</span> -&gt; (#|`<span class="id">fset_set</span> <span class="id">A</span>| &gt;= <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
<span class="id">move</span>=&gt; /<span class="id">finite_setP</span>[<span class="id">m</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">Am</a></span>]; <span class="id">rewrite</span> (<span class="id">card_fset_set</span> <span class="id">Am</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">card_le_eqr</span> <span class="id">Am</span>) <span class="id">card_le_II</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">infinite_set_fset</span> {<span class="id">T</span> : <span class="id">choiceType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">n</span> : <span class="id">nat</span>) :<br/>
&nbsp;&nbsp;<span class="id">infinite_set</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">B</span> : {<span class="id">fset</span> <span class="id">T</span>}, [<span class="id">set</span>` <span class="id">B</span>] `&lt;=` <span class="id">A</span> &amp; (#|` <span class="id">B</span>| &gt;= <span class="id">n</span>)%<span class="id">N</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
<span class="id">elim</span>/<span class="id">choicePpointed</span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">emptyE</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">infiniteP</span>/<span class="id">ppcard_leP</span>[<span class="id">f</span>]; <span class="kwd">exists</span> (<span class="id">fset_set</span> [<span class="id">set</span> <span class="id">f</span> <span class="id">i</span> | <span class="id">i</span> <span class="kwd">in</span> `<span class="id">I_n</span>]).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fset_setK</span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id">finite_image</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">subset_trans</span> (<span class="id">fun_image_sub</span> <span class="id">f</span>); <span class="id">apply</span>: <span class="id">image_subset</span>.<br/>
<span class="id">rewrite</span> <span class="id">fset_set_image</span>// <span class="id">card_imfset</span>//= <span class="id">fset_set_II</span>/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">card_imfset</span>//= ?<span class="id"><a name="infinite_set_fsetP">size_enum_ord</a></span>//; <span class="id">apply</span>: <span class="id">val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">infinite_set_fsetP</span> {<span class="id">T</span> : <span class="id">choiceType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">infinite_set</span> <span class="id">A</span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="kwd">exists2</span> <span class="id">B</span> : {<span class="id">fset</span> <span class="id">T</span>}, [<span class="id">set</span>` <span class="id">B</span>] `&lt;=` <span class="id">A</span> &amp; (#|` <span class="id">B</span>| &gt;= <span class="id">n</span>)%<span class="id"><a href="mathcomp.classical.cardinality.html#infinite_set_fset">N</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
<span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">infinite_set_fset</span>.<br/>
<span class="id">elim</span>/<span class="id">choicePpointed</span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> *.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">_</span> 1%<span class="id">N</span>)[<span class="id">B</span> <span class="id">_</span>]; <span class="id">rewrite</span> <span class="id">cardfs_gt0</span> =&gt; /<span class="id">fset0Pn</span>[<span class="id">x</span> <span class="id">xB</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span>: [<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setP">set</a></span>` <span class="id">B</span>] <span class="id">x</span> <span class="kwd">by</span> []; <span class="id">rewrite</span> <span class="id">emptyE</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">Bge</span> /<span class="id">finite_setP</span>[<span class="id">n</span> <span class="id">An</span>]; <span class="id">have</span> [<span class="id">B</span> <span class="id">BA</span>] := <span class="id">Bge</span> <span class="id">n</span>.+1.<br/>
<span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leqNgt</span> -(<span class="id">card_fset_set</span> <span class="id">An</span>) <span class="id">fsubset_leq_card</span>//.<br/>
<span class="id">apply</span>/<span class="id">fsubsetP</span> =&gt; <span class="id">x</span> /<span class="id">BA</span>; <span class="id">rewrite</span> <span class="id">in_fset_set</span> ?<span class="id">inE</span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a name="T:721">finite_setP</a></span>; <span class="kwd">exists</span> <span class="id"><a name="A:723">n</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fcard_eq</span> {<span class="id">T</span> <span class="id">T</span>' : <span class="id">choiceType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">finite_set</span> <span class="id">A</span> -&gt; <span class="id">finite_set</span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (#|`<span class="id">fset_set</span> <span class="id">A</span>| = #|`<span class="id">fset_set</span> <span class="id">B</span>|) (<span class="id">A</span> #= <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
<span class="id">move</span>=&gt; /<span class="id">finite_setP</span>/<span class="id">cid</span>[<span class="id">n</span> <span class="id">An</span>] /<span class="id">finite_setP</span>/<span class="id">cid</span>[<span class="id">m</span> <span class="id">Bm</span>].<br/>
<span class="id">rewrite</span> (<span class="id">card_fset_set</span> <span class="id">An</span>) (<span class="id"><a href="mathcomp.classical.cardinality.html#card_eqr">card_fset_set</a></span> <span class="id">Bm</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">card_eql</span> <span class="id">An</span>) (<span class="id"><a name="card_IID">card_eqr</a></span> <span class="id">Bm</span>); <span class="id">apply</span>: <span class="id">card_eq_II</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">card_IID</span> {<span class="id">n</span> <span class="id">k</span>} : `<span class="id">I_n</span> `\` `<span class="id">I_k</span> #= `<span class="id">I_</span>(<span class="id">n</span> - <span class="id">k</span>)%<span class="id"><a href="mathcomp.classical.cardinality.html#finite_setD">N</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
<span class="id">apply</span>/<span class="id">fcard_eq</span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#fset_setI">finite_setD</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">fset_setD</span>//= <span class="id">cardfsD</span>/= -<span class="id">fset_setI</span>// <span class="id">setI_II</span>.<br/>
<span class="id">rewrite</span> !<span class="id">fset_set_II</span> !<span class="id">card_imfset</span>// /= !<span class="id">size_enum_ord</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">leqP</span>; <span class="id">rewrite</span> // <span class="id">subnn</span> =&gt; /<span class="id">eqP</span>-&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">finite_set_bij</span> <span class="id">T</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) <span class="id">n</span> <span class="id">S</span> : <span class="id">A</span> != <span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">A</span> #= `<span class="id">I_n</span> -&gt; <span class="id">S</span> `&lt;=` <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">f</span> : {<span class="id">bij</span> `<span class="id">I_n</span> &gt;-&gt; <span class="id">A</span>}) <span class="id">k</span>, (<span class="id">k</span> &lt;= <span class="id">n</span>)%<span class="id">N</span> /\ `<span class="id">I_n</span> `&amp;` (<span class="id">f</span> @^-1` <span class="id">S</span>) = `<span class="id">I_k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">A</span> <span class="id">S</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">emptyE</span> <span class="id">eqxx</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">AN0</span> <span class="id">An</span> <span class="id">SA</span>; <span class="id">have</span> [<span class="id">k</span> <span class="id">kn</span> <span class="id">Sk</span>] : <span class="kwd">exists2</span> <span class="id">k</span>, (<span class="id">k</span> &lt;= <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">n</a></span>)%<span class="id">N</span> &amp; <span class="id">S</span> #= `<span class="id">I_k</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">finite_setP</span>[<span class="id">k</span> <span class="id">Sk</span>]: <span class="id">finite_set</span> <span class="id">S</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">sub_finite_set</span> <span class="id">SA</span> <span class="id">_</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eqr">k</a></span> =&gt; //; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.cardinality.html#card_le_eql">card_le_II</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">card_le_eqr</span> <span class="id">An</span>) -(<span class="id">card_le_eql</span> <span class="id">Sk</span>); <span class="id">apply</span>: <span class="id">subset_card_le</span>.<br/>
<span class="id">have</span> /<span class="id">card_esym</span>/<span class="id">ppcard_eqP</span>[<span class="id">f</span>] := <span class="id">Sk</span>.<br/>
<span class="id">have</span> <span class="id">eqAS</span> : <span class="id">A</span> `\` <span class="id">S</span> #= `<span class="id">I_n</span> `\` `<span class="id">I_k</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">An</span>' := <span class="id">An</span>; <span class="id">have</span> <span class="id">Sk</span>' := <span class="id">Sk</span>.<br/>
&nbsp;&nbsp;<span class="id">do</span> [<span class="id">have</span> /<span class="id">finite_fsetP</span>[{<span class="id">An</span>'}<span class="id">A</span> -&gt;] : <span class="id">finite_set</span> <span class="id">A</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>] <span class="kwd">in</span> <span class="id">An</span> <span class="id">AN0</span> <span class="id">SA</span> *.<br/>
&nbsp;&nbsp;<span class="id">do</span> [<span class="id">have</span> /<span class="id">finite_fsetP</span>[{<span class="id">Sk</span>'}<span class="id">S</span> -&gt;] : <span class="id">finite_set</span> <span class="id">S</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">k</span>] <span class="kwd">in</span> <span class="id">Sk</span> <span class="id">f</span> <span class="id">SA</span> *.<br/>
&nbsp;&nbsp;<span class="id">have</span> [/<span class="id">card_eq_fsetP</span> {}<span class="id">An</span> /<span class="id">card_eq_fsetP</span> {}<span class="id">Sk</span>] := (<span class="id">An</span>, <span class="id">Sk</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">set_fsetD</span> (<span class="id">card_eqr</span> <span class="id">card_IID</span>); <span class="id">apply</span>/<span class="id">card_eq_fsetP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cardfsD</span> (<span class="id">fsetIidPr</span> <span class="id">_</span>) ?<span class="id">An</span> ?<span class="id">Sk</span> //; <span class="id">apply</span>/<span class="id">fsubsetP</span>.<br/>
<span class="id">case</span>: (<span class="id">super_bij</span> [<span class="id">bij</span> <span class="id">of</span> <span class="id">f</span>^-1] <span class="id">SA</span> <span class="id">_</span> <span class="id">eqAS</span>) =&gt; [<span class="id">x</span> /= /<span class="id">leq_trans</span>-&gt;// | <span class="id">g</span>].<br/>
<span class="id">have</span> [{}<span class="id">g</span> -&gt;] := <span class="id">pPbij</span> '<span class="id">bij_g</span> =&gt; /= <span class="id">gE</span>.<br/>
<span class="kwd">exists</span> [<span class="id">bij</span> <span class="id">of</span> <span class="id">g</span>^-1], <span class="id">k</span>; <span class="id">split</span>=&gt; //=; <span class="id">rewrite</span> -<span class="id">inv_sub_image</span> //= <span class="id">invV</span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_imagel</span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">gE</span> ?<span class="id">inE</span>//; <span class="id">rewrite</span> <span class="id">image_eq</span>.<br/>
Qed.</div>
<br/>
#[<span class="id">deprecated</span>(<span class="id">note</span>="<span class="id">use</span> <span class="id">countable0</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">countable_set0</span> := <span class="id">countable0</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">countable1</span> <span class="id">T</span> (<span class="id">x</span> : <span class="id">T</span>) : <span class="id">countable</span> [<span class="id">set</span> <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
 <span class="id">exact</span>: <span class="id">finite_set_countable</span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">countable1</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">countable_fset</span> (<span class="id">T</span> : <span class="id">choiceType</span>) (<span class="id">X</span> : {<span class="id">fset</span> <span class="id">T</span>}) : <span class="id">countable</span> [<span class="id">set</span>` <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
 <span class="id">exact</span>: <span class="id">finite_set_countable</span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">countable_fset</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">countable_finpred</span> (<span class="id">T</span> : <span class="id">finType</span>) (<span class="id">pT</span> : <span class="id">predType</span> <span class="id">T</span>) (<span class="id">P</span> : <span class="id">pT</span>) : <span class="id">countable</span> [<span class="id">set</span>` <span class="id">P</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
 <span class="id">exact</span>: <span class="id">finite_set_countable</span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">countable</span> [<span class="id">set</span>` <span class="id">_</span>])) =&gt; <span class="id"><a name="T:742">solve</a></span> [<span class="id"><a href="mathcomp.classical.classical_sets.html#set">apply</a></span>: <span class="id">countable_finpred</span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_card_nat</span> <span class="id">T</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>):<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">A</span> -&gt; ~ <span class="id">finite_set</span> <span class="id">A</span> -&gt; <span class="id">A</span> #= [<span class="id">set</span>: <span class="id">nat</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Acnt</span> /<span class="id">infiniteP</span> <span class="id">leNA</span>; <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">rewrite</a></span> <span class="id">card_eq_le</span> <span class="id">leNA</span> <span class="id">andbT</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">infinite_nat</span> : ~ <span class="id">finite_set</span> [<span class="id">set</span>: <span class="id">nat</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
 <span class="id">exact</span>/<span class="id">infiniteP</span>/<span class="id">card_lexx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">infinite_prod_nat</span> : <span class="id">infinite_set</span> [<span class="id">set</span>: <span class="id">nat</span> * <span class="id">nat</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">infiniteP</span>/<span class="id">pcard_leTP</span>/<span class="id">injPex</span>; <span class="kwd">exists</span> (<span class="id">pair</span> 0%<span class="id">N</span>) =&gt; // <span class="id">m</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">n</a></span> <span class="id">_</span> <span class="id">_</span> [].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">card_nat2</span> : [<span class="id">set</span>: <span class="id">nat</span> * <span class="id">nat</span>] #= [<span class="id">set</span>: <span class="id">nat</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
 <span class="id">exact</span>/<span class="id">eq_card_nat</span>/<span class="id">infinite_prod_nat</span>/<span class="id">countableP</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.classical.cardinality.html#infinite_set">rat_pointedType</a></span> := <span class="id">PointedType</span> <span class="id">rat</span> 0.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">infinite_rat</span> : <span class="id">infinite_set</span> [<span class="id">set</span>: <span class="id">rat</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
<span class="id">apply</span>/<span class="id">infiniteP</span>/<span class="id">pcard_leTP</span>/<span class="id">injPex</span>; <span class="kwd">exists</span> (<span class="id">GRing.natmul</span> 1) =&gt; // <span class="id">m</span> <span class="id">n</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="id">exact</span>/<span class="id">Num.Theory.mulrIn</span>/<span class="id">oner_neq0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">card_rat</span> : [<span class="id">set</span>: <span class="id">rat</span>] #= [<span class="id">set</span>: <span class="id">nat</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
 <span class="id">exact</span>/<span class="id">eq_card_nat</span>/<span class="id">infinite_rat</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#countable">countableP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">choicePcountable</span> {<span class="id">T</span> : <span class="id">choiceType</span>} : <span class="id">countable</span> [<span class="id">set</span>: <span class="id">T</span>] -&gt;<br/>
&nbsp;&nbsp;{<span class="id">T</span>' : <span class="id">countType</span> | <span class="id">T</span> = <span class="id">T</span>' :&gt; <span class="kwd">Type</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
<span class="id">move</span>=&gt; /<span class="id">pcard_leP</span>/<span class="id">unsquash</span> <span class="id">f</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">CountType</span> <span class="id"><a name="T:746">T</a></span> (<span class="id">CountMixin</span> (<span class="id">in1TT</span> '<span class="id">funoK_f</span>))).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eqPcountable</span> {<span class="id">T</span> : <span class="id">eqType</span>} : <span class="id">countable</span> [<span class="id">set</span>: <span class="id">T</span>] -&gt;<br/>
&nbsp;&nbsp;{<span class="id">T</span>' : <span class="id">countType</span> | <span class="id">T</span> = <span class="id">T</span>' :&gt; <span class="kwd">Type</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">eqPchoice</span>: <span class="id">T</span> =&gt; <span class="id">T</span> /<span class="id">choicePcountable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Pcountable</span> {<span class="id">T</span> : <span class="kwd">Type</span>} : <span class="id">countable</span> [<span class="id">set</span>: <span class="id">T</span>] -&gt;<br/>
&nbsp;&nbsp;{<span class="id">T</span>' : <span class="id">countType</span> | <span class="id">T</span> = <span class="id">T</span>' :&gt; <span class="kwd">Type</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">Pchoice</span>: <span class="id">T</span> =&gt; <span class="id">T</span> /<span class="id">choicePcountable</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigcup_countable</span> {<span class="id">I</span> <span class="id">T</span>} (<span class="id">D</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">F</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">countable</span> <span class="id">D</span> -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">D</span> <span class="id">i</span> -&gt; <span class="id">countable</span> (<span class="id">F</span> <span class="id">i</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">countable</span> (\<span class="id">bigcup_</span>(<span class="id">i</span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">F</a></span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
<span class="id">elim</span>/<span class="id"><a href="mathcomp.classical.cardinality.html#eq_countable">Ppointed</a></span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id">F</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">emptyE</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">eq_countable</span> (<span class="id">card_setT</span> <span class="id">_</span>)) =&gt; <span class="id">cD</span> <span class="id">cF</span>; <span class="id">rewrite</span> <span class="id">bigcup_set_type</span>.<br/>
<span class="id">set</span> <span class="id">G</span> := (<span class="kwd">fun</span> <span class="id">i</span> : <span class="id">D</span> =&gt; <span class="id">F</span> (<span class="id">val</span> <span class="id">i</span>)).<br/>
<span class="id">have</span> {<span class="id">cF</span>}<span class="id">cG</span> <span class="id">i</span> : <span class="id">countable</span> (<span class="id">G</span> <span class="id">i</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cF</span>; <span class="id">apply</span>: <span class="id">set_valP</span>.<br/>
<span class="id">move</span>: (<span class="id">D</span> : <span class="kwd">Type</span>) <span class="id">cD</span> <span class="id">G</span> <span class="id">cG</span> =&gt; {<span class="id">F</span> <span class="id">I</span>}<span class="id"><a name="i:761">_</a></span> /<span class="id">Pcountable</span>[{}<span class="id">D</span> -&gt;] <span class="id">G</span> <span class="id">cG</span>.<br/>
<span class="id">suff</span>: (\<span class="id">bigcup_i</span> <span class="id">G</span> <span class="id">i</span> #&lt;= [<span class="id">set</span>: {<span class="id">i</span> &amp; <span class="id">G</span> <span class="id">i</span>}])%<span class="id">card</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.cardinality.html#card_setT">have</a></span> <span class="id">cGT</span> <span class="id">i</span> : <span class="id">countable</span> [<span class="id">set</span>: <span class="id">G</span> <span class="id">i</span>] <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">eq_countable</span> (<span class="id">card_setT</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">all_sig</span>[<span class="id">H</span> <span class="id">GE</span>] := <span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">Pcountable</span> (<span class="id">cGT</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">sub_countable</span>-&gt;//; <span class="id">rewrite</span> (<span class="id">eq_fun</span> <span class="id">GE</span>).<br/>
<span class="id">apply</span>/<span class="id">pcard_geP</span>/<span class="id">surjPex</span>; <span class="kwd">exists</span> (<span class="kwd">fun</span> (<span class="id">k</span> : {<span class="id">i</span> &amp; <span class="id">G</span> <span class="id">i</span>}) =&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">val</a></span> (<span class="id">projT2</span> <span class="id">k</span>)).<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> [<span class="id">i</span> <span class="id">_</span>] <span class="id">Gix</span>/=; <span class="kwd">exists</span> (<span class="id"><a name="T':769">Tagged</a></span> <span class="id">G</span> (<span class="id">SigSub</span> (<span class="id">mem_set</span> <span class="id">Gix</span>))).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">countableMR</span> <span class="id">T</span> <span class="id"><a name="i:772">T</a></span>' (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">B</span> : <span class="id">T</span> -&gt; <span class="id">set</span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">A</span> -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">A</span> <span class="id">i</span> -&gt; <span class="id">countable</span> (<span class="id">B</span> <span class="id">i</span>)) -&gt; <span class="id">countable</span> (<span class="id">A</span> `*`` <span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">B</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
<span class="id">elim</span>/<span class="id">Ppointed</span>: <span class="id">T</span> =&gt; <span class="id">T</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Ppointed">A</a></span> <span class="id">B</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">emptyE</span> -<span class="id">bigcupM1l</span> <span class="id">bigcup_set0</span>.<br/>
<span class="id">elim</span>/<span class="id">Ppointed</span>: <span class="id">T</span>' =&gt; <span class="id">T</span>' <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setM0">B</a></span> *.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">bigcupM1l</span> <span class="id">bigcup0</span>// =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">emptyE</span> <span class="id">setM0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#ppcard_leP">Ac</a></span> <span class="id">Bc</span>; <span class="id">rewrite</span> -<span class="id">bigcupM1l</span> <span class="id">bigcup_countable</span>// =&gt; <span class="id">i</span> <span class="id">Ai</span>.<br/>
<span class="id">have</span> /<span class="id">ppcard_leP</span>[<span class="id">f</span>] := <span class="id">Bc</span> <span class="id">i</span> <span class="id">Ai</span>; <span class="id">apply</span>/<span class="id">pcard_geP</span>/<span class="id">surjPex</span>.<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id">k</span> =&gt; (<span class="id">i</span>, <span class="id">f</span>^-1%<span class="id">FUN</span> <span class="id">k</span>)) =&gt; -[<span class="id">_</span> <span class="id">j</span>]/= [-&gt; <span class="id"><a name="countableM">dj</a></span>].<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">f</span> <span class="id"><a name="D1:777">j</a></span>) =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">funK</a></span> ?<span class="id">inE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">countableM</span> <span class="id">T1</span> <span class="id">T2</span> (<span class="id">D1</span> : <span class="id">set</span> <span class="id">T1</span>) (<span class="id">D2</span> : <span class="id">set</span> <span class="id">T2</span>) :<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">D1</span> -&gt; <span class="id">countable</span> <span class="id">D2</span> -&gt; <span class="id">countable</span> (<span class="id">D1</span> `*` <span class="id">D2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">D1c</span> <span class="id">D2c</span>; <span class="id">apply</span>: <span class="id"><a name="A:781">countableMR</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">D2c</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">countableML</span> <span class="id">T</span> <span class="id">T</span>' (<span class="id">A</span> : <span class="id">T</span>' -&gt; <span class="id">set</span> <span class="id">T</span>) (<span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">B</span> -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">B</span> <span class="id">i</span> -&gt; <span class="id">countable</span> (<span class="id">A</span> <span class="id">i</span>)) -&gt; <span class="id">countable</span> (<span class="id">A</span> ``*` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
<span class="id">move</span>=&gt; <span class="id">Bc</span> <span class="id">Ac</span>; <span class="id">rewrite</span> -<span class="id">bigcupM1r</span>; <span class="id">apply</span>: <span class="id">bigcup_countable</span> =&gt; // <span class="id">i</span> <span class="id">Bi</span>.<br/>
<span class="kwd">by</span> <span class="id"><a name="T:784">apply</a></span>: <span class="id">countableM</span> =&gt; //; <span class="id">apply</span>: <span class="id">Ac</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">infiniteMRl</span> <span class="id">T</span> <span class="id">T</span>' (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">B</span> : <span class="id">T</span> -&gt; <span class="id">set</span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;<span class="id">infinite_set</span> <span class="id">A</span> -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">B</span> <span class="id">i</span> !=<span class="id">set0</span>) -&gt; <span class="id">infinite_set</span> (<span class="id">A</span> `*`` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
<span class="id">move</span>=&gt; /<span class="id">infiniteP</span>/<span class="id">pcard_geP</span>[<span class="id">f</span>] /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">cid</span>-/<span class="id">all_sig</span>[<span class="id">b</span> <span class="id">Bb</span>].<br/>
<span class="id">apply</span>/<span class="id">infiniteP</span>/<span class="id">pcard_geP</span>/<span class="id">surjPex</span>; <span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">f</span> <span class="id">x</span>.1).<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">iT</span>; <span class="id">have</span> [<span class="id"><a name="cardMR_eq_nat">a</a></span> <span class="id">Aa</span> <span class="id">fa</span>] := '<span class="id">oinvP_f</span> <span class="id">iT</span>; <span class="kwd">exists</span> (<span class="id">a</span>, <span class="id">b</span> <span class="id">a</span>) =&gt; /=.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cardMR_eq_nat</span> <span class="id">T</span> <span class="id">T</span>' (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">B</span> : <span class="id">T</span> -&gt; <span class="id">set</span> <span class="id">T</span>') :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">A</span> #= [<span class="id">set</span>: <span class="id">nat</span>] -&gt; (<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">countable</span> (<span class="id">B</span> <span class="id">i</span>) /\ <span class="id">B</span> <span class="id">i</span> !=<span class="id">set0</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">A</span> `*`` <span class="id">B</span> #= [<span class="id">set</span>: <span class="id">nat</span>])%<span class="id">card</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
<span class="id">rewrite</span> !<span class="id">card_eq_le</span> =&gt; /<span class="id">andP</span>[<span class="id">Acnt</span> /<span class="id">infiniteP</span> <span class="id">Ainfty</span>] /<span class="id">all_and2</span>[<span class="id"><a href="mathcomp.classical.cardinality.html#infiniteP">Bcnt</a></span> <span class="id">Bn0</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [(<span class="id">_</span> #&lt;= <span class="id">_</span>)%<span class="id">card</span>]<span class="id">countableMR</span>//=; <span class="id">apply</span>/<span class="id">infiniteP</span>/<span class="id">infiniteMRl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_cardSP</span> {<span class="id">T</span> : <span class="kwd">Type</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">A</span> <span class="id">x</span> &amp; <span class="id">A</span> `\ <span class="id">x</span> #= `<span class="id">I_n</span>) (<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">A</a></span> #= `<span class="id">I_n</span>.+1).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
<span class="id">elim</span>/<span class="id">Ppointed</span>: <span class="id">T</span> <span class="id">A</span> =&gt; <span class="id">T</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">emptyE</span>; <span class="id">apply</span>: (<span class="id">iffP</span> <span class="id">eqP</span>) =&gt; [|[]//].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">congr1</span> (@^~ 0%<span class="id">N</span>))/=; <span class="id">rewrite</span> -<span class="id">falseE</span> <span class="id">ltnS</span> <span class="id">leq0n</span> =&gt; /<span class="id">is_true_inj</span>.<br/>
<span class="id">apply</span>: (<span class="id">iffP</span> <span class="id">idP</span>) =&gt; [|[<span class="id">x</span> <span class="id">Ax</span>]].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">ppcard_eqP</span>[<span class="id"><a href="mathcomp.classical.cardinality.html#card_esym">f</a></span>]; <span class="kwd">exists</span> (<span class="id">f</span>^-1 <span class="id">n</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">funS</span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">card_esym</span>/<span class="id">card_set_bijP</span>; <span class="kwd">exists</span> <span class="id">f</span>^-1; <span class="id"><a href="mathcomp.classical.cardinality.html#super_bij">apply</a></span>: <span class="id">bij_II_D1</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">pcard_eqP</span>[<span class="id">f</span>]; <span class="id">have</span> [//|||<span class="id">g</span> <span class="id">_</span>] := @<span class="id">super_bij</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">_</span> `<span class="id">I_n</span>.+1 <span class="id">f</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_IID">move</a></span>=&gt; <span class="id">k</span> /=; <span class="id">apply</span>: <span class="id">leq_trans</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">setDD</span> (<span class="id">card_eqr</span> <span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">card_IID</a></span>) <span class="id">subSnn</span>// <span class="id">setIidr</span> ?<span class="id">card_set1</span>// =&gt; ? -&gt;.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">pcard_eqP</span>; <span class="id">squash</span> <span class="id">g</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">countable_n_subset</span> {<span class="id">T</span> : <span class="kwd">Type</span>} (<span class="id">D</span> : <span class="id">set</span> <span class="id">T</span>) <span class="id">n</span> :<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">D</span> -&gt; <span class="id">countable</span> [<span class="id">set</span> <span class="id">A</span> | <span class="id">A</span> `&lt;=` <span class="id">D</span> /\ <span class="id">A</span> #= `<span class="id">I_n</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
<span class="id">move</span>=&gt; <span class="id">Dcnt</span>; <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">elim</a></span>: <span class="id">n</span> =&gt; [|<span class="id">n</span>].<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#II0">rewrite</a></span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">countable</span> <span class="id">X</span>]( <span class="id">_</span> : <span class="id">_</span> = [<span class="id">set</span> <span class="id">set0</span>])// <span class="id">eqEsubset</span> <span class="id">II0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">A</span> /=; [<span class="id">rewrite</span> <span class="id">card_eq0</span>; <span class="id">case</span>=&gt; <span class="id">_</span> /<span class="id">eqP</span> | <span class="id">move</span>-&gt;; <span class="id">split</span>].<br/>
<span class="id">move</span>=&gt; /(<span class="id">countableM</span> <span class="id">Dcnt</span>); <span class="id">apply</span>: <span class="id">sub_countable</span>.<br/>
<span class="id">apply</span>: <span class="id">card_le_trans</span> (<span class="id">card_image_le</span> (<span class="kwd">fun</span> <span class="id">u</span> =&gt; <span class="id">u</span>.1 |` <span class="id">u</span>.2) <span class="id">_</span>).<br/>
<span class="id">apply</span>: <span class="id">subset_card_le</span> =&gt; <span class="id">B</span> [<span class="id">BD</span>] /<span class="id">eq_cardSP</span> [<span class="id">x</span> <span class="id">Bx</span> <span class="id">BDx</span>].<br/>
<span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">B</span> `\ <span class="id">x</span>) =&gt; /=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">setDUK</span> =&gt; ? -&gt;.<br/>
<span class="kwd">by</span> <span class="id">do</span> !<span class="id">split</span>=&gt; //; [<span class="id">exact</span>: <span class="id">BD</span> | <span class="id">apply</span>: <span class="id">subset_trans</span> <span class="id">_</span> <span class="id">BD</span>; <span class="id">apply</span>: <span class="id">subDsetl</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">countable_finite_subset</span> {<span class="id">T</span> : <span class="kwd">Type</span>} (<span class="id">D</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">D</span> -&gt; <span class="id">countable</span> [<span class="id">set</span> <span class="id">A</span> | <span class="id">A</span> `&lt;=` <span class="id">D</span> /\ <span class="id">finite_set</span> <span class="id">A</span> ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
<span class="id">move</span>=&gt; <span class="id">Dcnt</span>; <span class="id"><a name="n:812">suff</a></span> -&gt; : [<span class="id">set</span> <span class="id">A</span> | <span class="id">A</span> `&lt;=` <span class="id">D</span> /\ <span class="id">finite_set</span> <span class="id">A</span> ] =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">bigcup_n</span> [<span class="id">set</span> <span class="id">A</span> | <span class="id">A</span> `&lt;=` <span class="id">D</span> /\ <span class="id"><a href="mathcomp.classical.cardinality.html#countable_n_subset">A</a></span> #= `<span class="id">I_n</span> ].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">bigcup_countable</span> =&gt; // ? <span class="id">_</span>; <span class="id">exact</span>: <span class="id">countable_n_subset</span>.<br/>
<span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>=&gt; [<span class="id">A</span> [<span class="id">AD</span> /<span class="id">finite_setP</span>[<span class="id">n</span> <span class="id">An</span>]]|<span class="id">A</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">n</span> <span class="id">_</span> [<span class="id">AD</span> <span class="id">An</span>]]; <span class="id">split</span>=&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">finite_setP</a></span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_card_fset_subset</span> {<span class="id">T</span> : <span class="id">pointedType</span>} (<span class="id">D</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;[<span class="id">set</span> <span class="id">A</span> | <span class="id">A</span> `&lt;=` <span class="id">D</span> /\ <span class="id">finite_set</span> <span class="id">A</span> ] #= [<span class="id">set</span> <span class="id">A</span> : {<span class="id">fset</span> <span class="id">T</span>} | {<span class="id">subset</span> <span class="id">A</span> &lt;= <span class="id">D</span>}] .<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="id">apply</span>/<span class="id">card_set_bijP</span>; <span class="kwd">exists</span> (@<span class="id">fset_set</span> <span class="id">T</span>); <span class="id">split</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span> [<span class="id">AD</span> <span class="id">fsetA</span>] /= <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">x</a></span>; <span class="id">rewrite</span> <span class="id">in_fset_set</span> // ?<span class="id">inE</span>; <span class="id">exact</span>: <span class="id">AD</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? /<span class="id">set_mem</span> [<span class="id">_</span> +] /<span class="id">set_mem</span> [<span class="id">_</span> +]; <span class="id">exact</span>: <span class="id">fset_set_inj</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">B</span> /= <span class="id">BD</span>; <span class="kwd">exists</span> [<span class="id">set</span>` <span class="id">B</span>]; <span class="id">rewrite</span> ?<span class="id">set_fsetK</span> //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span>; [<span class="kwd">by</span> <span class="id">move</span> =&gt; <span class="id">x</span> /= /<span class="id">BD</span> /<span class="id">set_mem</span> | <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">exact</a></span>: <span class="id">finite_fset</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fset_subset_countable</span> {<span class="id">T</span> : <span class="id">pointedType</span>} (<span class="id">D</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">countable</span> <span class="id">D</span> -&gt; <span class="id">countable</span> [<span class="id">set</span> <span class="id">A</span> : {<span class="id">fset</span> <span class="id">T</span>} | {<span class="id">subset</span> <span class="id">A</span> &lt;= <span class="id">D</span>}].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">rewrite</span> -(<span class="id">eq_countable</span> (<span class="id">eq_card_fset_subset</span> <span class="id">_</span>)) =&gt; ?.<br/>
<span class="id">exact</span>: <span class="id">countable_finite_subset</span>.<br/>
Qed.</div>
<br/>
<span class="id">HB.mixin</span> <span class="kwd">Record</span> <span class="id">FiniteImage</span> <span class="id">aT</span> <span class="id">rT</span> (<span class="id">f</span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := {<br/>
&nbsp;&nbsp;<span class="id">fimfunP</span> : <span class="id">finite_set</span> (<span class="id">range</span> <span class="id">f</span>)<br/>
}.<br/>
<span class="id">HB.structure</span> <span class="kwd">Definition</span> <span class="id">FImFun</span> <span class="id">aT</span> <span class="id">rT</span> := {<span class="id">f</span> <span class="id">of</span> @<span class="id">FiniteImage</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<br/>
<span class="kwd">Arguments</span> <span class="id">fimfunP</span> {<span class="id">aT</span> <span class="id">rT</span>} <span class="id">_</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">fimfunP</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">fimfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "{ '<span class="id">fimfun</span>'  <span class="id">aT</span>  &gt;-&gt;  <span class="id">T</span> }").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">fimfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id"><a href="mathcomp.classical.cardinality.html#type">fimfun</a></span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Notation</span> "{ '<span class="id">fimfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }" := (@<span class="id">FImFun.type</span> <span class="id">aT</span> <span class="id">T</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">fimfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" := [<span class="id"><a name="aT:833">the</a></span> {<span class="id">fimfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fimfun_inP</span> {<span class="id">aT</span> <span class="id">rT</span>} (<span class="id">f</span> : {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) (<span class="id">D</span> : <span class="id">set</span> <span class="id">aT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#range">finite_set</a></span> (<span class="id">f</span> @` <span class="id">D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
 <span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id">sub_finite_set</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">range</span> <span class="id">f</span>)) =&gt; // <span class="id">y</span> [<span class="id">x</span>]; <span class="kwd">exists</span> <span class="id"><a name="fimfun_pred">x</a></span>. Qed.</div>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">fimfun_inP</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">fimfun_pred</span>.<br/>
<span class="kwd">Context</span> {<span class="id">aT</span> <span class="id"><a name="f:839">rT</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Definition</span> <span class="id">fimfun</span> : {<span class="id">pred</span> <span class="id"><a name="fimfun_key">aT</a></span> -&gt; <span class="id">rT</span>} := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred_key">mem</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">f</a></span> | <span class="id">finite_set</span> (<span class="id">range</span> <span class="id">f</span>)].<br/>
<span class="kwd">Definition</span> <span class="id">fimfun_key</span> : <span class="id">pred_key</span> <span class="id">fimfun</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
 <span class="id">exact</span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id">fimfun_keyed</span> := <span class="id">KeyedPred</span> <span class="id">fimfun_key</span>.<br/>
<span class="kwd">End</span> <span class="id">fimfun_pred</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">fimfun</span>.<br/>
<span class="kwd">Context</span> {<span class="id">aT</span> <span class="id">rT</span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Notation</span> <span class="id">T</span> := {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}.<br/>
<span class="kwd">Notation</span> <span class="id">fimfun</span> := (@<span class="id">fimfun</span> <span class="id">aT</span> <span class="id">rT</span>).<br/>
<span class="kwd">Section</span> <span class="id"><a name="fimfun_Sub_subproof">Sub</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id">f</span> : <span class="id">aT</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#Build">rT</a></span>) (<span class="id">fP</span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id">fimfun</span>).<br/>
<span class="kwd">Definition</span> <span class="id">fimfun_Sub_subproof</span> := @<span class="id">FiniteImage.Build</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> (<span class="id">set_mem</span> <span class="id">fP</span>).<br/>
#[<span class="id">local</span>] <span class="id"><a name="fimfun_Sub">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id">fimfun_Sub_subproof</span>.<br/>
<span class="kwd">Definition</span> <span class="id">fimfun_Sub</span> := [<span class="id">fimfun</span> <span class="id">of</span> <span class="id"><a name="f:845">f</a></span>].<br/>
<span class="kwd">End</span> <span class="id">Sub</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fimfun_rect</span> (<span class="id">K</span> : <span class="id">T</span> -&gt; <span class="kwd">Type</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">f</span> (<span class="id">Pf</span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id">fimfun</span>), <span class="id">K</span> (<span class="id">fimfun_Sub</span> <span class="id">Pf</span>)) -&gt; <span class="kwd">forall</span> <span class="id">u</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">T</a></span>, <span class="id">K</span> <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">move</span>=&gt; <span class="id">Ksub</span> [<span class="id">f</span> [[<span class="id">Pf</span>]]]/=.<br/>
<span class="kwd">by</span> <span class="id">suff</span> -&gt; : <span class="id">Pf</span> = (<span class="id">set_mem</span> (@<span class="id">mem_set</span> <span class="id">_</span> [<span class="id">set</span> <span class="id">f</span> | <span class="id">_</span>] <span class="id">f</span> <span class="id">Pf</span>)) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">Ksub</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fimfun_valP</span> <span class="id">f</span> (<span class="id">Pf</span> : <span class="id">f</span> \<span class="kwd">in</span> <span class="id">fimfun</span>) : <span class="id">fimfun_Sub</span> <span class="id">Pf</span> = <span class="id">f</span> :&gt; (<span class="id">_</span> -&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#T">_</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">fimfun_subType</span> := <span class="id">SubType</span> <span class="id"><a name="aT:851">T</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">fimfun_rect</span> <span class="id">fimfun_valP</span>.<br/>
<span class="kwd">End</span> <span class="id">fimfun</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fimfuneqP</span> <span class="id">aT</span> <span class="id">rT</span> (<span class="id">f</span> <span class="id">g</span> : {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) :<br/>
&nbsp;&nbsp;<span class="id">f</span> = <span class="id">g</span> &lt;-&gt; <span class="id">f</span> =1 <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [-&gt;//|<span class="id">fg</span>]; <span class="id">apply</span>/<span class="id">val_inj</span>/<span class="id">funext</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">fimfuneqMixin</span> <span class="id">aT</span> (<span class="id">rT</span> : <span class="id">eqType</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">eqMixin</span> <span class="id">of</span> {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id">fimfuneqType</span> <span class="id">aT</span> (<span class="id">rT</span> : <span class="id">eqType</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a name="fimfunchoiceMixin">EqType</a></span> {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id"><a name="rT:860">rT</a></span>} (<span class="id">fimfuneqMixin</span> <span class="id">aT</span> <span class="id">rT</span>).<br/>
<span class="kwd">Definition</span> <span class="id">fimfunchoiceMixin</span> <span class="id">aT</span> (<span class="id">rT</span> : <span class="id">choiceType</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">choiceMixin</span> <span class="id">of</span> {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id">fimfunchoiceType</span> <span class="id">aT</span> (<span class="id">rT</span> : <span class="id">choiceType</span>) :=<br/>
&nbsp;&nbsp;<span class="id">ChoiceType</span> {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} (<span class="id">fimfunchoiceMixin</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">aT</a></span> <span class="id">rT</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">finite_image_cst</span> {<span class="id">aT</span> <span class="id">rT</span> : <span class="kwd">Type</span>} (<span class="id">x</span> : <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;<span class="id">finite_set</span> (<span class="id">range</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#emptyE">cst</a></span> <span class="id">x</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">aT</a></span> -&gt; <span class="id">_</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">elim</span>/<span class="id">Ppointed</span>: <span class="id">aT</span> =&gt; <span class="id">aT</span>; <span class="id">rewrite</span> ?<span class="id">emptyE</span> ?<span class="id">image_set0</span>//.<br/>
<span class="id">suff</span> -&gt; : <span class="id">cst</span> <span class="id">x</span> @` [<span class="id">set</span>: <span class="id">aT</span>] = [<span class="id">set</span> <span class="id">x</span>] <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">finite_set1</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">predeqP</span> =&gt; <span class="id"><a name="cst_fimfun_subproof">y</a></span>; <span class="id">split</span>=&gt; [[<span class="id">t</span>' <span class="id">_</span> &lt;-]//|-&gt;//] /=; <span class="kwd">exists</span> <span class="id">point</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cst_fimfun_subproof</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">x</span> : @<span class="id">FiniteImage</span> <span class="id">aT</span> <span class="id">rT</span> (<span class="id">cst</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
 <span class="kwd">by</span> <span class="id">split</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun_subproof">finite_image_cst</a></span>. Qed.</div>
<span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">x</span> := @<span class="id">cst_fimfun_subproof</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">x</span>.<br/>
<span class="kwd">Definition</span> <span class="id">cst_fimfun</span> {<span class="id">aT</span> <span class="id">rT</span>} <span class="id">x</span> := [<span class="id">the</span> {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} <span class="id">of</span> <span class="id">cst</span> <span class="id">x</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fimfun_cst</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id"><a name="comp_fimfun_subproof">x</a></span> : @<span class="id">cst_fimfun</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">x</span> =1 <span class="id"><a name="sT:880">cst</a></span> <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">comp_fimfun_subproof</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">sT</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">f</span> : {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) (<span class="id">g</span> : <span class="id">rT</span> -&gt; <span class="id">sT</span>) : @<span class="id">FiniteImage</span> <span class="id">aT</span> <span class="id">sT</span> (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image">g</a></span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
 <span class="kwd">by</span> <span class="id"><a name="hb_instance_11">split</a></span>; <span class="id">rewrite</span> -(<span class="id">image_comp</span> <span class="id"><a name="rT:884">f</a></span> <span class="id">g</span>); <span class="id"><a name="f:886">apply</a></span>: <span class="id">finite_image</span>. Qed.</div>
<span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">sT</span> <span class="id">f</span> <span class="id">g</span> := @<span class="id">comp_fimfun_subproof</span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">sT</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">zmod</span>.<br/>
<span class="kwd">Context</span> (<span class="id">aT</span> : <span class="kwd">Type</span>) (<span class="id">rT</span> : <span class="id">zmodType</span>).<br/>
<span class="kwd">Lemma</span> <span class="id">fimfun_zmod_closed</span> : <span class="id">zmod_closed</span> (@<span class="id">fimfun</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_image_cst">aT</a></span> <span class="id">rT</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
<span class="id">split</span>=&gt; [|<span class="id">f</span> <span class="id">g</span>]; <span class="id">rewrite</span> !<span class="id">inE</span>/=; <span class="id">first</span> <span class="id">exact</span>: <span class="id">finite_image_cst</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">gA</span>; <span class="id">apply</span>: (<span class="id">finite_image11</span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id">x</span> - <span class="id">y</span>)).<br/>
Qed.</div>
<span class="kwd">Canonical</span> <span class="id">fimfun_add</span> := <span class="id">AddrPred</span> <span class="id">fimfun_zmod_closed</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fimfun_zmod</span> := <span class="id">ZmodPred</span> <span class="id">fimfun_zmod_closed</span>.<br/>
<span class="kwd">Definition</span> <span class="id">fimfun_zmodMixin</span> := [<span class="id">zmodMixin</span> <span class="id">of</span> {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id">fimfun_zmodType</span> := <span class="id">ZmodType</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.classical.cardinality.html#zmod.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.cardinality.html#zmod.rT">rT</a></span>} <span class="id">fimfun_zmodMixin</span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fimfunD</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">f</span> + <span class="id">g</span> = <span class="id">f</span> \+ <span class="id">g</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">fimfunN</span> <span class="id">f</span> : - <span class="id">f</span> = \- <span class="id">f</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">fimfunB</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">f</span> - <span class="id">g</span> = <span class="id">f</span> \- <span class="id">g</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">fimfun0</span> : (0 : {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) = <span class="id"><a name="P:901">cst</a></span> 0 :&gt; (<span class="id">_</span> -&gt; <span class="id"><a name="f:902">_</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">fimfun_sum</span> <span class="id">I</span> <span class="id">r</span> (<span class="id">P</span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id">f</span> : <span class="id">I</span> -&gt; {<span class="id">fimfun</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) (<span class="id">x</span> : <span class="id">aT</span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id">i</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id"><a name="zmod.hb_instance_14">f</a></span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#copy">_</a></span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<br/>
<span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id">f</span> <span class="id"><a name="f:912">g</a></span> := <span class="id">FImFun.copy</span> (<span class="id">f</span> \+ <span class="id">g</span>) (<span class="id">f</span> + <span class="id">g</span>).<br/>
<span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id"><a name="f:914">_</a></span> <span class="id"><a name="g:915">f</a></span> <span class="id">g</span> := <span class="id">FImFun.copy</span> (\- <span class="id">f</span>) (- <span class="id">f</span>).<br/>
<span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id">f</span> <span class="id">g</span> := <span class="id">FImFun.copy</span> (<span class="id">f</span> \- <span class="id">g</span>) (<span class="id">f</span> - <span class="id">g</span>).<br/>
<span class="kwd">End</span> <span class="id">zmod</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
