
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.kernel</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.kernel" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <header>
    <p><a href="./index.html">coq2html</a></p>
    <h1 class="title">Module mathcomp.analysis.kernel</h1>
    <p><a href="">source</a></p>
  </header>

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details><summary>mathcomp</summary>
          <ul>
          <li><details><summary>analysis</summary>
          <ul>
          <li><a href="mathcomp.analysis.real_interval.html">real_interval</a></li>
<li><a href="mathcomp.analysis.landau.html">landau</a></li>
<li><a href="mathcomp.analysis.itv.html">itv</a></li>
<li><a href="mathcomp.analysis.derive.html">derive</a></li>
<li><a href="mathcomp.analysis.trigo.html">trigo</a></li>
<li><a href="mathcomp.analysis.topology.html">topology</a></li>
<li><a href="mathcomp.analysis.sequences.html">sequences</a></li>
<li><a href="mathcomp.analysis.hoelder.html">hoelder</a></li>
<li><a href="mathcomp.analysis.exp.html">exp</a></li>
<li><a href="mathcomp.analysis.convex.html">convex</a></li>
<li><a href="mathcomp.analysis.Rstruct.html">Rstruct</a></li>
<li><a href="mathcomp.analysis.reals.html">reals</a></li>
<li><a href="mathcomp.analysis.realfun.html">realfun</a></li>
<li><a href="mathcomp.analysis.kernel.html">kernel</a></li>
<li><a href="mathcomp.analysis.charge.html">charge</a></li>
<li><a href="mathcomp.analysis.forms.html">forms</a></li>
<li><a href="mathcomp.analysis.probability.html">probability</a></li>
<li><a href="mathcomp.analysis.normedtype.html">normedtype</a></li>
<li><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></li>
<li><a href="mathcomp.analysis.measure.html">measure</a></li>
<li><a href="mathcomp.analysis.signed.html">signed</a></li>
<li><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html">lebesgue_stieltjes_measure</a></li>
<li><a href="mathcomp.analysis.esum.html">esum</a></li>
<li><a href="mathcomp.analysis.ereal.html">ereal</a></li>
<li><a href="mathcomp.analysis.numfun.html">numfun</a></li>
<li><a href="mathcomp.analysis.constructive_ereal.html">constructive_ereal</a></li>
<li><a href="mathcomp.analysis.cantor.html">cantor</a></li>
<li><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></li>
<li><a href="mathcomp.analysis.nsatz_realtype.html">nsatz_realtype</a></li>
<li><a href="mathcomp.analysis.summability.html">summability</a></li>
<li><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></li>
          </ul>
          </details>
          </li>
<li><details><summary>classical</summary>
          <ul>
          <li><a href="mathcomp.classical.boolp.html">boolp</a></li>
<li><a href="mathcomp.classical.classical_sets.html">classical_sets</a></li>
<li><a href="mathcomp.classical.set_interval.html">set_interval</a></li>
<li><a href="mathcomp.classical.cardinality.html">cardinality</a></li>
<li><a href="mathcomp.classical.functions.html">functions</a></li>
<li><a href="mathcomp.classical.fsbigop.html">fsbigop</a></li>
<li><a href="mathcomp.classical.all_classical.html">all_classical</a></li>
<li><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></li>
          </ul>
          </details>
          </li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html">ssrnum</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrint.html">ssrint</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html">interval</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html">lebesgue_integral</a></span>.<br/>
<br/>
<div class="ssrdoc md">
# Kernels                                                                  
                                                                           
This file provides a formation of kernels, s-finite kernels, finite        
kernels, subprobability kernels, and probability kernels. The main         
formalized result is the fact that s-finite kernels are stable by          
composition.                                                               
Reference:                                                                 
- R. Affeldt, C. Cohen, A. Saito. Semantics of probabilistic programs      
  using s-finite kernels in Coq. CPP 2023                                  
                                                                           
```                                                                        
      R.-ker X ~&gt; Y == kernel from X to Y where X and Y are of type        
                       measurableType                                      
                       The HB class is Kernel.                             
  measure_fam_uub k == the kernel k is uniformly upper-bounded             
    R.-sfker X ~&gt; Y == s-finite kernel                                     
                       The HB class is SFiniteKernel.                      
     R.-fker X ~&gt; Y == finite kernel                                       
                       The HB class is FiniteKernel.                       
    R.-spker X ~&gt; Y == subprobability kernel                               
                       The HB class is SubProbabilityKernel.               
     R.-pker X ~&gt; Y == probability kernel                                  
                       The HB class is ProbabilityKernel.                  
            kseries == countable sum of kernels                            
                       It is declared as an instance of the structure      
                       Kernel. It is also an instance of the structure     
                       SFiniteKernel if the sum is over s-finite kernels.  
              kzero == kernel defined using the mzero measure              
          kdirac mf == kernel defined by a measurable function             
           mset U r == the set of probability measures mu such that        
                       mu U &lt; r                                            
               pset == the sets mset U r with U measurable and r \in [0,1] 
       pprobability == the measurable type generated by pset               
     kprobability m == kernel defined by a probability measure             
         kadd k1 k2 == lifting of the addition of measures to kernels      
             l \; k == composition of kernels                              
```                                                                        
                                                                           
</div>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TTheory">Order.TTheory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#GRing.Theory">GRing.Theory</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Def">Num.Def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Theory">Num.Theory</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-ker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-ker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-sfker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-sfker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-fker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-fker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-spker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-spker  X  ~&gt;  Y&quot;</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;R .-pker X ~&gt; Y&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">42,</span> <span class="id">format</span> <span class="id">&quot;R .-pker  X  ~&gt;  Y&quot;</span>).<br/>
<br/>
<span id="isKernel.Exports" class="id"><span id="isKernel.identity_builder" class="id"><span id="isKernel.phant_axioms" class="id"><span id="isKernel.phant_Build" class="id"><span id="isKernel.measurable_kernel" class="id"><span id="isKernel.axioms_" class="id"><span id="isKernel.isKernel.k" class="id"><span id="isKernel.isKernel.R" class="id"><span id="isKernel.isKernel.Y" class="id"><span id="isKernel.isKernel.X" class="id"><span id="isKernel.isKernel.d'" class="id"><span id="isKernel.isKernel.d" class="id"><span id="isKernel.isKernel.isKernel" class="id"><span id="isKernel" class="id"><a name="isKernel.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isKernel</span> <span id="d:1" class="id"><a name="d:1" class="">d</a></span> <span id="d':2" class="id"><a name="d':2" class="">d'</a></span> (<span id="X:3" class="id"><a name="X:3" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:1">d</a></span>) (<span id="Y:4" class="id"><a name="Y:4" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':2">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:5" class="id"><a name="R:5" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:6" class="id"><a name="k:6" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:3">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:4">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:5">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measurable_kernel:8" class="id"><a name="measurable_kernel:8" class="">measurable_kernel</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="U:7" class="id"><a name="U:7" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:7">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:3">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:6">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:7">U</a></span>) <span class="id">}</span>.<br/>
<br/>
<span id="KernelElpiOperations" class="id"><span id="measurable_kernel" class="id"><span id="Kernel.phant_on_" class="id"><span id="Kernel.Exports" class="id"><span id="Kernel.pack_" class="id"><span id="Kernel.phant_clone" class="id"><span id="Kernel.class" class="id"><span id="Kernel.sort" class="id"><span id="Kernel.type" class="id"><span id="Kernel.kernel_isKernel_mixin" class="id"><span id="Kernel.axioms_" class="id"><span id="Kernel" class="id"><a name="KernelElpiOperations" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Kernel</span> <span id="d:15" class="id"><a name="d:15" class="">d</a></span> <span id="d':16" class="id"><a name="d':16" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:17" class="id"><a name="X:17" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:15">d</a></span>) (<span id="Y:18" class="id"><a name="Y:18" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':16">d'</a></span>) (<span id="R:19" class="id"><a name="R:19" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{</a></span> <span id="k:20" class="id"><a name="k:20" class="">k</a></span> &amp; <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:17">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:18">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:19">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:20">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="c4a502042c2f67c701729be5ec5cf362" class="id"><a name="c4a502042c2f67c701729be5ec5cf362" class="">&quot;R .-ker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kernel">kernel</a></span> <span class="id">X</span>%<span class="id">type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_eq_cst" class="id"><a name="kernel_measurable_eq_cst" class="">kernel_measurable_eq_cst</a></span> <span id="d:22" class="id"><a name="d:22" class="">d</a></span> <span id="d':23" class="id"><a name="d':23" class="">d'</a></span> (<span id="T:24" class="id"><a name="T:24" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:22">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':25" class="id"><a name="T':25" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':23">d'</a></span>) (<span id="R:26" class="id"><a name="R:26" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:27" class="id"><a name="f:27" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:26">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:24">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':25">T'</a></span>) <span id="k:28" class="id"><a name="k:28" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:29" class="id"><a name="t:29" class="">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:27">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:29">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':25">T']</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:28">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:30">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">t/=</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">k]</span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_neq_cst" class="id"><a name="kernel_measurable_neq_cst" class="">kernel_measurable_neq_cst</a></span> <span id="d:31" class="id"><a name="d:31" class="">d</a></span> <span id="d':32" class="id"><a name="d':32" class="">d'</a></span> (<span id="T:33" class="id"><a name="T:33" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:31">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':34" class="id"><a name="T':34" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':32">d'</a></span>) (<span id="R:35" class="id"><a name="R:35" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)  (<span id="f:36" class="id"><a name="f:36" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:35">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:33">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':34">T'</a></span>) <span id="k:37" class="id"><a name="k:37" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:38" class="id"><a name="t:38" class="">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:36">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:38">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':34">T']</a></span> <span class="id">!=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:37">k]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:39">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3dde060273a7d21198e50a79e780aafd">[set~</a></span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">t</span> <span class="id">/eqP</span>.<br/>
<span class="id">have</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3dde060273a7d21198e50a79e780aafd">[set~</a></span> <span class="id">k]</span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">apply</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="kernel_measurable_fun_eq_cst" class="id"><a name="kernel_measurable_fun_eq_cst" class="">kernel_measurable_fun_eq_cst</a></span> <span id="d:40" class="id"><a name="d:40" class="">d</a></span> <span id="d':41" class="id"><a name="d':41" class="">d'</a></span> (<span id="T:42" class="id"><a name="T:42" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:40">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="T':43" class="id"><a name="T':43" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':41">d'</a></span>) (<span id="R:44" class="id"><a name="R:44" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="f:45" class="id"><a name="f:45" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:44">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:42">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':43">T'</a></span>) <span id="k:46" class="id"><a name="k:46" class="">k</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:42">T]</a></span> (<span class="gallina-kwd">fun</span> <span id="t:47" class="id"><a name="t:47" class="">t</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:45">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:47">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':43">T']</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:46">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
<span class="id">have</span> <span class="id">[/eqP-&gt;|/eqP-&gt;|/eqP-&gt;|/eqP-&gt;]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_bool">set_bool</a></span> <span class="id">B</span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_eq_cst">kernel_measurable_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> @<span class="id">^-1`</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="b:50" class="id"><span id="b:49" class="id"><span id="b:48" class="id"><a name="b:50" class="">b</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#b:48">b</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">!=</span> <span class="id">k]</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[t</span> <span class="id">/negbT//|t</span> <span class="id">/negbTE]</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_neq_cst">kernel_measurable_neq_cst</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_kernel" class="id"><a name="eq_kernel" class="">eq_kernel</a></span> <span id="d:51" class="id"><a name="d:51" class="">d</a></span> <span id="d':52" class="id"><a name="d':52" class="">d'</a></span> (<span id="T:53" class="id"><a name="T:53" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:51">d</a></span>) (<span id="T':54" class="id"><a name="T':54" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':52">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:55" class="id"><a name="R:55" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k1:56" class="id"><a name="k1:56" class="">k1</a></span> <span id="k2:57" class="id"><a name="k2:57" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:55">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:53">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':54">T'</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:58" class="id"><a name="x:58" class="">x</a></span> <span id="U:59" class="id"><a name="U:59" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:56">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:58">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:59">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:57">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:58">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:59">U</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:56">k1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:57">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">move:</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">=&gt;</span> <span class="id">[m1</span> <span class="id">[[?]]]</span> <span class="id">[m2</span> <span class="id">[[?]]]</span> <span class="id">/=</span> <span class="id">k12</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/eq_measure;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">U;</span> <span class="id">rewrite</span> <span class="id">k12</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">subst</span> <span class="id">m1;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">apply/Prop_irrelevance</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="kseries" class="id"><a name="kseries" class="">kseries</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:60" class="id"><a name="d:60" class="">d</a></span> <span id="d':61" class="id"><a name="d':61" class="">d'</a></span> (<span id="X:62" class="id"><a name="X:62" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:60">d</a></span>) (<span id="Y:63" class="id"><a name="Y:63" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':61">d'</a></span>) (<span id="R:64" class="id"><a name="R:64" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kseries.k" class="id"><a name="kseries.k" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span>)<span class="id">^nat</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kseries" class="id"><a name="kseries" class="">kseries</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:66" class="id"><a name="x:66" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:66">x</a></span>) <span class="id">0]</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_kseries" class="id"><a name="measurable_fun_kseries" class="">measurable_fun_kseries</a></span> (<span id="U:67" class="id"><a name="U:67" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.Y">Y</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:67">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:67">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move=&gt;</span> <span class="id">mU</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n;</span> <span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kseries__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_1" class="id"><a name="kernel_kseries__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_kseries">measurable_fun_kseries</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_kseries" class="id"><a name="integral_kseries" class="">integral_kseries</a></span> <span id="d:68" class="id"><a name="d:68" class="">d</a></span> <span id="d':69" class="id"><a name="d':69" class="">d'</a></span> (<span id="X:70" class="id"><a name="X:70" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:68">d</a></span>) (<span id="Y:71" class="id"><a name="Y:71" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':69">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:72" class="id"><a name="R:72" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:73" class="id"><a name="k:73" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:72">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:70">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:71">Y</a></span>)<span class="id">^nat</span>) (<span id="f:74" class="id"><a name="f:74" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:71">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:72">R</a></span>) <span id="x:75" class="id"><a name="x:75" class="">x</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="y:76" class="id"><a name="y:76" class="">y,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:76">y</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:71">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:73">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:75">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:77">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:84" class="id"><span id="i:83" class="id"><span id="i:82" class="id"><span id="i:80" class="id"><span id="i:79" class="id"><span id="i:78" class="id"><a name="i:84" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:78">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:75">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:74">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:81">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf;</span> <span class="id">rewrite</span> <span class="id">/kseries/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_measure_series">ge0_integral_measure_series</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="measure_fam_uub" class="id"><a name="measure_fam_uub" class="">measure_fam_uub</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:86" class="id"><a name="d:86" class="">d</a></span> <span id="d':87" class="id"><a name="d':87" class="">d'</a></span> (<span id="X:88" class="id"><a name="X:88" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:86">d</a></span>) (<span id="Y:89" class="id"><a name="Y:89" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':87">d'</a></span>) (<span id="R:90" class="id"><a name="R:90" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.NumField.Exports.numFieldType">numFieldType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measure_fam_uub.k" class="id"><a name="measure_fam_uub.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="measure_fam_uub" class="id"><a name="measure_fam_uub" class="">measure_fam_uub</a></span> <span class="id">:=</span> <span class="gallina-kwd">exists</span> <span id="r:92" class="id"><a name="r:92" class="">r,</a></span> <span class="gallina-kwd">forall</span> <span id="x:93" class="id"><a name="x:93" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:93">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:92">r</a></span>%<span class="id">:E</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measure_fam_uubP" class="id"><a name="measure_fam_uubP" class="">measure_fam_uubP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x">&lt;-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="r:94" class="id"><a name="r:94" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.signed.html#dbe4e9c6d047a7b9bacd3b6dee92ccb8">{posnum</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.R">R},</a></span> <span class="gallina-kwd">forall</span> <span id="x:95" class="id"><a name="x:95" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:95">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:94">r</a></span>%<span class="id">:num</span>%<span class="id">:E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[|]</span> <span class="id">[r</span> <span class="id">kr];</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span>%<span class="id">:num</span>.<br/>
<span class="id">suff</span> <span class="id">r_gt0</span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">r</span>)%<span class="id">R</span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">r_gt0</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-lte_fin;</span> <span class="id">apply:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">kr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span>.<br/>
<br/>
<span id="Kernel_isSFinite_subdef.Exports" class="id"><span id="Kernel_isSFinite_subdef.identity_builder" class="id"><span id="Kernel_isSFinite_subdef.phant_axioms" class="id"><span id="Kernel_isSFinite_subdef.phant_Build" class="id"><span id="Kernel_isSFinite_subdef.sfinite_kernel_subdef" class="id"><span id="Kernel_isSFinite_subdef.axioms_" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.k" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.R" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.Y" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.X" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.d'" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.d" class="id"><span id="Kernel_isSFinite_subdef.Kernel_isSFinite_subdef.Kernel_isSFinite_subdef" class="id"><span id="Kernel_isSFinite_subdef" class="id"><a name="Kernel_isSFinite_subdef.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isSFinite_subdef</span> <span id="d:96" class="id"><a name="d:96" class="">d</a></span> <span id="d':97" class="id"><a name="d':97" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:98" class="id"><a name="X:98" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:96">d</a></span>) (<span id="Y:99" class="id"><a name="Y:99" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':97">d'</a></span>) (<span id="R:100" class="id"><a name="R:100" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:101" class="id"><a name="k:101" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:98">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:99">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:100">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sfinite_kernel_subdef:107" class="id"><a name="sfinite_kernel_subdef:107" class="">sfinite_kernel_subdef</a></span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="s:104" class="id"><span id="s:102" class="id"><a name="s:104" class="">s</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:100">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:98">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:99">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:103" class="id"><a name="n:103" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#s:102">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:103">n</a></span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:105" class="id"><a name="x:105" class="">x</a></span> <span id="U:106" class="id"><a name="U:106" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:106">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:101">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:105">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:106">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:104">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:105">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:106">U</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="SFiniteKernelElpiOperations" class="id"><span id="sfinite_kernel_subdef" class="id"><span id="SFiniteKernel.phant_on_" class="id"><span id="SFiniteKernel.Exports.kernel_SFiniteKernel__to__kernel_Kernel" class="id"><span id="SFiniteKernel.Exports.kernel_SFiniteKernel_class__to__kernel_Kernel_class" class="id"><span id="SFiniteKernel.Exports" class="id"><span id="SFiniteKernel.pack_" class="id"><span id="SFiniteKernel.phant_clone" class="id"><span id="SFiniteKernel.class" class="id"><span id="SFiniteKernel.sort" class="id"><span id="SFiniteKernel.type" class="id"><span id="SFiniteKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="SFiniteKernel.kernel_isKernel_mixin" class="id"><span id="SFiniteKernel.axioms_" class="id"><span id="SFiniteKernel" class="id"><a name="SFiniteKernelElpiOperations" class="hierarchy-builder">HB.structure</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">SFiniteKernel</span> <span id="d:114" class="id"><a name="d:114" class="">d</a></span> <span id="d':115" class="id"><a name="d':115" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:116" class="id"><a name="X:116" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:114">d</a></span>) (<span id="Y:117" class="id"><a name="Y:117" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':115">d'</a></span>) (<span id="R:118" class="id"><a name="R:118" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:119" class="id"><a name="k:119" class="">k</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel">Kernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:118">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:119">k</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef">Kernel_isSFinite_subdef</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:116">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:117">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:118">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:119">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="2f2bb8476188c3521c5dd8e5760dc6ab" class="id"><a name="2f2bb8476188c3521c5dd8e5760dc6ab" class="">&quot;R .-sfker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#type">SFiniteKernel.type</a></span> <span class="id">X</span>%<span class="id">type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel_subdef">sfinite_kernel_subdef</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="eq_sfkernel" class="id"><a name="eq_sfkernel" class="">eq_sfkernel</a></span> <span id="d:121" class="id"><a name="d:121" class="">d</a></span> <span id="d':122" class="id"><a name="d':122" class="">d'</a></span> (<span id="T:123" class="id"><a name="T:123" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:121">d</a></span>) (<span id="T':124" class="id"><a name="T':124" class="">T'</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':122">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:125" class="id"><a name="R:125" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k1:126" class="id"><a name="k1:126" class="">k1</a></span> <span id="k2:127" class="id"><a name="k2:127" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:125">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#T:123">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#T':124">T'</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:128" class="id"><a name="x:128" class="">x</a></span> <span id="U:129" class="id"><a name="U:129" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:126">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:128">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:129">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:127">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:128">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:129">U</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k1:126">k1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k2:127">k2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move:</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">=&gt;</span> <span class="id">[m1</span> <span class="id">[[?]</span> <span class="id">[?]]]</span> <span class="id">[m2</span> <span class="id">[[?]</span> <span class="id">[?]]]</span> <span class="id">/=</span> <span class="id">k12</span>.<br/>
<span class="id">have</span> <span class="id">?</span> <span class="id">:</span> <span class="id">m1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">t;</span> <span class="id">apply/eq_measure;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">U;</span> <span class="id">rewrite</span> <span class="id">k12</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">subst</span> <span class="id">m1;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">f_equal;</span> <span class="id">apply/Prop_irrelevance</span>.<br/>
Qed.</div>
<br/>
<span id="SFiniteKernel_isFinite.Exports" class="id"><span id="SFiniteKernel_isFinite.identity_builder" class="id"><span id="SFiniteKernel_isFinite.phant_axioms" class="id"><span id="SFiniteKernel_isFinite.phant_Build" class="id"><span id="SFiniteKernel_isFinite.measure_uub" class="id"><span id="SFiniteKernel_isFinite.axioms_" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.k" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.R" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.Y" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.X" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.d'" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.d" class="id"><span id="SFiniteKernel_isFinite.SFiniteKernel_isFinite.SFiniteKernel_isFinite" class="id"><span id="SFiniteKernel_isFinite" class="id"><a name="SFiniteKernel_isFinite.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">SFiniteKernel_isFinite</span> <span id="d:130" class="id"><a name="d:130" class="">d</a></span> <span id="d':131" class="id"><a name="d':131" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:132" class="id"><a name="X:132" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:130">d</a></span>) (<span id="Y:133" class="id"><a name="Y:133" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':131">d'</a></span>) (<span id="R:134" class="id"><a name="R:134" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:135" class="id"><a name="k:135" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:132">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:133">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:134">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measure_uub:136" class="id"><a name="measure_uub:136" class="">measure_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:135">k</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="FiniteKernelElpiOperations" class="id"><span id="measure_uub" class="id"><span id="FiniteKernel.phant_on_" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel__to__kernel_SFiniteKernel" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel_class__to__kernel_SFiniteKernel_class" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel__to__kernel_Kernel" class="id"><span id="FiniteKernel.Exports.kernel_FiniteKernel_class__to__kernel_Kernel_class" class="id"><span id="FiniteKernel.Exports" class="id"><span id="FiniteKernel.pack_" class="id"><span id="FiniteKernel.phant_clone" class="id"><span id="FiniteKernel.class" class="id"><span id="FiniteKernel.sort" class="id"><span id="FiniteKernel.type" class="id"><span id="FiniteKernel.kernel_SFiniteKernel_isFinite_mixin" class="id"><span id="FiniteKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="FiniteKernel.kernel_isKernel_mixin" class="id"><span id="FiniteKernel.axioms_" class="id"><span id="FiniteKernel" class="id"><a name="FiniteKernelElpiOperations" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=finite_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">FiniteKernel</span> <span id="d:143" class="id"><a name="d:143" class="">d</a></span> <span id="d':144" class="id"><a name="d':144" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:145" class="id"><a name="X:145" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:143">d</a></span>) (<span id="Y:146" class="id"><a name="Y:146" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':144">d'</a></span>) (<span id="R:147" class="id"><a name="R:147" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:148" class="id"><a name="k:148" class="">k</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#SFiniteKernel">SFiniteKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:148">k</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#SFiniteKernel_isFinite">SFiniteKernel_isFinite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:145">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:146">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:147">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:148">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="a630ad86ffa8dd82d98f88052283a61f" class="id"><a name="a630ad86ffa8dd82d98f88052283a61f" class="">&quot;R .-fker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#finite_kernel">finite_kernel</a></span> <span class="id">X</span>%<span class="id">type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<br/>
<span id="Kernel_isFinite.Exports" class="id"><span id="Kernel_isFinite.phant_axioms" class="id"><span id="Kernel_isFinite.phant_Build" class="id"><span id="Kernel_isFinite.measure_uub" class="id"><span id="Kernel_isFinite.axioms_" class="id"><span id="Kernel_isFinite.Kernel_isFinite_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isFinite.Kernel_isFinite.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isFinite.Kernel_isFinite.k" class="id"><span id="Kernel_isFinite.Kernel_isFinite.R" class="id"><span id="Kernel_isFinite.Kernel_isFinite.Y" class="id"><span id="Kernel_isFinite.Kernel_isFinite.X" class="id"><span id="Kernel_isFinite.Kernel_isFinite.d'" class="id"><span id="Kernel_isFinite.Kernel_isFinite.d" class="id"><span id="Kernel_isFinite.Kernel_isFinite.Kernel_isFinite" class="id"><span id="Kernel_isFinite" class="id"><a name="Kernel_isFinite.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isFinite</span> <span id="d:150" class="id"><a name="d:150" class="">d</a></span> <span id="d':151" class="id"><a name="d':151" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:152" class="id"><a name="X:152" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:150">d</a></span>) (<span id="Y:153" class="id"><a name="Y:153" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':151">d'</a></span>) (<span id="R:154" class="id"><a name="R:154" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:155" class="id"><a name="k:155" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:152">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:153">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:154">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:155">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="measure_uub:156" class="id"><a name="measure_uub:156" class="">measure_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:155">k</a></span> <span class="id">}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kzero" class="id"><a name="kzero" class="">kzero</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:163" class="id"><a name="d:163" class="">d</a></span> <span id="d':164" class="id"><a name="d':164" class="">d'</a></span> (<span id="X:165" class="id"><a name="X:165" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:163">d</a></span>) (<span id="Y:166" class="id"><a name="Y:166" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':164">d'</a></span>) (<span id="R:167" class="id"><a name="R:167" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kzero" class="id"><a name="kzero" class="">kzero</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mzero">mzero]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kzero.measurable_fun_kzero" class="id"><a name="kzero.measurable_fun_kzero" class="">measurable_fun_kzero</a></span> <span id="U:168" class="id"><a name="U:168" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:168">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:168">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?/=;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_cst">measurable_cst</a></span>. Qed.</div>
<br/>
<span id="kernel_kzero__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_3" class="id"><a name="kernel_kzero__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero.measurable_fun_kzero">measurable_fun_kzero</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="kzero_uub" class="id"><a name="kzero_uub" class="">kzero_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">1</span>%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/mzero/=</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span>.<br/>
<br/>
<span id="Builders_5.Builders_5.fresh_name_6" class="id"><span id="Builders_5.Builders_5_k__canonical__kernel_Kernel" class="id"><span id="Builders_5.Builders_5.local_mixin_kernel_isKernel" class="id"><span id="Builders_5.Builders_5.k" class="id"><span id="Builders_5.Builders_5.R" class="id"><span id="Builders_5.Builders_5.Y" class="id"><span id="Builders_5.Builders_5.X" class="id"><span id="Builders_5.Builders_5.d'" class="id"><span id="Builders_5.Builders_5.d" class="id"><span id="Builders_5.Builders_5.Builders_5" class="id"><span id="Builders_5.Super" class="id"><span id="Builders_5" class="id"><a name="Builders_5.Builders_5.fresh_name_6" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:169" class="id"><a name="d:169" class="">d</a></span> <span id="d':170" class="id"><a name="d':170" class="">d'</a></span> (<span id="X:171" class="id"><a name="X:171" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:169">d</a></span>) (<span id="Y:172" class="id"><a name="Y:172" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':170">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:173" class="id"><a name="R:173" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:174" class="id"><a name="k:174" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite">Kernel_isFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:169">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':170">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:171">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:172">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:173">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:174">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_5.Builders_5.sfinite_finite" class="id"><a name="Builders_5.Builders_5.sfinite_finite" class="">sfinite_finite</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists2</span> <span id="k_:183" class="id"><span id="k_:181" class="id"><a name="k_:183" class="">k_</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span> <span class="gallina-kwd">forall</span> <span id="n:182" class="id"><a name="n:182" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:181">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:182">n</a></span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:184" class="id"><a name="x:184" class="">x</a></span> <span id="U:185" class="id"><a name="U:185" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:185">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:184">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:185">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:183">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:184">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:185">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:188" class="id"><span id="n:186" class="id"><a name="n:188" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:186">n</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.k">k]</a></span> <span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.R">R]</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">[|_];</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.measure_uub">measure_uub|exact:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kzero_uub">kzero_uub]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">t</span> <span class="id">U</span> <span class="id">mU/=;</span> <span class="id">rewrite</span> <span class="id">/mseries</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_split">nneseries_split</a></span> <span class="id">1</span>%<span class="id">N</span>)<span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord_recl">big_ord_recl/=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_series">ereal_series</a></span> (@<span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id">0</span>%<span class="id">E</span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eseries0">eseries0//</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_5.Builders_5_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_5.HB_unnamed_factory_7" class="id"><a name="Builders_5.Builders_5_k__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef.Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.sfinite_finite">sfinite_finite</a></span>.<br/>
<br/>
<span id="Builders_5.Builders_5_k__canonical__kernel_FiniteKernel" class="id"><span id="Builders_5.HB_unnamed_factory_9" class="id"><a name="Builders_5.Builders_5_k__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#SFiniteKernel_isFinite.Build">SFiniteKernel_isFinite.Build</a></span>  <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.Builders_5.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_5.measure_uub">measure_uub</a></span>.<br/>
<br/>
<span id="Builders_5.Builders_Export_11" class="id"><a name="Builders_5.Builders_Export_11" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfinite" class="id"><a name="sfinite" class="">sfinite</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:190" class="id"><a name="d:190" class="">d</a></span> <span id="d':191" class="id"><a name="d':191" class="">d'</a></span> (<span id="X:192" class="id"><a name="X:192" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:190">d</a></span>) (<span id="Y:193" class="id"><a name="Y:193" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':191">d'</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="sfinite.R" class="id"><a name="sfinite.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="sfinite.k" class="id"><a name="sfinite.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:194">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.s" class="id"><a name="sfinite.s" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R}</a></span>)<span class="id">^nat</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist2">exist2</a></span> <span class="id">x</span> <span class="id">_</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel_subdef">sfinite_kernel_subdef</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.k">k</a></span>) <span class="gallina-kwd">in</span> <span class="id">x</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.ms" class="id"><a name="sfinite.ms" class="">ms</a></span> <span id="n:196" class="id"><a name="n:196" class="">n</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:196">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">split;</span> <span class="id">rewrite</span> <span class="id">/s;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">s'</span> <span class="id">s'_uub</span> <span class="id">kE</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_s__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_13" class="id"><span id="sfinite.hb_instance_12.n" class="id"><span id="sfinite.hb_instance_12.hb_instance_12" class="id"><a name="kernel_s__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:197" class="id"><a name="n:197" class="">n</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.ms">ms</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:197">n</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfinite.s_uub" class="id"><a name="sfinite.s_uub" class="">s_uub</a></span> <span id="n:198" class="id"><a name="n:198" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:198">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/s;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>. Qed.</div>
<br/>
<span id="kernel_s__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_20" class="id"><span id="kernel_s__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_19" class="id"><span id="kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite" class="id"><span id="HB_unnamed_factory_16" class="id"><span id="sfinite.hb_instance_15.n" class="id"><span id="sfinite.hb_instance_15.hb_instance_15" class="id"><a name="kernel_s__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:199" class="id"><a name="n:199" class="">n</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isFinite.Build</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:199">n</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s_uub">s_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:199">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_kernel" class="id"><a name="sfinite_kernel" class="">sfinite_kernel</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="s:200" class="id"><a name="s:200" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.Y">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:201" class="id"><a name="x:201" class="">x</a></span> <span id="U:202" class="id"><a name="U:202" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:202">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:201">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:202">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:200">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:201">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:202">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:204" class="id"><span id="n:203" class="id"><a name="n:204" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-fker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite.s">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:203">n]</a></span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/s</span> <span class="id">/=</span> <span class="id">/s;</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite">sfinite</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sfinite_kernel_measure" class="id"><a name="sfinite_kernel_measure" class="">sfinite_kernel_measure</a></span> <span id="d:205" class="id"><a name="d:205" class="">d</a></span> <span id="d':206" class="id"><a name="d':206" class="">d'</a></span> (<span id="Z:207" class="id"><a name="Z:207" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:205">d</a></span>) (<span id="X:208" class="id"><a name="X:208" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':206">d'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="R:209" class="id"><a name="R:209" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:210" class="id"><a name="k:210" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:209">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:207">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:208">X</a></span>) (<span id="z:211" class="id"><a name="z:211" class="">z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:207">Z</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#sfinite_measure">sfinite_measure</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:210">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:211">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">have</span> <span class="id">[s</span> <span class="id">ks]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">s</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">snr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">s</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#lty_fin_num_fun">lty_fin_num_fun;</a></span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">snr</span> <span class="id">_</span>))<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">ks</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kzero__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_28" class="id"><span id="kernel_kzero__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_27" class="id"><span id="kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef__26" class="id"><span id="kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite__24" class="id"><span id="HB_unnamed_factory_22" class="id"><span id="hb_instance_21.R" class="id"><span id="hb_instance_21.Y" class="id"><span id="hb_instance_21.X" class="id"><span id="hb_instance_21.d'" class="id"><span id="hb_instance_21.d" class="id"><span id="hb_instance_21.hb_instance_21" class="id"><a name="kernel_kzero__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:212" class="id"><a name="d:212" class="">d</a></span> <span id="d':213" class="id"><a name="d':213" class="">d'</a></span> (<span id="X:214" class="id"><a name="X:214" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:212">d</a></span>) (<span id="Y:215" class="id"><a name="Y:215" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':213">d'</a></span>) (<span id="R:216" class="id"><a name="R:216" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:216">R</a></span> (@<span class="id"><a href="mathcomp.analysis.kernel.html#kzero">kzero</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:214">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:215">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:216">R</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="mathcomp.analysis.kernel.html#kzero_uub">kzero_uub</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:214">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:215">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:216">R</a></span>).<br/>
<br/>
<span id="Kernel_isSFinite.Exports" class="id"><span id="Kernel_isSFinite.phant_axioms" class="id"><span id="Kernel_isSFinite.phant_Build" class="id"><span id="Kernel_isSFinite.sfinite" class="id"><span id="Kernel_isSFinite.axioms_" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.k" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.R" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.Y" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.X" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.d'" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.d" class="id"><span id="Kernel_isSFinite.Kernel_isSFinite.Kernel_isSFinite" class="id"><span id="Kernel_isSFinite" class="id"><a name="Kernel_isSFinite.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isSFinite</span> <span id="d:217" class="id"><a name="d:217" class="">d</a></span> <span id="d':218" class="id"><a name="d':218" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:219" class="id"><a name="X:219" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:217">d</a></span>) (<span id="Y:220" class="id"><a name="Y:220" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':218">d'</a></span>) (<span id="R:221" class="id"><a name="R:221" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:222" class="id"><a name="k:222" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:219">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:220">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:221">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:222">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sfinite:226" class="id"><a name="sfinite:226" class="">sfinite</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="s:223" class="id"><a name="s:223" class="">s</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#R:221">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:219">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:220">Y</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:224" class="id"><a name="x:224" class="">x</a></span> <span id="U:225" class="id"><a name="U:225" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:225">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:222">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:224">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:225">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#s:223">s</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:224">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:225">U</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_29.Builders_29.fresh_name_30" class="id"><span id="Builders_29.Builders_29_k__canonical__kernel_Kernel" class="id"><span id="Builders_29.Builders_29.local_mixin_kernel_isKernel" class="id"><span id="Builders_29.Builders_29.k" class="id"><span id="Builders_29.Builders_29.R" class="id"><span id="Builders_29.Builders_29.Y" class="id"><span id="Builders_29.Builders_29.X" class="id"><span id="Builders_29.Builders_29.d'" class="id"><span id="Builders_29.Builders_29.d" class="id"><span id="Builders_29.Builders_29.Builders_29" class="id"><span id="Builders_29.Super" class="id"><span id="Builders_29" class="id"><a name="Builders_29.Builders_29.fresh_name_30" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:233" class="id"><a name="d:233" class="">d</a></span> <span id="d':234" class="id"><a name="d':234" class="">d'</a></span> (<span id="X:235" class="id"><a name="X:235" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:233">d</a></span>) (<span id="Y:236" class="id"><a name="Y:236" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':234">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:237" class="id"><a name="R:237" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:238" class="id"><a name="k:238" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite">Kernel_isSFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:233">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':234">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:235">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:236">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:237">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:238">k</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Builders_29.sfinite_subdef" class="id"><a name="Builders_29.sfinite_subdef" class="">sfinite_subdef</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite_subdef">Kernel_isSFinite_subdef</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.Builders_29.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.Builders_29.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.Builders_29.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.Builders_29.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.Builders_29.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.Builders_29.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">split;</span> <span class="id">have</span> <span class="id">[s</span> <span class="id">sE]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.sfinite">sfinite;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_29.Builders_29_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_29.HB_unnamed_factory_31" class="id"><a name="Builders_29.Builders_29_k__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span>  <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_29.sfinite_subdef">sfinite_subdef</a></span>.<br/>
<br/>
<span id="Builders_29.Builders_Export_33" class="id"><a name="Builders_29.Builders_Export_33" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfkseries" class="id"><a name="sfkseries" class="">sfkseries</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:245" class="id"><a name="d:245" class="">d</a></span> <span id="d':246" class="id"><a name="d':246" class="">d'</a></span> (<span id="X:247" class="id"><a name="X:247" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:245">d</a></span>) (<span id="Y:248" class="id"><a name="Y:248" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':246">d'</a></span>) (<span id="R:249" class="id"><a name="R:249" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="sfkseries.k" class="id"><a name="sfkseries.k" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.Y">Y</a></span>)<span class="id">^nat</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfkseries.sfinite_kseries" class="id"><a name="sfkseries.sfinite_kseries" class="">sfinite_kseries</a></span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="k_:253" class="id"><span id="k_:251" class="id"><a name="k_:253" class="">k_</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:252" class="id"><a name="n:252" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:251">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:252">n</a></span>) &amp;<br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:254" class="id"><a name="x:254" class="">x</a></span> <span id="U:255" class="id"><a name="U:255" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:255">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:254">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:255">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:253">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:254">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:255">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">have</span> <span class="id">/ppcard_eqP[f]</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#75c3eadbb3fd356da27f1f2e697bb40b">#=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>)%<span class="id">card</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_nat2">card_nat2</a></span>.<br/>
<span class="id">pose</span> <span class="id">p</span> <span id="n:257" class="id"><span id="n:256" class="id"><a name="n:257" class="">n</a></span></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.Y">Y</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html#sval">sval</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:257">n</a></span>))).<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="i:259" class="id"><span id="i:258" class="id"><a name="i:259" class="">i</a></span></span> <span class="id">=&gt;</span> <span class="id">p</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:258">i</a></span>).<span class="id">1</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:258">i</a></span>).<span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">have</span> <span class="id">[r</span> <span class="id">Hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">p</span> (<span class="id">f</span> <span class="id">n</span>).<span class="id">1</span> (<span class="id">f</span> <span class="id">n</span>).<span class="id">2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=;</span> <span class="id">exact:</span> <span class="id">Hr</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/kseries</span> <span class="id">/mseries/=</span> <span class="id">/mseries/=</span>.<br/>
<span class="id">have</span> <span class="id">kE</span> <span class="id">i</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:260">i</a></span> <span class="id">x</span> <span class="id">U</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="j:266" class="id"><span id="j:265" class="id"><span id="j:264" class="id"><span id="j:263" class="id"><span id="j:262" class="id"><span id="j:261" class="id"><a name="j:266" class="">j</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:260">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:261">j</a></span> <span class="id">x</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/p</span> <span class="id">/sval/=;</span> <span class="id">case:</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> <span class="id">=&gt;</span> <span class="id">k_</span> <span class="id">-&gt;</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="l:268" class="id"><span id="l:267" class="id"><a name="l:268" class="">l</a></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>) <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:267">l</a></span>.<span class="id">1</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:267">l</a></span>.<span class="id">2</span> <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#8f8ce0ffd4fcb1cabbac77bb467a750e">`*``</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.esum.html#esum_esum">esum_esum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:273" class="id"><span id="i:271" class="id"><span id="i:269" class="id"><a name="i:273" class="">i</a></span></span></span> <span id="j:274" class="id"><span id="j:272" class="id"><span id="j:270" class="id"><a name="j:274" class="">j</a></span></span></span> <span class="id">=&gt;</span> <span class="id">p</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:269">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:270">j</a></span> <span class="id">x</span> <span class="id">U</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id">-fun_true;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">kE//</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">_</span> <span class="id">f</span>)<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.classical.functions.html#bijTT">bijTT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-setTT_bijective/=</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.X">X</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_]</span>(@<span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kseries__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_factory_34" class="id"><a name="kernel_kseries__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries.sfinite_kseries">sfinite_kseries</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkseries">sfkseries</a></span>.<br/>
<br/>
<span id="FiniteKernel_isSubProbability.Exports" class="id"><span id="FiniteKernel_isSubProbability.identity_builder" class="id"><span id="FiniteKernel_isSubProbability.phant_axioms" class="id"><span id="FiniteKernel_isSubProbability.phant_Build" class="id"><span id="FiniteKernel_isSubProbability.sprob_kernel" class="id"><span id="FiniteKernel_isSubProbability.axioms_" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.k" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.R" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.Y" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.X" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.d'" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.d" class="id"><span id="FiniteKernel_isSubProbability.FiniteKernel_isSubProbability.FiniteKernel_isSubProbability" class="id"><span id="FiniteKernel_isSubProbability" class="id"><a name="FiniteKernel_isSubProbability.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">FiniteKernel_isSubProbability</span> <span id="d:276" class="id"><a name="d:276" class="">d</a></span> <span id="d':277" class="id"><a name="d':277" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:278" class="id"><a name="X:278" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:276">d</a></span>) (<span id="Y:279" class="id"><a name="Y:279" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':277">d'</a></span>) (<span id="R:280" class="id"><a name="R:280" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:281" class="id"><a name="k:281" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:278">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:279">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:280">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sprob_kernel:283" class="id"><a name="sprob_kernel:283" class="">sprob_kernel</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:281">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:282">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:279">Y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:282" class="id"><a name="x:282" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:278">X]]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="SubProbabilityKernelElpiOperations" class="id"><span id="sprob_kernel" class="id"><span id="SubProbabilityKernel.phant_on_" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel__to__kernel_FiniteKernel" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel_class__to__kernel_FiniteKernel_class" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel__to__kernel_SFiniteKernel" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel_class__to__kernel_SFiniteKernel_class" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel__to__kernel_Kernel" class="id"><span id="SubProbabilityKernel.Exports.kernel_SubProbabilityKernel_class__to__kernel_Kernel_class" class="id"><span id="SubProbabilityKernel.Exports" class="id"><span id="SubProbabilityKernel.pack_" class="id"><span id="SubProbabilityKernel.phant_clone" class="id"><span id="SubProbabilityKernel.class" class="id"><span id="SubProbabilityKernel.sort" class="id"><span id="SubProbabilityKernel.type" class="id"><span id="SubProbabilityKernel.kernel_FiniteKernel_isSubProbability_mixin" class="id"><span id="SubProbabilityKernel.kernel_SFiniteKernel_isFinite_mixin" class="id"><span id="SubProbabilityKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="SubProbabilityKernel.kernel_isKernel_mixin" class="id"><span id="SubProbabilityKernel.axioms_" class="id"><span id="SubProbabilityKernel" class="id"><a name="SubProbabilityKernelElpiOperations" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=sprobability_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">SubProbabilityKernel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:290" class="id"><a name="d:290" class="">d</a></span> <span id="d':291" class="id"><a name="d':291" class="">d'</a></span> (<span id="X:292" class="id"><a name="X:292" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:290">d</a></span>) (<span id="Y:293" class="id"><a name="Y:293" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':291">d'</a></span>) (<span id="R:294" class="id"><a name="R:294" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:295" class="id"><a name="k:295" class="">k</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#FiniteKernel">FiniteKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:295">k</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#FiniteKernel_isSubProbability">FiniteKernel_isSubProbability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:292">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:293">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:294">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:295">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="898f9485751baaae1367fc74232bbf0b" class="id"><a name="898f9485751baaae1367fc74232bbf0b" class="">&quot;R .-spker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sprobability_kernel">sprobability_kernel</a></span> <span class="id">X</span>%<span class="id">type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span id="Kernel_isSubProbability.Exports" class="id"><span id="Kernel_isSubProbability.phant_axioms" class="id"><span id="Kernel_isSubProbability.phant_Build" class="id"><span id="Kernel_isSubProbability.sprob_kernel" class="id"><span id="Kernel_isSubProbability.axioms_" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.k" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.R" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.Y" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.X" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.d'" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.d" class="id"><span id="Kernel_isSubProbability.Kernel_isSubProbability.Kernel_isSubProbability" class="id"><span id="Kernel_isSubProbability" class="id"><a name="Kernel_isSubProbability.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isSubProbability</span> <span id="d:297" class="id"><a name="d:297" class="">d</a></span> <span id="d':298" class="id"><a name="d':298" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:299" class="id"><a name="X:299" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:297">d</a></span>) (<span id="Y:300" class="id"><a name="Y:300" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':298">d'</a></span>) (<span id="R:301" class="id"><a name="R:301" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:302" class="id"><a name="k:302" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:299">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:300">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:301">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:299">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:300">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:301">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:302">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="sprob_kernel:304" class="id"><a name="sprob_kernel:304" class="">sprob_kernel</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:302">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:303">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:300">Y]</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#7e4573e059f309ba0ef27b7fc70cc4df">|</a></span> <span id="x:303" class="id"><a name="x:303" class="">x</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:299">X]]</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_36.Builders_36.fresh_name_37" class="id"><span id="Builders_36.Builders_36_k__canonical__kernel_Kernel" class="id"><span id="Builders_36.Builders_36.local_mixin_kernel_isKernel" class="id"><span id="Builders_36.Builders_36.k" class="id"><span id="Builders_36.Builders_36.R" class="id"><span id="Builders_36.Builders_36.Y" class="id"><span id="Builders_36.Builders_36.X" class="id"><span id="Builders_36.Builders_36.d'" class="id"><span id="Builders_36.Builders_36.d" class="id"><span id="Builders_36.Builders_36.Builders_36" class="id"><span id="Builders_36.Super" class="id"><span id="Builders_36" class="id"><a name="Builders_36.Builders_36.fresh_name_37" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:311" class="id"><a name="d:311" class="">d</a></span> <span id="d':312" class="id"><a name="d':312" class="">d'</a></span> (<span id="X:313" class="id"><a name="X:313" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:311">d</a></span>) (<span id="Y:314" class="id"><a name="Y:314" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':312">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:315" class="id"><a name="R:315" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:316" class="id"><a name="k:316" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSubProbability">Kernel_isSubProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:311">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':312">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:313">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:314">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:315">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:316">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_36.Builders_36.finite" class="id"><a name="Builders_36.Builders_36.finite" class="">finite</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite">Kernel_isFinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">split;</span> <span class="gallina-kwd">exists</span> <span class="id">2</span>%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">?;</span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">1</span>%<span class="id">:E</span>) <span class="id">?lte_fin</span> <span class="id">?ltr1n//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.sprob_kernel">sprob_kernel</a></span>)<span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_36.Builders_36_k__canonical__kernel_FiniteKernel" class="id"><span id="Builders_36.Builders_36_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_36.kernel_Kernel_isSubProbability__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="Builders_36.kernel_Kernel_isSubProbability__to__kernel_SFiniteKernel_isFinite" class="id"><span id="Builders_36.HB_unnamed_factory_38" class="id"><a name="Builders_36.Builders_36_k__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.finite">finite</a></span>.<br/>
<br/>
<span id="Builders_36.Builders_36_k__canonical__kernel_SubProbabilityKernel" class="id"><span id="Builders_36.HB_unnamed_factory_41" class="id"><a name="Builders_36.Builders_36_k__canonical__kernel_SubProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#FiniteKernel_isSubProbability.Build">FiniteKernel_isSubProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.Builders_36.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_36.sprob_kernel">sprob_kernel</a></span>.<br/>
<br/>
<span id="Builders_36.Builders_Export_43" class="id"><a name="Builders_36.Builders_Export_43" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span id="SubProbability_isProbability.Exports" class="id"><span id="SubProbability_isProbability.identity_builder" class="id"><span id="SubProbability_isProbability.phant_axioms" class="id"><span id="SubProbability_isProbability.phant_Build" class="id"><span id="SubProbability_isProbability.prob_kernel" class="id"><span id="SubProbability_isProbability.axioms_" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.k" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.R" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.Y" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.X" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.d'" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.d" class="id"><span id="SubProbability_isProbability.SubProbability_isProbability.SubProbability_isProbability" class="id"><span id="SubProbability_isProbability" class="id"><a name="SubProbability_isProbability.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">SubProbability_isProbability</span> <span id="d:323" class="id"><a name="d:323" class="">d</a></span> <span id="d':324" class="id"><a name="d':324" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:325" class="id"><a name="X:325" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:323">d</a></span>) (<span id="Y:326" class="id"><a name="Y:326" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':324">d'</a></span>) (<span id="R:327" class="id"><a name="R:327" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:328" class="id"><a name="k:328" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:325">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:326">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:327">R}</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="prob_kernel:330" class="id"><a name="prob_kernel:330" class="">prob_kernel</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:329" class="id"><a name="x:329" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:328">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:329">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:326">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="ProbabilityKernelElpiOperations" class="id"><span id="prob_kernel" class="id"><span id="ProbabilityKernel.phant_on_" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_SubProbabilityKernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_SubProbabilityKernel_class" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_FiniteKernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_FiniteKernel_class" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_SFiniteKernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_SFiniteKernel_class" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel__to__kernel_Kernel" class="id"><span id="ProbabilityKernel.Exports.kernel_ProbabilityKernel_class__to__kernel_Kernel_class" class="id"><span id="ProbabilityKernel.Exports" class="id"><span id="ProbabilityKernel.pack_" class="id"><span id="ProbabilityKernel.phant_clone" class="id"><span id="ProbabilityKernel.class" class="id"><span id="ProbabilityKernel.sort" class="id"><span id="ProbabilityKernel.type" class="id"><span id="ProbabilityKernel.kernel_SubProbability_isProbability_mixin" class="id"><span id="ProbabilityKernel.kernel_FiniteKernel_isSubProbability_mixin" class="id"><span id="ProbabilityKernel.kernel_SFiniteKernel_isFinite_mixin" class="id"><span id="ProbabilityKernel.kernel_Kernel_isSFinite_subdef_mixin" class="id"><span id="ProbabilityKernel.kernel_isKernel_mixin" class="id"><span id="ProbabilityKernel.axioms_" class="id"><span id="ProbabilityKernel" class="id"><a name="ProbabilityKernelElpiOperations" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=probability_kernel</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">ProbabilityKernel</span> <span id="d:337" class="id"><a name="d:337" class="">d</a></span> <span id="d':338" class="id"><a name="d':338" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:339" class="id"><a name="X:339" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:337">d</a></span>) (<span id="Y:340" class="id"><a name="Y:340" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':338">d'</a></span>) (<span id="R:341" class="id"><a name="R:341" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{</a></span> <span id="k:342" class="id"><a name="k:342" class="">k</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#SubProbabilityKernel">SubProbabilityKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:342">k</a></span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#SubProbability_isProbability">SubProbability_isProbability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:339">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:340">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:341">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:342">k</a></span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">}</a></span>.<br/>
<span class="vernacular">Notation</span> <span id="6ce5e90cd022b925e0c49d37baca27fb" class="id"><a name="6ce5e90cd022b925e0c49d37baca27fb" class="">&quot;R .-pker X ~&gt; Y&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#probability_kernel">probability_kernel</a></span> <span class="id">X</span>%<span class="id">type</span> <span class="id">Y</span> <span class="id">R</span>).<br/>
<br/>
<span id="Kernel_isProbability.Exports" class="id"><span id="Kernel_isProbability.phant_axioms" class="id"><span id="Kernel_isProbability.phant_Build" class="id"><span id="Kernel_isProbability.prob_kernel" class="id"><span id="Kernel_isProbability.axioms_" class="id"><span id="Kernel_isProbability.Kernel_isProbability_k__canonical__kernel_Kernel" class="id"><span id="Kernel_isProbability.Kernel_isProbability.local_mixin_kernel_isKernel" class="id"><span id="Kernel_isProbability.Kernel_isProbability.k" class="id"><span id="Kernel_isProbability.Kernel_isProbability.R" class="id"><span id="Kernel_isProbability.Kernel_isProbability.Y" class="id"><span id="Kernel_isProbability.Kernel_isProbability.X" class="id"><span id="Kernel_isProbability.Kernel_isProbability.d'" class="id"><span id="Kernel_isProbability.Kernel_isProbability.d" class="id"><span id="Kernel_isProbability.Kernel_isProbability.Kernel_isProbability" class="id"><span id="Kernel_isProbability" class="id"><a name="Kernel_isProbability.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">Kernel_isProbability</span> <span id="d:344" class="id"><a name="d:344" class="">d</a></span> <span id="d':345" class="id"><a name="d':345" class="">d'</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="X:346" class="id"><a name="X:346" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:344">d</a></span>) (<span id="Y:347" class="id"><a name="Y:347" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':345">d'</a></span>) (<span id="R:348" class="id"><a name="R:348" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:349" class="id"><a name="k:349" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:346">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:347">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:348">R}</a></span>) <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#isKernel">isKernel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:346">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:347">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:348">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:349">k</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="prob_kernel:351" class="id"><a name="prob_kernel:351" class="">prob_kernel</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="x:350" class="id"><a name="x:350" class="">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:349">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:350">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:347">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_44.Builders_44.fresh_name_45" class="id"><span id="Builders_44.Builders_44_k__canonical__kernel_Kernel" class="id"><span id="Builders_44.Builders_44.local_mixin_kernel_isKernel" class="id"><span id="Builders_44.Builders_44.k" class="id"><span id="Builders_44.Builders_44.R" class="id"><span id="Builders_44.Builders_44.Y" class="id"><span id="Builders_44.Builders_44.X" class="id"><span id="Builders_44.Builders_44.d'" class="id"><span id="Builders_44.Builders_44.d" class="id"><span id="Builders_44.Builders_44.Builders_44" class="id"><span id="Builders_44.Super" class="id"><span id="Builders_44" class="id"><a name="Builders_44.Builders_44.fresh_name_45" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Context</span> <span id="d:358" class="id"><a name="d:358" class="">d</a></span> <span id="d':359" class="id"><a name="d':359" class="">d'</a></span> (<span id="X:360" class="id"><a name="X:360" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:358">d</a></span>) (<span id="Y:361" class="id"><a name="Y:361" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':359">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="R:362" class="id"><a name="R:362" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span id="k:363" class="id"><a name="k:363" class="">k</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isProbability">Kernel_isProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:358">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':359">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:360">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:361">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:362">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:363">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Builders_44.Builders_44.sprob_kernel" class="id"><a name="Builders_44.Builders_44.sprob_kernel" class="">sprob_kernel</a></span> <span class="id">:</span> @<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSubProbability">Kernel_isSubProbability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.d">d</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.d'">d'</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.R">R</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.k">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="gallina-kwd">by</span> <span class="id">split;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">[y</span> <span class="id">_</span> <span class="id">&lt;-{x}];</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.prob_kernel">prob_kernel</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_44.Builders_44_k__canonical__kernel_SubProbabilityKernel" class="id"><span id="Builders_44.Builders_44_k__canonical__kernel_FiniteKernel" class="id"><span id="Builders_44.Builders_44_k__canonical__kernel_SFiniteKernel" class="id"><span id="Builders_44.kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite" class="id"><span id="Builders_44.kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="Builders_44.kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability" class="id"><span id="Builders_44.HB_unnamed_factory_46" class="id"><a name="Builders_44.Builders_44_k__canonical__kernel_SubProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.sprob_kernel">sprob_kernel</a></span>.<br/>
<br/>
<span id="Builders_44.Builders_44_k__canonical__kernel_ProbabilityKernel" class="id"><span id="Builders_44.HB_unnamed_factory_50" class="id"><a name="Builders_44.Builders_44_k__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#SubProbability_isProbability.Build">SubProbability_isProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.Builders_44.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Builders_44.prob_kernel">prob_kernel</a></span>.<br/>
<br/>
<span id="Builders_44.Builders_Export_52" class="id"><a name="Builders_44.Builders_Export_52" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="finite_kernel_measure" class="id"><a name="finite_kernel_measure" class="">finite_kernel_measure</a></span> <span id="d:370" class="id"><a name="d:370" class="">d</a></span> <span id="d':371" class="id"><a name="d':371" class="">d'</a></span> (<span id="X:372" class="id"><a name="X:372" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:370">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="Y:373" class="id"><a name="Y:373" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':371">d'</a></span>) (<span id="R:374" class="id"><a name="R:374" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:375" class="id"><a name="k:375" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:374">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:372">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:373">Y</a></span>) (<span id="x:376" class="id"><a name="x:376" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:372">X</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#fin_num_fun">fin_num_fun</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:375">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:376">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">have</span> <span class="id">[r</span> <span class="id">k_r]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#lty_fin_num_fun">lty_fin_num_fun;</a></span> <span class="id">rewrite</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_trans">lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">r</span>%<span class="id">:E</span>) <span class="id">?ltey</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset_kernel" class="id"><a name="measurable_prod_subset_kernel" class="">measurable_prod_subset_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:377" class="id"><a name="d:377" class="">d</a></span> <span id="d':378" class="id"><a name="d':378" class="">d'</a></span> (<span id="X:379" class="id"><a name="X:379" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:377">d</a></span>) (<span id="Y:380" class="id"><a name="Y:380" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':378">d'</a></span>) (<span id="R:381" class="id"><a name="R:381" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_prod_subset_kernel.xsection_kernel" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel" class="">xsection_kernel</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="measurable_prod_subset_kernel.xsection_kernel.k" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>) (<span id="measurable_prod_subset_kernel.xsection_kernel.D" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.D" class="">D</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.Y">Y</a></span>) (<span id="measurable_prod_subset_kernel.xsection_kernel.mD" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.mD" class="">mD</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#D:383">D</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.kD" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.kD" class="">kD</a></span> <span id="x:385" class="id"><a name="x:385" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:385">x</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.mD">mD</a></span>.<br/>
<span id="kernel_kD__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_58" class="id"><span id="kernel_kD__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_57" class="id"><span id="measure_Measure__to__measure_Content_isMeasure" class="id"><span id="measure_Measure__to__measure_isContent" class="id"><span id="HB_unnamed_factory_54" class="id"><span id="measurable_prod_subset_kernel.xsection_kernel.hb_instance_53.x" class="id"><span id="measurable_prod_subset_kernel.xsection_kernel.hb_instance_53.hb_instance_53" class="id"><a name="kernel_kD__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:386" class="id"><a name="x:386" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:386">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.phi" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.phi" class="">phi</a></span> <span id="A:387" class="id"><a name="A:387" class="">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:388" class="id"><a name="x:388" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:388">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:387">A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:388">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.XY" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.XY" class="">XY</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:389" class="id"><a name="A:389" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:389">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:389">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_prod_subset_kernel.xsection_kernel.phiM" class="id"><a name="measurable_prod_subset_kernel.xsection_kernel.phiM" class="">phiM</a></span> (<span id="A:390" class="id"><a name="A:390" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.X">X</a></span>) <span id="B:391" class="id"><a name="B:391" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#A:390">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:391">B</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:392" class="id"><a name="x:392" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:392">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:391">B</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:392">x</a></span>)%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id">/phi/=</span>.<br/>
<span class="id">have</span> <span class="id">[xA|xA]</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id">A</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule1">mule1</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_xsectionM">in_xsectionM</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_xsectionM">notin_xsectionM//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_prod_subset_xsection_kernel" class="id"><a name="measurable_prod_subset_xsection_kernel" class="">measurable_prod_subset_xsection_kernel</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="x:393" class="id"><a name="x:393" class="">x,</a></span> <span class="gallina-kwd">exists</span> <span id="M:394" class="id"><a name="M:394" class="">M,</a></span> <span class="gallina-kwd">forall</span> <span id="X:395" class="id"><a name="X:395" class="">X,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:395">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.kD">kD</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:393">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:395">X</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#M:394">M</a></span>%<span class="id">:E</span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move=&gt;</span> <span class="id">kD_ub;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_prod_measurableType">measurable_prod_measurableType</a></span>.<br/>
<span class="id">set</span> <span class="id">C</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:396">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#3bd2d3ba5f22ac825c14018530a2318c">`*`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#B:397">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">|</a></span> <span id="A:400" class="id"><span id="A:398" class="id"><span id="A:396" class="id"><a name="A:400" class="">A</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> &amp; <span id="B:401" class="id"><span id="B:399" class="id"><span id="B:397" class="id"><a name="B:401" class="">B</a></span></span></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<span class="id">have</span> <span class="id">CI</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#setI_closed">setI_closed</a></span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">_</span> <span class="id">[X1</span> <span class="id">mX1</span> <span class="id">[X2</span> <span class="id">mX2</span> <span class="id">&lt;-]]</span> <span class="id">[Y1</span> <span class="id">mY1</span> <span class="id">[Y2</span> <span class="id">mY2</span> <span class="id">&lt;-]]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">X1</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y1</span>)<span class="id">;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id">X2</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#c7636f45aa1745dbf533da3d408cece1">`</a></span>&amp;<span class="id">`</span> <span class="id">Y2</span>)<span class="id">;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI|rewrite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMI">setMI]</a></span>.<br/>
<span class="id">have</span> <span class="id">CT</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setMTT">setMTT</a></span>.<br/>
<span class="id">have</span> <span class="id">CXY</span> <span class="id">:</span> <span class="id">C</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">[A</span> <span class="id">mA</span> <span class="id">[B</span> <span class="id">mB</span> <span class="id">&lt;-]];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableM">measurableM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phiM">phiM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">first</span> <span class="id">exact/measurable_kernel/measurableI</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/EFin_measurable_fun;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.R">R</a></span> <span class="id">mA</span>).<br/>
<span class="id">suff</span> <span class="id">monoB</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class">monotone_class</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.XY">XY</a></span> <span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#monotone_class_subset">monotone_class_subset</a></span>.<br/>
<span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id">CXY|</span> <span class="id">|exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#xsection_ndseq_closed">xsection_ndseq_closed]</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">BA</span> <span class="id">[mA</span> <span class="id">mphiA]</span> <span class="id">[mB</span> <span class="id">mphiB];</span> <span class="id">split;</span> <span class="id">first</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#cf50465a73dc8072abef3845b643e512">`\`</a></span> <span class="id">B</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:402" class="id"><a name="x:402" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:402">x</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'-'_x">-</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel.phi">phi</a></span> <span class="id">B</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:402">x</a></span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funB">emeasurable_funB</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/phi/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsectionD">xsectionD//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr//;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#le_xsection">le_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[M</span> <span class="id">kM]</span> <span class="id">:=</span> <span class="id">kD_ub</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_le_trans">lt_le_trans</a></span> (<span class="id">kM</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id">x</span>) <span class="id">_</span>)) <span class="id">?leey//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel.xsection_kernel">xsection_kernel</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_kernel">measurable_prod_subset_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_xsection_finite_kernel" class="id"><a name="measurable_fun_xsection_finite_kernel" class="">measurable_fun_xsection_finite_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:403" class="id"><a name="d:403" class="">d</a></span> <span id="d':404" class="id"><a name="d':404" class="">d'</a></span> (<span id="X:405" class="id"><a name="X:405" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:403">d</a></span>) (<span id="Y:406" class="id"><a name="Y:406" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':404">d'</a></span>) (<span id="R:407" class="id"><a name="R:407" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_xsection_finite_kernel.k" class="id"><a name="measurable_fun_xsection_finite_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.Y">Y</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection_finite_kernel.phi" class="id"><a name="measurable_fun_xsection_finite_kernel.phi" class="">phi</a></span> <span id="A:409" class="id"><a name="A:409" class="">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:410" class="id"><a name="x:410" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:410">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:409">A</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:410">x</a></span>).<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_xsection_finite_kernel.XY" class="id"><a name="measurable_fun_xsection_finite_kernel.XY" class="">XY</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="A:411" class="id"><a name="A:411" class="">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:411">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:411">A</a></span>)<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection_finite_kernel" class="id"><a name="measurable_fun_xsection_finite_kernel" class="">measurable_fun_xsection_finite_kernel</a></span> <span id="A:412" class="id"><a name="A:412" class="">A</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#A:412">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7">\in</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#A:412">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move:</span> <span class="id">A;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#e19db46c1d4073266228fb7781521a56">`&lt;=`</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.XY">XY</a></span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">+</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/[apply]</span> <span class="id">-[]</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">A</span> <span class="id">mA;</span> <span class="id">rewrite</span> <span class="id">/XY/=;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.phi">phi</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:415" class="id"><span id="x:414" class="id"><span id="x:413" class="id"><a name="x:415" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#mrestr">mrestr</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:413">x</a></span>) <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:413">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x//=;</span> <span class="id">rewrite</span> <span class="id">/mrestr</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_prod_subset_xsection_kernel">measurable_prod_subset_xsection_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x</span>.<br/>
<span class="id">have</span> <span class="id">[r</span> <span class="id">hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel.k">k;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">B</span> <span class="id">mB</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> (<span class="id">hr</span> <span class="id">x</span>)) <span class="id">//</span> <span class="id">/mrestr</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_integral_finite_sfinite" class="id"><a name="measurable_fun_integral_finite_sfinite" class="">measurable_fun_integral_finite_sfinite</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:416" class="id"><a name="d:416" class="">d</a></span> <span id="d':417" class="id"><a name="d':417" class="">d'</a></span> (<span id="X:418" class="id"><a name="X:418" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:416">d</a></span>) (<span id="Y:419" class="id"><a name="Y:419" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':417">d'</a></span>) (<span id="R:420" class="id"><a name="R:420" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="measurable_fun_integral_finite_sfinite.k" class="id"><a name="measurable_fun_integral_finite_sfinite.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_xsection_integral" class="id"><a name="measurable_fun_xsection_integral" class="">measurable_fun_xsection_integral</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="l:422" class="id"><a name="l:422" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k_:423" class="id"><a name="k_:423" class="">k_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R}</a></span>)<span class="id">^nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ndk_:424" class="id"><a name="ndk_:424" class="">ndk_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:423">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>)<span class="id">^nat</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k_k:426" class="id"><a name="k_k:426" class="">k_k</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:425" class="id"><a name="z:425" class="">z,</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:423">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:425">z</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:425">z</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:427" class="id"><a name="n:427" class="">n</a></span> <span id="r:428" class="id"><a name="r:428" class="">r,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:429" class="id"><a name="x:429" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#l:422">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:429">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:423">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:427">n</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:428">r]</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:429">x</a></span>))) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:430" class="id"><a name="x:430" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:430">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:430">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:431">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:440" class="id"><span id="x:436" class="id"><span id="x:432" class="id"><a name="x:440" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:441" class="id"><span id="x:437" class="id"><span id="x:433" class="id"><a name="x:441" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="gallina-kwd">fun</span> <span id="n:442" class="id"><span id="n:438" class="id"><span id="n:434" class="id"><a name="n:442" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:433">x]_y</a></span> (<span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:434">n</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:433">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:435">y</a></span>))%<span class="id">:E</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="gallina-kwd">fun</span> <span id="n:450" class="id"><span id="n:448" class="id"><span id="n:446" class="id"><span id="n:444" class="id"><a name="n:450" class="">n</a></span></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> (<span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:444">n</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:445">y</a></span>))%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_limn_esupE">is_cvg_limn_esupE//</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#ereal_nondecreasing_is_cvgn">ereal_nondecreasing_is_cvgn</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndk_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">k_k</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin;</a></span> <span class="id">exact/lefP/ndk_</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:465" class="id"><span id="x:458" class="id"><span id="x:452" class="id"><a name="x:465" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:452">x]_y</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\sum_</a></span>(<span id="r:470" class="id"><span id="r:469" class="id"><span id="r:468" class="id"><span id="r:467" class="id"><span id="r:463" class="id"><span id="r:462" class="id"><span id="r:461" class="id"><span id="r:460" class="id"><span id="r:457" class="id"><span id="r:456" class="id"><span id="r:455" class="id"><span id="r:454" class="id"><a name="r:470" class="">r</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.classical.fsbigop.html#66bb639f4673920039e1c5f4f74ee386">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">k_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#r:454">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:454">r]</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:452">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:453">y</a></span>))%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:486" class="id"><span id="x:478" class="id"><span id="x:471" class="id"><a name="x:486" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\sum_</a></span>(<span id="r:491" class="id"><span id="r:490" class="id"><span id="r:489" class="id"><span id="r:487" class="id"><span id="r:483" class="id"><span id="r:482" class="id"><span id="r:481" class="id"><span id="r:479" class="id"><span id="r:476" class="id"><span id="r:475" class="id"><span id="r:474" class="id"><span id="r:472" class="id"><a name="r:491" class="">r</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.ereal.html#6d081607cbe896cec5e830da47315b77">\in</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">k_</span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:471">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#r:472">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:472">r]</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:471">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:473">y</a></span>))%<span class="id">:E</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-ge0_integral_fsum//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-fsumEFin</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">m</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_fun_fsum">emeasurable_fun_fsum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">r</span>.<br/>
<span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:498" class="id"><span id="x:495" class="id"><span id="x:493" class="id"><a name="x:498" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">r</span>%<span class="id">:E</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:493">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_</a></span>(<span class="id">k_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#x:493">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:494">y</a></span>))%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/EFin_measurable_fun/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="id">apply/measurable_funeM</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:504" class="id"><span id="x:502" class="id"><span id="x:500" class="id"><a name="x:504" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:505" class="id"><span id="x:503" class="id"><span id="x:501" class="id"><a name="x:505" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:501">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:501">x</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">exact/h</span>.<br/>
<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:508" class="id"><span id="x:507" class="id"><span id="x:506" class="id"><a name="x:508" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_xsection">measurable_xsection</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/xsection;</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">y/=</span> <span class="id">/[!inE]</span>.<br/>
<span class="id">congr</span> (<span class="id">l</span> <span class="id">x</span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">y1/=;</span> <span class="id">rewrite</span> <span class="id">/xsection/=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/propext;</span> <span class="id">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_finite_kernel" class="id"><a name="measurable_fun_integral_finite_kernel" class="">measurable_fun_integral_finite_kernel</a></span> (<span id="l:509" class="id"><a name="l:509" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k0:511" class="id"><a name="k0:511" class="">k0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:510" class="id"><a name="z:510" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:510">z</a></span>) (<span id="mk:512" class="id"><a name="mk:512" class="">mk</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:513" class="id"><a name="x:513" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:513">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:513">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:514">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="x:515" class="id"><a name="x:515" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:515">x</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">ndk_</span> (<span class="id">k_k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id">l</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_sfinite_kernel" class="id"><a name="measurable_fun_integral_sfinite_kernel" class="">measurable_fun_integral_sfinite_kernel</a></span> (<span id="l:516" class="id"><a name="l:516" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k0:518" class="id"><a name="k0:518" class="">k0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="t:517" class="id"><a name="t:517" class="">t,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:517">t</a></span>) (<span id="mk:519" class="id"><a name="mk:519" class="">mk</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:520" class="id"><a name="x:520" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:520">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:520">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:521">y</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="xy:522" class="id"><a name="xy:522" class="">xy</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#xy:522">xy</a></span>).<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">ndk_</span> (<span class="id">k_k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r</span>.<br/>
<span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id">l</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:527" class="id"><span id="x:525" class="id"><span id="x:523" class="id"><a name="x:527" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:528" class="id"><span id="x:526" class="id"><span id="x:524" class="id"><a name="x:528" class="">x</a></span></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id">l_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:524">x</a></span>) <span class="id">0</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id">k_</span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:524">x</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">hl_//;</span> <span class="id">exact/measurable_xsection</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_emeasurable_fun_sum">ge0_emeasurable_fun_sum</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">m</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_finite_kernel">measurable_fun_xsection_finite_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/[!inE]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_sfinite">measurable_fun_integral_finite_sfinite</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_kernel">measurable_fun_integral_finite_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_sfinite_kernel">measurable_fun_integral_sfinite_kernel</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">k</span> <span class="id">l</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kdirac" class="id"><a name="kdirac" class="">kdirac</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:529" class="id"><a name="d:529" class="">d</a></span> <span id="d':530" class="id"><a name="d':530" class="">d'</a></span> (<span id="X:531" class="id"><a name="X:531" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:529">d</a></span>) (<span id="Y:532" class="id"><a name="Y:532" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':530">d'</a></span>) (<span id="R:533" class="id"><a name="R:533" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kdirac.f" class="id"><a name="kdirac.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kdirac" class="id"><a name="kdirac" class="">kdirac</a></span> (<span id="mf:535" class="id"><a name="mf:535" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:536" class="id"><a name="x:536" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:536">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="kdirac.mf" class="id"><a name="kdirac.mf" class="">mf</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kdirac.measurable_fun_kdirac" class="id"><a name="kdirac.measurable_fun_kdirac" class="">measurable_fun_kdirac</a></span> <span id="U:538" class="id"><a name="U:538" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:538">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:538">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply/EFin_measurable_fun</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:541" class="id"><span id="x:540" class="id"><span id="x:539" class="id"><a name="x:541" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.R">R</a></span> <span class="id">mU</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.f">f</a></span>)<span class="id">//;</span> <span class="id">exact/measurableT_comp</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kdirac__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_59" class="id"><a name="kernel_kdirac__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.measurable_fun_kdirac">measurable_fun_kdirac</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kdirac.kdirac_prob" class="id"><a name="kdirac.kdirac_prob" class="">kdirac_prob</a></span> <span id="x:542" class="id"><a name="x:542" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:542">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kdirac/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#diracT">diracT</a></span>. Qed.</div>
<br/>
<span id="kernel_kdirac__canonical__kernel_ProbabilityKernel" class="id"><span id="HB_unnamed_mixin_69" class="id"><span id="kernel_kdirac__canonical__kernel_SubProbabilityKernel" class="id"><span id="HB_unnamed_mixin_68" class="id"><span id="kernel_kdirac__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_67" class="id"><span id="kernel_kdirac__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_66" class="id"><span id="kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SubProbability_isProbability" class="id"><span id="HB_unnamed_factory_61" class="id"><a name="kernel_kdirac__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.mf">mf</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac.kdirac_prob">kdirac_prob</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kdirac">kdirac</a></span> <span class="id">{d</span> <span class="id">d'</span> <span class="id">X</span> <span class="id">Y</span> <span class="id">R</span> <span class="id">f}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="dist_salgebra_instance" class="id"><a name="dist_salgebra_instance" class="">dist_salgebra_instance</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:543" class="id"><a name="d:543" class="">d</a></span> (<span id="T:544" class="id"><a name="T:544" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:543">d</a></span>) (<span id="R:545" class="id"><a name="R:545" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="dist_salgebra_instance.p0" class="id"><a name="dist_salgebra_instance.p0" class="">p0</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#dirac">dirac</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="prob_pointed" class="id"><a name="prob_pointed" class="">prob_pointed</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Class">Pointed.Class</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Class">Choice.Class</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_eqMixin">gen_eqMixin</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Class">Choice.Class</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_eqMixin">gen_eqMixin</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#gen_choiceMixin">gen_choiceMixin</a></span>)) <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.p0">p0</a></span>.<br/>
<br/>
<span class="vernacular">Canonical</span> <span id="probability_eqType" class="id"><a name="probability_eqType" class="">probability_eqType</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType">EqType</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#prob_pointed">prob_pointed</a></span>.<br/>
<span class="vernacular">Canonical</span> <span id="probability_choiceType" class="id"><a name="probability_choiceType" class="">probability_choiceType</a></span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType">ChoiceType</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#prob_pointed">prob_pointed</a></span>.<br/>
<span class="vernacular">Canonical</span> <span id="probability_ptType" class="id"><a name="probability_ptType" class="">probability_ptType</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.PointedType">PointedType</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#prob_pointed">prob_pointed</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mset" class="id"><a name="mset" class="">mset</a></span> (<span id="U:546" class="id"><a name="U:546" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:547" class="id"><a name="r:547" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="mu:548" class="id"><a name="mu:548" class="">mu</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mu:548">mu</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:546">U</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#::ereal_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:547">r</a></span>%<span class="id">:E]</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="lt0_mset" class="id"><a name="lt0_mset" class="">lt0_mset</a></span> (<span id="U:549" class="id"><a name="U:549" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:550" class="id"><a name="r:550" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#r:550">r</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id">0</span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:549">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:550">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/negP;</span> <span class="id">rewrite</span> <span class="id">-leNgt</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_trans">le_trans</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">0</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.ltW">ltW</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="gt1_mset" class="id"><a name="gt1_mset" class="">gt1_mset</a></span> (<span id="U:551" class="id"><a name="U:551" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span>) (<span id="r:552" class="id"><a name="r:552" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:551">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#Num.Syntax.::ring_scope:x_'&lt;'_x">&lt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:552">r</a></span>)%<span class="id">R</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:551">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:552">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">mU</span> <span class="id">r1;</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">x/=</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mset/=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#probability_le1">probability_le1</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="pset" class="id"><a name="pset" class="">pset</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.T">T</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance.R">R</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:554">U</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:553">r</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#6163cf1e40717c42afb9c2a42ba754ab">|</a></span> <span id="r:553" class="id"><a name="r:553" class="">r</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#0d46aeacdf83c1ab2ebf3404fa8daa4b">`[0</a></span>%<span class="id">R,1</span>%<span class="id">R]</span> &amp; <span id="U:554" class="id"><a name="U:554" class="">U</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="pprobability" class="id"><a name="pprobability" class="">pprobability</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset</a></span>.<span class="id">-sigma</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#salgebraType">salgebraType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#dist_salgebra_instance">dist_salgebra_instance</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kprobability" class="id"><a name="kprobability" class="">kprobability</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:555" class="id"><a name="d:555" class="">d</a></span> <span id="d':556" class="id"><a name="d':556" class="">d'</a></span> (<span id="X:557" class="id"><a name="X:557" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:555">d</a></span>) (<span id="Y:558" class="id"><a name="Y:558" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':556">d'</a></span>) (<span id="R:559" class="id"><a name="R:559" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kprobability.P" class="id"><a name="kprobability.P" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kprobability" class="id"><a name="kprobability" class="">kprobability</a></span> (<span id="mP:561" class="id"><a name="mP:561" class="">mP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>)<br/>
&nbsp;&nbsp;<span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R}</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>.<br/>
<br/>
<span class="vernacular">Hypothesis</span> <span id="kprobability.mP" class="id"><a name="kprobability.mP" class="">mP</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kprobability.measurable_fun_kprobability" class="id"><a name="kprobability.measurable_fun_kprobability" class="">measurable_fun_kprobability</a></span> <span id="U:563" class="id"><a name="U:563" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:563">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:563">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move=&gt;</span> <span class="id">mU</span>.<br/>
<span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.measurableE">ErealGenInftyO.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span>)) <span class="id">=&gt;</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">-[_</span> <span class="id">[r</span> <span class="id">-&gt;]</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_infty_o">preimage_itv_infty_o</a></span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.P">P</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id">U</span> <span class="id">r</span>).<br/>
<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#lt0_mset">lt0_mset//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span>.<br/>
<span class="id">have</span> <span class="id">[r1|r1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">r</span> <span class="id">1</span>%<span class="id">R;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#gt1_mset">gt1_mset//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span>.<br/>
<span class="id">move:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id">=&gt;</span> <span class="id">/</span>(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mset">mset</a></span> <span class="id">U</span> <span class="id">r</span>))<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI;</a></span> <span class="id">apply</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra;</a></span> <span class="gallina-kwd">exists</span> <span class="id">r</span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.interval.html#in_itv">in_itv/=</a></span> <span class="id">r0|exists</span> <span class="id">U]</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kprobability__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_70" class="id"><a name="kernel_kprobability__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.measurable_fun_kprobability">measurable_fun_kprobability</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kprobability.kprobability_prob" class="id"><a name="kprobability.kprobability_prob" class="">kprobability_prob</a></span> <span id="x:564" class="id"><a name="x:564" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:564">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kprobability/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#probability_setT">probability_setT</a></span>. Qed.</div>
<br/>
<span id="kernel_kprobability__canonical__kernel_ProbabilityKernel" class="id"><span id="HB_unnamed_mixin_84" class="id"><span id="kernel_kprobability__canonical__kernel_SubProbabilityKernel" class="id"><span id="HB_unnamed_mixin_83" class="id"><span id="kernel_kprobability__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_82" class="id"><span id="kernel_kprobability__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_81" class="id"><span id="kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef__80" class="id"><span id="kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability__78" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite__76" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SubProbability_isProbability__74" class="id"><span id="HB_unnamed_factory_72" class="id"><a name="kernel_kprobability__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.mP">mP</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability.kprobability_prob">kprobability_prob</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kprobability">kprobability</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kadd" class="id"><a name="kadd" class="">kadd</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:565" class="id"><a name="d:565" class="">d</a></span> <span id="d':566" class="id"><a name="d':566" class="">d'</a></span> (<span id="X:567" class="id"><a name="X:567" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:565">d</a></span>) (<span id="Y:568" class="id"><a name="Y:568" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':566">d'</a></span>) (<span id="R:569" class="id"><a name="R:569" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="kadd.k1" class="id"><a name="kadd.k1" class="">k1</a></span> <span id="kadd.k2" class="id"><a name="kadd.k2" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kadd" class="id"><a name="kadd" class="">kadd</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:572" class="id"><a name="x:572" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:572">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:572">x</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kadd.measurable_fun_kadd" class="id"><a name="kadd.measurable_fun_kadd" class="">measurable_fun_kadd</a></span> <span id="U:573" class="id"><a name="U:573" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:573">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:573">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/kadd</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:576" class="id"><span id="x:575" class="id"><span id="x:574" class="id"><a name="x:576" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:574">x</a></span> <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d4965da372b2485934ec33867ee5fbe7">+</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:574">x</a></span> <span class="id">U</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">-measure_addE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funD">emeasurable_funD;</a></span> <span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kadd__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_85" class="id"><a name="kernel_kadd__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd.measurable_fun_kadd">measurable_fun_kadd</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="sfkadd" class="id"><a name="sfkadd" class="">sfkadd</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:577" class="id"><a name="d:577" class="">d</a></span> <span id="d':578" class="id"><a name="d':578" class="">d'</a></span> (<span id="X:579" class="id"><a name="X:579" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:577">d</a></span>) (<span id="Y:580" class="id"><a name="Y:580" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':578">d'</a></span>) (<span id="R:581" class="id"><a name="R:581" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="sfkadd.k1" class="id"><a name="sfkadd.k1" class="">k1</a></span> <span id="sfkadd.k2" class="id"><a name="sfkadd.k2" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="sfkadd.sfinite_kadd" class="id"><a name="sfkadd.sfinite_kadd" class="">sfinite_kadd</a></span> <span class="id">:</span> <span class="gallina-kwd">exists2</span> <span id="k_:586" class="id"><span id="k_:584" class="id"><a name="k_:586" class="">k_</a></span></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="n:585" class="id"><a name="n:585" class="">n,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:584">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:585">n</a></span>) &amp;<br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:587" class="id"><a name="x:587" class="">x</a></span> <span id="U:588" class="id"><a name="U:588" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:588">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:587">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:588">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#mseries">mseries</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:586">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:587">x</a></span>) <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:588">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">have</span> <span class="id">[f1</span> <span class="id">hk1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1;</a></span> <span class="id">have</span> <span class="id">[f2</span> <span class="id">hk2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="n:590" class="id"><span id="n:589" class="id"><a name="n:590" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> (<span class="id">f1</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:589">n</a></span>) (<span class="id">f2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:589">n</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>).<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r1</span> <span class="id">f1r1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">f1</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r2</span> <span class="id">f2r2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> (<span class="id">f2</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">r1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">r2</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">x/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/msum</span> <span class="id">!big_ord_recr/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.bigop.html#big_ord0">big_ord0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="id">rewrite</span> <span class="id">/kadd/=</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span> <span class="id">x</span>)) <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id">hk1//=</span> <span class="id">hk2//=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mseries</span> <span class="id">-nneseriesD//;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id">f1</span> <span class="id">n</span> <span class="id">x</span>) (<span class="id">f2</span> <span class="id">n</span> <span class="id">x</span>)) <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kadd__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_factory_88" class="id"><span id="sfkadd.hb_instance_87.t" class="id"><span id="sfkadd.hb_instance_87.hb_instance_87" class="id"><a name="kernel_kadd__canonical__kernel_SFiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="t:591" class="id"><a name="t:591" class="">t</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isSFinite_subdef.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.k2">k2</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd.sfinite_kadd">sfinite_kadd</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfkadd">sfkadd</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fkadd" class="id"><a name="fkadd" class="">fkadd</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:592" class="id"><a name="d:592" class="">d</a></span> <span id="d':593" class="id"><a name="d':593" class="">d'</a></span> (<span id="X:594" class="id"><a name="X:594" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:592">d</a></span>) (<span id="Y:595" class="id"><a name="Y:595" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':593">d'</a></span>) (<span id="R:596" class="id"><a name="R:596" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> <span id="fkadd.k1" class="id"><a name="fkadd.k1" class="">k1</a></span> <span id="fkadd.k2" class="id"><a name="fkadd.k2" class="">k2</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="fkadd.kadd_finite_uub" class="id"><a name="fkadd.kadd_finite_uub" class="">kadd_finite_uub</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">have</span> <span class="id">[f1</span> <span class="id">hk1]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1;</a></span> <span class="id">have</span> <span class="id">[f2</span> <span class="id">hk2]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id">f1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#c7f78cf1f6a5e4f664654f7d671ca752">+</a></span> <span class="id">f2</span>)%<span class="id">R</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/kadd</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="mathcomp.analysis.measure.html#measure_add">measure_add</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span> <span class="id">x</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_addE">measure_addE</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kadd__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_96" class="id"><span id="kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef__95" class="id"><span id="kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite__93" class="id"><span id="HB_unnamed_factory_91" class="id"><span id="fkadd.hb_instance_90.t" class="id"><span id="fkadd.hb_instance_90.hb_instance_90" class="id"><a name="kernel_kadd__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="t:599" class="id"><a name="t:599" class="">t</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kadd">kadd</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k1">k1</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.k2">k2</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd.kadd_finite_uub">kadd_finite_uub</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#fkadd">fkadd</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_mnormalize" class="id"><a name="measurable_fun_mnormalize" class="">measurable_fun_mnormalize</a></span> <span id="d:600" class="id"><a name="d:600" class="">d</a></span> <span id="d':601" class="id"><a name="d':601" class="">d'</a></span> (<span id="X:602" class="id"><a name="X:602" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:600">d</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="Y:603" class="id"><a name="Y:603" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':601">d'</a></span>) (<span id="R:604" class="id"><a name="R:604" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="k:605" class="id"><a name="k:605" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:604">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:602">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:603">Y</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:602">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:606" class="id"><a name="x:606" class="">x</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mnormalize">mnormalize</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k:605">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:606">x</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:603">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:604">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;(@<span class="id"><a href="mathcomp.analysis.kernel.html#pset">pset</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#pprobability">pprobability</a></span> <span class="id">Y</span> <span class="id">R</span>)))) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">move=&gt;</span> <span class="id">_</span> <span class="id">-[_</span> <span class="id">[r</span> <span class="id">r01]</span> <span class="id">[Ys</span> <span class="id">mYs</span> <span class="id">&lt;-]]</span> <span class="id">&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mnormalize</span> <span class="id">/mset</span> <span class="id">/preimage/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_infty_o">emeasurable_fun_infty_o</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mnormalize/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:611" class="id"><span id="x:609" class="id"><span id="x:607" class="id"><a name="x:611" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:612" class="id"><span id="x:610" class="id"><span id="x:608" class="id"><a name="x:612" class="">x</a></span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:608">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span>) <span class="id">||</span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:608">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.measure.html#beb404b4c6e52afbdfec2979598a2318">\d_point</a></span> <span class="id">Ys</span> <span class="gallina-kwd">else</span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:608">x</a></span> <span class="id">Ys</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:608">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">^-1</span>)%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_bool">measurable_fun_bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> @<span class="id">^-1`</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:617" class="id"><span id="t:615" class="id"><span id="t:613" class="id"><a name="t:617" class="">t</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:613">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0]</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#f0f4f4a06533e5eeff19ee265a896441">`|`</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:618" class="id"><span id="t:616" class="id"><span id="t:614" class="id"><a name="t:618" class="">t</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:614">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo]</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">/orP//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_eq_cst">kernel_measurable_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">apply/emeasurable_funM;</span> <span class="id">first</span> <span class="id">exact/measurable_funTS/measurable_kernel</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.measure.html#measurable_comp">measurable_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="r:620" class="id"><span id="r:619" class="id"><a name="r:620" class="">r</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id">R</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:619">r</a></span> <span class="id">!=</span> <span class="id">0</span>%<span class="id">R]</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">_</span> <span class="id">[x</span> <span class="id">/norP[s0</span> <span class="id">soo]]</span> <span class="id">&lt;-;</span> <span class="id">rewrite</span> <span class="id">-eqe</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">?ge0_fin_numE</span> <span class="id">?ltey</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/in_setP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inv_continuous">inv_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measurable_funS/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="knormalize" class="id"><a name="knormalize" class="">knormalize</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:621" class="id"><a name="d:621" class="">d</a></span> <span id="d':622" class="id"><a name="d':622" class="">d'</a></span> (<span id="X:623" class="id"><a name="X:623" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:621">d</a></span>) (<span id="Y:624" class="id"><a name="Y:624" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':622">d'</a></span>) (<span id="R:625" class="id"><a name="R:625" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="knormalize.f" class="id"><a name="knormalize.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="knormalize" class="id"><a name="knormalize" class="">knormalize</a></span> (<span id="P:627" class="id"><a name="P:627" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>) <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="x:628" class="id"><a name="x:628" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.measure.html#mnormalize">mnormalize</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:628">x</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#P:627">P]</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="knormalize.P" class="id"><a name="knormalize.P" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Probability.Exports.probability">probability</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="knormalize.measurable_fun_knormalize" class="id"><a name="knormalize.measurable_fun_knormalize" class="">measurable_fun_knormalize</a></span> <span id="U:630" class="id"><a name="U:630" class="">U</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:630">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:630">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">rewrite</span> <span class="id">/knormalize/=</span> <span class="id">/mnormalize</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="x:633" class="id"><span id="x:632" class="id"><span id="x:631" class="id"><a name="x:633" class="">x</a></span></span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:631">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id">U</span> <span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:631">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#d5becfdd26043e7de5a21e6270f35a00">+oo</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:631">x</a></span> <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:631">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">^-1</span>%<span class="id">:E</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/orP[-&gt;//|-&gt;]|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or=&gt;</a></span> <span class="id">/andP[/negbTE</span> <span class="id">-&gt;</span> <span class="id">/negbTE</span> <span class="id">-&gt;]</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">[exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_fun_eq_cst">kernel_measurable_fun_eq_cst|]</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">[set</a></span> <span id="t:637" class="id"><span id="t:635" class="id"><span id="t:634" class="id"><a name="t:637" class="">t</a></span></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#075f2dd209aa707f1415a58a026b96d9">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#t:634">t</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">!=</span> <span class="id">0]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_neq_cst">kernel_measurable_neq_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">[x</span> <span class="id">/negbT//|x</span> <span class="id">/negbTE]</span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kernel_measurable_fun_eq_cst">kernel_measurable_fun_eq_cst</a></span>.<br/>
<span class="id">-</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#emeasurable_funM">emeasurable_funM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (@<span class="id"><a href="mathcomp.analysis.measure.html#measurable_comp">measurable_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">[set</a></span> <span id="r:639" class="id"><span id="r:638" class="id"><a name="r:639" class="">r</a></span></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#b4e6034ee20673e7601398ff7b1b7d1b">|</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:638">r</a></span> <span class="id">!=</span> <span class="id">0</span>%<span class="id">R]</span>) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">/=</span> <span class="id">r</span> <span class="id">[t]</span> <span class="id">[]</span> <span class="id">[_</span> <span class="id">ft0]</span> <span class="id">ftoo</span> <span class="id">ftr;</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">r0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">ftr</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">r0</span> <span class="id">=&gt;</span> <span class="id">/eqP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_eq0">fine_eq0</a></span> <span class="id">?ft0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.lt_neqAle">lt_neqAle</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span> <span class="id">ftoo</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">apply/in_setP</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inv_continuous">inv_continuous</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.f">f</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span>.<br/>
Qed.</div>
<br/>
<span id="kernel_knormalize__canonical__kernel_Kernel" class="id"><span id="HB_unnamed_factory_97" class="id"><a name="kernel_knormalize__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.measurable_fun_knormalize">measurable_fun_knormalize</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="knormalize.knormalize1" class="id"><a name="knormalize.knormalize1" class="">knormalize1</a></span> <span id="x:640" class="id"><a name="x:640" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:640">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.Y">Y]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/knormalize/=</span> <span class="id"><a href="mathcomp.analysis.measure.html#probability_setT">probability_setT</a></span>. Qed.</div>
<br/>
<span id="kernel_knormalize__canonical__kernel_ProbabilityKernel" class="id"><span id="HB_unnamed_mixin_111" class="id"><span id="kernel_knormalize__canonical__kernel_SubProbabilityKernel" class="id"><span id="HB_unnamed_mixin_110" class="id"><span id="kernel_knormalize__canonical__kernel_FiniteKernel" class="id"><span id="HB_unnamed_mixin_109" class="id"><span id="kernel_knormalize__canonical__kernel_SFiniteKernel" class="id"><span id="HB_unnamed_mixin_108" class="id"><span id="kernel_Kernel_isProbability__to__kernel_Kernel_isSFinite_subdef__107" class="id"><span id="kernel_Kernel_isProbability__to__kernel_FiniteKernel_isSubProbability__105" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SFiniteKernel_isFinite__103" class="id"><span id="kernel_Kernel_isProbability__to__kernel_SubProbability_isProbability__101" class="id"><span id="HB_unnamed_factory_99" class="id"><a name="kernel_knormalize__canonical__kernel_ProbabilityKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.kernel.html#Build">Kernel_isProbability.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.P">P</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize.knormalize1">knormalize1</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#knormalize">knormalize</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_def" class="id"><a name="kcomp_def" class="">kcomp_def</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:641" class="id"><a name="d1:641" class="">d1</a></span> <span id="d2:642" class="id"><a name="d2:642" class="">d2</a></span> <span id="d3:643" class="id"><a name="d3:643" class="">d3</a></span> (<span id="X:644" class="id"><a name="X:644" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d1:641">d1</a></span>) (<span id="Y:645" class="id"><a name="Y:645" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:642">d2</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:646" class="id"><a name="Z:646" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:643">d3</a></span>) (<span id="R:647" class="id"><a name="R:647" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_def.l" class="id"><a name="kcomp_def.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.R">R}</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_def.k" class="id"><a name="kcomp_def.k" class="">k</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Y">Y</a></span>)%<span class="id">type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.R">R}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="kcomp" class="id"><a name="kcomp" class="">kcomp</a></span> <span id="x:650" class="id"><a name="x:650" class="">x</a></span> <span id="U:651" class="id"><a name="U:651" class="">U</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:650">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def.k">k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:650">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:652">y</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#U:651">U</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_def">kcomp_def</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_is_measure" class="id"><a name="kcomp_is_measure" class="">kcomp_is_measure</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d1:653" class="id"><a name="d1:653" class="">d1</a></span> <span id="d2:654" class="id"><a name="d2:654" class="">d2</a></span> <span id="d3:655" class="id"><a name="d3:655" class="">d3</a></span> (<span id="X:656" class="id"><a name="X:656" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d1:653">d1</a></span>) (<span id="Y:657" class="id"><a name="Y:657" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:654">d2</a></span>)<br/>
&nbsp;(<span id="Z:658" class="id"><a name="Z:658" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:655">d3</a></span>) (<span id="R:659" class="id"><a name="R:659" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_is_measure.l" class="id"><a name="kcomp_is_measure.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_is_measure.k" class="id"><a name="kcomp_is_measure.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp0" class="id"><a name="kcomp_is_measure.kcomp0" class="">kcomp0</a></span> <span id="x:662" class="id"><a name="x:662" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:662">x</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/kcomp</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">0</span>)) <span class="id">?integral0//</span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp_ge0" class="id"><a name="kcomp_is_measure.kcomp_ge0" class="">kcomp_ge0</a></span> <span id="x:663" class="id"><a name="x:663" class="">x</a></span> <span id="U:664" class="id"><a name="U:664" class="">U</a></span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:663">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:664">U</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="kcomp_is_measure.kcomp_sigma_additive" class="id"><a name="kcomp_is_measure.kcomp_sigma_additive" class="">kcomp_sigma_additive</a></span> <span id="x:665" class="id"><a name="x:665" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:665">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU</span> <span class="id">tU</span> <span class="id">mUU;</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X]</a></span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="n:687" class="id"><span id="n:686" class="id"><span id="n:685" class="id"><span id="n:684" class="id"><span id="n:683" class="id"><span id="n:682" class="id"><span id="n:679" class="id"><span id="n:678" class="id"><span id="n:677" class="id"><span id="n:676" class="id"><span id="n:675" class="id"><span id="n:674" class="id"><span id="n:672" class="id"><span id="n:671" class="id"><span id="n:670" class="id"><span id="n:669" class="id"><span id="n:668" class="id"><span id="n:667" class="id"><a name="n:687" class="">n</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:666">y</a></span>) (<span class="id">U</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:667">n</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">V</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact/measure_semi_sigma_additive</span>.<br/>
<span class="id">apply/cvg_closeP;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_nneseries">is_cvg_nneseries</a></span> <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closeE">closeE//</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//</a></span> <span class="id">=&gt;</span> <span class="id">n</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id">_</span> (<span class="id">mU</span> <span class="id">n</span>)) <span class="id">_</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_kcomp__canonical__measure_Measure" class="id"><span id="HB_unnamed_mixin_117" class="id"><span id="kernel_kcomp__canonical__measure_Content" class="id"><span id="HB_unnamed_mixin_116" class="id"><span id="measure_isMeasure__to__measure_isContent" class="id"><span id="measure_isMeasure__to__measure_Content_isMeasure" class="id"><span id="HB_unnamed_factory_113" class="id"><span id="kcomp_is_measure.hb_instance_112.x" class="id"><span id="kcomp_is_measure.hb_instance_112.hb_instance_112" class="id"><a name="kernel_kcomp__canonical__measure_Measure" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="x:688" class="id"><a name="x:688" class="">x</a></span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:688">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp0">kcomp0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:688">x</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp_ge0">kcomp_ge0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:688">x</a></span>) (@<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.kcomp_sigma_additive">kcomp_sigma_additive</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:688">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mkcomp" class="id"><a name="mkcomp" class="">mkcomp</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.R">R}</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="x:689" class="id"><a name="x:689" class="">x</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp">kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:689">x]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_is_measure">kcomp_is_measure</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="66c7375a6c32319fd0ed81255931693f" class="id"><a name="66c7375a6c32319fd0ed81255931693f" class="">&quot;l \; k&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp">mkcomp</a></span> <span class="id">l</span> <span class="id">k</span>) <span class="id">:</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="KCOMP_FINITE_KERNEL" class="id"><a name="KCOMP_FINITE_KERNEL" class="">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel" class="">kcomp_finite_kernel_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:690" class="id"><a name="d:690" class="">d</a></span> <span id="d':691" class="id"><a name="d':691" class="">d'</a></span> <span id="d3:692" class="id"><a name="d3:692" class="">d3</a></span> (<span id="X:693" class="id"><a name="X:693" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:690">d</a></span>) (<span id="Y:694" class="id"><a name="Y:694" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':691">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:695" class="id"><a name="Z:695" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:692">d3</a></span>) (<span id="R:696" class="id"><a name="R:696" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span id="l:697" class="id"><a name="l:697" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:696">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:693">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:694">Y</a></span>)<br/>
&nbsp;&nbsp;(<span id="k:698" class="id"><a name="k:698" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:696">R</a></span>.<span class="id">-ker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:693">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:694">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Z:695">Z</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite" class="id"><a name="KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite" class="">measurable_fun_kcomp_finite</a></span> <span id="U:699" class="id"><a name="U:699" class="">U</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:699">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.X">X]</a></span> ((<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span>) <span class="id">^~</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:699">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_finite_kernel">measurable_fun_integral_finite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">U</span>)) <span class="id">=&gt;</span> <span class="id">//=</span>.<br/>
<span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span id="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_factory_118" class="id"><a name="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel.Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.measurable_fun_kcomp_finite">measurable_fun_kcomp_finite</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_kernel">kcomp_finite_kernel_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite" class="">kcomp_finite_kernel_finite</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:700" class="id"><a name="d:700" class="">d</a></span> <span id="d':701" class="id"><a name="d':701" class="">d'</a></span> <span id="d3:702" class="id"><a name="d3:702" class="">d3</a></span> (<span id="X:703" class="id"><a name="X:703" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:700">d</a></span>) (<span id="Y:704" class="id"><a name="Y:704" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':701">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:705" class="id"><a name="Z:705" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:702">d3</a></span>) (<span id="R:706" class="id"><a name="R:706" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite" class="id"><a name="KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite" class="">mkcomp_finite</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_fam_uub">measure_fam_uub</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp">mkcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">have</span> <span class="id">/measure_fam_uubP[r</span> <span class="id">hr]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>.<br/>
<span class="id">have</span> <span class="id">/measure_fam_uubP[s</span> <span class="id">hs]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measure_uub">measure_uub</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span>.<br/>
<span class="id">apply/measure_fam_uubP;</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id"><a href="mathcomp.analysis.signed.html#abaaa7ace396c67daec735802349f5d9">[gt0</a></span> <span class="id">of</span> (<span class="id">r</span>%<span class="id">:num</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssralg.html#2d0cfb150261028f4ebd2ba355623dcc">*</a></span> <span class="id">s</span>%<span class="id">:num</span>)%<span class="id">R]</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> (@<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.POrderTheory.le_lt_trans">le_lt_trans</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]__</span> <span class="id">r</span>%<span class="id">:num</span>%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">exact/ltW/hr</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_cst">integral_cst//=</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_pmul2l">lte_pmul2l</a></span>.<br/>
Qed.</div>
<br/>
<span id="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_FiniteKernel" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_mixin_124" class="id"><span id="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_SFiniteKernel" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_mixin_123" class="id"><span id="KCOMP_FINITE_KERNEL.kernel_Kernel_isFinite__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="KCOMP_FINITE_KERNEL.kernel_Kernel_isFinite__to__kernel_SFiniteKernel_isFinite" class="id"><span id="KCOMP_FINITE_KERNEL.HB_unnamed_factory_120" class="id"><a name="KCOMP_FINITE_KERNEL.kernel_mkcomp__canonical__kernel_FiniteKernel" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isFinite.Build">Kernel_isFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite.mkcomp_finite">mkcomp_finite</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL.kcomp_finite_kernel_finite">kcomp_finite_kernel_finite</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="kcomp_sfinite_kernel" class="id"><a name="kcomp_sfinite_kernel" class="">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:709" class="id"><a name="d:709" class="">d</a></span> <span id="d':710" class="id"><a name="d':710" class="">d'</a></span> <span id="d3:711" class="id"><a name="d3:711" class="">d3</a></span> (<span id="X:712" class="id"><a name="X:712" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:709">d</a></span>) (<span id="Y:713" class="id"><a name="Y:713" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':710">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:714" class="id"><a name="Z:714" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:711">d3</a></span>) (<span id="R:715" class="id"><a name="R:715" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="kcomp_sfinite_kernel.l" class="id"><a name="kcomp_sfinite_kernel.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="kcomp_sfinite_kernel.k" class="id"><a name="kcomp_sfinite_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>.<br/>
<br/>
<span class="vernacular">Import</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_FINITE_KERNEL">KCOMP_FINITE_KERNEL</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="mkcomp_sfinite" class="id"><a name="mkcomp_sfinite" class="">mkcomp_sfinite</a></span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="k_:718" class="id"><a name="k_:718" class="">k_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>)<span class="id">^nat,</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="x:719" class="id"><a name="x:719" class="">x</a></span> <span id="U:720" class="id"><a name="U:720" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:720">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:719">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:720">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k_:718">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:719">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:720">U</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">hk_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k;</a></span> <span class="id">have</span> <span class="id">[l_</span> <span class="id">hl_]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#sfinite_kernel">sfinite_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span>.<br/>
<span class="id">have</span> <span class="id">[kl</span> <span class="id">hkl]</span> <span class="id">:</span> <span class="gallina-kwd">exists</span> <span id="kl:721" class="id"><a name="kl:721" class="">kl</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-fker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.Z">Z</a></span>) <span class="id">^nat,</span> <span class="gallina-kwd">forall</span> <span id="x:722" class="id"><a name="x:722" class="">x</a></span> <span id="U:723" class="id"><a name="U:723" class="">U,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.esum.html#bfafafade7d3e202dbbc3dbf50606eb1">\esum_</a></span>(<span id="i:724" class="id"><a name="i:724" class="">i</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:724">i</a></span>.<span class="id">2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:724">i</a></span>.<span class="id">1</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:722">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:723">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:730" class="id"><span id="i:729" class="id"><span id="i:728" class="id"><span id="i:727" class="id"><span id="i:726" class="id"><span id="i:725" class="id"><a name="i:730" class="">i</a></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.kernel.html#kl:721">kl</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:725">i</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:722">x</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:723">U</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">/ppcard_eqP[f]</span> <span class="id">:</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html#75c3eadbb3fd356da27f1f2e697bb40b">#=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>)%<span class="id">card</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_eq_sym">card_eq_sym;</a></span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#card_nat2">card_nat2</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="gallina-kwd">fun</span> <span id="i:732" class="id"><span id="i:731" class="id"><a name="i:732" class="">i</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-fker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#a630ad86ffa8dd82d98f88052283a61f">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id">l_</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:731">i</a></span>).<span class="id">2</span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> (<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:731">i</a></span>).<span class="id">1]</span>) <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.esum.html#reindex_esum">reindex_esum</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span> <span class="id">_</span> <span class="id">f</span>)<span class="id">//</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>.<br/>
<span class="gallina-kwd">exists</span> <span class="id">kl</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">U</span> <span class="id">mU</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id">l_]</span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span>.<span class="id">-ker</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#c4a502042c2f67c701729be5ec5cf362">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kseries">kseries</a></span> <span class="id">k_]</span>) <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/kcomp</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_measure_integral">eq_measure_integral</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id">x</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">rewrite</span> <span class="id">hl_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">hk_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/kcomp/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_nneseries">integral_nneseries//=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> (<span class="id">k_</span> <span class="id">n</span>) <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="i:762" class="id"><span id="i:761" class="id"><span id="i:760" class="id"><span id="i:753" class="id"><span id="i:752" class="id"><span id="i:751" class="id"><span id="i:744" class="id"><span id="i:743" class="id"><span id="i:742" class="id"><span id="i:735" class="id"><span id="i:734" class="id"><span id="i:733" class="id"><a name="i:762" class="">i</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">\sum_</a></span>(<span id="j:768" class="id"><span id="j:767" class="id"><span id="j:766" class="id"><span id="j:765" class="id"><span id="j:764" class="id"><span id="j:763" class="id"><span id="j:759" class="id"><span id="j:758" class="id"><span id="j:757" class="id"><span id="j:756" class="id"><span id="j:755" class="id"><span id="j:754" class="id"><span id="j:750" class="id"><span id="j:749" class="id"><span id="j:748" class="id"><span id="j:747" class="id"><span id="j:746" class="id"><span id="j:745" class="id"><span id="j:741" class="id"><span id="j:740" class="id"><span id="j:739" class="id"><span id="j:738" class="id"><span id="j:737" class="id"><span id="j:736" class="id"><a name="j:768" class="">j</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="id"><a href="mathcomp.analysis.sequences.html#acaaf5f54a6a8a222320424b6e0ccad5">&lt;oo</a></span>) (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:736">j</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:733">i</a></span>) <span class="id">x</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">=&gt;</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kseries">integral_kseries//</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> (<span class="id">k_</span> <span class="id">i</span>) <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id">/mseries</span> <span class="id">-hkl/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#8f8ce0ffd4fcb1cabbac77bb467a750e">`*``</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>))<span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(@<span class="id"><a href="mathcomp.analysis.esum.html#esum_esum">esum_esum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="i:773" class="id"><span id="i:771" class="id"><span id="i:769" class="id"><a name="i:773" class="">i</a></span></span></span> <span id="j:774" class="id"><span id="j:772" class="id"><span id="j:770" class="id"><a name="j:774" class="">j</a></span></span></span> <span class="id">=&gt;</span> (<span class="id">l_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#j:770">j</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id">k_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#i:769">i</a></span>) <span class="id">x</span> <span class="id">U</span>))<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">_;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true;</a></span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">i</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_mkcomp_sfinite" class="id"><a name="measurable_fun_mkcomp_sfinite" class="">measurable_fun_mkcomp_sfinite</a></span> <span id="U:775" class="id"><a name="U:775" class="">U</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:775">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.X">X]</a></span> ((<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span>) <span class="id">^~</span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:775">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move=&gt;</span> <span class="id">mU;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_sfinite_kernel">measurable_fun_integral_sfinite_kernel</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id">U</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">exact/measurable_kernel</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#kcomp_sfinite_kernel">kcomp_sfinite_kernel</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="KCOMP_SFINITE_KERNEL" class="id"><a name="KCOMP_SFINITE_KERNEL" class="">KCOMP_SFINITE_KERNEL</a></span>.<br/>
<span class="vernacular">Section</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel" class="id"><a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel" class="">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:776" class="id"><a name="d:776" class="">d</a></span> <span id="d':777" class="id"><a name="d':777" class="">d'</a></span> <span id="d3:778" class="id"><a name="d3:778" class="">d3</a></span> (<span id="X:779" class="id"><a name="X:779" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:776">d</a></span>) (<span id="Y:780" class="id"><a name="Y:780" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':777">d'</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:781" class="id"><a name="Z:781" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:778">d3</a></span>) (<span id="R:782" class="id"><a name="R:782" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l" class="id"><a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Y">Y</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k" class="id"><a name="KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span>.<br/>
<br/>
<span id="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="id"><span id="KCOMP_SFINITE_KERNEL.HB_unnamed_factory_125" class="id"><a name="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_Kernel" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#isKernel.Build">isKernel.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_mkcomp_sfinite">measurable_fun_mkcomp_sfinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>).<br/>
<br/>
<span id="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_SFiniteKernel" class="id"><span id="KCOMP_SFINITE_KERNEL.HB_unnamed_mixin_129" class="id"><span id="KCOMP_SFINITE_KERNEL.kernel_Kernel_isSFinite__to__kernel_Kernel_isSFinite_subdef" class="id"><span id="KCOMP_SFINITE_KERNEL.HB_unnamed_factory_127" class="id"><a name="KCOMP_SFINITE_KERNEL.kernel_mkcomp__canonical__kernel_SFiniteKernel" class="">#[export]</a></span></span></span></span><br/>
<span class="id">HB.instance</span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.kernel.html#Kernel_isSFinite.Build">Kernel_isSFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#66c7375a6c32319fd0ed81255931693f">\;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>) (<span class="id"><a href="mathcomp.analysis.kernel.html#mkcomp_sfinite">mkcomp_sfinite</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel.k">k</a></span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL.kcomp_sfinite_kernel">kcomp_sfinite_kernel</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#KCOMP_SFINITE_KERNEL">KCOMP_SFINITE_KERNEL</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">KCOMP_SFINITE_KERNEL</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="measurable_fun_preimage_integral" class="id"><a name="measurable_fun_preimage_integral" class="">measurable_fun_preimage_integral</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:785" class="id"><a name="d:785" class="">d</a></span> <span id="d':786" class="id"><a name="d':786" class="">d'</a></span> (<span id="X:787" class="id"><a name="X:787" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:785">d</a></span>) (<span id="Y:788" class="id"><a name="Y:788" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':786">d'</a></span>) (<span id="R:789" class="id"><a name="R:789" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="measurable_fun_preimage_integral.k" class="id"><a name="measurable_fun_preimage_integral.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.k_" class="id"><a name="measurable_fun_preimage_integral.k_" class="">k_</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R}</a></span>) <span class="id">^nat</span>)<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.ndk_" class="id"><a name="measurable_fun_preimage_integral.ndk_" class="">ndk_</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.sequences.html#:::'nondecreasing_seq'_x">nondecreasing_seq</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:791">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<span class="id">^nat</span>))<br/>
&nbsp;&nbsp;(<span id="measurable_fun_preimage_integral.k_k" class="id"><a name="measurable_fun_preimage_integral.k_k" class="">k_k</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:793" class="id"><a name="z:793" class="">z,</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:793">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#k_:791">k_</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:793">z</a></span>) <span class="id"><a href="mathcomp.analysis.topology.html#::classical_set_scope:x_'--&gt;'_x">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:790">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:793">z</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.k_2" class="id"><a name="measurable_fun_preimage_integral.k_2" class="">k_2</a></span> <span class="id">:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R</a></span>)<span class="id">^nat</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="n:795" class="id"><a name="n:795" class="">n</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:795">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.k_2_ge0" class="id"><a name="measurable_fun_preimage_integral.k_2_ge0" class="">k_2_ge0</a></span> <span id="n:796" class="id"><a name="n:796" class="">n</a></span> <span id="x:797" class="id"><a name="x:797" class="">x</a></span> <span class="id">:</span> (<span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.algebra.ssrnum.html#cb42ec59ad57b25928e1718b4e69e031">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:796">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:797">x</a></span>)%<span class="id">R</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="kernel_k_2__canonical__numfun_NonNegFun" class="id"><span id="HB_unnamed_factory_131" class="id"><span id="measurable_fun_preimage_integral.hb_instance_130.n" class="id"><span id="measurable_fun_preimage_integral.hb_instance_130.hb_instance_130" class="id"><a name="kernel_k_2__canonical__numfun_NonNegFun" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:798" class="id"><a name="n:798" class="">n</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun.Build">isNonNegFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2_ge0">k_2_ge0</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:798">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.mk_2" class="id"><a name="measurable_fun_preimage_integral.mk_2" class="">mk_2</a></span> <span id="n:799" class="id"><a name="n:799" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:799">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_snd">measurable_snd</a></span>. Qed.</div>
<br/>
<span id="kernel_k_2__canonical__lebesgue_integral_MeasurableFun" class="id"><span id="HB_unnamed_factory_134" class="id"><span id="measurable_fun_preimage_integral.hb_instance_133.n" class="id"><span id="measurable_fun_preimage_integral.hb_instance_133.hb_instance_133" class="id"><a name="kernel_k_2__canonical__lebesgue_integral_MeasurableFun" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:800" class="id"><a name="n:800" class="">n</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#isMeasurableFun.Build">isMeasurableFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.mk_2">mk_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:800">n</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="measurable_fun_preimage_integral.fk_2" class="id"><a name="measurable_fun_preimage_integral.fk_2" class="">fk_2</a></span> <span id="n:801" class="id"><a name="n:801" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:801">n</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfunP">fimfunP</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>).<br/>
<span class="id">suff</span> <span class="id">:</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id">n</span>) <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">&lt;-</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">[y</span> <span class="id">?]</span> <span class="id">&lt;-;</span> <span class="id">[exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#point">point,</a></span> <span class="id">y</span>)<span class="id">|exists</span> <span class="id">y</span>.<span class="id">2]</span>.<br/>
Qed.</div>
<br/>
<span id="kernel_k_2__canonical__lebesgue_integral_NonNegSimpleFun" class="id"><span id="kernel_k_2__canonical__lebesgue_integral_SimpleFun" class="id"><span id="kernel_k_2__canonical__cardinality_FImFun" class="id"><span id="HB_unnamed_factory_137" class="id"><span id="measurable_fun_preimage_integral.hb_instance_136.n" class="id"><span id="measurable_fun_preimage_integral.hb_instance_136.hb_instance_136" class="id"><a name="kernel_k_2__canonical__lebesgue_integral_NonNegSimpleFun" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span id="n:802" class="id"><a name="n:802" class="">n</a></span> <span class="id">:=</span> @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage.Build">FiniteImage.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.fk_2">fk_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:802">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_preimage_integral" class="id"><a name="measurable_fun_preimage_integral" class="">measurable_fun_preimage_integral</a></span> (<span id="l:803" class="id"><a name="l:803" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.Y">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="n:804" class="id"><a name="n:804" class="">n</a></span> <span id="r:805" class="id"><a name="r:805" class="">r,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#l:803">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:804">n</a></span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:805">r]</a></span>))) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.X">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:806" class="id"><a name="x:806" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:806">x]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:807">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_xsection_integral">measurable_fun_xsection_integral</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span>) <span class="id">l</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:809" class="id"><span id="n:808" class="id"><a name="n:809" class="">n</a></span></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id">_}</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:808">n]</a></span>)) <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/k_2</span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">n</span> <span class="id">mn;</span> <span class="id">apply/lefP</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">y]</span> <span class="id">/=;</span> <span class="id">exact/lefP/ndk_</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[x</span> <span class="id">y];</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_k">k_k</a></span>.<br/>
<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">r</span> <span class="id">_</span> <span class="id">/=</span> <span class="id">B</span> <span class="id">mB</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id">h</span> <span class="id">n</span> <span class="id">r</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">B</span> <span class="id">mB;</span> <span class="id">rewrite</span> <span class="id">!setTI</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">:</span> (<span class="id">l</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>)) @<span class="id">^-1`</span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:810" class="id"><a name="x:810" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">l</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:810">x</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_2">k_2</a></span> <span class="id">n</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id"><a href="mathcomp.analysis.kernel.html#x:810">x</a></span>)) @<span class="id">^-1`</span> <span class="id">B</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">-&gt;</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/seteqP;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">x/=;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#comp_preimage">comp_preimage</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral.k_">k_</a></span> <span class="id">n</span>)) <span class="id"><a href="mathcomp.classical.classical_sets.html#xsection_preimage_snd">xsection_preimage_snd</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral">measurable_fun_preimage_integral</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="measurable_fun_integral_kernel" class="id"><a name="measurable_fun_integral_kernel" class="">measurable_fun_integral_kernel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span id="d:811" class="id"><a name="d:811" class="">d</a></span> <span id="d':812" class="id"><a name="d':812" class="">d'</a></span> (<span id="X:813" class="id"><a name="X:813" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:811">d</a></span>) (<span id="Y:814" class="id"><a name="Y:814" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d':812">d'</a></span>) (<span id="R:815" class="id"><a name="R:815" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="l:816" class="id"><a name="l:816" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:813">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">{measure</a></span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:814">Y</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#cab9a9776ae9e3a4c36de416efb30851">-&gt;</a></span> <span class="id">\bar</span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:815">R}</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="ml:818" class="id"><a name="ml:818" class="">ml</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="U:817" class="id"><a name="U:817" class="">U,</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:817">U</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:813">X]</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#l:816">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#U:817">U</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:819" class="id"><a name="k:819" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:814">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#4c9ddfb63ff52527d9adecfde4a667c3">\bar</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#R:815">R</a></span>) (<span id="k0:821" class="id"><a name="k0:821" class="">k0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="z:820" class="id"><a name="z:820" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:819">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:820">z</a></span>) (<span id="mk:822" class="id"><a name="mk:822" class="">mk</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#Y:814">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:819">k</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#X:813">X]</a></span> (<span class="gallina-kwd">fun</span> <span id="x:823" class="id"><a name="x:823" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:823">x]_y</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#k:819">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:824">y</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">have</span> <span class="id">[k_</span> <span class="id">[ndk_</span> <span class="id">k_k]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mk</span> (<span class="gallina-kwd">fun</span> <span id="x:825" class="id"><a name="x:825" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">k0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:825">x</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_preimage_integral">measurable_fun_preimage_integral</a></span> <span class="id">ndk_</span> <span class="id">k_k</span>) <span class="id">=&gt;</span> <span class="id">n</span> <span class="id">r;</span> <span class="id">exact/ml</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="integral_kcomp" class="id"><a name="integral_kcomp" class="">integral_kcomp</a></span>.<br/>
<span class="vernacular">Context</span> <span id="d:826" class="id"><a name="d:826" class="">d</a></span> <span id="d2:827" class="id"><a name="d2:827" class="">d2</a></span> <span id="d3:828" class="id"><a name="d3:828" class="">d3</a></span> (<span id="X:829" class="id"><a name="X:829" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d:826">d</a></span>) (<span id="Y:830" class="id"><a name="Y:830" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d2:827">d2</a></span>)<br/>
&nbsp;&nbsp;(<span id="Z:831" class="id"><a name="Z:831" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#d3:828">d3</a></span>) (<span id="R:832" class="id"><a name="R:832" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="integral_kcomp.l" class="id"><a name="integral_kcomp.l" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.X">X</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Y">Y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="integral_kcomp.k" class="id"><a name="integral_kcomp.k" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span>.<span class="id">-sfker</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Y">Y]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#2f2bb8476188c3521c5dd8e5760dc6ab">~&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="integral_kcomp.integral_kcomp_indic" class="id"><a name="integral_kcomp.integral_kcomp_indic" class="">integral_kcomp_indic</a></span> <span id="x:835" class="id"><a name="x:835" class="">x</a></span> <span id="E:836" class="id"><a name="E:836" class="">E</a></span> (<span id="mE:837" class="id"><a name="mE:837" class="">mE</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#E:836">E</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:835">x]_z</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:838">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:835">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:835">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:839">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1_E</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:840">z</a></span>)%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//=</a></span> <span class="id">/kcomp</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="integral_kcomp.integral_kcomp_nnsfun" class="id"><a name="integral_kcomp.integral_kcomp_nnsfun" class="">integral_kcomp_nnsfun</a></span> <span id="x:841" class="id"><a name="x:841" class="">x</a></span> (<span id="f:842" class="id"><a name="f:842" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">{nnsfun</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#62b1f9be67dbf6239bec964ff9de3502">&gt;-&gt;</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R}</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:841">x]_z</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:842">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:843">z</a></span>)%<span class="id">:E</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:841">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:841">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:844">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#f:842">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:845">z</a></span>)%<span class="id">:E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]eq_integral</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">fr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="gallina-kwd">by</span> <span class="id">exact/measurable_sfunP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span> <span class="id">fr</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
<span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]eq_integral</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunE">fimfunE</a></span> <span class="id">-fsumEFin//;</span> <span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply/EFin_measurable_fun/measurableT_comp</span> <span class="id">=&gt;</span> <span class="id">[//|]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">fr</span> <span class="id">:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="gallina-kwd">by</span> <span class="id">exact/measurable_sfunP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#e353122e03268a6eab33cb5af81dd3c6">\1__</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mindic">mindic</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.R">R</a></span> <span class="id">fr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#nnfun_muleindic_ge0">nnfun_muleindic_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:848" class="id"><span id="r:847" class="id"><span id="r:846" class="id"><a name="r:848" class="">r</a></span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:846">r]</a></span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">r0;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">over</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integral_fsum">ge0_integral_fsum//;</a></span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">r;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#measurable_funeM">measurable_funeM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> (<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#mulemu_ge0">mulemu_ge0</a></span> (<span class="gallina-kwd">fun</span> <span id="n:849" class="id"><a name="n:849" class="">n</a></span> <span class="id">=&gt;</span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:849">n]</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#eq_fsbigr">eq_fsbigr</a></span> <span class="id">=&gt;</span> <span class="id">r</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integralZl_indic">integralZl_indic</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="r:852" class="id"><span id="r:851" class="id"><span id="r:850" class="id"><a name="r:852" class="">r</a></span></span></span> <span class="id">=&gt;</span> <span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#r:850">r]</a></span>))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.integral_kcomp_indic">integral_kcomp_indic;</a></span> <span class="id">last</span> <span class="id">exact/measurable_sfunP</span>.<br/>
<span class="id">have</span> <span class="id">[r0|r0]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.order.html#Order.TotalTheory.leP">leP</a></span> <span class="id">0</span>%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_integralZl">ge0_integralZl//;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> (<span class="id">f</span> @<span class="id">^-1`</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#29c78c22490f2dae838b1b504eb858a2">[set</a></span> <span class="id">r]</span>) <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#f1c2ddfea282f8f8d7539f61e14c08e4">*</a></span> <span class="id">_</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_indic">integral_indic//</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq</a></span> <span class="id">?mule0;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic0">indic0</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral0_eq">integral0_eq//</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#preimage_nnfun0">preimage_nnfun0//</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="integral_kcomp" class="id"><a name="integral_kcomp" class="">integral_kcomp</a></span> <span id="x:853" class="id"><a name="x:853" class="">x</a></span> <span id="f:854" class="id"><a name="f:854" class="">f</a></span> <span class="id">:</span> (<span class="gallina-kwd">forall</span> <span id="z:855" class="id"><a name="z:855" class="">z,</a></span> <span class="id">0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#63b01a542aec2e4c61e028256cf5a548">&lt;=</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:854">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:855">z</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#36b9f1631384d2c3b944cb9d5855cd98">[set:</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.Z">Z]</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:854">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:853">x]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:854">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:856">z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#x:853">x]_y</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#x:853">x,</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:857">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#f:854">f</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:858">z</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move=&gt;</span> <span class="id">f0</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> <span class="id">[f_</span> <span class="id">[ndf_</span> <span class="id">f_f]]</span> <span class="id">:=</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#approximation">approximation</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT">measurableT</a></span> <span class="id">mf</span> (<span class="gallina-kwd">fun</span> <span id="z:859" class="id"><a name="z:859" class="">z</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">f0</span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:859">z</a></span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[kcomp</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.l">l</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id">x]_z</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:861">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:860">z</a></span>)%<span class="id">:E</span> @<span class="id">[n</span> <span class="id"><a href="mathcomp.analysis.topology.html#9ae20bc67dba0e37ea0806b2f353bb2f">--&gt;</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#228a5fbd8d7ef28f21231bccff88d0b0">\oo]</a></span>))).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/eq_integral</span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/esym/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//=;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#monotone_convergence">monotone_convergence//;</a></span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP</span> <span class="id">ab;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="n:872" class="id"><span id="n:869" class="id"><span id="n:866" class="id"><a name="n:872" class="">n</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:867">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:866">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:868">z</a></span>)%<span class="id">:E</span>)))<span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.integral_kcomp_nnsfun">integral_kcomp_nnsfun</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[l</a></span> <span class="id">x]_y</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="gallina-kwd">fun</span> <span id="n:883" class="id"><span id="n:881" class="id"><span id="n:878" class="id"><span id="n:876" class="id"><a name="n:883" class="">n</a></span></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">\int[k</a></span> (<span class="id">x,</span> <span class="id"><a href="mathcomp.analysis.kernel.html#y:875">y</a></span>)<span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#3e4826d90e3d691004f544dc3de2d121">]_z</a></span> (<span class="id">f_</span> <span class="id"><a href="mathcomp.analysis.kernel.html#n:876">n</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#z:877">z</a></span>)%<span class="id">:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.kernel.html#measurable_fun_integral_kernel">measurable_fun_integral_kernel</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">U</span> <span class="id">mU;</span> <span class="id">exact:</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.kernel.html#measurable_kernel">measurable_kernel</a></span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp.k">k</a></span> <span class="id">_</span> <span class="id">mU</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#integral_ge0">integral_ge0</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="id">move=&gt;</span> <span class="id">y</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ab;</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#ge0_le_integral">ge0_le_integral</a></span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">ab</span> <span class="id">=&gt;</span> <span class="id">/ndf_</span> <span class="id">/lefP</span> <span class="id">ab</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">y</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">-monotone_convergence//;</span> <span class="id">last</span> <span class="id">3</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">exact/EFin_measurable_fun</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z</span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span> <span class="id">/ndf_</span> <span class="id">/lefP;</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="mathcomp.analysis.lebesgue_integral.html#eq_integral">eq_integral</a></span> <span class="id">=&gt;</span> <span class="id">z</span> <span class="id">_;</span> <span class="id">apply/cvg_lim</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">f_f</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="mathcomp.analysis.kernel.html#integral_kcomp">integral_kcomp</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
