
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.numfun</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.numfun" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.numfun</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">ssrint</span> <span class="id">interval</span> <span class="id">finmap</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html">set_interval</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span>.<br/>
<br/>
<pre class="ssrdoc">
This file provides definitions and lemmas about numerical functions.       
                                                                           
   {nnfun T &gt;-&gt; R} == type of non-negative functions                       
             f ^\+ == the function formed by the non-negative outputs      
                      of f (from a type to the type of extended real       
                      numbers) and 0 otherwise                             
                      rendered as f ⁺ with company-coq (U+207A)            
             f ^\- == the function formed by the non-positive outputs      
                      of f and 0 o.w.                                      
                      rendered as f ⁻ with company-coq (U+207B)            
             \1_ A == indicator function 1_A                               
                                                                           
</pre>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="id"><a name="isNonNegFun">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">isNonNegFun</span> (<span class="id"><a name="aT:1">aT</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="rT:2">rT</a></span> : <span class="id">numDomainType</span>) (<span class="id"><a name="f:3">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := {<br/>
&nbsp;&nbsp;<span class="id"><a name="fun_ge0:5">fun_ge0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="x:4">x</a></span>, (0 &lt;= <span class="id">f</span> <span class="id">x</span>)%<span class="id">R</span><br/>
}.<br/>
<span class="id"><a name="NonNegFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">NonNegFun</span> <span class="id"><a name="aT:9">aT</a></span> <span class="id"><a name="rT:10">rT</a></span> := {<span class="id"><a name="f:11">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.numfun.html#isNonNegFun">isNonNegFun</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "{ '<span class="id">nnfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "{ '<span class="id">nnfun</span>'  <span class="id">aT</span>  &gt;-&gt;  <span class="id">T</span> }").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">nnfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">nnfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Notation</span> "{ '<span class="id">nnfun</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">T</span> }" := (@<span class="id"><a href="mathcomp.analysis.numfun.html#type">NonNegFun.type</a></span> <span class="id">aT</span> <span class="id">T</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">nnfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">nnfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (0 &lt;= <span class="id">_</span>)) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#fun_ge0">fun_ge0</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="fimfun_bin">fimfun_bin</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="T:14">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="R:15">R</a></span> : <span class="id">numDomainType</span>).<br/>
<span class="kwd">Variables</span> <span class="id"><a name="fimfun_bin.f">f</a></span> <span class="id"><a name="fimfun_bin.g">g</a></span> : {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.R">R</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="max_fimfun_subproof">max_fimfun_subproof</a></span> : @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.T">T</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.R">R</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.f">f</a></span> \<span class="id">max</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin.g">g</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">split</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image11">finite_image11</a></span> <span class="id">maxr</span>). Qed.</div>
<span class="id"><a name="HB_unnamed_factory_6">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.numfun.html#max_fimfun_subproof">max_fimfun_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_bin">fimfun_bin</a></span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> ^\+" (<span class="kwd">at</span> <span class="id">level</span> 1, <span class="id">format</span> "<span class="id">f</span> ^\+").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> ^\-" (<span class="kwd">at</span> <span class="id">level</span> 1, <span class="id">format</span> "<span class="id">f</span> ^\-").<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="restrict_lemmas">restrict_lemmas</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:18">aT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="rT:19">rT</a></span> : <span class="id">numFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas.rT">rT</a></span>) (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas.aT">aT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="restrict_set0">restrict_set0</a></span> <span class="id"><a name="f:20">f</a></span> : <span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_set0">patch_set0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="restrict_ge0">restrict_ge0</a></span> <span class="id"><a name="D:21">D</a></span> <span class="id"><a name="f:22">f</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:23">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; <span class="kwd">forall</span> <span class="id"><a name="x:24">x</a></span>, 0 &lt;= (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> =&gt; // /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>/<span class="id">f0</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ler_restrict">ler_restrict</a></span> <span class="id"><a name="D:25">D</a></span> <span class="id"><a name="f:26">f</a></span> <span class="id"><a name="g:27">g</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:28">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">g</span> <span class="id">x</span>) -&gt; <span class="kwd">forall</span> <span class="id"><a name="x:29">x</a></span>, (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span> &lt;= (<span class="id">g</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> =&gt; // /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>/<span class="id">f0</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#restrict_lemmas">restrict_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrict_ge0">erestrict_ge0</a></span> {<span class="id"><a name="aT:30">aT</a></span>} {<span class="id"><a name="rT:31">rT</a></span> : <span class="id">numFieldType</span>} (<span class="id"><a name="D:32">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:33">f</a></span> : <span class="id">aT</span> -&gt; \<span class="id">bar</span> <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:34">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; (0 &lt;= <span class="id">f</span> <span class="id">x</span>)%<span class="id">E</span>) -&gt; <span class="kwd">forall</span> <span class="id"><a name="x:35">x</a></span>, (0 &lt;= (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> =&gt; // /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>/<span class="id">f0</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lee_restrict">lee_restrict</a></span> {<span class="id"><a name="aT:36">aT</a></span>} {<span class="id"><a name="rT:37">rT</a></span> : <span class="id">numFieldType</span>} (<span class="id"><a name="D:38">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:39">f</a></span> <span class="id"><a name="g:40">g</a></span> : <span class="id">aT</span> -&gt; \<span class="id">bar</span> <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:41">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">g</span> <span class="id">x</span>)%<span class="id">E</span> -&gt; <span class="kwd">forall</span> <span class="id"><a name="x:42">x</a></span>, ((<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span> &lt;= (<span class="id">g</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span> =&gt; // /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>/<span class="id">f0</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="restrict_lee">restrict_lee</a></span> {<span class="id"><a name="aT:43">aT</a></span>} {<span class="id"><a name="rT:44">rT</a></span> : <span class="id">numFieldType</span>} (<span class="id"><a name="D:45">D</a></span> <span class="id"><a name="E:46">E</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:47">f</a></span> : <span class="id">aT</span> -&gt; \<span class="id">bar</span> <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:48">x</a></span>, <span class="id">E</span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>)%<span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">D</span> `&lt;=` <span class="id">E</span> -&gt; <span class="kwd">forall</span> <span class="id"><a name="x:49">x</a></span>, ((<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) <span class="id">x</span> &lt;= (<span class="id">f</span> \<span class="id">_</span> <span class="id">E</span>) <span class="id">x</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">ED</span> <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [<span class="id">xD</span>|<span class="id">xD</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//; <span class="id">apply</span>: <span class="id">ED</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="kwd">in</span> <span class="id">xD</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // <span class="id">xE</span>; <span class="id">apply</span>: <span class="id">f0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> <span class="kwd">in</span> <span class="id">xE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="erestrict_lemmas">erestrict_lemmas</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="erestrict_lemmas.T">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="erestrict_lemmas.R">R</a></span> : <span class="id">realDomainType</span>) (<span class="id"><a name="erestrict_lemmas.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.R">R</a></span>) (<span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrict_set0">erestrict_set0</a></span> <span class="id"><a name="f:53">f</a></span> : <span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patch_set0">patch_set0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrict0">erestrict0</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0 : <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.R">R</a></span>) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrictD">erestrictD</a></span> <span class="id"><a name="f:54">f</a></span> <span class="id"><a name="g:55">g</a></span> : (<span class="id">f</span> \+ <span class="id">g</span>) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> = <span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> \+ <span class="id">g</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrictN">erestrictN</a></span> <span class="id"><a name="f:56">f</a></span> : (\- <span class="id">f</span>) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> = \- <span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrictB">erestrictB</a></span> <span class="id"><a name="f:57">f</a></span> <span class="id"><a name="g:58">g</a></span> : (<span class="id">f</span> \- <span class="id">g</span>) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> = <span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> \- <span class="id">g</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrictM">erestrictM</a></span> <span class="id"><a name="f:59">f</a></span> <span class="id"><a name="g:60">g</a></span> : (<span class="id">f</span> \* <span class="id">g</span>) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> = <span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> \* <span class="id">g</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="erestrict_scale">erestrict_scale</a></span> <span class="id"><a name="k:61">k</a></span> <span class="id"><a name="f:62">f</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:63">x</a></span> =&gt; <span class="id">k</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span> = (<span class="kwd">fun</span> <span class="id"><a name="x:64">x</a></span> =&gt; <span class="id">k</span>%:<span class="id">E</span> * (<span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas.D">D</a></span>) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#erestrict_lemmas">erestrict_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funposneg">funposneg</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="funepos">funepos</a></span> <span class="id"><a name="T:65">T</a></span> (<span class="id"><a name="R:66">R</a></span> : <span class="id">realDomainType</span>) (<span class="id"><a name="f:67">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="x:68">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> (<span class="id">f</span> <span class="id">x</span>) 0.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="funeneg">funeneg</a></span> <span class="id"><a name="T:69">T</a></span> (<span class="id"><a name="R:70">R</a></span> : <span class="id">realDomainType</span>) (<span class="id"><a name="f:71">f</a></span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="x:72">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> (- <span class="id">f</span> <span class="id">x</span>) 0.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg">funposneg</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^\+" := (<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> <span class="id">f</span>) : <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^\-" := (<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> <span class="id">f</span>) : <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funposneg_lemmas">funposneg_lemmas</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="funposneg_lemmas.T">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="funposneg_lemmas.R">R</a></span> : <span class="id">realDomainType</span>) (<span class="id"><a name="funposneg_lemmas.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.R">R</a></span>) (<span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funepos_ge0">funepos_ge0</a></span> <span class="id"><a name="f:76">f</a></span> <span class="id"><a name="x:77">x</a></span> : 0 &lt;= <span class="id">f</span>^\+ <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /= <span class="id">le_maxr</span> <span class="id">lexx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funeneg_ge0">funeneg_ge0</a></span> <span class="id"><a name="f:78">f</a></span> <span class="id"><a name="x:79">x</a></span> : 0 &lt;= <span class="id">f</span>^\- <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> <span class="id">le_maxr</span> <span class="id">lexx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funeposN">funeposN</a></span> <span class="id"><a name="f:80">f</a></span> : (\- <span class="id">f</span>)^\+ = <span class="id">f</span>^\-<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funenegN">funenegN</a></span> <span class="id"><a name="f:81">f</a></span> : (\- <span class="id">f</span>)^\- = <span class="id">f</span>^\+.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funepos_restrict">funepos_restrict</a></span> <span class="id"><a name="f:82">f</a></span> : (<span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>)^\+ = (<span class="id">f</span>^\+) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/<span class="id">_</span>^\+; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> //= <span class="id">maxxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funeneg_restrict">funeneg_restrict</a></span> <span class="id"><a name="f:83">f</a></span> : (<span class="id">f</span> \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>)^\- = (<span class="id">f</span>^\-) \<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/<span class="id">_</span>^\-; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> //= <span class="id">oppr0</span> <span class="id">maxxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_funeposE">ge0_funeposE</a></span> <span class="id"><a name="f:84">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:85">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>, <span class="id">f</span>^\+ =1 <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">apply</span>/<span class="id">max_idPl</span>/<span class="id">f0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge0_funenegE">ge0_funenegE</a></span> <span class="id"><a name="f:86">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:87">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id">x</span> -&gt; 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>, <span class="id">f</span>^\- =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">apply</span>/<span class="id">max_idPr</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le0_funeposE">le0_funeposE</a></span> <span class="id"><a name="f:88">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:89">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> &lt;= 0) -&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>, <span class="id">f</span>^\+ =1 <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">exact</span>/<span class="id">max_idPr</span>/<span class="id">f0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le0_funenegE">le0_funenegE</a></span> <span class="id"><a name="f:90">f</a></span> : (<span class="kwd">forall</span> <span class="id"><a name="x:91">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> &lt;= 0) -&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas.D">D</a></span>, <span class="id">f</span>^\- =1 \- <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f0</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">apply</span>/<span class="id">max_idPl</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="gt0_funeposM">gt0_funeposM</a></span> <span class="id"><a name="r:92">r</a></span> <span class="id"><a name="f:93">f</a></span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:94">x</a></span> =&gt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>)^\+ = (<span class="kwd">fun</span> <span class="id"><a name="x:95">x</a></span> =&gt; <span class="id">r</span>%:<span class="id">E</span> * (<span class="id">f</span>^\+ <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxeMr">maxeMr</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="gt0_funenegM">gt0_funenegM</a></span> <span class="id"><a name="r:96">r</a></span> <span class="id"><a name="f:97">f</a></span> : (0 &lt; <span class="id">r</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:98">x</a></span> =&gt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>)^\- = (<span class="kwd">fun</span> <span class="id"><a name="x:99">x</a></span> =&gt; <span class="id">r</span>%:<span class="id">E</span> * (<span class="id">f</span>^\- <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleN">muleN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxeMr">maxeMr</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule0">mule0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt0_funeposM">lt0_funeposM</a></span> <span class="id"><a name="r:100">r</a></span> <span class="id"><a name="f:101">f</a></span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:102">x</a></span> =&gt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>)^\+ = (<span class="kwd">fun</span> <span class="id"><a name="x:103">x</a></span> =&gt; - <span class="id">r</span>%:<span class="id">E</span> * (<span class="id">f</span>^\- <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id">opprK</span> <span class="id">r</span>); <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funeposN">funeposN</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funenegM">gt0_funenegM</a></span> -1?<span class="id">ltr_oppr</span> ?<span class="id">oppr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lt0_funenegM">lt0_funenegM</a></span> <span class="id"><a name="r:104">r</a></span> <span class="id"><a name="f:105">f</a></span> : (<span class="id">r</span> &lt; 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:106">x</a></span> =&gt; <span class="id">r</span>%:<span class="id">E</span> * <span class="id">f</span> <span class="id">x</span>)^\- = (<span class="kwd">fun</span> <span class="id"><a name="x:107">x</a></span> =&gt; - <span class="id">r</span>%:<span class="id">E</span> * (<span class="id">f</span>^\+ <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id">opprK</span> <span class="id">r</span>); <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulNe">mulNe</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funenegN">funenegN</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#gt0_funeposM">gt0_funeposM</a></span> -1?<span class="id">ltr_oppr</span> ?<span class="id">oppr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fune_abse">fune_abse</a></span> <span class="id"><a name="f:108">f</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span> \<span class="id">o</span> <span class="id">f</span> = <span class="id">f</span>^\+ \+ <span class="id">f</span>^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span> /=; <span class="id">have</span> [<span class="id">fx0</span>|/<span class="id">ltW</span> <span class="id">fx0</span>] := <span class="id">leP</span> (<span class="id">f</span> <span class="id">x</span>) 0.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee0_abs">lee0_abs</a></span>// /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">max_idPr</span> : (<span class="id">fx0</span>) =&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">fx0</span>; <span class="id">rewrite</span> -{1}<span class="id">oppr0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> -&gt;.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>// /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>; <span class="id">move</span>/<span class="id">max_idPl</span> : (<span class="id">fx0</span>) =&gt; -&gt;.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">fx0</span>; <span class="id">rewrite</span> -{1}<span class="id">oppr0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funeposneg">funeposneg</a></span> <span class="id"><a name="f:109">f</a></span> : <span class="id">f</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:110">x</a></span> =&gt; <span class="id">f</span>^\+ <span class="id">x</span> - <span class="id">f</span>^\- <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>; <span class="id">have</span> [|/<span class="id">ltW</span>] := <span class="id">leP</span> (<span class="id">f</span> <span class="id">x</span>) 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_def_funeposneg">add_def_funeposneg</a></span> <span class="id"><a name="f:111">f</a></span> <span class="id"><a name="x:112">x</a></span> : (<span class="id">f</span>^\+ <span class="id">x</span> +? - <span class="id">f</span>^\- <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span>; <span class="id">case</span>: (<span class="id">f</span> <span class="id">x</span>) =&gt; [<span class="id">r</span>| |];<br/>
&nbsp;&nbsp;[<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_max">fine_max</a></span>/=|<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>|<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funeD_Dpos">funeD_Dpos</a></span> <span class="id"><a name="f:113">f</a></span> <span class="id"><a name="g:114">g</a></span> : <span class="id">f</span> \+ <span class="id">g</span> = (<span class="id">f</span> \+ <span class="id">g</span>)^\+ \- (<span class="id">f</span> \+ <span class="id">g</span>)^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>; <span class="id">have</span> [|/<span class="id">ltW</span>] := <span class="id">leP</span> 0 (<span class="id">f</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funeD_posD">funeD_posD</a></span> <span class="id"><a name="f:115">f</a></span> <span class="id"><a name="g:116">g</a></span> : <span class="id">f</span> \+ <span class="id">g</span> = (<span class="id">f</span>^\+ \+ <span class="id">g</span>^\+) \- (<span class="id">f</span>^\- \+ <span class="id">g</span>^\-).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funepos">funepos</a></span> /<span class="id"><a href="mathcomp.analysis.numfun.html#funeneg">funeneg</a></span>.<br/>
<span class="id">have</span> [|<span class="id">fx0</span>] := <span class="id">leP</span> 0 (<span class="id">f</span> <span class="id">x</span>); <span class="id">last</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
- <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">have</span> [|/<span class="id">ltW</span>] := <span class="id">leP</span> 0 (<span class="id">g</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube0">sube0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sub0e">sub0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
- <span class="id">move</span>/<span class="id">ltW</span> : (<span class="id">fx0</span>); <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id">have</span> [|] := <span class="id">leP</span> 0 (<span class="id">g</span> <span class="id">x</span>); <span class="id">last</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppl">lee_oppl</a></span> =&gt; /<span class="id">max_idPr</span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span> <span class="id">gg</span>' : (<span class="id">g</span> <span class="id">x</span>) =&gt; <span class="id">g</span>'; <span class="id">move</span>: <span class="id">g</span>' <span class="id">gg</span>' =&gt; [<span class="id">g</span>' <span class="id">gg</span>' <span class="id">g</span>'0|//|<span class="id">goo</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;+ <span class="id">move</span>/<span class="id">ltW</span> : (<span class="id">g</span>'0); <span class="id">rewrite</span> -{1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe0">oppe0</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span> =&gt; /<span class="id">max_idPl</span> =&gt; -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeD">fin_num_oppeD</a></span>// 2!<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> /=; <span class="id">case</span>: (<span class="id">f</span> <span class="id">x</span>) <span class="id">fx0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#funposneg_lemmas">funposneg_lemmas</a></span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (0 &lt;= <span class="id">_</span> ^\+ <span class="id">_</span>)%<span class="id">E</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#funepos_ge0">funepos_ge0</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (0 &lt;= <span class="id">_</span> ^\- <span class="id">_</span>)%<span class="id">E</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#funeneg_ge0">funeneg_ge0</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="indic">indic</a></span> {<span class="id"><a name="T:117">T</a></span>} {<span class="id"><a name="R:118">R</a></span> : <span class="id">ringType</span>} (<span class="id"><a name="A:119">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="x:120">x</a></span> : <span class="id">T</span>) : <span class="id">R</span> := (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>)%:<span class="id">R</span>.<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'\1<span class="id">_</span>' <span class="id">A</span>" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">A</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "'\1<span class="id">_</span>' <span class="id">A</span>") .<br/>
<span class="kwd">Notation</span> "'\1<span class="id">_</span>' <span class="id">A</span>" := (<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span> <span class="id">A</span>) : <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="indic_lemmas">indic_lemmas</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="T:121">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="R:122">R</a></span> : <span class="id">ringType</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indicE">indicE</a></span> <span class="id"><a name="A:123">A</a></span> (<span class="id"><a name="x:124">x</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>) : \1<span class="id">_A</span> <span class="id">x</span> = (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span>)%:<span class="id">R</span> :&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indicT">indicT</a></span> : \1<span class="id">_</span>[<span class="id">set</span>: <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>] = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (1 : <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setT">in_setT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic0">indic0</a></span> : \1<span class="id">_</span>(@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span>) = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (0 : <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_indic">preimage_indic</a></span> <span class="id"><a name="D:125">D</a></span> (<span class="id"><a name="B:126">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>) :<br/>
&nbsp;&nbsp;\1<span class="id">_D</span> @^-1` <span class="id">B</span> = <span class="kwd">if</span> 1 \<span class="kwd">in</span> <span class="id">B</span> <span class="kwd">then</span> (<span class="kwd">if</span> 0 \<span class="kwd">in</span> <span class="id">B</span> <span class="kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="kwd">else</span> <span class="id">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="kwd">if</span> 0 \<span class="kwd">in</span> <span class="id">B</span> <span class="kwd">then</span> ~` <span class="id">D</span> <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= /<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; <span class="id">x</span>;<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">B1</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">B0</span> //=.<br/>
- <span class="id">have</span> [|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="kwd">in</span> <span class="id">B0</span>.<br/>
- <span class="id">have</span> [|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="kwd">in</span> <span class="id">B1</span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> [<span class="id">xD</span>|<span class="id">xD</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="kwd">in</span> <span class="id">B1</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> <span class="kwd">in</span> <span class="id">B0</span>].<br/>
- <span class="kwd">by</span> <span class="id">have</span> [<span class="id">xD</span>|<span class="id">xD</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>); [<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">B1</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">B0</span>].<br/>
- <span class="id">have</span> [<span class="id">xD</span>|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">B1</span>.<br/>
- <span class="id">have</span> [|<span class="id">xD</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">B0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="image_indic">image_indic</a></span> <span class="id"><a name="D:127">D</a></span> <span class="id"><a name="A:128">A</a></span> :<br/>
&nbsp;&nbsp;\1<span class="id">_D</span> @` <span class="id">A</span> = (<span class="kwd">if</span> <span class="id">A</span> `\` <span class="id">D</span> != <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="kwd">then</span> [<span class="id">set</span> 0] <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) `|`<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">if</span> <span class="id">A</span> `&amp;` <span class="id">D</span> != <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="kwd">then</span> [<span class="id">set</span> 1 : <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>] <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span> =&gt; [[<span class="id">t</span> <span class="id">At</span> /= &lt;-]|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.numfun.html#indic">indic</a></span>; <span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> \<span class="kwd">in</span> <span class="id">D</span>)); <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>) =&gt; <span class="id">Dt</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">right</span>|<span class="id">left</span>]; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span>//=; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>; <span class="kwd">exists</span> <span class="id">t</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; []; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">negbK</a></span>// =&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>[<span class="id">t</span> [<span class="id">At</span> <span class="id">Dt</span>]] -&gt;;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">t</span> =&gt; //; <span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">t</span> \<span class="kwd">in</span> <span class="id">D</span>)); <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="image_indic_sub">image_indic_sub</a></span> <span class="id"><a name="D:129">D</a></span> <span class="id"><a name="A:130">A</a></span> : \1<span class="id">_D</span> @` <span class="id">A</span> `&lt;=` ([<span class="id">set</span> 0; 1] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#image_indic">image_indic</a></span>; <span class="id">do</span> ![<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>=&gt; //= <span class="id">_</span>] =&gt; // <span class="id">t</span> []//= -&gt;; [<span class="id">left</span>|<span class="id">right</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fimfunE">fimfunE</a></span> (<span class="id"><a name="f:131">f</a></span> : {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.T">T</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas.R">R</a></span>}) <span class="id"><a name="x:132">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="y:133">y</a></span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span>) (<span class="id">y</span> * \1<span class="id">_</span>(<span class="id">f</span> @^-1` [<span class="id">set</span> <span class="id">y</span>]) <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.classical.fsbigop.html#fsbigD1">fsbigD1</a></span> (<span class="id">f</span> <span class="id">x</span>))// /= <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>// <span class="id">mulr1</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig1">fsbig1</a></span> ?<span class="id">addr0</span>//.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id">fy</span> /= /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#nesym">nesym</a></span> <span class="id">yfx</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#memNset">memNset</a></span> ?<span class="id">mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_lemmas">indic_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="xsection_indic">xsection_indic</a></span> (<span class="id"><a name="R:137">R</a></span> : <span class="id">ringType</span>) <span class="id"><a name="T1:138">T1</a></span> <span class="id"><a name="T2:139">T2</a></span> (<span class="id"><a name="A:140">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id">T1</span> * <span class="id">T2</span>)) <span class="id"><a name="x:141">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span> <span class="id">A</span> <span class="id">x</span> = (<span class="kwd">fun</span> <span class="id"><a name="y:142">y</a></span> =&gt; (\1<span class="id">_A</span> (<span class="id">x</span>, <span class="id">y</span>) : <span class="id">R</span>)) @^-1` [<span class="id">set</span> 1].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">y</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>/=|<span class="id">y</span>/=]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_xsection">mem_xsection</a></span> =&gt; -&gt;.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#xsection">xsection</a></span>/=; <span class="id">case</span>: (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>) =&gt; //= /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id">eqP</span> /[!<span class="id">oner_eq0</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ysection_indic">ysection_indic</a></span> (<span class="id"><a name="R:143">R</a></span> : <span class="id">ringType</span>) <span class="id"><a name="T1:144">T1</a></span> <span class="id"><a name="T2:145">T2</a></span> (<span class="id"><a name="A:146">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id">T1</span> * <span class="id">T2</span>)) <span class="id"><a name="y:147">y</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span> <span class="id">A</span> <span class="id">y</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:148">x</a></span> =&gt; (\1<span class="id">_A</span> (<span class="id">x</span>, <span class="id">y</span>) : <span class="id">R</span>)) @^-1` [<span class="id">set</span> 1].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">x</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>/=|<span class="id">x</span>/=]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_ysection">mem_ysection</a></span> =&gt; -&gt;.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#ysection">ysection</a></span>/=; <span class="id">case</span>: (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>) =&gt; //= /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id">eqP</span> /[!<span class="id">oner_eq0</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_restrict">indic_restrict</a></span> {<span class="id"><a name="T:149">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} {<span class="id"><a name="R:150">R</a></span> : <span class="id">numFieldType</span>} (<span class="id"><a name="A:151">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;\1<span class="id">_A</span> = 1 \<span class="id">_</span> <span class="id">A</span> :&gt; (<span class="id">T</span> -&gt; <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="restrict_indic">restrict_indic</a></span> <span class="id"><a name="T:152">T</a></span> (<span class="id"><a name="R:153">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="E:154">E</a></span> <span class="id"><a name="A:155">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(\1<span class="id">_E</span> \<span class="id">_</span> <span class="id">A</span>) = \1<span class="id">_</span>(<span class="id">E</span> `&amp;` <span class="id">A</span>) :&gt; (<span class="id">T</span> -&gt; <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> 2!<span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>.<br/>
<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [|] <span class="id">xA</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> <span class="id">xA</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">xA</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ring">ring</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="aT:156">aT</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="rT:157">rT</a></span> : <span class="id">ringType</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fimfun_mulr_closed">fimfun_mulr_closed</a></span> : <span class="id">mulr_closed</span> (@<span class="id"><a href="mathcomp.classical.cardinality.html#fimfun">fimfun</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">split</span>=&gt; [|<span class="id">f</span> <span class="id">g</span>]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.cardinality.html#finite_image_cst">finite_image_cst</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fA</span> <span class="id">gA</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_image11">finite_image11</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:158">x</a></span> <span class="id"><a name="y:159">y</a></span> =&gt; <span class="id">x</span> * <span class="id">y</span>)).<br/>
Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="fimfun_mul">fimfun_mul</a></span> := <span class="id">MulrPred</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_mulr_closed">fimfun_mulr_closed</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="fimfun_ring">fimfun_ring</a></span> := <span class="id">SubringPred</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_mulr_closed">fimfun_mulr_closed</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fimfun_ringMixin">fimfun_ringMixin</a></span> := [<span class="id">ringMixin</span> <span class="id">of</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="fimfun_ringType">fimfun_ringType</a></span> := <span class="id">RingType</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_ringMixin">fimfun_ringMixin</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>}).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fimfunM">fimfunM</a></span> <span class="id"><a name="f:162">f</a></span> <span class="id"><a name="g:163">g</a></span> : <span class="id">f</span> * <span class="id">g</span> = <span class="id">f</span> \* <span class="id">g</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fimfun1">fimfun1</a></span> : (1 : {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>}) = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 1 :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fimfun_prod">fimfun_prod</a></span> <span class="id"><a name="I:164">I</a></span> <span class="id"><a name="r:165">r</a></span> (<span class="id"><a name="P:166">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:167">f</a></span> : <span class="id">I</span> -&gt; {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>}) (<span class="id"><a name="x:168">x</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:169">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:172">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id">_</span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fimfunX">fimfunX</a></span> <span class="id"><a name="f:175">f</a></span> <span class="id"><a name="n:176">n</a></span> : <span class="id">f</span> ^+ <span class="id">n</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:177">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span>) :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">IHn</span>]//; <span class="id">rewrite</span> !<span class="id">exprS</span> <span class="id"><a href="mathcomp.analysis.numfun.html#fimfunM">fimfunM</a></span>/= <span class="id">IHn</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="indic_fimfun_subproof">indic_fimfun_subproof</a></span> <span class="id"><a name="X:178">X</a></span> : @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span> \1<span class="id">_X</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">split</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.cardinality.html#finite_subfset">finite_subfset</a></span> [<span class="id">fset</span> 0; 1]%<span class="id">fset</span>) =&gt; <span class="id">x</span> [<span class="id">tt</span> /=].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#indicE">indicE</a></span>; <span class="id">case</span>: (<span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>) =&gt; <span class="id">_</span> &lt;-; <span class="id">rewrite</span> ?<span class="id">eqxx</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<span class="id"><a name="ring.hb_instance_8">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="X:179">X</a></span> := <span class="id"><a href="mathcomp.analysis.numfun.html#indic_fimfun_subproof">indic_fimfun_subproof</a></span> <span class="id">X</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="indic_fimfun">indic_fimfun</a></span> (<span class="id"><a name="X:180">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span>) := [<span class="id">the</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>} <span class="id">of</span> \1<span class="id">_X</span>].<br/>
<br/>
<span class="id"><a name="ring.hb_instance_11">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="k:181">k</a></span> <span class="id"><a name="f:182">f</a></span> := <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.copy">FImFun.copy</a></span> (<span class="id">k</span> \<span class="id">o</span>* <span class="id">f</span>) (<span class="id">f</span> * <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun">cst_fimfun</a></span> <span class="id">k</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="scale_fimfun">scale_fimfun</a></span> <span class="id"><a name="k:183">k</a></span> <span class="id"><a name="f:184">f</a></span> := [<span class="id">the</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#ring.rT">rT</a></span>} <span class="id">of</span> <span class="id">k</span> \<span class="id">o</span>* <span class="id">f</span>].<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#ring">ring</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.numfun.html#indic_fimfun">indic_fimfun</a></span> {<span class="id">aT</span> <span class="id">rT</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="comring">comring</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="aT:185">aT</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="rT:186">rT</a></span> : <span class="id">comRingType</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fimfun_comRingMixin">fimfun_comRingMixin</a></span> := [<span class="id">comRingMixin</span> <span class="id">of</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#comring.rT">rT</a></span>} <span class="kwd">by</span> &lt;:].<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="fimfun_comRingType">fimfun_comRingType</a></span> :=<br/>
&nbsp;&nbsp;<span class="id">ComRingType</span> {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#comring.rT">rT</a></span>} <span class="id"><a href="mathcomp.analysis.numfun.html#fimfun_comRingMixin">fimfun_comRingMixin</a></span>.<br/>
<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : {<span class="id">fimfun</span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#comring.rT">rT</a></span>}).<br/>
<span class="id"><a name="comring.hb_instance_15">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:187">f</a></span> <span class="id"><a name="g:188">g</a></span> := <span class="id"><a href="mathcomp.classical.cardinality.html#FImFun.copy">FImFun.copy</a></span> (<span class="id">f</span> \* <span class="id">g</span>) (<span class="id">f</span> * <span class="id">g</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#comring">comring</a></span>.<br/>
<br/>
<span class="id"><a name="FiniteDecomp">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">FiniteDecomp</span> (<span class="id"><a name="T:189">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="R:190">R</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="f:191">f</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="fimfunE:198">fimfunE</a></span> : <span class="kwd">exists</span> (<span class="id"><a name="r:192">r</a></span> : <span class="id">seq</span> <span class="id">R</span>) (<span class="id"><a name="A_:193">A_</a></span> : <span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:194">x</a></span>, <span class="id">f</span> <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="y:195">y</a></span> &lt;- <span class="id">r</span>) (<span class="id">y</span> * \1<span class="id">_</span>(<span class="id">A_</span> <span class="id">y</span>) <span class="id">x</span>) }.<br/>
<span class="id"><a name="Builders_20">HB.builders</a></span> <span class="kwd">Context</span> <span class="id"><a name="T:202">T</a></span> <span class="id"><a name="R:203">R</a></span> <span class="id"><a name="f:204">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.numfun.html#FiniteDecomp">FiniteDecomp</a></span> <span class="id">T</span> <span class="id">R</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Builders_20.finite_subproof">finite_subproof</a></span>: @<span class="id"><a href="mathcomp.classical.cardinality.html#FiniteImage">FiniteImage</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.T">T</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.R">R</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.f">f</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">have</span> [<span class="id">r</span> [<span class="id">A_</span> <span class="id">fE</span>]] := <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.fimfunE">fimfunE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> -&gt; : <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20.f">f</a></span> = \<span class="id">sum_</span>(<span class="id"><a name="y:208">y</a></span> &lt;- <span class="id">r</span>) <span class="id"><a href="mathcomp.classical.cardinality.html#cst_fimfun">cst_fimfun</a></span> <span class="id">y</span> * <span class="id"><a href="mathcomp.analysis.numfun.html#indic_fimfun">indic_fimfun</a></span> (<span class="id">A_</span> <span class="id">y</span>) <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">fE</span> <span class="id"><a href="mathcomp.classical.cardinality.html#fimfun_sum">fimfun_sum</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_20.HB_unnamed_factory_22">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.finite_subproof">finite_subproof</a></span>.<br/>
<span class="id"><a href="mathcomp.analysis.numfun.html#Builders_20.Builders_20">HB.end</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Tietze">Tietze</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="X:211">X</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>} {<span class="id"><a name="R:212">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "3" := 3%:<span class="id">R</span> : <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Tietze.normalX">normalX</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#normal_space">normal_space</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="urysohn_ext_itv">urysohn_ext_itv</a></span> <span class="id"><a name="A:214">A</a></span> <span class="id"><a name="B:215">B</a></span> <span class="id"><a name="x:216">x</a></span> <span class="id"><a name="y:217">y</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id">B</span> -&gt; <span class="id">A</span> `&amp;` <span class="id">B</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> -&gt; <span class="id">x</span> &lt; <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="f:218">f</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @` <span class="id">A</span> `&lt;=` [<span class="id">set</span> <span class="id">x</span>], <span class="id">f</span> @` <span class="id">B</span> `&lt;=` [<span class="id">set</span> <span class="id">y</span>] &amp; <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">f</span> `&lt;=` `[<span class="id">x</span>, <span class="id">y</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">move</span>=&gt; <span class="id">cA</span> <span class="id">cB</span> <span class="id">A0</span> <span class="id">xy</span>; <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#normal_separatorP">normal_separatorP</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.normalX">normalX</a></span> =&gt; <span class="id">urysohn_ext</span>.<br/>
<span class="id">have</span> /(@<span class="id"><a href="mathcomp.analysis.normedtype.html#uniform_separatorP">uniform_separatorP</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>)[<span class="id">f</span> [<span class="id">cf</span> <span class="id">f01</span> <span class="id">f0</span> <span class="id">f1</span>]] := <span class="id">urysohn_ext</span> <span class="id">_</span> <span class="id">_</span> <span class="id">cA</span> <span class="id">cB</span> <span class="id">A0</span>.<br/>
<span class="id">pose</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> := <span class="id"><a href="mathcomp.classical.set_interval.html#line_path">line_path</a></span> <span class="id">x</span> <span class="id">y</span> \<span class="id">o</span> <span class="id">f</span>; <span class="kwd">exists</span> <span class="id">g</span>; <span class="id">split</span>; <span class="id">rewrite</span> /<span class="id">g</span> /=.<br/>
- <span class="id">move</span>=&gt; <span class="id">t</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">cf</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousD">continuousD</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousB">continuousB</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span>]) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousM">continuousM</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">cvg_id</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> =&gt; <span class="id">z</span> /= [? /<span class="id">f0</span> -&gt; &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_path0">line_path0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> =&gt; <span class="id">z</span> /= [? /<span class="id">f1</span> -&gt; &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#line_path1">line_path1</a></span>.<br/>
- <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">_</span> <span class="id">f01</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#range_line_path">range_line_path</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Context</span> (<span class="id"><a name="A:219">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Tietze.clA">clA</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "3" := 3%:<span class="id">R</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="tietze_step'">tietze_step</a></span>' (<span class="id"><a name="f:221">f</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>) (<span class="id"><a name="M:222">M</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>) :<br/>
&nbsp;&nbsp;0 &lt; <span class="id">M</span> -&gt; {<span class="id">within</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:223">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g:224">g</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:225">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span> - <span class="id">g</span> <span class="id">x</span>| &lt;= 2/3 * <span class="id">M</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:226">x</a></span>, `|<span class="id">g</span> <span class="id">x</span>| &lt;= 1/3 * <span class="id">M</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move</span>: <span class="id">M</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">M</span>] <span class="id">ctsf</span> <span class="id">fA1</span>.<br/>
<span class="id">have</span> [] := @<span class="id"><a href="mathcomp.analysis.numfun.html#urysohn_ext_itv">urysohn_ext_itv</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> `&amp;` <span class="id">f</span> @^-1` `]-<span class="id">oo</span>, -(1/3) * <span class="id">M</span>%:<span class="id">num</span>])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> `&amp;` <span class="id">f</span> @^-1` `[1/3 * <span class="id">M</span>%:<span class="id">num</span>,+<span class="id">oo</span>[) (-(1/3) * <span class="id">M</span>%:<span class="id">num</span>) (1/3 * <span class="id">M</span>%:<span class="id">num</span>).<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_setSI">closed_setSI</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closed_comp">closed_comp</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_setSI">closed_setSI</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closed_comp">closed_comp</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_closed">interval_closed</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIACA">setIACA</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setI">preimage_setI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">z</span> // [<span class="id">_</span> []].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span>/= =&gt; /[<span class="id">swap</span>] /<span class="id">le_trans</span> /[<span class="id">apply</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leNgt</span> <span class="id">mulNr</span> <span class="id">gtr_opp</span>// <span class="id">mulr_gt0</span>// <span class="id">divr_gt0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulNr</span> <span class="id">gtr_opp</span>// <span class="id">mulr_gt0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">g</span> [<span class="id">ctsg</span> <span class="id">gL3</span> <span class="id">gR3</span> <span class="id">grng</span>]; <span class="kwd">exists</span> <span class="id">g</span>; <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">ler_norml</span> -<span class="id">mulNr</span>; <span class="id">apply</span>: <span class="id">grng</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">have</span> := <span class="id">fA1</span> <span class="id">_</span> <span class="id">Ax</span>; <span class="id">rewrite</span> 2!<span class="id">ler_norml</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Mfx</span> <span class="id">fxM</span>].<br/>
<span class="id">have</span> [<span class="id">xL</span>|<span class="id">xL</span>] := <span class="id">leP</span> (<span class="id">f</span> <span class="id">x</span>) (-(1/3) * <span class="id">M</span>%:<span class="id">num</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span>: [<span class="id">set</span> <span class="id">g</span> <span class="id">x</span> | <span class="id"><a name="x:227">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> `&amp;` <span class="id">f</span>@^-1` `]-<span class="id">oo</span>, -(1/3) * <span class="id">M</span>%:<span class="id">num</span>]] (<span class="id">g</span> <span class="id">x</span>) <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">gL3</span>=&gt; -&gt;; <span class="id">rewrite</span> !<span class="id">mulNr</span> <span class="id">opprK</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_subl_addr</span> -<span class="id">opprD</span> -2!<span class="id">mulrDl</span> <span class="id">natr1</span> <span class="id">divrr</span> ?<span class="id">unitfE</span>// <span class="id">mul1r</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ler_subr_addr</span> -2!<span class="id">mulrBl</span> -(@<span class="id">natrB</span> <span class="id">_</span> 2 1)// (<span class="id">le_trans</span> <span class="id">xL</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pmul2r</span>// <span class="id">ltW</span>// <span class="id">gtr_opp</span>// <span class="id">divr_gt0</span>.<br/>
<span class="id">have</span> [<span class="id">xR</span>|<span class="id">xR</span>] := <span class="id">lerP</span> (1/3 * <span class="id">M</span>%:<span class="id">num</span>) (<span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> : [<span class="id">set</span> <span class="id">g</span> <span class="id">x</span> | <span class="id"><a name="x:228">x</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> `&amp;` <span class="id">f</span>@^-1` `[1/3 * <span class="id">M</span>%:<span class="id">num</span>, +<span class="id">oo</span>[] (<span class="id">g</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> /= <span class="id">in_itv</span> //= <span class="id">xR</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">gR3</span> =&gt; -&gt;; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_subr_addl</span> -2!<span class="id">mulrBl</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">xR</span>)// <span class="id">ler_pmul2r</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_wpmul2r</span> ?<span class="id">invr_ge0</span> ?<span class="id">ler0n</span>// <span class="id">ler_subl_addl</span> <span class="id">natr1</span> <span class="id">ler1n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_subl_addl</span> -2!<span class="id">mulrDl</span> <span class="id">nat1r</span> <span class="id">divrr</span> ?<span class="id">mul1r</span>// <span class="id">unitfE</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ng3</span> <span class="id">pg3</span>] : -(1/3) * <span class="id">M</span>%:<span class="id">num</span> &lt;= <span class="id">g</span> <span class="id">x</span> &lt;= 1/3 * <span class="id">M</span>%:<span class="id">num</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">grng</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> ?(<span class="id">intrD</span> <span class="id">_</span> 1 1) !<span class="id">mulrDl</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span> <span class="id">ler_sub</span>// -<span class="id">mulNr</span> <span class="id">ltW</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ler_add</span> (<span class="id">ltW</span> <span class="id">_</span>))// <span class="id">ler_oppl</span> -<span class="id">mulNr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="Tietze.tietze_step">tietze_step</a></span> (<span class="id"><a name="f:229">f</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>) <span class="id"><a name="M:230">M</a></span> :<br/>
&nbsp;&nbsp;{<span class="id"><a name="g:231">g</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span> | {<span class="id">within</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; 0 &lt; <span class="id">M</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:232">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>) -&gt; [/\ <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:233">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span> - <span class="id">g</span> <span class="id">x</span>| &lt;= 2/3 * <span class="id">M</span> :&gt;<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; <span class="kwd">forall</span> <span class="id"><a name="x:234">x</a></span>, `|<span class="id">g</span> <span class="id">x</span>| &lt;= 1/3 * <span class="id">M</span> ]}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span>.<br/>
<span class="id">have</span> [|?] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> ({<span class="id">within</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>, <span class="id">continuous</span> <span class="id">f</span>}); <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="id">have</span> [|?] := <span class="id">ltP</span> 0 <span class="id">M</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="id">have</span> [|?] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="kwd">forall</span> <span class="id"><a name="x:235">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">bd</span> <span class="id">pm</span> <span class="id">cf</span>; <span class="id">have</span> [<span class="id">g</span> ?] := <span class="id">tietze_step</span>' <span class="id">pm</span> <span class="id">cf</span> <span class="id">bd</span>; <span class="kwd">exists</span> <span class="id">g</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="Tietze.onem_twothirds">onem_twothirds</a></span> : 1 - 2/3%:<span class="id">R</span> = 1/3%:<span class="id">R</span> :&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">subr_eq</span>/= -<span class="id">mulrDl</span> <span class="id">nat1r</span> <span class="id">divrr</span>// <span class="id">unitfE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_bounded_extension">continuous_bounded_extension</a></span> (<span class="id"><a name="f:236">f</a></span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span>) <span class="id"><a name="M:237">M</a></span> :<br/>
&nbsp;&nbsp;0 &lt; <span class="id">M</span> -&gt; {<span class="id">within</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:238">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="g:239">g</a></span>, [/\ {<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>, <span class="id">f</span> =1 <span class="id">g</span>}, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">g</span> &amp; <span class="kwd">forall</span> <span class="id"><a name="x:240">x</a></span>, `|<span class="id">g</span> <span class="id">x</span>| &lt;= <span class="id">M</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
<span class="id">move</span>: <span class="id">M</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">M</span>] <span class="id">Af</span> <span class="id">fbd</span>; <span class="id">pose</span> <span class="id">M2d3</span> <span class="id"><a name="n:241">n</a></span> := <span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> <span class="id">M</span>%:<span class="id">num</span> (2/3) <span class="id">n</span>.<br/>
<span class="id">have</span> <span class="id">MN0</span> <span class="id">n</span> : 0 &lt; <span class="id">M2d3</span> <span class="id">n</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">M2d3</span> /<span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> /<span class="id"><a href="mathcomp.analysis.sequences.html#mk_sequence">mk_sequence</a></span>.<br/>
<span class="id">pose</span> <span class="id">f_</span> := <span class="kwd">fix</span> <span class="id">F</span> <span class="id"><a name="n:243">n</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">n</span> <span class="id">is</span> <span class="id">n</span>.+1 <span class="kwd">then</span> <span class="id">F</span> <span class="id">n</span> - <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">F</span> <span class="id">n</span>) (<span class="id">M2d3</span> <span class="id">n</span>)) <span class="kwd">else</span> <span class="id">f</span>.<br/>
<span class="id">pose</span> <span class="id">g_</span> <span class="id"><a name="n:246">n</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) (<span class="id">M2d3</span> <span class="id">n</span>)).<br/>
<span class="id">have</span> <span class="id">fgE</span> <span class="id">n</span> : <span class="id">f_</span> <span class="id">n</span> - <span class="id">f_</span> <span class="id">n</span>.+1 = <span class="id">g_</span> <span class="id">n</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">opprB</span> <span class="id">addrC</span> <span class="id">subrK</span>.<br/>
<span class="id">have</span> <span class="id">twothirds1</span> : `|2/3| &lt; 1 :&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_norm</span> //= <span class="id">ltr_pdivr_mulr</span>// <span class="id">mul1r</span> <span class="id">ltr_nat</span>.<br/>
<span class="id">have</span> <span class="id">f_geo</span> <span class="id">n</span> : {<span class="id">within</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span>, <span class="id">continuous</span> <span class="id">f_</span> <span class="id">n</span>} /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:249">x</a></span>, <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.A">A</a></span> <span class="id">x</span> -&gt; `|<span class="id">f_</span> <span class="id">n</span> <span class="id">x</span>| &lt;= <span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> <span class="id">M</span>%:<span class="id">num</span> (2/3) <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> [<span class="id">ctsN</span> <span class="id">bdN</span>]]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">split</span>=&gt; //= <span class="id">x</span> ?; <span class="id">rewrite</span> <span class="id">expr0</span> <span class="id">mulr1</span> <span class="id">fbd</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">cg</span> <span class="id">bdNS</span> <span class="id">bd2</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) <span class="id">_</span>) <span class="id">ctsN</span> (<span class="id">MN0</span> <span class="id">n</span>) <span class="id">bdN</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; [<span class="id">x</span>|]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgB">cvgB</a></span>; [<span class="id">exact</span>:<span class="id">ctsN</span>|<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>/<span class="id">cg</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">bdNS</span> <span class="id">_</span> <span class="id">Ax</span>))// /<span class="id">M2d3</span>/= <span class="id">mulrCA</span> -<span class="id">exprS</span>.<br/>
<span class="id">have</span> <span class="id">g_cts</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">g_</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [? ?] := <span class="id">f_geo</span> <span class="id">n</span>; <span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) <span class="id">_</span>) <span class="id">_</span> (<span class="id">MN0</span> <span class="id">n</span>)).<br/>
<span class="id">have</span> <span class="id">g_bd</span> <span class="id">n</span> : <span class="kwd">forall</span> <span class="id"><a name="x:252">x</a></span>, `|<span class="id">g_</span> <span class="id">n</span> <span class="id">x</span>| &lt;= <span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> ((1/3) * <span class="id">M</span>%:<span class="id">num</span>) (2/3) <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ctsN</span> <span class="id">bdfN</span>] := <span class="id">f_geo</span> <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.sequences.html#geometric">geometric</a></span> /= -[<span class="id">_</span> * <span class="id">M</span>%:<span class="id">num</span> * <span class="id">_</span>]<span class="id">mulrA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [<span class="id">_</span> <span class="id">_</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.tietze_step">tietze_step</a></span> (<span class="id">f_</span> <span class="id">n</span>) <span class="id">_</span>) <span class="id">ctsN</span> (<span class="id">MN0</span> <span class="id">n</span>) <span class="id">bdfN</span>.<br/>
<span class="id">pose</span> <span class="id">h_</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; [<span class="id">completeType</span> <span class="id">of</span> {<span class="id">uniform</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id">_</span>}] :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> [<span class="id">zmodType</span> <span class="id">of</span> {<span class="id">uniform</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> -&gt; <span class="id">_</span>}] <span class="id">g_</span>.<br/>
<span class="id">have</span> <span class="id">cvgh</span>' : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">h_</span> @ \<span class="id">oo</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cauchy_cvgP">cauchy_cvgP</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cauchy_ballP">cauchy_ballP</a></span> =&gt; <span class="id">eps</span> <span class="id">epos</span>; <span class="id">near_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : \<span class="kwd">forall</span> <span class="id"><a name="x:253">x</a></span> &amp; <span class="id"><a name="x':254">x</a></span>' \<span class="id">near</span> \<span class="id">oo</span>, (<span class="id">x</span>' &lt;= <span class="id">x</span>)%<span class="id">N</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (<span class="id">h_</span> <span class="id">x</span>) <span class="id">eps</span> (<span class="id">h_</span> <span class="id">x</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt;/[<span class="id">dup</span>]; <span class="id">rewrite</span> {1}<span class="id"><a href="mathcomp.analysis.topology.html#near_swap">near_swap</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app2">filter_app2</a></span>; <span class="id">near</span>=&gt; <span class="id">n</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[<span class="id">mn</span> /(<span class="id">_</span> <span class="id">mn</span>)/<span class="id"><a href="mathcomp.analysis.topology.html#ball_sym">ball_sym</a></span> + <span class="id">_</span>| ? <span class="id">_</span>] := <span class="id">leq_total</span> <span class="id">n</span> <span class="id">m</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">n</span> <span class="id">m</span>; <span class="id">move</span>=&gt; /= <span class="id">MN</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /= /<span class="id">h_</span> =&gt; <span class="id">t</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> `|<span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span>|]/((<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> <span class="id">g_</span> <span class="id">n</span> - <span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> <span class="id">g_</span> <span class="id">m</span>) <span class="id">t</span>) <span class="id"><a href="mathcomp.analysis.sequences.html#sub_series">sub_series</a></span> <span class="id">MN</span> <span class="id"><a href="mathcomp.classical.functions.html#fct_sumE">fct_sumE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_sum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_sum</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="i:256">i</a></span> <span class="id">_</span> =&gt; <span class="id">g_bd</span> <span class="id">i</span> <span class="id">t</span>)))// -<span class="id">mulr_sumr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">subnKC</span> <span class="id">MN</span>) <span class="id"><a href="mathcomp.analysis.sequences.html#geometric_partial_tail">geometric_partial_tail</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">L</span> := (1/3) * <span class="id">M</span>%:<span class="id">num</span> * ((2/3) ^+ <span class="id">m</span> / (1 - (2/3))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">L</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pmul2l</span> // <span class="id"><a href="mathcomp.analysis.sequences.html#geometric_le_lim">geometric_le_lim</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">L</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.onem_twothirds">onem_twothirds</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">_</span> ^+ <span class="id">_</span> * <span class="id">_</span> ^-1]<span class="id">mulrC</span> <span class="id">mulrA</span> -[<span class="id">x</span> <span class="kwd">in</span> <span class="id">x</span> &lt; <span class="id">_</span>]<span class="id">ger0_norm</span>; <span class="id">last</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="id">near</span>: <span class="id">m</span>; <span class="id">near_simpl</span>; <span class="id">move</span>: <span class="id">eps</span> <span class="id">epos</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0_norm_lt">cvgr0_norm_lt</a></span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span>)); <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#cvg_geometric">cvg_geometric</a></span>.<br/>
<span class="id">have</span> <span class="id">cvgh</span> : {<span class="id">uniform</span>, <span class="id">h_</span> @ \<span class="id">oo</span> --&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">h_</span> @ \<span class="id">oo</span>)}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.topology.html#uniform_nbhsT">uniform_nbhsT</a></span>; <span class="id">exact</span>: <span class="id">cvgh</span>'.<br/>
<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">h_</span> @ \<span class="id">oo</span>)); <span class="id">split</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">t</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">At</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#pointwise_cvgP">pointwise_cvgP</a></span>/(<span class="id">_</span> <span class="id">t</span>)/(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (@<span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> <span class="id">_</span>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!! <span class="id"><a href="mathcomp.analysis.topology.html#pointwise_uniform_cvg">pointwise_uniform_cvg</a></span> <span class="id">_</span> <span class="id">cvgh</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#fmap_comp">fmap_comp</a></span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span> /<span class="id">h_</span> =&gt; &lt;-; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/(@<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_zero">cvg_zero</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span>]).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#norm_cvg0">norm_cvg0</a></span>; <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">distrC</span> /<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> /= -<span class="id">mulN1r</span> <span class="id"><a href="mathcomp.classical.functions.html#fct_sumE">fct_sumE</a></span> <span class="id">mulr_sumr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">under</span> [<span class="kwd">fun</span> <span class="id">_</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> =&gt; <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id">mulN1r</span> -<span class="id">fgE</span> <span class="id">opprB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">telescope_sumr</span> //= <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">over</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#norm_cvg0P">norm_cvg0P</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0Pnorm_lt">cvgr0Pnorm_lt</a></span> =&gt; <span class="id">eps</span> <span class="id">epos</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">epos</span>)  := @<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0_norm_lt">cvgr0_norm_lt</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#eventually_filter">eventually_filter</a></span> (<span class="id">_</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.R">R</a></span>^<span class="id">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.sequences.html#cvg_geometric">cvg_geometric</a></span> <span class="id">M</span>%:<span class="id">num</span> <span class="id">twothirds1</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>; <span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span> =&gt; <span class="id">n</span> /<span class="id">le_lt_trans</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> ((<span class="id">f_geo</span> <span class="id">n</span>).2 <span class="id">_</span> <span class="id">_</span>)) // <span class="id">ler_norm</span>.<br/>
- <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#uniform_limit_continuous">uniform_limit_continuous</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.X">X</a></span> <span class="id">_</span> (<span class="id">h_</span> @ \<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">h_</span> @ \<span class="id">oo</span>))) =&gt;//.<br/>
&nbsp;&nbsp;<span class="id">near_simpl</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span>; <span class="id">elim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">h_</span> /<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> /= <span class="id">big_geq</span>// =&gt; ?; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> /<span class="id">h_</span> /<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> /= <span class="id">big_nat_recr</span> /= // =&gt; <span class="id">IH</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousD">continuousD</a></span>; [<span class="id">exact</span>: <span class="id">IH</span>|<span class="id">exact</span>: <span class="id">g_cts</span>].<br/>
- <span class="id">move</span>=&gt; <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#pointwise_cvgP">pointwise_cvgP</a></span>/(<span class="id">_</span> <span class="id">t</span>)/(<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (@<span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> <span class="id">_</span>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!! <span class="id"><a href="mathcomp.analysis.topology.html#pointwise_uniform_cvg">pointwise_uniform_cvg</a></span> <span class="id">_</span> <span class="id">cvgh</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#fmap_comp">fmap_comp</a></span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#comp">comp</a></span> /<span class="id">h_</span> =&gt; &lt;-.<br/>
&nbsp;&nbsp;<span class="id">under</span> [<span class="kwd">fun</span> <span class="id">_</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> =&gt; <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> /= <span class="id"><a href="mathcomp.classical.functions.html#fct_sumE">fct_sumE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">cvg_gt</span> : <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> [<span class="id">normed</span> <span class="id"><a href="mathcomp.analysis.sequences.html#series">series</a></span> (<span class="id">g_</span>^~ <span class="id">t</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.sequences.html#series_le_cvg">series_le_cvg</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">g_bd</span> ^~ <span class="id">t</span>) (<span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_geometric_series">is_cvg_geometric_series</a></span> <span class="id">_</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id">mulr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#lim_series_norm">lim_series_norm</a></span> <span class="id">_</span>))//; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/(<span class="id"><a href="mathcomp.analysis.sequences.html#lim_series_le">lim_series_le</a></span> <span class="id">cvg_gt</span> <span class="id">_</span> (<span class="id">g_bd</span> ^~ <span class="id">t</span>))/<span class="id"><a href="mathcomp.analysis.sequences.html#is_cvg_geometric_series">is_cvg_geometric_series</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#cvg_geometric_series">cvg_geometric_series</a></span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze.onem_twothirds">onem_twothirds</a></span> <span class="id">mulrAC</span> <span class="id">divrr</span> ?<span class="id">mul1r</span>// <span class="id">unitfE</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.numfun.html#Tietze">Tietze</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
