
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.lebesgue_measure</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.lebesgue_measure" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.lebesgue_measure</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">ssrint</span> <span class="id">interval</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">finmap</span> <span class="id">fingroup</span> <span class="id">perm</span> <span class="id">rat</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.fsbigop.html">fsbigop</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.numfun.html">numfun</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span>.<br/>
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.sequences.html">sequences</a></span> <span class="id"><a href="mathcomp.analysis.esum.html">esum</a></span> <span class="id"><a href="mathcomp.analysis.measure.html">measure</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html">real_interval</a></span> <span class="id"><a href="mathcomp.analysis.realfun.html">realfun</a></span> <span class="id"><a href="mathcomp.analysis.exp.html">exp</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html">lebesgue_stieltjes_measure</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                           Lebesgue Measure                                
                                                                           
This file contains a formalization of the Lebesgue measure using the       
Measure Extension theorem from measure.v and further develops the theory   
of measurable functions.                                                   
                                                                           
Main reference:                                                            
- Daniel Li, Int√©gration et applications, 2016                             
- Achim Klenke, Probability Theory 2nd edition, 2014                       
                                                                           
     lebesgue_measure == the Lebesgue measure                              
             ps_infty == inductive definition of the powerset              
                         {0, {-oo}, {+oo}, {-oo,+oo}}                      
        emeasurable G == sigma-algebra over \bar R built out of the        
                         measurables G of a sigma-algebra over R           
    elebesgue_measure == the Lebesgue measure extended to \bar R           
                                                                           
The modules RGenOInfty, RGenInftyO, RGenCInfty, RGenOpens provide proofs   
of equivalence between the sigma-algebra generated by list of intervals    
and the sigma-algebras generated by open rays, closed rays, and open       
intervals.                                                                 
                                                                           
The modules ErealGenOInfty, ErealGenCInfty, ErealGenInftyO provide proofs  
of equivalence between emeasurable and the sigma-algebras generated open   
rays and closed rays.                                                      
                                                                           
    vitali_cover A B V == V is a Vitali cover of A, here B is a            
                          collection of non-empty closed balls             
                                                                           
</pre>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.topology.html#numFieldTopology.Exports">numFieldTopology.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LebesgueMeasure">LebesgueMeasure</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="LebesgueMeasure.hlength">hlength</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:1">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">i</span> <span class="id">j</span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LebesgueMeasure.hlength">hlength</a></span> (<span class="id"><a name="A:2">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv_type">ocitv_type</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>)) : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id"><a name="i:3">i</a></span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#Rhull">Rhull</a></span> <span class="id">A</span> <span class="kwd">in</span> <span class="id">i</span>.2 - <span class="id">i</span>.1.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength0">hlength0</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#Rhull0">Rhull0</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_singleton">hlength_singleton</a></span> (<span class="id"><a name="r:4">r</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> `[<span class="id">r</span>, <span class="id">r</span>] = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> /= <span class="id"><a href="mathcomp.classical.boolp.html#asboolT">asboolT</a></span>// <span class="id"><a href="mathcomp.analysis.real_interval.html#sup_itvcc">sup_itvcc</a></span>//= <span class="id"><a href="mathcomp.classical.boolp.html#asboolT">asboolT</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#asboolT">asboolT</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html#inf_itvcc">inf_itvcc</a></span>//= ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_setT">hlength_setT</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> = +<span class="id">oo</span>%<span class="id">E</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html#RhullT">RhullT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_itv">hlength_itv</a></span> <span class="id"><a name="i:5">i</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>] = <span class="kwd">if</span> <span class="id">i</span>.2 &gt; <span class="id">i</span>.1 <span class="kwd">then</span> <span class="id">i</span>.2 - <span class="id">i</span>.1 <span class="kwd">else</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">case</span>: <span class="id">ltP</span> =&gt; [/<span class="id"><a href="mathcomp.analysis.real_interval.html#lt_ereal_bnd">lt_ereal_bnd</a></span>/<span class="id"><a href="mathcomp.classical.set_interval.html#neitvP">neitvP</a></span> <span class="id">i12</span>|]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html#set_itvK">set_itvK</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|/<span class="id"><a href="mathcomp.analysis.real_interval.html#lt_ereal_bnd">lt_ereal_bnd</a></span> <span class="id">i12</span>]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span>` <span class="id">i</span>] = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) ?<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>; <span class="id">rewrite</span> -/(<span class="id"><a href="mathcomp.classical.set_interval.html#neitv">neitv</a></span> <span class="id">_</span>) <span class="id"><a href="mathcomp.classical.set_interval.html#neitvE">neitvE</a></span> -<span class="id">leNgt</span> (<span class="id">ltW</span> <span class="id">i12</span>).<br/>
<span class="id">case</span>: <span class="id">i</span> =&gt; -[<span class="id">ba</span> <span class="id">a</span>|[|]] [<span class="id">bb</span> <span class="id">b</span>|[|]] //=.<br/>
- <span class="id">rewrite</span> /= =&gt; /<span class="id">eqP</span>[-&gt;{<span class="id">b</span>}]; <span class="id">move</span>: <span class="id">ba</span> <span class="id">bb</span> =&gt; -[] []; <span class="id">try</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_singleton">hlength_singleton</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_finite_fin_num">hlength_finite_fin_num</a></span> <span class="id"><a name="i:6">i</a></span> : <span class="id"><a href="mathcomp.classical.set_interval.html#neitv">neitv</a></span> <span class="id">i</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>] &lt; +<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;((<span class="id">i</span>.1 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>) /\ ((<span class="id">i</span>.2 : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">move</span>: <span class="id">i</span> =&gt; [[<span class="id">ba</span> <span class="id">a</span>|[]] [<span class="id">bb</span> <span class="id">b</span>|[]]] /<span class="id"><a href="mathcomp.classical.set_interval.html#neitvP">neitvP</a></span> //=; <span class="id">do</span> ?<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> ?<span class="id">eqxx</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.finite_hlength_itv">finite_hlength_itv</a></span> <span class="id"><a name="i:7">i</a></span> : <span class="id"><a href="mathcomp.classical.set_interval.html#neitv">neitv</a></span> <span class="id">i</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>] &lt; +<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>] = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">i</span>.2)%:<span class="id">E</span> - (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">i</span>.1)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move</span>=&gt; <span class="id">i0</span> <span class="id">ioo</span>; <span class="id">have</span> [<span class="id">ri1</span> <span class="id">ri2</span>] := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_finite_fin_num">hlength_finite_fin_num</a></span> <span class="id">i0</span> <span class="id">ioo</span>.<br/>
<span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //.<br/>
<span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[-&gt;|]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.real_interval.html#lt_ereal_bnd">lt_ereal_bnd</a></span>/<span class="id">ltW</span>; <span class="id">rewrite</span> <span class="id">leNgt</span>; <span class="id">move</span>: <span class="id">i0</span> =&gt; /<span class="id"><a href="mathcomp.classical.set_interval.html#neitvP">neitvP</a></span> =&gt; -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_infty_bnd">hlength_infty_bnd</a></span> <span class="id"><a name="b:8">b</a></span> <span class="id"><a name="r:9">r</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">r</span>)] = +<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_bnd_infty">hlength_bnd_infty</a></span> <span class="id"><a name="b:10">b</a></span> <span class="id"><a name="r:11">r</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">r</span>) +<span class="id">oo</span>%<span class="id">O</span>] = +<span class="id">oo</span> :&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.infinite_hlength_itv">infinite_hlength_itv</a></span> <span class="id"><a name="i:12">i</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>] = +<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">exists</span> <span class="id"><a name="s:13">s</a></span> <span class="id"><a name="r:14">r</a></span>, <span class="id">i</span> = <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">s</span> <span class="id">r</span>) \/ <span class="id">i</span> = <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">s</span> <span class="id">r</span>) +<span class="id">oo</span>%<span class="id">O</span>)<br/>
&nbsp;&nbsp;\/ <span class="id">i</span> = `]-<span class="id">oo</span>, +<span class="id">oo</span>[.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span>; <span class="id">case</span>: <span class="id">i</span> =&gt; -[<span class="id">ba</span> <span class="id">a</span>|[]] [<span class="id">bb</span> <span class="id">b</span>|[]] //= =&gt; [|<span class="id">_</span>|<span class="id">_</span>|].<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">ba</span>, <span class="id">a</span>; <span class="id">right</span>.<br/>
- <span class="kwd">by</span> <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">bb</span>, <span class="id">b</span>; <span class="id">left</span>.<br/>
- <span class="kwd">by</span> <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_itv_ge0">hlength_itv_ge0</a></span> <span class="id"><a name="i:15">i</a></span> : 0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //; <span class="id">case</span>: (<span class="id">i</span>.1 : \<span class="id">bar</span> <span class="id">_</span>) =&gt; [<span class="id">r</span>| |].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#suber_ge0">suber_ge0</a></span>//; <span class="id">exact</span>: <span class="id">ltW</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: (<span class="id">i</span>.2 : \<span class="id">bar</span> <span class="id">_</span>) =&gt; //= [<span class="id">r</span> <span class="id">_</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_Rhull">hlength_Rhull</a></span> (<span class="id"><a name="A:16">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id"><a href="mathcomp.analysis.normedtype.html#Rhull">Rhull</a></span> <span class="id">A</span>] = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html#Rhull_involutive">Rhull_involutive</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.le_hlength_itv">le_hlength_itv</a></span> <span class="id"><a name="i:17">i</a></span> <span class="id"><a name="j:18">j</a></span> : {<span class="id">subset</span> <span class="id">i</span> &lt;= <span class="id">j</span>} -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">i</span>] &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> [<span class="id">set</span>` <span class="id">j</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">set</span> <span class="id">I</span> := [<span class="id">set</span>` <span class="id">i</span>]; <span class="id">set</span> <span class="id">J</span> := [<span class="id">set</span>` <span class="id">j</span>].<br/>
<span class="id">have</span> [-&gt;|/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span> <span class="id">I0</span>] := <span class="id">eqVneq</span> <span class="id">I</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv_ge0">hlength_itv_ge0</a></span>.<br/>
<span class="id">have</span> [<span class="id">J0</span>|/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span> <span class="id">J0</span>] := <span class="id">eqVneq</span> <span class="id">J</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.set_interval.html#subset_itvP">subset_itvP</a></span>; <span class="id">rewrite</span> -/<span class="id">J</span> <span class="id">J0</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> -/<span class="id">I</span> =&gt; -&gt;.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.set_interval.html#subset_itvP">subset_itvP</a></span> <span class="id">ij</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sub">lee_sub</a></span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ui</span>|<span class="id">ui</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">uj</span> /=|<span class="id">uj</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">J</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#le_sup">le_sup</a></span> // =&gt; <span class="id">r</span> <span class="id">Ir</span>; <span class="kwd">exists</span> <span class="id">r</span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id">ij</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">uj</span> /=|//] := <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> <span class="id">J</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">ui</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_has_ubound">subset_has_ubound</a></span> <span class="id">ij</span> <span class="id">uj</span>.<br/>
<span class="id">have</span> [<span class="id">lj</span> /=|<span class="id">lj</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id">J</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>.<br/>
<span class="id">have</span> [<span class="id">li</span> /=|<span class="id">li</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> <span class="id">I</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">li</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_has_lbound">subset_has_lbound</a></span> <span class="id">ij</span> <span class="id">lj</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.reals.html#le_sup">le_sup</a></span>// ?<span class="id"><a href="mathcomp.analysis.reals.html#has_inf_supN">has_inf_supN</a></span>//; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.set_interval.html#nonemptyN">nonemptyN</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">r</span> [<span class="id">r</span>' <span class="id">Ir</span>' &lt;-{<span class="id">r</span>}]; <span class="kwd">exists</span> (- <span class="id">r</span>')%<span class="id">R</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span>' =&gt; //; <span class="id">apply</span>: <span class="id">ij</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.le_hlength">le_hlength</a></span> : {<span class="id">homo</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> : <span class="id"><a name="A:19">A</a></span> <span class="id"><a name="B:20">B</a></span> / (<span class="id">A</span> `&lt;=` <span class="id">B</span>) &gt;-&gt; <span class="id">A</span> &lt;= <span class="id">B</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">move</span>=&gt; <span class="id">a</span> <span class="id">b</span> /<span class="id"><a href="mathcomp.analysis.real_interval.html#le_Rhull">le_Rhull</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.le_hlength_itv">le_hlength_itv</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_Rhull">hlength_Rhull</a></span> <span class="id">a</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_Rhull">hlength_Rhull</a></span> <span class="id">b</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_ge0">hlength_ge0</a></span> <span class="id"><a name="I:23">I</a></span> : (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id">I</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.le_hlength">le_hlength</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span>.<br/>
#[<span class="id">local</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (0%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id">_</span>) =&gt; <span class="id">solve</span>[<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_ge0">hlength_ge0</a></span>] : <span class="id">core</span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="LebesgueMeasure.hlength_extension">hlength_extension</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:24">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="LebesgueMeasure.hlength">hlength</a></span> := (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_semi_additive">hlength_semi_additive</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#semi_additive">semi_additive</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move</span>=&gt; /= <span class="id">I</span> <span class="id">n</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>-/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#all_sig">all_sig</a></span>[<span class="id">b</span>]/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#all_and2">all_and2</a></span>[<span class="id">_</span>]/(<span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>-/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> {<span class="id">I</span>}-&gt;.<br/>
<span class="id">move</span>=&gt; <span class="id">Itriv</span> [[/= <span class="id">a1</span> <span class="id">a2</span>] <span class="id">_</span>] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> /[<span class="id">dup</span>] + -&gt;.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>/= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>.<br/>
<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">a12</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">I</span> <span class="id"><a name="i:25">i</a></span> :=  `](<span class="id">b</span> <span class="id">i</span>).1, (<span class="id">b</span> <span class="id">i</span>).2]%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span>//= -(<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkord">bigcup_mkord</a></span> <span class="id">_</span> <span class="id">I</span>) /<span class="id">I</span> =&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup0P">bigcup0P</a></span> <span class="id">I0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_bigr</span> =&gt; <span class="id">i</span> <span class="id">_</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">I0</span>//= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength0">hlength0</a></span>; <span class="id">rewrite</span> <span class="id">big1</span>.<br/>
<span class="id">set</span> <span class="id">A</span> := `]<span class="id">a1</span>, <span class="id">a2</span>]%<span class="id">classic</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_pred">bigcup_pred</a></span>; <span class="id">set</span> <span class="id">P</span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>; <span class="id">rewrite</span> (<span class="id">eq_bigl</span> <span class="id">P</span>)//.<br/>
<span class="id">move</span>: <span class="id">P</span> =&gt; <span class="id">P</span>; <span class="id">have</span> [<span class="id">p</span>] := <span class="id">ubnP</span> #|<span class="id">P</span>|; <span class="id">elim</span>: <span class="id">p</span> =&gt; // <span class="id">p</span> <span class="id">IHp</span> <span class="kwd">in</span> <span class="id">P</span> <span class="id">a2</span> <span class="id">a12</span> <span class="id">A</span> *.<br/>
<span class="id">rewrite</span> <span class="id">ltnS</span> =&gt; <span class="id">cP</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id">AE</span>.<br/>
<span class="id">have</span> : <span class="id">A</span> <span class="id">a2</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">A</span> /= <span class="id">in_itv</span>/= <span class="id">lexx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">AE</span>/= =&gt; -[<span class="id">i</span> /= <span class="id">Pi</span>] <span class="id">a2bi</span>.<br/>
<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> ((<span class="id">b</span> <span class="id">i</span>).1 &lt; (<span class="id">b</span> <span class="id">i</span>).2)) =&gt; <span class="id">bi</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">itv_ge</span> <span class="kwd">in</span> <span class="id">a2bi</span>.<br/>
<span class="id">have</span> {}<span class="id">a2bi</span> : <span class="id">a2</span> = (<span class="id">b</span> <span class="id">i</span>).2.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> (<span class="id">itvP</span> <span class="id">a2bi</span>)/=.<br/>
&nbsp;&nbsp;<span class="id">suff</span>: <span class="id">A</span> (<span class="id">b</span> <span class="id">i</span>).2 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">itvP</span>-&gt;.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">AE</span>; <span class="kwd">exists</span> <span class="id">i</span>=&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">lexx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
<span class="id">rewrite</span> {<span class="id">a2</span>}<span class="id">a2bi</span> <span class="kwd">in</span> <span class="id">a12</span> <span class="id">A</span> <span class="id">AE</span> *.<br/>
<span class="id">rewrite</span> (<span class="id">bigD1</span> <span class="id">i</span>)//= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>/= <span class="id">bi</span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>)%<span class="id">E</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span>// 1?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_defC">adde_defC</a></span>//.<br/>
<span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="id">case</span>: (<span class="id">eqVneq</span> <span class="id">a1</span> (<span class="id">b</span> <span class="id">i</span>).1) =&gt; <span class="id">a1bi</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> {<span class="id">a1</span>}<span class="id">a1bi</span> <span class="kwd">in</span> <span class="id">a12</span> <span class="id">A</span> <span class="id">AE</span> {<span class="id">IHp</span>} *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> ?<span class="id">big1</span>// =&gt; <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Pj</span> <span class="id">Nji</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">bj</span>//.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetP">trivIsetP</a></span>/(<span class="id">_</span> <span class="id">j</span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span> <span class="id">Nji</span>) := <span class="id">Itriv</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">m</span> := ((<span class="id">b</span> <span class="id">j</span>).1 + (<span class="id">b</span> <span class="id">j</span>).2) / 2%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">mbj</span> : `](<span class="id">b</span> <span class="id">j</span>).1, (<span class="id">b</span> <span class="id">j</span>).2]%<span class="id">classic</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= !<span class="id">in_itv</span>/= ?(<span class="id">midf_lt</span>, <span class="id">midf_le</span>)//= <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> =&gt; /(<span class="id">_</span> <span class="id">m</span>); <span class="id">apply</span>; <span class="id">split</span>=&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">suff</span>: <span class="id">A</span> <span class="id">m</span> <span class="kwd">by</span> []; <span class="id">rewrite</span> <span class="id">AE</span>; <span class="kwd">exists</span> <span class="id">j</span> =&gt; //.<br/>
<span class="id">have</span> <span class="id">a1b2</span> <span class="id">j</span> : <span class="id">P</span> <span class="id">j</span> -&gt; (<span class="id">b</span> <span class="id">j</span>).1 &lt; (<span class="id">b</span> <span class="id">j</span>).2 -&gt; <span class="id">a1</span> &lt;= (<span class="id">b</span> <span class="id">j</span>).2.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Pj</span> <span class="id">bj</span>; <span class="id">suff</span> /<span class="id">itvP</span>-&gt; : <span class="id">A</span> (<span class="id">b</span> <span class="id">j</span>).2 <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">AE</span>; <span class="kwd">exists</span> <span class="id">j</span> =&gt; //=; <span class="id">rewrite</span> ?<span class="id">in_itv</span>/= <span class="id">bj</span>//=.<br/>
<span class="id">have</span> <span class="id">a1b</span> <span class="id">j</span> : <span class="id">P</span> <span class="id">j</span> -&gt; (<span class="id">b</span> <span class="id">j</span>).1 &lt; (<span class="id">b</span> <span class="id">j</span>).2 -&gt; <span class="id">a1</span> &lt;= (<span class="id">b</span> <span class="id">j</span>).1.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Pj</span> <span class="id">bj</span>; <span class="id">case</span>: <span class="id">ltP</span>=&gt; // <span class="id">bj1a</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : <span class="id">A</span> <span class="id">a1</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">A</span>/= <span class="id">in_itv</span>/= <span class="id">ltxx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">AE</span>; <span class="kwd">exists</span> <span class="id">j</span>; <span class="id">rewrite</span> //= <span class="id">in_itv</span>/= <span class="id">bj1a</span>//= <span class="id">a1b2</span>.<br/>
<span class="id">have</span> <span class="id">bbi2</span> <span class="id">j</span> : <span class="id">P</span> <span class="id">j</span> -&gt; (<span class="id">b</span> <span class="id">j</span>).1 &lt; (<span class="id">b</span> <span class="id">j</span>).2 -&gt; (<span class="id">b</span> <span class="id">j</span>).2 &lt;= (<span class="id">b</span> <span class="id">i</span>).2.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Pj</span> <span class="id">bj</span>; <span class="id">suff</span> /<span class="id">itvP</span>-&gt; : <span class="id">A</span> (<span class="id">b</span> <span class="id">j</span>).2 <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">AE</span>; <span class="kwd">exists</span> <span class="id">j</span> =&gt; //=; <span class="id">rewrite</span> ?<span class="id">in_itv</span>/= <span class="id">bj</span>//=.<br/>
<span class="id">apply</span>/<span class="id">IHp</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_neqAle</span> <span class="id">a1bi</span>/= <span class="id">a1b</span>.<br/>
- <span class="id">rewrite</span> (<span class="id">leq_trans</span> <span class="id">_</span> <span class="id">cP</span>)// -(<span class="id">cardID</span> (<span class="id">pred1</span> <span class="id">i</span>) <span class="id">P</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> (<span class="id">_</span> &lt; <span class="id">X</span> + <span class="id">_</span>)%<span class="id">N</span>](@<span class="id">eq_card</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">pred1</span> <span class="id">i</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span>; <span class="id">case</span>: <span class="id">eqVneq</span> =&gt; // -&gt;.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id">card1</span> ?<span class="id">ltnS</span>// <span class="id">subset_leq_card</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">fintype.subsetP</span> =&gt; <span class="id">j</span>; <span class="id">rewrite</span> -<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#topredE">topredE</a></span>/= !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; /= [<span class="id">x</span> [<span class="id">j</span>/= /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">Pj</span> <span class="id">Nji</span>]]|<span class="id">x</span>/= <span class="id">xabi</span>].<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> ((<span class="id">b</span> <span class="id">j</span>).1 &lt; (<span class="id">b</span> <span class="id">j</span>).2)) =&gt; <span class="id">bj</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">itv_ge</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">subitvP</span>; <span class="id">rewrite</span> <span class="id">subitvE</span> ?<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bnd_simp">bnd_simp</a></span> <span class="id">a1b</span>//= <span class="id">leNgt</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetP">trivIsetP</a></span>/(<span class="id">_</span> <span class="id">j</span> <span class="id">i</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span> <span class="id">Nji</span>) := <span class="id">Itriv</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#subset0">subset0</a></span> =&gt; /(<span class="id">_</span> (<span class="id">b</span> <span class="id">j</span>).2); <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra_notN">contra_notN</a></span> =&gt; /= <span class="id">bi1j2</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">in_itv</span>/= <span class="id">bj</span> !<span class="id">lexx</span> <span class="id">bi1j2</span> <span class="id">bbi2</span>.<br/>
<span class="id">have</span>: <span class="id">A</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">A</span>/= <span class="id">in_itv</span>/= (<span class="id">itvP</span> <span class="id">xabi</span>)/= <span class="id">ltW</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">bi</span>) ?(<span class="id">itvP</span> <span class="id">xabi</span>).<br/>
<span class="id">rewrite</span> <span class="id">AE</span> =&gt; -[<span class="id">j</span> /= <span class="id">Pj</span> <span class="id">xbj</span>].<br/>
<span class="kwd">exists</span> <span class="id">j</span> =&gt; //=.<br/>
<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>: <span class="id">contraTneq</span> <span class="id">xbj</span> =&gt; -&gt;.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">le_gtF</span>// (<span class="id">itvP</span> <span class="id">xabi</span>).<br/>
Qed.</div>
<br/>
<span class="id"><a name="LebesgueMeasure.HB_unnamed_factory_1">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#isContent.Build">isContent.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_ge0">hlength_ge0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_semi_additive">hlength_semi_additive</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 ((<span class="id">_</span> .-<span class="id">ocitv</span>).-<span class="id">measurable</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#is_ocitv">is_ocitv</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_sigma_sub_additive">hlength_sigma_sub_additive</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#sigma_sub_additive">sigma_sub_additive</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv_type">ocitv_type</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span>) -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move</span>=&gt; <span class="id">I</span> <span class="id">A</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>-/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#all_sig">all_sig</a></span>[<span class="id">b</span>]/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#all_and2">all_and2</a></span>[<span class="id">_</span>]/(<span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id">AE</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">a</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>/= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> =&gt; <span class="id">lebig</span>.<br/>
<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">a12</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addgt0Pr">lee_addgt0Pr</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">rewrite</span> [<span class="id">e</span>%:<span class="id">num</span>]<span class="id">splitr</span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subl_addr">lee_subl_addr</a></span>//.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.measure.html#epsilon_trick">epsilon_trick</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; //=.<br/>
<span class="id">have</span> <span class="id">eVn_gt0</span> <span class="id">n</span> : 0 &lt; <span class="id">e</span>%:<span class="id">num</span> / 2 / (2 ^ <span class="id">n</span>.+1)%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>// <span class="id">ltr0n</span>// <span class="id">expn_gt0</span>.<br/>
<span class="id">have</span> <span class="id">eVn_ge0</span> <span class="id">n</span> := <span class="id">ltW</span> (<span class="id">eVn_gt0</span> <span class="id">n</span>).<br/>
<span class="id">pose</span> <span class="id">Aoo</span> <span class="id"><a name="i:32">i</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv_type">ocitv_type</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span>) :=<br/>
&nbsp;&nbsp;`](<span class="id">b</span> <span class="id">i</span>).1, (<span class="id">b</span> <span class="id">i</span>).2 + <span class="id">e</span>%:<span class="id">num</span> / 2 / (2 ^ <span class="id">i</span>.+1)%:<span class="id">R</span>[%<span class="id">classic</span>.<br/>
<span class="id">pose</span> <span class="id">Aoc</span> <span class="id"><a name="i:34">i</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv_type">ocitv_type</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span>) :=<br/>
&nbsp;&nbsp;`](<span class="id">b</span> <span class="id">i</span>).1, (<span class="id">b</span> <span class="id">i</span>).2 + <span class="id">e</span>%:<span class="id">num</span> / 2 / (2 ^ <span class="id">i</span>.+1)%:<span class="id">R</span>]%<span class="id">classic</span>.<br/>
<span class="id">have</span>: `[<span class="id">a</span>.1 + <span class="id">e</span>%:<span class="id">num</span> / 2, <span class="id">a</span>.2] `&lt;=` \<span class="id">bigcup_i</span> <span class="id">Aoo</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">_</span> `]<span class="id">a</span>.1, <span class="id">a</span>.2]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= !<span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[+ -&gt; //].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">lt_le_trans</span>-&gt; //; <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">lebig</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_bigcup">subset_bigcup</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">AE</span> /<span class="id">Aoo</span>/=.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> !<span class="id">in_itv</span> /= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt; /<span class="id">le_lt_trans</span>-&gt;]//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> := @<span class="id"><a href="mathcomp.analysis.normedtype.html#segment_compact">segment_compact</a></span> <span class="id">_</span> (<span class="id">a</span>.1 + <span class="id">e</span>%:<span class="id">num</span> / 2) <span class="id">a</span>.2; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#compact_cover">compact_cover</a></span>.<br/>
<span class="id">move</span>=&gt; /[<span class="id">apply</span>]-[<span class="id">i</span> <span class="id">_</span>|<span class="id">X</span> <span class="id">_</span> <span class="id">Xc</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
<span class="id">have</span>: `](<span class="id">a</span>.1 + <span class="id">e</span>%:<span class="id">num</span> / 2), <span class="id">a</span>.2] `&lt;=` \<span class="id">bigcup_</span>(<span class="id"><a name="i:37">i</a></span> <span class="kwd">in</span> [<span class="id">set</span>` <span class="id">X</span>]) <span class="id">Aoc</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id">subset_itv_oc_cc</span> /<span class="id">Xc</span> [<span class="id">i</span> /= <span class="id">Xi</span>] <span class="id">Aooix</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span> =&gt; //; <span class="id">apply</span>: <span class="id">subset_itv_oo_oc</span> <span class="id">Aooix</span>.<br/>
<span class="id">have</span> /[<span class="id">apply</span>] := @<span class="id"><a href="mathcomp.analysis.measure.html#content_sub_fsum">content_sub_fsum</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;[<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#content">content</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv_type">ocitv_type</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span>) -&gt; <span class="id">_</span>] <span class="id">_</span> [<span class="id">set</span>` <span class="id">X</span>].<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#Box">Box</a></span>[]//=; <span class="id">apply</span>: <span class="id">le_le_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> -?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>/= -<span class="id">addrA</span> -<span class="id">opprD</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltP</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">subr_le0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span>//= ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge">esum_ge</a></span>//; <span class="kwd">exists</span> [<span class="id">set</span>` <span class="id">X</span>] =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>// ?<span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span>//=.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//= <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> // =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> ?<span class="id">AE</span>// !<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span>/= ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> -?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>/=.<br/>
<span class="id">do</span> !<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //= ?; <span class="id">do</span> ?<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">adde_ge0</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>// ?<span class="id">subr_ge0</span>// ?<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrAC</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrAC</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_add</span>// <span class="id">subr_le0</span> <span class="id">leNgt</span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="LebesgueMeasure.HB_unnamed_factory_3">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#Content_SubSigmaAdditive_isMeasure.Build">Content_SubSigmaAdditive_isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_sigma_sub_additive">hlength_sigma_sub_additive</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LebesgueMeasure.hlength_sigma_finite">hlength_sigma_finite</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finite">sigma_finite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv_type">ocitv_type</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.R">R</a></span>) -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="k:38">k</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> =&gt; `] (- <span class="id">k</span>%:<span class="id">R</span>)%<span class="id">R</span>, <span class="id">k</span>%:<span class="id">R</span>]%<span class="id">classic</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#bigcup_itvT">bigcup_itvT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_itv">hlength_itv</a></span>/= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LebesgueMeasure.lebesgue_measure">lebesgue_measure</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#measure_extension">measure_extension</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength">hlength</a></span>].<br/>
<span class="id"><a name="LebesgueMeasure.HB_unnamed_factory_6">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.lebesgue_measure">lebesgue_measure</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="LebesgueMeasure.hlength_extension.sigmaT_finite_lebesgue_measure">sigmaT_finite_lebesgue_measure</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#sigma_finite">sigma_finite</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.lebesgue_measure">lebesgue_measure</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measure_extension_sigma_finite">measure_extension_sigma_finite</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_sigma_finite">hlength_sigma_finite</a></span>. Qed.</div>
<br/>
<span class="id"><a name="LebesgueMeasure.HB_unnamed_factory_11">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := @<span class="id"><a href="mathcomp.analysis.measure.html#isSigmaFinite.Build">isSigmaFinite.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension.sigmaT_finite_lebesgue_measure">sigmaT_finite_lebesgue_measure</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure.hlength_extension">hlength_extension</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#LebesgueMeasure">LebesgueMeasure</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="lebesgue_measure">lebesgue_measure</a></span> {<span class="id"><a name="R:40">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>} :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">_</span>.-<span class="id">sigma</span> <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#salgebraType">salgebraType</a></span> <span class="id">R</span>.-<span class="id">ocitv</span>.-<span class="id">measurable</span>] -&gt; \<span class="id">bar</span> <span class="id">R</span> :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#lebesgue_stieltjes_measure">lebesgue_stieltjes_measure</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>]].<br/>
<span class="id"><a name="hb_instance_13">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="R:41">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) := <span class="id"><a href="mathcomp.analysis.measure.html#Measure.on">Measure.on</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id">R</span>).<br/>
<span class="id"><a name="hb_instance_19">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="R:42">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#SigmaFiniteContent.on">SigmaFiniteContent.on</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ps_infty">ps_infty</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:43">T</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="ps_infty">ps_infty</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty.T">T</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="ps_infty0">ps_infty0</a></span> : <span class="id">ps_infty</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span><br/>
| <span class="id"><a name="ps_ninfty">ps_ninfty</a></span> : <span class="id">ps_infty</span> [<span class="id">set</span> -<span class="id">oo</span>]<br/>
| <span class="id"><a name="ps_pinfty">ps_pinfty</a></span> : <span class="id">ps_infty</span> [<span class="id">set</span> +<span class="id">oo</span>]<br/>
| <span class="id"><a name="ps_inftys">ps_inftys</a></span> : <span class="id">ps_infty</span> [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ps_inftyP">ps_inftyP</a></span> (<span class="id"><a name="A:46">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty.T">T</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty">ps_infty</a></span> <span class="id">A</span> &lt;-&gt; <span class="id">A</span> `&lt;=` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">split</span> =&gt; [[]//|<span class="id">Aoo</span>].<br/>
<span class="kwd">by</span> <span class="id">have</span> [] := <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_set2">subset_set2</a></span> <span class="id">Aoo</span>; <span class="id">move</span>=&gt; -&gt;; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setCU_Efin">setCU_Efin</a></span> (<span class="id"><a name="A:47">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty.T">T</a></span>) (<span class="id"><a name="B:48">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty.T">T</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty">ps_infty</a></span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;~` (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">A</span>) `&amp;` ~` <span class="id">B</span> = (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` ~` <span class="id">A</span>) `|` ([<span class="id">set</span> -<span class="id">oo</span>%<span class="id">E</span>; +<span class="id">oo</span>%<span class="id">E</span>] `&amp;` ~` <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move</span>=&gt; <span class="id">ps_inftyB</span>.<br/>
<span class="id">have</span> -&gt; : ~` (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">A</span>) = <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` (~` <span class="id">A</span>) `|` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#EFin_setC">EFin_setC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDKU">setDKU</a></span> // =&gt; <span class="id">x</span> [|] -&gt; -[].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUl">setIUl</a></span>; <span class="id">congr</span> (<span class="id">_</span> `|` <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; -[<span class="id">x</span>| |]; <span class="id">split</span>; <span class="id">try</span> <span class="kwd">by</span> <span class="id">case</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [] <span class="id">x</span>' <span class="id">Ax</span>' [] &lt;-{<span class="id">x</span>}; <span class="id">split</span>; [<span class="kwd">exists</span> <span class="id">x</span>'|<span class="id">case</span>: <span class="id">ps_inftyB</span> =&gt; // -[]].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty">ps_infty</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="salgebra_ereal">salgebra_ereal</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="salgebra_ereal.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="salgebra_ereal.G">G</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>)).<br/>
<span class="kwd">Let</span> <span class="id"><a name="salgebra_ereal.measurableR">measurableR</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="emeasurable">emeasurable</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) :=<br/>
&nbsp;&nbsp;[<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">A</span> `|` <span class="id">B</span> | <span class="id"><a name="A:51">A</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.measurableR">measurableR</a></span> &amp; <span class="id"><a name="B:52">B</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty">ps_infty</a></span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable0">emeasurable0</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable0">measurable0</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span>//; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurableC">emeasurableC</a></span> (<span class="id"><a name="X:53">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> <span class="id">X</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> (~` <span class="id">X</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move</span> =&gt; -[<span class="id">A</span> <span class="id">mA</span>] [<span class="id">B</span> <span class="id">PooB</span> &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCU">setCU</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#setCU_Efin">setCU_Efin</a></span> //.<br/>
<span class="kwd">exists</span> (~` <span class="id">A</span>); [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span> | <span class="kwd">exists</span> ([<span class="id">set</span> -<span class="id">oo</span>%<span class="id">E</span>; +<span class="id">oo</span>%<span class="id">E</span>] `&amp;` ~` <span class="id">B</span>) =&gt; //].<br/>
<span class="id">case</span>: <span class="id">PooB</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC0">setC0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>; <span class="id">constructor</span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUl">setIUl</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setICr">setICr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0U">set0U</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> -&gt;] := @<span class="id"><a href="mathcomp.classical.classical_sets.html#setDidPl">setDidPl</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) [<span class="id">set</span> +<span class="id">oo</span>%<span class="id">E</span>] [<span class="id">set</span> -<span class="id">oo</span>%<span class="id">E</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span> =&gt; // -[-&gt;].<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUl">setIUl</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setICr">setICr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> -&gt;] := @<span class="id"><a href="mathcomp.classical.classical_sets.html#setDidPl">setDidPl</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) [<span class="id">set</span> -<span class="id">oo</span>%<span class="id">E</span>] [<span class="id">set</span> +<span class="id">oo</span>%<span class="id">E</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span> =&gt; // -[-&gt;].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setICr">setICr</a></span>; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bigcupT_emeasurable">bigcupT_emeasurable</a></span> (<span class="id"><a name="F:54">F</a></span> : (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:55">i</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> (<span class="id">F</span> <span class="id">i</span>)) -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> (\<span class="id">bigcup_i</span> (<span class="id">F</span> <span class="id">i</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">move</span>=&gt; <span class="id">mF</span>; <span class="id">pose</span> <span class="id">P</span> := <span class="kwd">fun</span> <span class="id"><a name="i:57">i</a></span> <span class="id"><a name="j:58">j</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.measurableR">measurableR</a></span> <span class="id">j</span>.1 /\ <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty">ps_infty</a></span> <span class="id">j</span>.2 /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">F</span> <span class="id">i</span> = [<span class="id">set</span> <span class="id">x</span>%:<span class="id">E</span> | <span class="id"><a name="x:59">x</a></span> <span class="kwd">in</span> <span class="id">j</span>.1] `|` <span class="id">j</span>.2.<br/>
<span class="id">have</span> [<span class="id">f</span> <span class="id">fi</span>] : {<span class="id"><a name="f:60">f</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) * (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) &amp; <span class="kwd">forall</span> <span class="id"><a name="i:61">i</a></span>, <span class="id">P</span> <span class="id">i</span> (<span class="id">f</span> <span class="id">i</span>) }.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#choice">choice</a></span> =&gt; <span class="id">i</span>; <span class="id">have</span> [<span class="id">x</span> <span class="id">mx</span> [<span class="id">y</span> <span class="id">PSoo</span>'<span class="id">y</span>] <span class="id">xy</span>] := <span class="id">mF</span> <span class="id">i</span>; <span class="kwd">exists</span> (<span class="id">x</span>, <span class="id">y</span>).<br/>
<span class="kwd">exists</span> (\<span class="id">bigcup_i</span> (<span class="id">f</span> <span class="id">i</span>).1).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">i</span>; <span class="id">exact</span>: (<span class="id">fi</span> <span class="id">i</span>).1.<br/>
<span class="kwd">exists</span> (\<span class="id">bigcup_i</span> (<span class="id">f</span> <span class="id">i</span>).2).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_inftyP">ps_inftyP</a></span> =&gt; <span class="id">x</span> [<span class="id">n</span> <span class="id">_</span>] <span class="id">fn2x</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_inftyP">ps_inftyP</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ps_infty">ps_infty</a></span>(<span class="id">f</span> <span class="id">n</span>).2 <span class="kwd">by</span> <span class="id">have</span> [<span class="id">_</span> []] := <span class="id">fi</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>.<br/>
<span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](@<span class="id"><a href="mathcomp.classical.classical_sets.html#eq_bigcupr">eq_bigcupr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="i:66">i</a></span> =&gt; [<span class="id">set</span> <span class="id">x</span>%:<span class="id">E</span> | <span class="id"><a name="x:67">x</a></span> <span class="kwd">in</span> (<span class="id">f</span> <span class="id">i</span>).1] `|` (<span class="id">f</span> <span class="id">i</span>).2)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">have</span> [<span class="id">_</span> []] := <span class="id">fi</span> <span class="id">i</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcupU">bigcupU</a></span>; <span class="id">congr</span> (<span class="id">_</span> `|` <span class="id">_</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">i</span> /=; <span class="id">split</span>=&gt; [[<span class="id">r</span> [<span class="id">n</span> <span class="id">_</span> <span class="id">fn1r</span> &lt;-{<span class="id">i</span>}]]|[<span class="id">n</span> <span class="id">_</span> [<span class="id">r</span> <span class="id">fn1r</span> &lt;-{<span class="id">i</span>}]]];<br/>
&nbsp;<span class="kwd">by</span> [<span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span> | <span class="kwd">exists</span> <span class="id">r</span> =&gt; //; <span class="kwd">exists</span> <span class="id">n</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ereal_isMeasurable">ereal_isMeasurable</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#isMeasurable">isMeasurable</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#default_measure_display">default_measure_display</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal.R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#isMeasurable.Build">isMeasurable.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.class">Pointed.class</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable0">emeasurable0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurableC">emeasurableC</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#bigcupT_emeasurable">bigcupT_emeasurable</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_ereal">salgebra_ereal</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="puncture_ereal_itv">puncture_ereal_itv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="puncture_ereal_itv.R">R</a></span> : <span class="id">realDomainType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#puncture_ereal_itv.R">R</a></span>) (<span class="id">b</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="punct_eitv_bndy">punct_eitv_bndy</a></span> <span class="id"><a name="b:73">b</a></span> <span class="id"><a name="y:74">y</a></span> : [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>%:<span class="id">E</span>) +<span class="id">oo</span>%<span class="id">O</span>] =<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>) +<span class="id">oo</span>%<span class="id">O</span>] `|` [<span class="id">set</span> +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
- <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] <span class="id">yxb</span>; [|<span class="kwd">by</span> <span class="id">right</span>|<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> <span class="id">yxb</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">case</span>: <span class="id">b</span> <span class="id">yxb</span>.<br/>
- <span class="id">move</span>=&gt; [[<span class="id">r</span>]|-&gt;].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">yxb</span> &lt;-; <span class="id">case</span>: <span class="id">b</span> <span class="id">yxb</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> =&gt; /=; <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="punct_eitv_Nybnd">punct_eitv_Nybnd</a></span> <span class="id"><a name="b:75">b</a></span> <span class="id"><a name="y:76">y</a></span> : [<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>%:<span class="id">E</span>)] =<br/>
&nbsp;&nbsp;[<span class="id">set</span> -<span class="id">oo</span>%<span class="id">E</span>] `|` <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` [<span class="id">set</span> <span class="id"><a name="x:77">x</a></span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span>.<br/>
- <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>| |] <span class="id">yxb</span>; [|<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> <span class="id">yxb</span>|<span class="kwd">by</span> <span class="id">left</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">right</span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">case</span>: <span class="id">b</span> <span class="id">yxb</span>.<br/>
- <span class="id">move</span>=&gt; [-&gt;|[<span class="id">r</span>]].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> =&gt; /=; <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= =&gt; <span class="id">yxb</span> &lt;-; <span class="id">case</span>: <span class="id">b</span> <span class="id">yxb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="punct_eitv_setTR">punct_eitv_setTR</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#puncture_ereal_itv.R">R</a></span>) `|` [<span class="id">set</span> +<span class="id">oo</span>] = [<span class="id">set</span>~ -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; [<span class="id">a</span> [[<span class="id">a</span>' <span class="id">_</span> &lt;-]|-&gt;]|] //.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] //= <span class="id">_</span>; [<span class="id">left</span>; <span class="kwd">exists</span> <span class="id">x</span>|<span class="id">right</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="punct_eitv_setTL">punct_eitv_setTL</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#puncture_ereal_itv.R">R</a></span>) `|` [<span class="id">set</span> -<span class="id">oo</span>] = [<span class="id">set</span>~ +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; [<span class="id">a</span> [[<span class="id">a</span>' <span class="id">_</span> &lt;-]|-&gt;]|] //.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span>| |] //= <span class="id">_</span>; [<span class="id">left</span>; <span class="kwd">exists</span> <span class="id">x</span>|<span class="id">right</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#puncture_ereal_itv">puncture_ereal_itv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="salgebra_R_ssets">salgebra_R_ssets</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="salgebra_R_ssets.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="measurableTypeR">measurableTypeR</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#salgebraType">salgebraType</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>.-<span class="id">ocitv</span>.-<span class="id">measurable</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="measurableR">measurableR</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>.-<span class="id">ocitv</span>.-<span class="id">measurable</span>).-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<br/>
<span class="id"><a name="R_isMeasurable">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">R_isMeasurable</span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#isMeasurable">isMeasurable</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#default_measure_display">default_measure_display</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span> :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.measure.html#isMeasurable.Build">isMeasurable.Build</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableTypeR">measurableTypeR</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.class">Pointed.class</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableR">measurableR</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable0">measurable0</a></span> (@<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span> <span class="id">_</span> <span class="id">_</span>) (@<span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_set1">measurable_set1</a></span> (<span class="id"><a name="r:79">r</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span> <span class="id">r</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#set1_bigcap_oc">set1_bigcap_oc</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; <span class="id">k</span> // <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#is_ocitv">is_ocitv</a></span>.<br/>
Qed.</div>
#[<span class="id">local</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">measurable_set1</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_itv">measurable_itv</a></span> (<span class="id"><a name="i:80">i</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span>` <span class="id">i</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">have</span> <span class="id">moc</span> (<span class="id"><a name="a:81">a</a></span> <span class="id"><a name="b:82">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `]<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#is_ocitv">is_ocitv</a></span>.<br/>
<span class="id">have</span> <span class="id">mopoo</span> (<span class="id"><a name="x:83">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `]<span class="id">x</span>, +<span class="id">oo</span>[%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_bnd_infty_bigcup">itv_bnd_infty_bigcup</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
<span class="id">have</span> <span class="id">mnooc</span> (<span class="id"><a name="x:84">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `]-<span class="id">oo</span>, <span class="id">x</span>]%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">have</span> <span class="id">ooE</span> (<span class="id"><a name="a:85">a</a></span> <span class="id"><a name="b:86">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">classic</span> = `]<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span> `\ <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">a</span> &lt; <span class="id">b</span>)) =&gt; <span class="id">ab</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#set0D">set0D</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setUitv1">setUitv1</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setUDK">setUDK</a></span>// =&gt; <span class="id">x</span> [-&gt;]; <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id">ltxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
<span class="id">have</span> <span class="id">moo</span> (<span class="id"><a name="a:87">a</a></span> <span class="id"><a name="b:88">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ooE</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">have</span> <span class="id">mcc</span> (<span class="id"><a name="a:89">a</a></span> <span class="id"><a name="b:90">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">a</span> &lt;= <span class="id">b</span>)) =&gt; <span class="id">ab</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setU1itv">setU1itv</a></span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">have</span> <span class="id">mco</span> (<span class="id"><a name="a:91">a</a></span> <span class="id"><a name="b:92">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> `[<span class="id">a</span>, <span class="id">b</span>[%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">a</span> &lt; <span class="id">b</span>)) =&gt; <span class="id">ab</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setU1itv">setU1itv</a></span>//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">have</span> <span class="id">oooE</span> (<span class="id"><a name="b:93">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : `]-<span class="id">oo</span>, <span class="id">b</span>[%<span class="id">classic</span> = `]-<span class="id">oo</span>, <span class="id">b</span>]%<span class="id">classic</span> `\ <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setUitv1">setUitv1</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setUDK">setUDK</a></span>// =&gt; <span class="id">x</span> [-&gt;]; <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id">ltxx</span>.<br/>
<span class="id">case</span>: <span class="id">i</span> =&gt; [[[] <span class="id">a</span>|[]] [[] <span class="id">b</span>|[]]] =&gt; //; <span class="id">do</span> ?<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setU1itv">setU1itv</a></span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oooE</span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_infty_infty">set_itv_infty_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_32">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ereal_isMeasurable">ereal_isMeasurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>.-<span class="id">ocitv</span>.-<span class="id">measurable</span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_image_EFin">measurable_image_EFin</a></span> (<span class="id"><a name="A:94">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableR">measurableR</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mA</span>; <span class="kwd">exists</span> <span class="id">A</span> =&gt; //; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; [<span class="id">constructor</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_set1">emeasurable_set1</a></span> (<span class="id"><a name="x:95">x</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span> <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">r</span>| |].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#image_set1">image_set1</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_image_EFin">measurable_image_EFin</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1</a></span>.<br/>
- <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> =&gt; //; [<span class="kwd">exists</span> [<span class="id">set</span> +<span class="id">oo</span>%<span class="id">E</span>]; [<span class="kwd">by</span> <span class="id">constructor</span>|]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0U">set0U</a></span>.<br/>
- <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> =&gt; //; [<span class="kwd">exists</span> [<span class="id">set</span> -<span class="id">oo</span>%<span class="id">E</span>]; [<span class="kwd">by</span> <span class="id">constructor</span>|]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0U">set0U</a></span>.<br/>
Qed.</div>
#[<span class="id">local</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">emeasurable_set1</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__itv_cpinfty_pinfty">__deprecated__itv_cpinfty_pinfty</a></span> : `[+<span class="id">oo</span>%<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span> = [<span class="id">set</span> +<span class="id">oo</span>%<span class="id">E</span>] :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_cyy">itv_cyy</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">itv_cyy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="itv_cpinfty_pinfty">itv_cpinfty_pinfty</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#__deprecated__itv_cpinfty_pinfty">__deprecated__itv_cpinfty_pinfty</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__itv_opinfty_pinfty">__deprecated__itv_opinfty_pinfty</a></span> : `]+<span class="id">oo</span>%<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_oyy">itv_oyy</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">itv_oyy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="itv_opinfty_pinfty">itv_opinfty_pinfty</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#__deprecated__itv_opinfty_pinfty">__deprecated__itv_opinfty_pinfty</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__itv_cninfty_pinfty">__deprecated__itv_cninfty_pinfty</a></span> : `[-<span class="id">oo</span>%<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_cNyy">itv_cNyy</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">itv_cNyy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="itv_cninfty_pinfty">itv_cninfty_pinfty</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#__deprecated__itv_cninfty_pinfty">__deprecated__itv_cninfty_pinfty</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__itv_oninfty_pinfty">__deprecated__itv_oninfty_pinfty</a></span> :<br/>
&nbsp;&nbsp;`]-<span class="id">oo</span>%<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span> = ~` [<span class="id">set</span> -<span class="id">oo</span>]%<span class="id">E</span> :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_oNyy">itv_oNyy</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">itv_oNyy</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="itv_oninfty_pinfty">itv_oninfty_pinfty</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#__deprecated__itv_oninfty_pinfty">__deprecated__itv_oninfty_pinfty</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="salgebra_R_ssets.emeasurable_itv_bndy">emeasurable_itv_bndy</a></span> <span class="id"><a name="b:96">b</a></span> (<span class="id"><a name="y:97">y</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>) +<span class="id">oo</span>%<span class="id">O</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">move</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>| |].<br/>
- <span class="kwd">exists</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>) +<span class="id">oo</span>%<span class="id">O</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">set</span> +<span class="id">oo</span>%<span class="id">E</span>]; [<span class="id">constructor</span>|<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#punct_eitv_bndy">punct_eitv_bndy</a></span>].<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.real_interval.html#itv_oyy">itv_oyy</a></span> ?<span class="id"><a href="mathcomp.analysis.real_interval.html#itv_cyy">itv_cyy</a></span>.<br/>
- <span class="id">case</span>: <span class="id">b</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_cNyy">itv_cNyy</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_oNyy">itv_oNyy</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="salgebra_R_ssets.emeasurable_itv_Nybnd">emeasurable_itv_Nybnd</a></span> <span class="id"><a name="b:98">b</a></span> (<span class="id"><a name="y:99">y</a></span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.emeasurable_itv_bndy">emeasurable_itv_bndy</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_itv">emeasurable_itv</a></span> (<span class="id"><a name="i:100">i</a></span> : <span class="id">interval</span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>)) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> ([<span class="id">set</span>` <span class="id">i</span>]%<span class="id">classic</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#setCitv">set_interval.setCitv</a></span> /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span> =&gt; [|].<br/>
- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">i</span> =&gt; [[<span class="id">b1</span> <span class="id">i1</span>|[|]] <span class="id">i2</span>] /=; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_interval.set_itvE</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>: <span class="id">i</span> =&gt; [<span class="id">i1</span> [<span class="id">b2</span> <span class="id">i2</span>|[|]]] /=; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_interval.set_itvE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="elebesgue_measure">elebesgue_measure</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="S:102">S</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> @` (<span class="id">S</span> `\` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]%<span class="id">E</span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="elebesgue_measure0">elebesgue_measure0</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure">elebesgue_measure</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> = 0%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure">elebesgue_measure</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0D">set0D</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_image_fine">measurable_image_fine</a></span> (<span class="id"><a name="X:103">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span> | <span class="id"><a name="x:104">x</a></span> <span class="kwd">in</span> <span class="id">X</span> `\` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]%<span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">case</span> =&gt; <span class="id">Y</span> <span class="id">mY</span> [<span class="id">X</span>' [ | &lt;-{<span class="id">X</span>} | &lt;-{<span class="id">X</span>} | &lt;-{<span class="id">X</span>} ]].<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> =&gt; &lt;-{<span class="id">X</span>}.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">Y</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span> [[<span class="id">x</span>' <span class="id">Yx</span>' &lt;-{<span class="id">x</span>}/= <span class="id">_</span> &lt;-//]]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Yr</span>; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span>; <span class="id">split</span> =&gt; [|[]//]; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
- <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">Y</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">x</span> [[[<span class="id">x</span>' <span class="id">Yx</span>' &lt;- <span class="id">_</span> &lt;-//]|]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; &lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Yr</span>; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; [|[]//]; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
- <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">Y</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">x</span> [[[<span class="id">x</span>' <span class="id">Yx</span>' &lt;-{<span class="id">x</span>} <span class="id">_</span> &lt;-//]|]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[<span class="id">_</span>]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Yr</span>; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; [|[]//]; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
- <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">Y</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDUl">setDUl</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDv">setDv</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> =&gt; -[<span class="id">_</span> [[<span class="id">x</span>' <span class="id">Yx</span>' &lt;-]] <span class="id">_</span> &lt;-].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Yr</span>; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; [|[]//]; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="elebesgue_measure_ge0">elebesgue_measure_ge0</a></span> <span class="id"><a name="X:109">X</a></span> : (0 &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure">elebesgue_measure</a></span> <span class="id">X</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measure_ge0">measure_ge0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="semi_sigma_additive_elebesgue_measure">semi_sigma_additive_elebesgue_measure</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#semi_sigma_additive">semi_sigma_additive</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure">elebesgue_measure</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move</span>=&gt; /= <span class="id">F</span> <span class="id">mF</span> <span class="id">tF</span> <span class="id">mUF</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure">elebesgue_measure</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">bigcup_n</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> @` (<span class="id">F</span> <span class="id">n</span> `\` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]%<span class="id">E</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span> [[<span class="id">n</span> <span class="id">_</span> <span class="id">Fnx</span> <span class="id">xoo</span> &lt;-]]]; <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">n</span> <span class="id">_</span> [<span class="id">x</span> [<span class="id">Fnx</span> <span class="id">xoo</span> &lt;-{<span class="id">r</span>}]]]; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.measure.html#measure_semi_sigma_additive">measure_semi_sigma_additive</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets.R">R</a></span>)]<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="n:114">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> @` (<span class="id">F</span> <span class="id">n</span> `\` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]%<span class="id">E</span>))).<br/>
- <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> := <span class="id">mF</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">X</span> <span class="id">mX</span> [<span class="id">X</span>' <span class="id">mX</span>']] <span class="id">XX</span>'<span class="id">Fn</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_image_fine">measurable_image_fine</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">XX</span>'<span class="id">Fn</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_image_EFin">measurable_image_EFin</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">mX</span>' =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">x</span> [[<span class="id">a</span> [<span class="id">Fia</span> <span class="id">aoo</span> <span class="id">ax</span>] [<span class="id">b</span> [<span class="id">Fjb</span> <span class="id">boo</span>] <span class="id">bx</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">tF</span> =&gt; /(<span class="id">_</span> <span class="id">i</span> <span class="id">j</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>); <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">ab</span> : <span class="id">a</span> = <span class="id">b</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id">ab</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> {<span class="id">Fia</span> <span class="id">Fjb</span>} <span class="id">aoo</span> <span class="id">boo</span> <span class="id">ax</span> <span class="id">bx</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] /=.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">_</span> -&gt; -&gt;.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[<span class="id">_</span>]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[<span class="id">_</span>]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[<span class="id">_</span>]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[<span class="id">_</span>]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> =&gt; -[]/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
- <span class="id">move</span>: <span class="id">mUF</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> {1}/<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> /= =&gt; -[<span class="id">X</span> <span class="id">mX</span> [<span class="id">Y</span> []]] {<span class="id">Y</span>}.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> =&gt; <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">X</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; [|<span class="id">Xr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -[<span class="id">n</span> <span class="id">_</span> [<span class="id">x</span> [<span class="id">Fnx</span> <span class="id">xoo</span> &lt;-{<span class="id">r</span>}]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">x</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span> =&gt; -[<span class="id">x</span>' <span class="id">Xx</span>' &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">n</span> <span class="id">_</span> <span class="id">Fnr</span>] : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">r</span>%:<span class="id">E</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">case</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">X</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; [|<span class="id">Xr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -[<span class="id">n</span> <span class="id">_</span> [<span class="id">x</span> [<span class="id">Fnx</span> <span class="id">xoo</span> &lt;-]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">x</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span> =&gt; -[[<span class="id">x</span>' <span class="id">Xx</span>' &lt;-//]|<span class="id">xoo</span>']; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> : <span class="id">xoo</span> =&gt; -[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">n</span> <span class="id">_</span> <span class="id">Fnr</span>] : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">r</span>%:<span class="id">E</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span>; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">case</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NB:&nbsp;almost&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;previous&nbsp;one,&nbsp;factorize?*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">X</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; [|<span class="id">Xr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -[<span class="id">n</span> <span class="id">_</span> [<span class="id">x</span> [<span class="id">Fnx</span> <span class="id">xoo</span> &lt;-]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">x</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span> =&gt; -[[<span class="id">x</span>' <span class="id">Xx</span>' &lt;-//]|<span class="id">xoo</span>']; <span class="id">move</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span> : <span class="id">xoo</span> =&gt; -[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">n</span> <span class="id">_</span> <span class="id">Fnr</span>] : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">r</span>%:<span class="id">E</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span>; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">case</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">X</span>) // <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; [|<span class="id">Xr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; -[<span class="id">n</span> <span class="id">_</span> [<span class="id">x</span> [<span class="id">Fnx</span> <span class="id">xoo</span> &lt;-]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">x</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span> =&gt; -[[<span class="id">x</span>' <span class="id">Xx</span>' &lt;-//]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">n</span> <span class="id">_</span> <span class="id">Fnr</span>] : (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) <span class="id">r</span>%:<span class="id">E</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">h</span>; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">E</span> =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_45">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.analysis.measure.html#isMeasure.Build">isMeasure.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure">elebesgue_measure</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure0">elebesgue_measure0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#elebesgue_measure_ge0">elebesgue_measure_ge0</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#semi_sigma_additive_elebesgue_measure">semi_sigma_additive_elebesgue_measure</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#salgebra_R_ssets">salgebra_R_ssets</a></span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span> <span class="id">_</span>]) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_set1">measurable_set1</a></span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_set1">emeasurable_set1</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> [<span class="id">set</span>` <span class="id">_</span>] ) =&gt; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span> : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.2", <span class="id">note</span>="<span class="id">use</span> `<span class="id">emeasurable_itv</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_itv_bnd_pinfty">emeasurable_itv_bnd_pinfty</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.2", <span class="id">note</span>="<span class="id">use</span> `<span class="id">emeasurable_itv</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_itv_ninfty_bnd">emeasurable_itv_ninfty_bnd</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fine">measurable_fine</a></span> (<span class="id"><a name="R:128">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="D:129">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id">R</span>)) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">_</span> /= <span class="id">B</span> <span class="id">mB</span>; <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> `&amp;` <span class="id">_</span> = <span class="kwd">if</span> 0%<span class="id">R</span> \<span class="kwd">in</span> <span class="id">B</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">D</span> `&amp;` ((<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">B</span>) `|` [<span class="id">set</span> -<span class="id">oo</span>; +<span class="id">oo</span>]%<span class="id">E</span>) <span class="kwd">else</span> <span class="id">D</span> `&amp;` <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">B</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; [[<span class="id">r</span> [<span class="id">Dr</span> <span class="id">Br</span>]|[<span class="id">Doo</span> <span class="id">B0</span>]|[<span class="id">Doo</span> <span class="id">B0</span>]]|[<span class="id">r</span>| |]].<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">_</span>; <span class="id">split</span> =&gt; //; <span class="id">left</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//; <span class="id">split</span> =&gt; //; <span class="id">right</span>; <span class="id">right</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//; <span class="id">split</span> =&gt; //; <span class="id">right</span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [<span class="id">_</span> [<span class="id">Dr</span> [[<span class="id">s</span> + [<span class="id">sr</span>]]|[]//]]|<span class="id">_</span> [<span class="id">Dr</span> [<span class="id">s</span> + [<span class="id">sr</span>]]]]; <span class="id">rewrite</span> <span class="id">sr</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">B0</span> [<span class="id">Doo</span> [[]//|]] [//|<span class="id">_</span>]|<span class="id">B0</span> [<span class="id">Doo</span>//] []].<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">B0</span> [<span class="id">Doo</span> [[]//|]] [//|<span class="id">_</span>]|<span class="id">B0</span> [<span class="id">Doo</span>//] []].<br/>
<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">B0</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_image_EFin">measurable_image_EFin</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_image_EFin">measurable_image_EFin</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>].<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fine">measurable_fine</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_fine</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_fine">measurable_fun_fine</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fine">measurable_fine</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="lebesgue_measure_itv">lebesgue_measure_itv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="lebesgue_measure_itv.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itvoc">lebesgue_measure_itvoc</a></span> (<span class="id"><a name="a:132">a</a></span> <span class="id"><a name="b:133">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`]<span class="id">a</span>, <span class="id">b</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength">wlength</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>] `]<span class="id">a</span>, <span class="id">b</span>])%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span>/= /<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#lebesgue_stieltjes_measure">lebesgue_stieltjes_measure</a></span>/= /<span class="id"><a href="mathcomp.analysis.measure.html#measure_extension">measure_extension</a></span>/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_mu_extE">measurable_mu_extE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#is_ocitv">is_ocitv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itvoo_subr1">lebesgue_measure_itvoo_subr1</a></span> (<span class="id"><a name="a:134">a</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`]<span class="id">a</span> - 1, <span class="id">a</span>[%<span class="id">classic</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) = 1%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_bnd_open_bigcup">itv_bnd_open_bigcup</a></span>//; <span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> \<span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="k:135">k</a></span> =&gt; `]<span class="id">a</span> - 1, <span class="id">a</span> - <span class="id">k</span>.+1%:<span class="id">R</span>^-1]%<span class="id">classic</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> !<span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt;/=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">ler_sub</span>// <span class="id">ler_pinv</span> ?<span class="id">ler_nat</span>//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="id">ltr0n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">unitfE</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="kwd">fun</span> <span class="id"><a name="n:139">n</a></span> =&gt; (1 - <span class="id">n</span>.+1%:<span class="id">R</span>^-1)%:<span class="id">E</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoc">lebesgue_measure_itvoc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [-&gt;|<span class="id">n0</span>] := <span class="id">eqVneq</span> <span class="id">n</span> 0%<span class="id">N</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invr1</span> <span class="id">subrr</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvoc0">set_itvoc0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_lt_sub</span>// <span class="id">invr_lt1</span> ?<span class="id">unitfE</span>// <span class="id">ltr1n</span> <span class="id">ltnS</span> <span class="id">lt0n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span>,<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //=; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">fine_cvgP</a></span>; <span class="id">split</span> =&gt; /=; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nearW">nearW</a></span>.<br/>
<span class="id">apply</span>/(@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> <span class="id">_</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>^<span class="id">o</span>]) =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> <span class="id">ger0_norm</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_lt">near_infty_natSinv_lt</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_measure_set1">lebesgue_measure_set1</a></span> (<span class="id"><a name="a:142">a</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> [<span class="id">set</span> <span class="id">a</span>] = 0%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">suff</span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`]<span class="id">a</span> - 1, <span class="id">a</span>]%<span class="id">classic</span>%<span class="id">R</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`]<span class="id">a</span> - 1, <span class="id">a</span>[%<span class="id">classic</span>%<span class="id">R</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> [<span class="id">set</span> <span class="id">a</span>])%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoo_subr1">lebesgue_measure_itvoo_subr1</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoc">lebesgue_measure_itvoc</a></span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span> <span class="id">ltr01</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> == <span class="id">_</span>]/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_eq">sube_eq</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_adde_defl">fin_num_adde_defl</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// =&gt; /<span class="id">eqP</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setUitv1">setUitv1</a></span>// ?<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bnd_simp">bnd_simp</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span> //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; // <span class="id">x</span> []/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; + <span class="id">xa</span>; <span class="id">rewrite</span> <span class="id">xa</span> <span class="id">ltxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itvoo">lebesgue_measure_itvoo</a></span> (<span class="id"><a name="a:144">a</a></span> <span class="id"><a name="b:145">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`]<span class="id">a</span>, <span class="id">b</span>[ : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength">wlength</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>] `]<span class="id">a</span>, <span class="id">b</span>[)%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">have</span> [<span class="id">ab</span>|<span class="id">ba</span>] := <span class="id">ltP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>// -<span class="id">leNgt</span>.<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoc">lebesgue_measure_itvoc</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span> =&gt; &lt;-; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setUitv1">setUitv1</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">have</span> /= -&gt; := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_set1">lebesgue_measure_set1</a></span> <span class="id">b</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">adde0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; // <span class="id">x</span> [/= + <span class="id">xb</span>]; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">xb</span> <span class="id">ltxx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbF">andbF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itvcc">lebesgue_measure_itvcc</a></span> (<span class="id"><a name="a:146">a</a></span> <span class="id"><a name="b:147">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`[<span class="id">a</span>, <span class="id">b</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength">wlength</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>] `[<span class="id">a</span>, <span class="id">b</span>])%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">have</span> [<span class="id">ab</span>|<span class="id">ba</span>] := <span class="id">leP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>// -<span class="id">leNgt</span>.<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoc">lebesgue_measure_itvoc</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span> =&gt; &lt;-; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setU1itv">setU1itv</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">have</span> /= -&gt; := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_set1">lebesgue_measure_set1</a></span> <span class="id">a</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; // <span class="id">x</span> [/= -&gt;]; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">ltxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itvco">lebesgue_measure_itvco</a></span> (<span class="id"><a name="a:148">a</a></span> <span class="id"><a name="b:149">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (`[<span class="id">a</span>, <span class="id">b</span>[ : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength">wlength</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>] `[<span class="id">a</span>, <span class="id">b</span>[)%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">have</span> [<span class="id">ab</span>|<span class="id">ba</span>] := <span class="id">ltP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_ge">set_itv_ge</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>// -<span class="id">leNgt</span>.<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoo">lebesgue_measure_itvoo</a></span> <span class="id">a</span> <span class="id">b</span>.<br/>
<span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span> =&gt; &lt;-; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setU1itv">setU1itv</a></span>// <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span>//.<br/>
- <span class="kwd">by</span> <span class="id">have</span> /= -&gt; := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_set1">lebesgue_measure_set1</a></span> <span class="id">a</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; // <span class="id">x</span> [/= -&gt;]; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">ltxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itv_bnd">lebesgue_measure_itv_bnd</a></span> (<span class="id"><a name="x:150">x</a></span> <span class="id"><a name="y:151">y</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id"><a name="a:152">a</a></span> <span class="id"><a name="b:153">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> ([<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">x</span> <span class="id">a</span>) (<span class="id">BSide</span> <span class="id">y</span> <span class="id">b</span>)] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength">wlength</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>] [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">x</span> <span class="id">a</span>) (<span class="id">BSide</span> <span class="id">y</span> <span class="id">b</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">x</span> <span class="id">y</span> =&gt; [|] [|]; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvco">lebesgue_measure_itvco</a></span> |<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvcc">lebesgue_measure_itvcc</a></span> | <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoo">lebesgue_measure_itvoo</a></span> |<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itvoc">lebesgue_measure_itvoc</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.limnatR">limnatR</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="kwd">fun</span> <span class="id"><a name="k:154">k</a></span> =&gt; (<span class="id">k</span>%:<span class="id">R</span>)%:<span class="id">E</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) = +<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgenyP">cvgenyP</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itv_bnd_infty">lebesgue_measure_itv_bnd_infty</a></span> <span class="id"><a name="x:156">x</a></span> (<span class="id"><a name="a:157">a</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> ([<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">x</span> <span class="id">a</span>) +<span class="id">oo</span>%<span class="id">O</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) = +<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_bnd_infty_bigcup">itv_bnd_infty_bigcup</a></span>; <span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> \<span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="k:158">k</a></span> =&gt; [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">x</span> <span class="id">a</span>) (<span class="id">BRight</span> (<span class="id">a</span> + <span class="id">k</span>%:<span class="id">R</span>))] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span> =&gt; <span class="id">r</span>/=; <span class="id">rewrite</span> !<span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[-&gt;/=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">ler_add</span>// <span class="id">ler_nat</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="kwd">fun</span> <span class="id"><a name="k:162">k</a></span> =&gt; <span class="id">k</span>%:<span class="id">R</span>%:<span class="id">E</span>))//.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_bnd">lebesgue_measure_itv_bnd</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span>/=.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>;  <span class="id">have</span> [-&gt;|<span class="id">n0</span>] := <span class="id">eqVneq</span> <span class="id">n</span> 0%<span class="id">N</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addr0</span> <span class="id">ltxx</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_addl</span> <span class="id">ltr0n</span> <span class="id">lt0n</span> <span class="id">n0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeAC">addeAC</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itv_infty_bnd">lebesgue_measure_itv_infty_bnd</a></span> <span class="id"><a name="y:165">y</a></span> (<span class="id"><a name="b:166">b</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> ([<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">y</span> <span class="id">b</span>)] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) = +<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_infty_bnd_bigcup">itv_infty_bnd_bigcup</a></span>; <span class="id">transitivity</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> \<span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="k:167">k</a></span> =&gt; [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BLeft</span> (<span class="id">b</span> - <span class="id">k</span>%:<span class="id">R</span>)) (<span class="id">BSide</span> <span class="id">y</span> <span class="id">b</span>)] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">n</span> <span class="id">mn</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span> =&gt; <span class="id">r</span>/=; <span class="id">rewrite</span> !<span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[+ -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">rewrite</span> <span class="id">ler_sub</span>// <span class="id">ler_nat</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span> = (<span class="kwd">fun</span> <span class="id"><a name="k:171">k</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> =&gt; <span class="id">k</span>%:<span class="id">R</span>%:<span class="id">E</span>))//.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">n</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_bnd">lebesgue_measure_itv_bnd</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
<span class="id">have</span> [-&gt;|<span class="id">n0</span>] := <span class="id">eqVneq</span> <span class="id">n</span> 0%<span class="id">N</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr0</span> <span class="id">ltxx</span>.<br/>
<span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span> <span class="id">ltr0n</span> <span class="id">lt0n</span> <span class="id">n0</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinB">EFinB</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_oppeB">fin_num_oppeB</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subee">subee</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_measure_itv.lebesgue_measure_itv_infty_infty">lebesgue_measure_itv_infty_infty</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> ([<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> +<span class="id">oo</span>%<span class="id">O</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) = +<span class="id">oo</span>%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_infty_infty">set_itv_infty_infty</a></span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setUv">setUv</a></span> (`]-<span class="id">oo</span>, 0[)) <span class="id"><a href="mathcomp.classical.set_interval.html#setCitv">setCitv</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> `|` (<span class="id">X</span> `|` <span class="id">_</span>) ]<span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0U">set0U</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; //= <span class="id">x</span> [] /= /[<span class="id">swap</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">ltNge</span> =&gt; -&gt;//.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> (<span class="id">X</span> + <span class="id">_</span>)%<span class="id">E</span>]<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_infty_bnd">lebesgue_measure_itv_infty_bnd</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> (<span class="id">_</span> + <span class="id">X</span>)%<span class="id">E</span>]<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_bnd_infty">lebesgue_measure_itv_bnd_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_measure_itv">lebesgue_measure_itv</a></span> (<span class="id"><a name="i:177">i</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> ([<span class="id">set</span>` <span class="id">i</span>] : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.R">R</a></span>) = (<span class="kwd">if</span> <span class="id">i</span>.1 &lt; <span class="id">i</span>.2 <span class="kwd">then</span> <span class="id">i</span>.2 - <span class="id">i</span>.1 <span class="kwd">else</span> 0)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">move</span>: <span class="id">i</span> =&gt; [[<span class="id">x</span> <span class="id">a</span>|[|]]] [<span class="id">y</span> <span class="id">b</span>|[|]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_bnd">lebesgue_measure_itv_bnd</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_bnd_infty">lebesgue_measure_itv_bnd_infty</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_infty_bnd">lebesgue_measure_itv_infty_bnd</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv.lebesgue_measure_itv_infty_infty">lebesgue_measure_itv_infty_infty</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> ?<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_ball">measurable_ball</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="measurable_ball.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_ball">measurable_ball</a></span> (<span class="id"><a name="x:179">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball.R">R</a></span>) <span class="id"><a name="e:180">e</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">e</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_itv">ball_itv</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_measure_ball">lebesgue_measure_ball</a></span> (<span class="id"><a name="x:181">x</a></span> <span class="id"><a name="r:182">r</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball.R">R</a></span>) : (0 &lt;= <span class="id">r</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> <span class="id">x</span> <span class="id">r</span>) = (<span class="id">r</span> *+ 2)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[/<span class="id">eqP</span> &lt;-|<span class="id">r0</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#ball0">ball0</a></span> <span class="id">_</span> <span class="id">_</span>).2// <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id">mul0rn</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_itv">ball_itv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_subl_addr</span> -<span class="id">addrA</span> <span class="id">ltr_addl</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addr_gt0</span> // -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id">addrAC</span> <span class="id">opprD</span> <span class="id">opprK</span> <span class="id">addrA</span> <span class="id">subrr</span> <span class="id">add0r</span> -<span class="id">mulr2n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_closed_ball">measurable_closed_ball</a></span> (<span class="id"><a name="x:183">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball.R">R</a></span>) <span class="id"><a name="r:184">r</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">closed_ball</a></span> <span class="id">x</span> <span class="id">r</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> <span class="id">r</span> 0; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball0">closed_ball0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball_itv">closed_ball_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_measure_closed_ball">lebesgue_measure_closed_ball</a></span> (<span class="id"><a name="x:185">x</a></span> <span class="id"><a name="r:186">r</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball.R">R</a></span>) : 0 &lt;= <span class="id">r</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">closed_ball</a></span> <span class="id">x</span> <span class="id">r</span>) = (<span class="id">r</span> *+ 2)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">r0</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul0rn</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball0">closed_ball0</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball_itv">closed_ball_itv</a></span>// <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span>/= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> -<span class="id">ltr_subl_addl</span> <span class="id">addrAC</span>.<br/>
<span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">add0r</span> <span class="id">gtr_opp</span>// ?<span class="id">mulr_gt0</span>// -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>; <span class="id">congr</span> (<span class="id">_</span>%:<span class="id">E</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrAC</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> -<span class="id">mulr2n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_measure_rat">lebesgue_measure_rat</a></span> (<span class="id"><a name="R:187">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">ratr</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) = 0%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.cardinality.html#pcard_eqP">pcard_eqP</a></span>/<span class="id"><a href="mathcomp.classical.cardinality.html#bijPex">bijPex</a></span>[<span class="id">f</span> <span class="id">bijf</span>] := <span class="id"><a href="mathcomp.classical.cardinality.html#card_rat">card_rat</a></span>; <span class="id">set</span> <span class="id">f1</span> := '<span class="id">pinv_</span>(<span class="kwd">fun</span>=&gt; 0) <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id">_</span> = \<span class="id">bigcup_n</span> [<span class="id">set</span> <span class="id">ratr</span> (<span class="id">f1</span> <span class="id">n</span>)]); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">_</span> [<span class="id">q</span> <span class="id">_</span> &lt;-]|<span class="id">_</span> [<span class="id">n</span> <span class="id">_</span> /= -&gt;]]; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">f1</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">f</span> <span class="id">q</span>) =&gt; //=; <span class="id">rewrite</span> /<span class="id">f1</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvKV">pinvKV</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span>// =&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">_</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bij_inj">bij_inj</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#setTT_bijective">setTT_bijective</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetP">trivIsetP</a></span> =&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ij</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; //= <span class="id">_</span> [/= -&gt;].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">fmorph_inj</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.classical.functions.html#set_bij_inj">set_bij_inj</a></span> /[<span class="id">apply</span>] := <span class="id"><a href="mathcomp.classical.functions.html#bijpinv_bij">bijpinv_bij</a></span> (<span class="kwd">fun</span>=&gt; 0) <span class="id">bijf</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> =&gt; /(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>); <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eseries0">eseries0</a></span>// =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_set1">lebesgue_measure_set1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_fun_measurable">measurable_fun_measurable</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:191">d</a></span> (<span class="id"><a name="T:192">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:193">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="measurable_fun_measurable.D">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.T">T</a></span>) (<span class="id"><a name="measurable_fun_measurable.f">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.R">R</a></span>).<br/>
<span class="kwd">Hypotheses</span> (<span class="id"><a name="measurable_fun_measurable.mD">mD</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span>) (<span class="id"><a name="measurable_fun_measurable.mf">mf</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span> <span class="id"><a name="y:198">y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:199">x</a></span> | <span class="id">y</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_c_infty">preimage_itv_c_infty</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.mf">mf</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_o_infty">emeasurable_fun_o_infty</a></span> <span class="id"><a name="y:200">y</a></span> :  <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:201">x</a></span> | <span class="id">y</span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_o_infty">preimage_itv_o_infty</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.mf">mf</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_infty_o">emeasurable_fun_infty_o</a></span> <span class="id"><a name="y:202">y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:203">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span> &lt; <span class="id">y</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_infty_o">preimage_itv_infty_o</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.mf">mf</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_infty_c">emeasurable_fun_infty_c</a></span> <span class="id"><a name="y:204">y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:205">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span> &lt;= <span class="id">y</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_infty_c">preimage_itv_infty_c</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.mf">mf</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fin_num">emeasurable_fin_num</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:206">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;\<span class="id">bigcup_k</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` ([<span class="id">set</span>  <span class="id"><a name="x:208">x</a></span> | - <span class="id">k</span>%:<span class="id">R</span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span>] `&amp;` [<span class="id">set</span> <span class="id"><a name="x:209">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span> &lt;= <span class="id">k</span>%:<span class="id">R</span>%:<span class="id">E</span>]))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">k</span>; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#setIACA">setIACA</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_c_infty">emeasurable_fun_c_infty</a></span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_infty_c">emeasurable_fun_infty_c</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span> =&gt; [/= [<span class="id">Dt</span> <span class="id">ft</span>]|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">ft0</span>|<span class="id">ft0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">t</span>))|%<span class="id">N</span> =&gt; //=; <span class="id">split</span> =&gt; //; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{2}(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">ft</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">ft0</span>)// <span class="id">ler_oppl</span> <span class="id">oppr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">natr_absz</span> <span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>// -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">ft</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">t</span>))|%<span class="id">N</span> =&gt; //=; <span class="id">split</span> =&gt; //; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">natr_absz</span> <span class="id">ltr0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#floor_lt0">floor_lt0</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">EFinN</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{2}(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">ft</span>) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mulrNz</span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> <span class="id">ft</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">ft0</span>)).<br/>
<span class="id">move</span>=&gt; [<span class="id">n</span> <span class="id">_</span>] [/= <span class="id">Dt</span> [<span class="id">nft</span> <span class="id">fnt</span>]]; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numElt">fin_numElt</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">nft</span>) ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>//= (<span class="id">le_lt_trans</span> <span class="id">fnt</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_neq">emeasurable_neq</a></span> <span class="id"><a name="y:217">y</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.D">D</a></span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:218">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span> != <span class="id">y</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id"><a name="x:219">x</a></span> | <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> <span class="id">x</span> != <span class="id">y</span>] = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.f">f</a></span> @^-1` (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> `\ <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable.mf">mf</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span> /= =&gt; -[<span class="id">_</span> /<span class="id">eqP</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /= =&gt; <span class="id">ft0</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span> /=; <span class="id">split</span> =&gt; //; <span class="id">exact</span>/<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_measurable">measurable_fun_measurable</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="RGenOInfty">RGenOInfty</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="RGenOInfty.rgenoinfty">rgenoinfty</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RGenOInfty.rgenoinfty.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.rgenoinfty.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="RGenOInfty.G">G</a></span> := [<span class="id">set</span> <span class="id"><a name="A:223">A</a></span> | <span class="kwd">exists</span> <span class="id"><a name="x:224">x</a></span>, <span class="id">A</span> = `]<span class="id">x</span>, +<span class="id">oo</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOInfty.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span> <span class="id"><a name="b:225">b</a></span> <span class="id"><a name="x:226">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>) +<span class="id">oo</span>%<span class="id">O</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
<span class="id">case</span>: <span class="id">b</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">eexists</span>; <span class="id">reflexivity</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_c_inftyEbigcap">itv_c_inftyEbigcap</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcapT_measurable">bigcapT_measurable</a></span> =&gt; <span class="id">k</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">eexists</span>; <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOInfty.measurable_itv_bounded">measurable_itv_bounded</a></span> <span class="id"><a name="a:227">a</a></span> <span class="id"><a name="b:228">b</a></span> <span class="id"><a name="x:229">x</a></span> : <span class="id">a</span> != +<span class="id">oo</span>%<span class="id">O</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> <span class="id">a</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
<span class="id">case</span>: <span class="id">a</span> =&gt; [<span class="id">a</span> <span class="id">r</span> <span class="id">_</span>|[<span class="id">_</span>|//]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_splitD">set_itv_splitD</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOInfty.measurableE">measurableE</a></span> : (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.rgenoinfty.R">R</a></span>).-<span class="id">sigma</span>.-<span class="id">measurable</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">I</span> [<span class="id">x</span> <span class="id">_</span> &lt;-]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurable_itv_bounded">measurable_itv_bounded</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span>' /= [<span class="id">x</span> -&gt;]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.rgenoinfty">rgenoinfty</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty">RGenOInfty</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="RGenInftyO">RGenInftyO</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="RGenInftyO.rgeninftyo">rgeninftyo</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RGenInftyO.rgeninftyo.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.rgeninftyo.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="RGenInftyO.G">G</a></span> := [<span class="id">set</span> <span class="id"><a name="A:231">A</a></span> | <span class="kwd">exists</span> <span class="id"><a name="x:232">x</a></span>, <span class="id">A</span> = `]-<span class="id">oo</span>, <span class="id">x</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenInftyO.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span> <span class="id"><a name="b:233">b</a></span> <span class="id"><a name="x:234">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">case</span>: <span class="id">b</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">eexists</span>; <span class="id">reflexivity</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_o_inftyEbigcup">itv_o_inftyEbigcup</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvl">setCitvl</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">eexists</span>; <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenInftyO.measurable_itv_bounded">measurable_itv_bounded</a></span> <span class="id"><a name="a:235">a</a></span> <span class="id"><a name="b:236">b</a></span> <span class="id"><a name="x:237">x</a></span> : <span class="id">a</span> != -<span class="id">oo</span>%<span class="id">O</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>) <span class="id">a</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">case</span>: <span class="id">a</span> =&gt; [<span class="id">a</span> <span class="id">r</span> <span class="id">_</span>|[//|<span class="id">_</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_splitD">set_itv_splitD</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvl">setCitvl</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvl">setCitvl</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenInftyO.measurableE">measurableE</a></span> : (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.rgeninftyo.R">R</a></span>).-<span class="id">sigma</span>.-<span class="id">measurable</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">I</span> [<span class="id">x</span> <span class="id">_</span> &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.measurable_itv_bounded">measurable_itv_bounded</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span>' /= [<span class="id">x</span> -&gt;]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO.rgeninftyo">rgeninftyo</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenInftyO">RGenInftyO</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="RGenCInfty">RGenCInfty</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="RGenCInfty.rgencinfty">rgencinfty</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RGenCInfty.rgencinfty.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.rgencinfty.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="RGenCInfty.G">G</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.rgencinfty.R">R</a></span>) := [<span class="id">set</span> <span class="id"><a name="A:239">A</a></span> | <span class="kwd">exists</span> <span class="id"><a name="x:240">x</a></span>, <span class="id">A</span> = `[<span class="id">x</span>, +<span class="id">oo</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenCInfty.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span> <span class="id"><a name="b:241">b</a></span> <span class="id"><a name="x:242">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>) +<span class="id">oo</span>%<span class="id">O</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="id">case</span>: <span class="id">b</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_c_infty">set_itv_c_infty</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_o_inftyEbigcup">itv_o_inftyEbigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">k</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">eexists</span>; <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenCInfty.measurable_itv_bounded">measurable_itv_bounded</a></span> <span class="id"><a name="a:243">a</a></span> <span class="id"><a name="b:244">b</a></span> <span class="id"><a name="y:245">y</a></span> : <span class="id">a</span> != +<span class="id">oo</span>%<span class="id">O</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> <span class="id">a</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">case</span>: <span class="id">a</span> =&gt; [<span class="id">a</span> <span class="id">r</span> <span class="id">_</span>|[<span class="id">_</span>|//]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itv_splitD">set_itv_splitD</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenCInfty.measurableE">measurableE</a></span> : (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.rgencinfty.R">R</a></span>).-<span class="id">sigma</span>.-<span class="id">measurable</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">I</span> [<span class="id">x</span> <span class="id">_</span> &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.measurable_itv_bounded">measurable_itv_bounded</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span>' /= [<span class="id">x</span> -&gt;]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.rgencinfty">rgencinfty</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty">RGenCInfty</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="RGenOpens">RGenOpens</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="RGenOpens.rgenopens">rgenopens</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="RGenOpens.rgenopens.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.rgenopens.R">R</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="RGenOpens.G">G</a></span> := [<span class="id">set</span> <span class="id"><a name="A:247">A</a></span> | <span class="kwd">exists</span> <span class="id"><a name="x:248">x</a></span> <span class="id"><a name="y:249">y</a></span>, <span class="id">A</span> = `]<span class="id">x</span>, <span class="id">y</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="RGenOpens.measurable_itvoo">measurable_itvoo</a></span> <span class="id"><a name="x:250">x</a></span> <span class="id"><a name="y:251">y</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> `]<span class="id">x</span>, <span class="id">y</span>[%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
 <span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">eexists</span>; <span class="id">eexists</span>; <span class="id">reflexivity</span>. Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="RGenOpens.measurable_itv_o_infty">measurable_itv_o_infty</a></span> <span class="id"><a name="x:252">x</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> `]<span class="id">x</span>, +<span class="id">oo</span>[%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_bnd_inftyEbigcup">itv_bnd_inftyEbigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable">bigcupT_measurable</a></span> =&gt; <span class="id">i</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itvoo">measurable_itvoo</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOpens.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span> <span class="id"><a name="b:253">b</a></span> <span class="id"><a name="x:254">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>) +<span class="id">oo</span>%<span class="id">O</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
<span class="id">case</span>: <span class="id">b</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itv_o_infty">measurable_itv_o_infty</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#itv_c_inftyEbigcap">itv_c_inftyEbigcap</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcapT_measurable">bigcapT_measurable</a></span> =&gt; <span class="id">k</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itv_o_infty">measurable_itv_o_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOpens.measurable_itv_infty_bnd">measurable_itv_infty_bnd</a></span> <span class="id"><a name="b:255">b</a></span> <span class="id"><a name="x:256">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">x</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOpens.measurable_itv_bounded">measurable_itv_bounded</a></span> <span class="id"><a name="a:257">a</a></span> <span class="id"><a name="x:258">x</a></span> <span class="id"><a name="b:259">b</a></span> <span class="id"><a name="y:260">y</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">a</span> <span class="id">x</span>) (<span class="id">BSide</span> <span class="id">b</span> <span class="id">y</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> =&gt; [] []; <span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html#setCitv">setCitv</a></span>;<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">try</span> <span class="id">solve</span>[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itv_infty_bnd">measurable_itv_infty_bnd</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itv_bnd_infty">measurable_itv_bnd_infty</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="RGenOpens.measurableE">measurableE</a></span> : (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.rgenopens.R">R</a></span>).-<span class="id">sigma</span>.-<span class="id">measurable</span> = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">I</span> [<span class="id">x</span> <span class="id">_</span> &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.measurable_itv_bounded">measurable_itv_bounded</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">A</span>' /= [<span class="id">x</span> [<span class="id">y</span> -&gt;]]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens.rgenopens">rgenopens</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOpens">RGenOpens</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="erealwithrays">erealwithrays</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="erealwithrays.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#erealwithrays.R">R</a></span>) (<span class="id">r</span> <span class="id">s</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#erealwithrays.R">R</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_itv_bnd_infty">EFin_itv_bnd_infty</a></span> <span class="id"><a name="b:266">b</a></span> <span class="id"><a name="r:267">r</a></span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">r</span>) +<span class="id">oo</span>%<span class="id">O</span>] =<br/>
&nbsp;&nbsp;[<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> <span class="id">r</span>%:<span class="id">E</span>) +<span class="id">oo</span>%<span class="id">O</span>] `\ +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; [<span class="id">x</span> [<span class="id">s</span> /<span class="id">itvP</span> <span class="id">rs</span> &lt;-]|<span class="id">x</span> []].<br/>
&nbsp;&nbsp;<span class="id">split</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> <span class="kwd">in</span> <span class="id">rs</span> *; <span class="id">rewrite</span> /= ?(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>) <span class="id">rs</span>.<br/>
<span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">s</span>|<span class="id">_</span> /(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>)|] //=; <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> =&gt; /=; <span class="id">rewrite</span> 1?(<span class="id">leNgt</span>,<span class="id">ltNge</span>) 1?(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>).<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span> =&gt; /=; <span class="id">rewrite</span> 1?(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>,<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>) =&gt; <span class="id">rs</span> <span class="id">_</span>;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">s</span> =&gt; //; <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id">rs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_itv">EFin_itv</a></span> <span class="id"><a name="r:268">r</a></span> : [<span class="id">set</span> <span class="id"><a name="s:269">s</a></span> | <span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">s</span>%:<span class="id">E</span>] = `]<span class="id">r</span>, +<span class="id">oo</span>[%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">s</span>; <span class="id">split</span> =&gt; [|]; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_EFin_setT">preimage_EFin_setT</a></span> : @<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#erealwithrays.R">R</a></span> @^-1` [<span class="id">set</span> <span class="id"><a name="x:270">x</a></span> | <span class="id">x</span> \<span class="kwd">in</span> `]-<span class="id">oo</span>%<span class="id">E</span>, +<span class="id">oo</span>[] = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvE">set_itvE</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span>=&gt; // <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eitv_bnd_infty">eitv_bnd_infty</a></span> <span class="id"><a name="b:271">b</a></span> <span class="id"><a name="r:272">r</a></span> : `[<span class="id">r</span>%:<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span> =<br/>
&nbsp;&nbsp;\<span class="id">bigcap_k</span> [<span class="id">set</span>` <span class="id">Interval</span> (<span class="id">BSide</span> <span class="id">b</span> (<span class="id">r</span> - <span class="id">k</span>.+1%:<span class="id">R</span>^-1)%:<span class="id">E</span>) +<span class="id">oo</span>%<span class="id">O</span>] :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span>=&gt; [|].<br/>
- <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">s</span> /=| <span class="id">_</span> <span class="id">n</span> <span class="id">_</span>|//].<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; <span class="id">rs</span> <span class="id">n</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">b</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_subl_addl</span> (<span class="id">le_trans</span> <span class="id">rs</span>)// <span class="id">ler_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_subl_addl</span> (<span class="id">le_lt_trans</span> <span class="id">rs</span>)// <span class="id">ltr_addr</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">case</span>: <span class="id">b</span> =&gt; /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteey">lteey</a></span>.<br/>
- <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">s</span>| |/(<span class="id">_</span> 0%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)] /=; <span class="id">rewrite</span> ?<span class="id">in_itv</span>/= ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">leNgt</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#ltr_add_invr">ltr_add_invr</a></span>[<span class="id">k</span> <span class="id">skr</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> {<span class="id">h</span>} := <span class="id">h</span> <span class="id">k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>; <span class="id">case</span>: <span class="id">b</span> =&gt; /=.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ler_subl_addr</span> <span class="id">leNgt</span> <span class="id">skr</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_subl_addr</span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">skr</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eitv_infty_bnd">eitv_infty_bnd</a></span> <span class="id"><a name="b:274">b</a></span> <span class="id"><a name="r:275">r</a></span> : `]-<span class="id">oo</span>, <span class="id">r</span>%:<span class="id">E</span>]%<span class="id">classic</span> =<br/>
&nbsp;&nbsp;\<span class="id">bigcap_k</span> [<span class="id">set</span>` <span class="id">Interval</span> -<span class="id">oo</span>%<span class="id">O</span> (<span class="id">BSide</span> <span class="id">b</span> (<span class="id">r</span>%:<span class="id">E</span> + <span class="id">k</span>.+1%:<span class="id">R</span>^-1%:<span class="id">E</span>))] :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span>=&gt; [|].<br/>
- <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">s</span> /=|//|<span class="id">_</span> <span class="id">n</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> =&gt; <span class="id">sr</span> <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">b</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> (<span class="id">le_lt_trans</span> <span class="id">sr</span>)// <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> (<span class="id">le_trans</span> <span class="id">sr</span>)// <span class="id">ler_addl</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>; <span class="id">case</span>: <span class="id">b</span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lteNye">lteNye</a></span>.<br/>
- <span class="id">move</span>: <span class="id">x</span> =&gt; [<span class="id">s</span>|/(<span class="id">_</span> 0%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)|]/=; <span class="id">rewrite</span> !<span class="id">in_itv</span>/= ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leNye">leNye</a></span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span> =&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#ltr_add_invr">ltr_add_invr</a></span>[<span class="id">k</span> <span class="id">rks</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> {<span class="id">h</span>} := <span class="id">h</span> <span class="id">k</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span>; <span class="id">case</span>: <span class="id">b</span> =&gt; /=.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltNge</span> (<span class="id">ltW</span> <span class="id">rks</span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">leNgt</span> <span class="id">rks</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eset1Ny">eset1Ny</a></span> :<br/>
&nbsp;&nbsp;[<span class="id">set</span> -<span class="id">oo</span>] = \<span class="id">bigcap_k</span> `]-<span class="id">oo</span>, (-<span class="id">k</span>%:<span class="id">R</span>%:<span class="id">E</span>)[%<span class="id">classic</span> :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#erealwithrays.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span>=&gt; [<span class="id">_</span> -&gt; <span class="id">i</span> <span class="id">_</span> |]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltNyr">ltNyr</a></span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">r</span>|/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)|]//.<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#floor">floor</a></span> <span class="id">r</span>|%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>); <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id">ltNge</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>; <span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> 0%<span class="id">R</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">r0</span>) // <span class="id">ler_oppl</span> <span class="id">oppr0</span> <span class="id">ler0n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_oppl</span> -<span class="id">abszN</span> <span class="id">natr_absz</span> <span class="id">gtr0_norm</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_oppr</span> <span class="id">oppr0</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_lt0">floor_lt0</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrNz</span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id"><a href="mathcomp.analysis.reals.html#floor_le">floor_le</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eset1y">eset1y</a></span> : [<span class="id">set</span> +<span class="id">oo</span>] = \<span class="id">bigcap_k</span> `]<span class="id">k</span>%:<span class="id">R</span>%:<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span> :&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#erealwithrays.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span>=&gt; [<span class="id">_</span> -&gt; <span class="id">i</span> <span class="id">_</span>/=|]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">r</span>| |/(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>)] // /(<span class="id">_</span> `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> <span class="id">r</span>|%<span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">Logic.I</a></span>); <span class="id">rewrite</span> /= <span class="id">in_itv</span> /=.<br/>
<span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltNge</span>.<br/>
<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">ltP</span> 0%<span class="id">R</span> <span class="id">r</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">r0</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">natr_absz</span> <span class="id">gtr0_norm</span> // ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span>// <span class="id"><a href="mathcomp.analysis.reals.html#ceil_gt0">ceil_gt0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#erealwithrays">erealwithrays</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ErealGenOInfty">ErealGenOInfty</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="ErealGenOInfty.erealgenoinfty">erealgenoinfty</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ErealGenOInfty.erealgenoinfty.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.erealgenoinfty.R">R</a></span>) (<span class="id">r</span> <span class="id">s</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.erealgenoinfty.R">R</a></span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ErealGenOInfty.G">G</a></span> := [<span class="id">set</span> <span class="id"><a name="A:280">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.erealgenoinfty.R">R</a></span> | <span class="kwd">exists</span> <span class="id"><a name="r:281">r</a></span>, <span class="id">A</span> = `]<span class="id">r</span>%:<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenOInfty.measurable_set1Ny">measurable_set1Ny</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span> -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#eset1Ny">eset1Ny</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#eitv_bnd_infty">eitv_bnd_infty</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; <span class="id">j</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (- (<span class="id">i</span>%:<span class="id">R</span> + <span class="id">j</span>.+1%:<span class="id">R</span>^-1))%<span class="id">R</span>; <span class="id">rewrite</span> <span class="id">opprD</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenOInfty.measurable_set1y">measurable_set1y</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span> +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#eset1y">eset1y</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcapT_measurable">bigcapT_measurable</a></span> =&gt; <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="kwd">exists</span> <span class="id">i</span>%:<span class="id">R</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenOInfty.measurableE">measurableE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.erealgenoinfty.R">R</a></span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable0">emeasurable0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTD">setTD</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurableC">emeasurableC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#bigcupT_emeasurable">bigcupT_emeasurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">r</span> -&gt;]; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> `]<span class="id">r</span>, +<span class="id">oo</span>[%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurableE">RGenOInfty.measurableE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurable_itv_bnd_infty">RGenOInfty.measurable_itv_bnd_infty</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">set</span> +<span class="id">oo</span>]; [<span class="id">constructor</span>|<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#punct_eitv_bndy">punct_eitv_bndy</a></span>].<br/>
<span class="id">move</span>=&gt; <span class="id">A</span> [<span class="id">B</span> <span class="id">mB</span> [<span class="id">C</span> <span class="id">mC</span>]] &lt;-; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">mC</span>; [<span class="kwd">by</span> []|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1Ny">measurable_set1Ny</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1y">measurable_set1y</a></span>|].<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1Ny">measurable_set1Ny</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1y">measurable_set1y</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurableE">RGenOInfty.measurableE</a></span> <span class="kwd">in</span> <span class="id">mB</span>.<br/>
<span class="id">have</span> <span class="id">smB</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">mB</span>.<br/>
<span class="comment">(*&nbsp;BUG:&nbsp;elim/smB&nbsp;:&nbsp;_.&nbsp;fails&nbsp;!!&nbsp;*)</span><br/>
<span class="id">apply</span>: (<span class="id">smB</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image">image</a></span>^~ <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">r</span> -&gt;]/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_itv_bnd_infty">EFin_itv_bnd_infty</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span> =&gt; /=; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1y">measurable_set1y</a></span>.<br/>
<span class="id">split</span>=&gt; /= [|<span class="id">D</span> <span class="id">mD</span>|<span class="id">F</span> <span class="id">mF</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTD">setTD</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#EFin_setC">EFin_setC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1Ny">measurable_set1Ny</a></span>| <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.measurable_set1y">measurable_set1y</a></span>].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#EFin_bigcup">EFin_bigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">i</span> <span class="id">_</span> ; <span class="id">exact</span>: <span class="id">mF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty.erealgenoinfty">erealgenoinfty</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenOInfty">ErealGenOInfty</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ErealGenCInfty">ErealGenCInfty</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="ErealGenCInfty.erealgencinfty">erealgencinfty</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ErealGenCInfty.erealgencinfty.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.erealgencinfty.R">R</a></span>) (<span class="id">r</span> <span class="id">s</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.erealgencinfty.R">R</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ErealGenCInfty.G">G</a></span> := [<span class="id">set</span> <span class="id"><a name="A:283">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.erealgencinfty.R">R</a></span> | <span class="kwd">exists</span> <span class="id"><a name="r:284">r</a></span>, <span class="id">A</span> = `[<span class="id">r</span>%:<span class="id">E</span>, +<span class="id">oo</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenCInfty.measurable_set1Ny">measurable_set1Ny</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span> -<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#eset1Ny">eset1Ny</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcapT_measurable">bigcapT_measurable</a></span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="kwd">exists</span> (- <span class="id">i</span>%:<span class="id">R</span>)%<span class="id">R</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenCInfty.measurable_set1y">measurable_set1y</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> [<span class="id">set</span> +<span class="id">oo</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#eset1y">eset1y</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvl">setCitvl</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#eitv_infty_bnd">eitv_infty_bnd</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; <span class="id">j</span> <span class="id">_</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="kwd">exists</span> (<span class="id">i</span>%:<span class="id">R</span> + <span class="id">j</span>.+1%:<span class="id">R</span>^-1)%<span class="id">R</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenCInfty.measurableE">measurableE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.erealgencinfty.R">R</a></span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable0">emeasurable0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTD">setTD</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurableC">emeasurableC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#bigcupT_emeasurable">bigcupT_emeasurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">r</span> -&gt;]/=; <span class="kwd">exists</span> `[<span class="id">r</span>, +<span class="id">oo</span>[%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurableE">RGenOInfty.measurableE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenOInfty.measurable_itv_bnd_infty">RGenOInfty.measurable_itv_bnd_infty</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">set</span> +<span class="id">oo</span>]; [<span class="id">constructor</span>|<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#punct_eitv_bndy">punct_eitv_bndy</a></span>].<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">A</span>' <span class="id">mA</span>' [<span class="id">C</span> <span class="id">mC</span>]] &lt;-; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">mC</span>; [<span class="kwd">by</span> []|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1Ny">measurable_set1Ny</a></span>| <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1y">measurable_set1y</a></span>|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1Ny">measurable_set1Ny</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1y">measurable_set1y</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#RGenCInfty.measurableE">RGenCInfty.measurableE</a></span> <span class="kwd">in</span> <span class="id">mA</span>'.<br/>
<span class="id">have</span> <span class="id">smA</span>' := <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">mA</span>'.<br/>
<span class="comment">(*&nbsp;BUG:&nbsp;elim/smA'&nbsp;:&nbsp;_.&nbsp;fails&nbsp;!!&nbsp;*)</span><br/>
<span class="id">apply</span>: (<span class="id">smA</span>' (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image">image</a></span>^~ <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">r</span> -&gt;]/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_itv_bnd_infty">EFin_itv_bnd_infty</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span> =&gt; /=; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1y">measurable_set1y</a></span>.<br/>
<span class="id">split</span>=&gt; /= [|<span class="id">D</span> <span class="id">mD</span>|<span class="id">F</span> <span class="id">mF</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">image_set0</a></span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTD">setTD</a></span> <span class="id"><a href="mathcomp.analysis.ereal.html#EFin_setC">EFin_setC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1Ny">measurable_set1Ny</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurable_set1y">measurable_set1y</a></span>].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#EFin_bigcup">EFin_bigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">mF</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.erealgencinfty">erealgencinfty</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty">ErealGenCInfty</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ErealGenInftyO">ErealGenInftyO</a></span>.<br/>
<span class="kwd">Section</span> <span class="id"><a name="ErealGenInftyO.erealgeninftyo">erealgeninftyo</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="ErealGenInftyO.erealgeninftyo.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ErealGenInftyO.G">G</a></span> := [<span class="id">set</span> <span class="id"><a name="A:286">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.erealgeninftyo.R">R</a></span> | <span class="kwd">exists</span> <span class="id"><a name="r:287">r</a></span>, <span class="id">A</span> = `]-<span class="id">oo</span>, <span class="id">r</span>%:<span class="id">E</span>[%<span class="id">classic</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ErealGenInftyO.measurableE">measurableE</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable">emeasurable</a></span> (@<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.erealgeninftyo.R">R</a></span>) = <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.G">G</a></span>.-<span class="id">sigma</span>.-<span class="id">measurable</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenCInfty.measurableE">ErealGenCInfty.measurableE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">x</span> -&gt;]; <span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span>.-<span class="id">measurable</span> <span class="id">X</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#setCitvr">setCitvr</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#smallest_sub">smallest_sub</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#smallest_sigma_algebra">smallest_sigma_algebra</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Gx</span>; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> <span class="id">x</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">Gx</span> =&gt; <span class="id">y</span> -&gt;; <span class="kwd">exists</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.set_interval.html#setCitvl">setCitvl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO.erealgeninftyo">erealgeninftyo</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#ErealGenInftyO">ErealGenInftyO</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="trace">trace</a></span>.<br/>
<span class="kwd">Variable</span> (<span class="id"><a name="trace.T">T</a></span> : <span class="kwd">Type</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">G</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#trace.T">T</a></span>)) (<span class="id">A</span> <span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#trace.T">T</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="strace">strace</a></span> <span class="id"><a name="G:290">G</a></span> <span class="id"><a name="D:291">D</a></span> := [<span class="id">set</span> <span class="id">x</span> `&amp;` <span class="id">D</span> | <span class="id"><a name="x:292">x</a></span> <span class="kwd">in</span> <span class="id">G</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="stracexx">stracexx</a></span> <span class="id"><a name="G:293">G</a></span> <span class="id"><a name="D:294">D</a></span> : <span class="id">G</span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#strace">strace</a></span> <span class="id">G</span> <span class="id">D</span> <span class="id">D</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#strace">strace</a></span> /=; <span class="kwd">exists</span> <span class="id">D</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigma_algebra_strace">sigma_algebra_strace</a></span> <span class="id"><a name="G:295">G</a></span> <span class="id"><a name="D:296">D</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#sigma_algebra">sigma_algebra</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">G</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#sigma_algebra">sigma_algebra</a></span> <span class="id">D</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#strace">strace</a></span> <span class="id">G</span> <span class="id">D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">move</span>=&gt; [<span class="id">G0</span> <span class="id">GC</span> <span class="id">GU</span>]; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0I">set0I</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">S</span> [<span class="id">A</span> <span class="id">mA</span> <span class="id">ADS</span>]; <span class="id">have</span> <span class="id">mCA</span> := <span class="id">GC</span> <span class="id">_</span> <span class="id">mA</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#strace">strace</a></span> <span class="id">G</span> <span class="id">D</span> (<span class="id">D</span> `&amp;` ~` <span class="id">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> `\` <span class="id">A</span>) =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTD">setTD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> =&gt; <span class="id">trDA</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">DADS</span> : <span class="id">D</span> `\` <span class="id">A</span> = <span class="id">D</span> `\` <span class="id">S</span> <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ADS</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCI">setCI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setICr">setICr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">DADS</span> <span class="kwd">in</span> <span class="id">trDA</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">S</span> <span class="id">mS</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.classical.boolp.html#choice">choice</a></span>[<span class="id">M</span> <span class="id">GM</span>] : <span class="kwd">forall</span> <span class="id"><a name="n:297">n</a></span>, <span class="kwd">exists</span> <span class="id"><a name="A:298">A</a></span>, <span class="id">G</span> <span class="id">A</span> /\ <span class="id">S</span> <span class="id">n</span> = <span class="id">A</span> `&amp;` <span class="id">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> [<span class="id">A</span> <span class="id">mA</span> <span class="id">ADSn</span>] := <span class="id">mS</span> <span class="id">n</span>; <span class="kwd">exists</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (\<span class="id">bigcup_i</span> (<span class="id">M</span> <span class="id">i</span>)); <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span> <span class="id">GU</span> =&gt; <span class="id">i</span>;  <span class="id">exact</span>: (<span class="id">GM</span> <span class="id">i</span>).1.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupl">setI_bigcupl</a></span>; <span class="id">apply</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_bigcupr">eq_bigcupr</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> (<span class="id">GM</span> <span class="id">i</span>).2.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#trace">trace</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="strace_measurable">strace_measurable</a></span> <span class="id"><a name="d:301">d</a></span> (<span class="id"><a name="T:302">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="A:303">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#strace">strace</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> `&lt;=` <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mA</span>=&gt; <span class="id">_</span> [<span class="id">C</span> <span class="id">mC</span> &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>. Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_interval_measurable">is_interval_measurable</a></span> (<span class="id"><a name="R:304">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="I:305">I</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#is_interval">is_interval</a></span> <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">I</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#is_intervalP">is_intervalP</a></span> =&gt; -&gt;; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="coutinuous_measurable">coutinuous_measurable</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="coutinuous_measurable.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="open_measurable">open_measurable</a></span> (<span class="id"><a name="U:307">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id">U</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">U</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.normedtype.html#open_bigcup_rat">open_bigcup_rat</a></span> -&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkcond">bigcup_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable_rat">bigcupT_measurable_rat</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">q</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // <span class="id">qfab</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#is_interval_measurable">is_interval_measurable</a></span> =&gt; //.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_interval_bigcup_ointsub">is_interval_bigcup_ointsub</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="open_measurable_subspace">open_measurable_subspace</a></span> (<span class="id"><a name="D:308">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) (<span class="id"><a name="U:309">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> <span class="id">D</span>)) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id">U</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">D</span> `&amp;` <span class="id">U</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">move</span>=&gt; <span class="id">mD</span> /<span class="id"><a href="mathcomp.analysis.topology.html#open_subspaceP">open_subspaceP</a></span> [<span class="id">V</span> [<span class="id">oV</span>] <span class="id">VD</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span> -<span class="id">VD</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="closed_measurable">closed_measurable</a></span> (<span class="id"><a name="U:310">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id">U</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">U</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.topology.html#closed_openC">closed_openC</a></span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compact_measurable">compact_measurable</a></span> (<span class="id"><a name="A:311">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> =&gt; /(<span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>)); <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subspace_continuous_measurable_fun">subspace_continuous_measurable_fun</a></span> (<span class="id"><a name="D:312">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) (<span class="id"><a name="f:313">f</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#subspace">subspace</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
<span class="id">move</span>=&gt; <span class="id">mD</span> /<span class="id"><a href="mathcomp.analysis.topology.html#continuousP">continuousP</a></span> <span class="id">cf</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">RGenOpens.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>)).<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">a</span> [<span class="id">b</span> -&gt;] &lt;-]]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable_subspace">open_measurable_subspace</a></span> =&gt; //.<br/>
<span class="id">exact</span>/<span class="id">cf</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> (<span class="id"><a name="D:314">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) (<span class="id"><a name="f:315">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id">D</span> -&gt; {<span class="kwd">in</span> <span class="id">D</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
<span class="id">move</span>=&gt; <span class="id">oD</span>; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span> <span class="id">f</span> <span class="id">oD</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#subspace_continuous_measurable_fun">subspace_continuous_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="continuous_measurable_fun">continuous_measurable_fun</a></span> (<span class="id"><a name="f:316">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">cf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_continuous_measurable_fun">open_continuous_measurable_fun</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#openT">openT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#coutinuous_measurable">coutinuous_measurable</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="standard_measurable_fun">standard_measurable_fun</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="standard_measurable_fun.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_oppr">measurable_oppr</a></span> <span class="id"><a name="D:318">D</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (-%<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span> =&gt; /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#continuous_measurable_fun">continuous_measurable_fun</a></span>.<br/>
<span class="id">exact</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#opp_continuous">opp_continuous</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span>^<span class="id">o</span>]).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_normr">measurable_normr</a></span> <span class="id"><a name="D:319">D</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (@<span class="id">normr</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
<span class="id">move</span>=&gt; <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">RGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; /= <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //.<br/>
<span class="id">have</span> [<span class="id">x0</span>|<span class="id">x0</span>] := <span class="id">leP</span> 0 <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = `]-<span class="id">oo</span>, (- <span class="id">x</span>)[ `|` `]<span class="id">x</span>, +<span class="id">oo</span>[)%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">split</span> =&gt; [|[|]]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv">preimage_itv</a></span> ?<span class="id">in_itv</span> ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span>/=.<br/>
&nbsp;&nbsp;- <span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> 0 <span class="id">r</span>; [<span class="id">rewrite</span> <span class="id">ger0_norm</span>|<span class="id">rewrite</span> <span class="id">ltr0_norm</span>] =&gt; // <span class="id">xr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> 2!<span class="id">in_itv</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">right</span>; <span class="id">rewrite</span> <span class="id">xr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">left</span>; <span class="id">rewrite</span> <span class="id">ltr_oppr</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">rx</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler0_norm</span> 1?<span class="id">ltr_oppr</span>// (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">rx</span>))// <span class="id">ler_oppl</span> <span class="id">oppr0</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">xr</span>; <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id">ler_norm</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>)// <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">r</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span> =&gt; // <span class="id">_</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> (<span class="id">lt_le_trans</span> <span class="id">x0</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_mulrl">measurable_mulrl</a></span> <span class="id"><a name="D:322">D</a></span> (<span class="id"><a name="k:323">k</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> ( *%<span class="id">R</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#continuous_measurable_fun">continuous_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mulrl_continuous">mulrl_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_mulrr">measurable_mulrr</a></span> <span class="id"><a name="D:324">D</a></span> (<span class="id"><a name="k:325">k</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:326">x</a></span> =&gt; <span class="id">x</span> * <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#continuous_measurable_fun">continuous_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mulrr_continuous">mulrr_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_exprn">measurable_exprn</a></span> <span class="id"><a name="D:327">D</a></span> <span class="id"><a name="n:328">n</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:329">x</a></span> =&gt; <span class="id">x</span> ^+ <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
<span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funTS">measurable_funTS</a></span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#continuous_measurable_fun">continuous_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.realfun.html#exprn_continuous">exprn_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_measurable_fun">standard_measurable_fun</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (-%<span class="id">R</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppr">measurable_oppr</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id">normr</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_normr">measurable_normr</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> ( *%<span class="id">R</span> <span class="id">_</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mulrl">measurable_mulrl</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="x:330">x</a></span> =&gt; <span class="id">x</span> ^+ <span class="id">_</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_exprn">measurable_exprn</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_exprn</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_sqr">measurable_fun_sqr</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_exprn">measurable_exprn</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_oppr</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_opp">measurable_fun_opp</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppr">measurable_oppr</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_oppr</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_funN">measurable_funN</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppr">measurable_oppr</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_normr</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_normr">measurable_fun_normr</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_normr">measurable_normr</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_exprn</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_exprn">measurable_fun_exprn</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_exprn">measurable_exprn</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_mulrl</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_funrM">measurable_funrM</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mulrl">measurable_mulrl</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="measurable_fun_realType">measurable_fun_realType</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:331">d</a></span> (<span class="id"><a name="T:332">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:333">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.T">T</a></span>) (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_funD">measurable_funD</a></span> <span class="id"><a name="D:334">D</a></span> <span class="id"><a name="f:335">f</a></span> <span class="id"><a name="g:336">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \+ <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">RGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; /= <span class="id">_</span> [<span class="id">_</span> [<span class="id">a</span> -&gt;] &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_o_infty">preimage_itv_o_infty</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">bigcup_</span>(<span class="id"><a name="q:337">q</a></span> : <span class="id">rat</span>)<br/>
&nbsp;&nbsp;((<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:338">x</a></span> | <span class="id">ratr</span> <span class="id">q</span> &lt; <span class="id">f</span> <span class="id">x</span>]) `&amp;` (<span class="id">D</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:339">x</a></span> | <span class="id">a</span> - <span class="id">ratr</span> <span class="id">q</span> &lt; <span class="id">g</span> <span class="id">x</span>]))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcupT_measurable_rat">bigcupT_measurable_rat</a></span> =&gt; <span class="id">q</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_o_infty">preimage_itv_o_infty</a></span>; <span class="id">apply</span>: <span class="id">mf</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_o_infty">preimage_itv_o_infty</a></span>; <span class="id">apply</span>: <span class="id">mg</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">split</span> =&gt; [|[<span class="id">r</span> <span class="id">_</span>] []/= [<span class="id">Dx</span> <span class="id">rfx</span>]] /= =&gt; [[<span class="id">Dx</span>]|[<span class="id">_</span>]].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ltr_subl_addr</span> =&gt; /<span class="id"><a href="mathcomp.analysis.reals.html#rat_in_itvoo">rat_in_itvoo</a></span>[<span class="id">r</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> /= =&gt; /<span class="id">itvP</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">r</span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIACA">setIACA</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>; <span class="id">split</span> =&gt; //; <span class="id">split</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> <span class="id">addrC</span> -<span class="id">ltr_subl_addr</span> <span class="id">h</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span>=&gt; <span class="id">afg</span>; <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">afg</span>)// <span class="id">addrC</span> <span class="id">ler_add2r</span> <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_funB">measurable_funB</a></span> <span class="id"><a name="D:347">D</a></span> <span class="id"><a name="f:348">f</a></span> <span class="id"><a name="g:349">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \- <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span> =&gt;//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_funM">measurable_funM</a></span> <span class="id"><a name="D:350">D</a></span> <span class="id"><a name="f:351">f</a></span> <span class="id"><a name="g:352">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \* <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span>; <span class="id">rewrite</span> (<span class="id">_</span> : (<span class="id">_</span> \* <span class="id">_</span>) = (<span class="kwd">fun</span> <span class="id"><a name="x:353">x</a></span> =&gt; 2%:<span class="id">R</span>^-1 * (<span class="id">f</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span>) ^+ 2)<br/>
&nbsp;&nbsp;\- (<span class="kwd">fun</span> <span class="id"><a name="x:354">x</a></span> =&gt; 2%:<span class="id">R</span>^-1 * (<span class="id">f</span> <span class="id">x</span> ^+ 2)) \- (<span class="kwd">fun</span> <span class="id"><a name="x:355">x</a></span> =&gt; 2%:<span class="id">R</span>^-1 * (<span class="id">g</span> <span class="id">x</span> ^+ 2))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>; <span class="id">first</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_exprn">measurable_exprn</a></span> <span class="id">_</span>) <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funD">measurable_funD</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_exprn">measurable_exprn</a></span> <span class="id">_</span>) <span class="id">_</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_exprn">measurable_exprn</a></span> <span class="id">_</span>) <span class="id">_</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> -2!<span class="id">mulrBr</span> <span class="id">sqrrD</span> (<span class="id">addrC</span> (<span class="id">f</span> <span class="id">x</span> ^+ 2)) -<span class="id">addrA</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">addrA</span> (<span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span> *+ 2)) -<span class="id">opprB</span> <span class="id">opprK</span> (<span class="id">addrC</span> (<span class="id">g</span> <span class="id">x</span> ^+ 2)) <span class="id">addrK</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">mulr_natr</span> (<span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>)) -(<span class="id">mulrC</span> 2) <span class="id">mulrA</span> <span class="id">mulVr</span> ?<span class="id">mul1r</span>// <span class="id">unitfE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_ltr">measurable_fun_ltr</a></span> <span class="id"><a name="D:362">D</a></span> <span class="id"><a name="f:363">f</a></span> <span class="id"><a name="g:364">g</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:365">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> &lt; <span class="id">g</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span> <span class="id">Y</span> <span class="id">mY</span>; <span class="id">have</span> [| | |] := <span class="id"><a href="mathcomp.classical.classical_sets.html#set_bool">set_bool</a></span> <span class="id">Y</span> =&gt; /<span class="id">eqP</span> -&gt;.<br/>
- <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_true">preimage_true</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_o_infty">preimage_itv_o_infty</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span> <span class="id">mg</span> <span class="id">mf</span>) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
- <span class="id">under</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltNge</span> -<span class="id">subr_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_false">preimage_false</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set_predC">set_predC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_c_infty">preimage_itv_c_infty</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span> <span class="id">mf</span> <span class="id">mg</span>) =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_set0">preimage_set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setT">preimage_setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_maxr">measurable_maxr</a></span> <span class="id"><a name="D:366">D</a></span> <span class="id"><a name="f:367">f</a></span> <span class="id"><a name="g:368">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \<span class="id">max</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>; <span class="id">move</span>: (<span class="id">mD</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> =&gt; //;<br/>
&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_ltr">measurable_fun_ltr</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_minr">measurable_minr</a></span> <span class="id"><a name="D:369">D</a></span> <span class="id"><a name="f:370">f</a></span> <span class="id"><a name="g:371">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> \<span class="id">min</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>; <span class="id">move</span>: (<span class="id">mD</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> =&gt; //;<br/>
&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_ltr">measurable_fun_ltr</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mf</span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mg</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_sups">measurable_fun_sups</a></span> <span class="id"><a name="D:372">D</a></span> (<span class="id"><a name="h:373">h</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)^<span class="id">nat</span>) <span class="id"><a name="n:374">n</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:375">t</a></span>, <span class="id">D</span> <span class="id">t</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">h</span> ^~ <span class="id">t</span>))) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="m:376">m</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">m</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:377">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#sups">sups</a></span> (<span class="id">h</span> ^~ <span class="id">x</span>) <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">move</span>=&gt; <span class="id">f_ub</span> <span class="id">mf</span> <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">RGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#sups_preimage">sups_preimage</a></span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> /= <span class="id">nk</span>; <span class="id">apply</span>: <span class="id">mf</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_infs">measurable_fun_infs</a></span> <span class="id"><a name="D:378">D</a></span> (<span class="id"><a name="h:379">h</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)^<span class="id">nat</span>) <span class="id"><a name="n:380">n</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:381">t</a></span>, <span class="id">D</span> <span class="id">t</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">h</span> ^~ <span class="id">t</span>))) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:382">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:383">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#infs">infs</a></span> (<span class="id">h</span> ^~ <span class="id">x</span>) <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
<span class="id">move</span>=&gt; <span class="id">lb_f</span> <span class="id">mf</span> <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">RGenInftyO.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)) =&gt;//.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#infs_preimage">infs_preimage</a></span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> /= <span class="id">nk</span>; <span class="id">apply</span>: <span class="id">mf</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_limn_sup">measurable_fun_limn_sup</a></span> <span class="id"><a name="D:384">D</a></span> (<span class="id"><a name="h:385">h</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:386">t</a></span>, <span class="id">D</span> <span class="id">t</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_ubound">has_ubound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">h</span> ^~ <span class="id">t</span>))) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:387">t</a></span>, <span class="id">D</span> <span class="id">t</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">has_lbound</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id">h</span> ^~ <span class="id">t</span>))) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:388">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:389">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#limn_sup">limn_sup</a></span> (<span class="id">h</span> ^~ <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">move</span>=&gt; <span class="id">f_ub</span> <span class="id">f_lb</span> <span class="id">mf</span>.<br/>
<span class="id">have</span> : {<span class="kwd">in</span> <span class="id">D</span>, (<span class="kwd">fun</span> <span class="id"><a name="x:390">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.sequences.html#sups">sups</a></span> (<span class="id">h</span> ^~ <span class="id">x</span>) <span class="id">n</span> | <span class="id"><a name="n:392">n</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="n:391">n</a></span> | 0 &lt;= <span class="id">n</span>]%<span class="id">N</span>])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=1 (<span class="kwd">fun</span> <span class="id"><a name="x:393">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#limn_sup">limn_sup</a></span> (<span class="id">h</span>^~ <span class="id">x</span>))}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">t</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dt</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#sups">sups</a></span> (<span class="id">h</span>^~<span class="id">t</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#cvg_sups_inf">cvg_sups_inf</a></span>; [<span class="id">exact</span>: <span class="id">f_ub</span>|<span class="id">exact</span>: <span class="id">f_lb</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span> <span class="kwd">in</span> <span class="id">_</span>]); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span>; <span class="id">apply</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_infs">measurable_fun_infs</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">Dt</span>; <span class="id">have</span> [<span class="id">M</span> <span class="id">hM</span>] := <span class="id">f_lb</span> <span class="id">_</span> <span class="id">Dt</span>; <span class="kwd">exists</span> <span class="id">M</span> =&gt; <span class="id">_</span> [<span class="id">m</span> /= <span class="id">nm</span> &lt;-].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">h</span> <span class="id">m</span> <span class="id">t</span>)) //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span> <span class="id">hM</span> =&gt; /=; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.reals.html#sup_ub">sup_ub</a></span>; [<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.sequences.html#has_ubound_sdrop">has_ubound_sdrop</a></span>/<span class="id">f_ub</span>|<span class="kwd">exists</span> <span class="id">m</span> =&gt; /=].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_sups">measurable_fun_sups</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_cvg">measurable_fun_cvg</a></span> <span class="id"><a name="D:395">D</a></span> (<span class="id"><a name="h:396">h</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>)^<span class="id">nat</span>) <span class="id"><a name="f:397">f</a></span> :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="m:398">m</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">h</span> <span class="id">m</span>)) -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:399">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">h</span> ^~ <span class="id">x</span> --&gt; <span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
<span class="id">move</span>=&gt; <span class="id">mf_</span> <span class="id">f_f</span>; <span class="id">have</span> <span class="id">fE</span> <span class="id">x</span> : <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.sequences.html#limn_sup">limn_sup</a></span> (<span class="id">h</span> ^~ <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>  &lt;-// := @<span class="id"><a href="mathcomp.analysis.sequences.html#cvg_sups">cvg_sups</a></span> <span class="id">_</span> (<span class="id">h</span> ^~ <span class="id">x</span>) (<span class="id">f</span> <span class="id">x</span>) (<span class="id">f_f</span> <span class="id">_</span> <span class="id">Dx</span>).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:401">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#limn_sup">limn_sup</a></span> (<span class="id">h</span> ^~ <span class="id">x</span>))).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> -<span class="id">fE</span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_sup">measurable_fun_limn_sup</a></span> <span class="id">_</span> <span class="id">h</span>) =&gt; // <span class="id">t</span> <span class="id">Dt</span>.<br/>
- <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_fun_has_ubound">bounded_fun_has_ubound</a></span>/(@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_seq_bounded">cvg_seq_bounded</a></span> <span class="id">_</span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>^<span class="id">o</span>]).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
- <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_fun_has_lbound">bounded_fun_has_lbound</a></span>/(@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_seq_bounded">cvg_seq_bounded</a></span> <span class="id">_</span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType.R">R</a></span>^<span class="id">o</span>]).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id">f_f</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_realType">measurable_fun_realType</a></span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.6", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">measurable_fun_limn_sup</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_lim_sup">measurable_fun_lim_sup</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_sup">measurable_fun_limn_sup</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_ln">measurable_ln</a></span> (<span class="id"><a name="R:403">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> [<span class="id">set</span>~ (0:<span class="id">R</span>)] (@<span class="id"><a href="mathcomp.analysis.exp.html#ln">ln</a></span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span>~ 0] = `]-<span class="id">oo</span>, 0[ `|` `]0, +<span class="id">oo</span>[); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.set_interval.html#setCitv">setCitv</a></span> `[0, 0]); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [|]<span class="id">x</span>/=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">in_itv</span>/= -<span class="id">eq_le</span> <span class="id">eq_sym</span>; [<span class="id">move</span>/<span class="id">eqP</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> =&gt; -&gt;|<span class="id">move</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id">eqP</span>].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funU">measurable_funU</a></span> =&gt; //; <span class="id">split</span>.<br/>
- <span class="id">apply</span>/(@<span class="id"><a href="mathcomp.analysis.measure.html#measurable_restrict">measurable_restrict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (0:<span class="id">R</span>))//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patchE">patchE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= =&gt; <span class="id">y0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.exp.html#ln0">ln0</a></span>// <span class="id">ltW</span>.<br/>
- <span class="id">have</span> : {<span class="kwd">in</span> `]0, +<span class="id">oo</span>[%<span class="id">classic</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (@<span class="id"><a href="mathcomp.analysis.exp.html#ln">ln</a></span> <span class="id">R</span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">x0</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.exp.html#continuous_ln">continuous_ln</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#continuous_open_subspace">continuous_open_subspace</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#subspace_continuous_measurable_fun">subspace_continuous_measurable_fun</a></span>; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.exp.html#ln">ln</a></span> <span class="id">_</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ln">measurable_ln</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_ln</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_ln">measurable_fun_ln</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ln">measurable_ln</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_expR">measurable_expR</a></span> (<span class="id"><a name="R:404">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> [<span class="id">set</span>: <span class="id">R</span>] <span class="id"><a href="mathcomp.analysis.sequences.html#expR">expR</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#continuous_measurable_fun">continuous_measurable_fun</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.exp.html#continuous_expR">continuous_expR</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.sequences.html#expR">expR</a></span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_expR">measurable_expR</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_powR">measurable_powR</a></span> (<span class="id"><a name="R:405">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) <span class="id"><a name="p:406">p</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> [<span class="id">set</span>: <span class="id">R</span>] (@<span class="id"><a href="mathcomp.analysis.exp.html#powR">powR</a></span> <span class="id">R</span> ^~ <span class="id">p</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_if">measurable_fun_if</a></span> =&gt; //.<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_bool">measurable_fun_bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>); <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> @^-1` <span class="id">_</span> = [<span class="id">set</span> 0])//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">_</span> /<span class="id">eqP</span> -&gt;//|<span class="id">_</span> -&gt; /=]; <span class="id">rewrite</span> <span class="id">eqxx</span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> @^-1` <span class="id">_</span> = [<span class="id">set</span>~ 0]); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span> =&gt; [<span class="id">x</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id">eqP</span>|<span class="id">x</span> <span class="id">x0</span>]//=; <span class="id">exact</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span>/<span class="id">eqP</span>.<br/>
Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.exp.html#powR">powR</a></span> <span class="id">_</span> ^~ <span class="id">_</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_powR">measurable_powR</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_powR</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_power_pos">measurable_fun_power_pos</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_powR">measurable_powR</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.4", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_powR</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_power_pos">measurable_power_pos</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_powR">measurable_powR</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_maxr</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_max">measurable_fun_max</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxr">measurable_maxr</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="standard_emeasurable_fun">standard_emeasurable_fun</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="standard_emeasurable_fun.R">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_EFin">measurable_EFin</a></span> (<span class="id"><a name="D:408">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
<span class="id">move</span>=&gt; <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">ErealGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; /= <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;]] &lt;-; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv_o_infty">preimage_itv_o_infty</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_itv">EFin_itv</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_abse">measurable_abse</a></span> (<span class="id"><a name="D:409">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>)) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">move</span>=&gt; <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">ErealGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; /= <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-].<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> @^-1` <span class="id">X</span>](<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#punct_eitv_bndy">punct_eitv_bndy</a></span> <span class="id">_</span> <span class="id">x</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setU">preimage_setU</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.ereal.html#preimage_abse_pinfty">preimage_abse_pinfty</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="kwd">exists</span> (<span class="id">normr</span> @^-1` `]<span class="id">x</span>, +<span class="id">oo</span>[%<span class="id">classic</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_normr">measurable_normr</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
<span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">constructor</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; -[<span class="id">y</span>| |]; <span class="id">split</span> =&gt; /= =&gt; -[<span class="id">r</span>];<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> ?/= /= ?<span class="id">in_itv</span> /= ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> =&gt; <span class="id">xr</span>//.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">ry</span>]; <span class="kwd">exists</span> `|<span class="id">y</span>| =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> -<span class="id">ry</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">ry</span>]; <span class="kwd">exists</span> <span class="id">y</span> =&gt; //=; <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> -<span class="id">ry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_oppe">measurable_oppe</a></span> (<span class="id"><a name="D:412">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (\<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>)) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (-%<span class="id">E</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="id">move</span>=&gt; <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">ErealGenCInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-]; <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> @^-1` <span class="id">_</span> = `]-<span class="id">oo</span>, (- <span class="id">x</span>)%:<span class="id">E</span>]%<span class="id">classic</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_itv">preimage_itv</a></span> !<span class="id">in_itv</span>/= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">in_itv</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_oppr">lee_oppr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#standard_emeasurable_fun">standard_emeasurable_fun</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse">abse</a></span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_abse">measurable_abse</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_EFin">measurable_EFin</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">_</span> (-%<span class="id">E</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppe">measurable_oppe</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_oppe</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_fun_minus">emeasurable_fun_minus</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_oppe">measurable_oppe</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_abse</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_abse">measurable_fun_abse</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_abse">measurable_abse</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_EFin</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_EFin">measurable_fun_EFin</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_EFin">measurable_EFin</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EFin_measurable_fun">EFin_measurable_fun</a></span> <span class="id"><a name="d:413">d</a></span> (<span class="id"><a name="T:414">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:415">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="D:416">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="g:417">g</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span>) &lt;-&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">split</span>=&gt; [<span class="id">mf</span> <span class="id">mD</span> <span class="id">A</span> <span class="id">mA</span>|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mg</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">D</span> `&amp;` (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> \<span class="id">o</span> <span class="id">g</span>) @^-1` (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFin">EFin</a></span> @` <span class="id">A</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">mf</span> =&gt; //; <span class="kwd">exists</span> <span class="id">A</span> =&gt; //; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>; [<span class="id">constructor</span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setU0">setU0</a></span>].<br/>
<span class="id">congr</span> (<span class="id">_</span> `&amp;` <span class="id">_</span>);<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span>=&gt; [|? []/= <span class="id">_</span> /[<span class="id">swap</span>] -[-&gt;//]].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_image">preimage_image</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_er_map">measurable_er_map</a></span> <span class="id"><a name="d:419">d</a></span> (<span class="id"><a name="T:420">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:421">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:422">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> [<span class="id">set</span>: \<span class="id">bar</span> <span class="id">R</span>] (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#er_map">er_map</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">move</span>=&gt; <span class="id">mf</span>;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#er_map">er_map</a></span> <span class="id">_</span> =<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id"><a name="x:423">x</a></span> =&gt; <span class="kwd">if</span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">then</span> (<span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">x</span>))%:<span class="id">E</span> <span class="kwd">else</span> <span class="id">x</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; -[].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_ifT">measurable_fun_ifT</a></span> =&gt; //=.<br/>
+ <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun_bool">measurable_fun_bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= -[<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fin_num">emeasurable_fin_num</a></span>.<br/>
+ <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#EFin_measurable_fun">EFin_measurable_fun</a></span>/<span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">measurable_er_map</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_er_map">measurable_fun_er_map</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_er_map">measurable_er_map</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="emeasurable_fun">emeasurable_fun</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:427">d</a></span> (<span class="id"><a name="T:428">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>) (<span class="id"><a name="R:429">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">D</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_einfs">measurable_fun_einfs</a></span> <span class="id"><a name="D:430">D</a></span> (<span class="id"><a name="f:431">f</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:432">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="n:433">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:434">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#einfs">einfs</a></span> (<span class="id">f</span> ^~ <span class="id">x</span>) <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">n</span> <span class="id">mD</span>.<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">ErealGenCInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#einfs_preimage">einfs_preimage</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcapIr">bigcapIr</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">n</span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; ? ?; <span class="id">exact</span>/<span class="id">mf</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_esups">measurable_fun_esups</a></span> <span class="id"><a name="D:435">D</a></span> (<span class="id"><a name="f:436">f</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:437">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="n:438">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:439">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#esups">esups</a></span> (<span class="id">f</span> ^~ <span class="id">x</span>) <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">n</span> <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">ErealGenOInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-];<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#esups_preimage">esups_preimage</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; ? ?; <span class="id">exact</span>/<span class="id">mf</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_maxe">measurable_maxe</a></span> <span class="id"><a name="D:440">D</a></span> (<span class="id"><a name="f:441">f</a></span> <span class="id"><a name="g:442">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:443">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> (<span class="id">f</span> <span class="id">x</span>) (<span class="id">g</span> <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mD</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurability">measurability</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurableE">ErealGenCInfty.measurableE</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)) =&gt; //.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">x</span> -&gt;] &lt;-]; <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">D</span> `&amp;` <span class="id">f</span> @^-1` `[<span class="id">x</span>%:<span class="id">E</span>, +<span class="id">oo</span>[) `|` (<span class="id">D</span> `&amp;` <span class="id">g</span> @^-1` `[<span class="id">x</span>%:<span class="id">E</span>, +<span class="id">oo</span>[)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">t</span> /=; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !/= /= !<span class="id">in_itv</span> /= !<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">le_maxr</span> =&gt; -[<span class="id">Dx</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>[|]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tauto</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [|]; <span class="id">rewrite</span> !/= /= !<span class="id">in_itv</span>/= !<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">le_maxr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">Dx</span> -&gt;]//; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>; [<span class="id">exact</span>/<span class="id">mf</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>| <span class="id">exact</span>/<span class="id">mg</span>/<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_itv">emeasurable_itv</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_funepos">measurable_funepos</a></span> <span class="id"><a name="D:445">D</a></span> (<span class="id"><a name="f:446">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>^\+.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxe">measurable_maxe</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_funeneg">measurable_funeneg</a></span> <span class="id"><a name="D:447">D</a></span> (<span class="id"><a name="f:448">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>^\-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">mf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxe">measurable_maxe</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_mine">measurable_mine</a></span> <span class="id"><a name="D:449">D</a></span> (<span class="id"><a name="f:450">f</a></span> <span class="id"><a name="g:451">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:452">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mine">mine</a></span> (<span class="id">f</span> <span class="id">x</span>) (<span class="id">g</span> <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span>; <span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = (<span class="kwd">fun</span> <span class="id"><a name="x:453">x</a></span> =&gt; - <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#maxe">maxe</a></span> (- <span class="id">f</span> <span class="id">x</span>) (- <span class="id">g</span> <span class="id">x</span>))).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxe">measurable_maxe</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppe_max">oppe_max</a></span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">oppeK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> <span class="id"><a name="D:456">D</a></span> (<span class="id"><a name="f:457">f</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)^<span class="id">nat</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:458">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f</span> <span class="id">n</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id"><a name="x:459">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="id">f</span> ^~ <span class="id">x</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mD</span>; <span class="id">rewrite</span> (<span class="id">_</span> :  (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:460">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.sequences.html#esups">esups</a></span> (<span class="id">f</span>^~ <span class="id">x</span>) <span class="id">n</span> | <span class="id"><a name="n:462">n</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="n:461">n</a></span> | <span class="id">n</span> &gt;= 0]%<span class="id">N</span>])).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_einfs">measurable_fun_einfs</a></span> =&gt; // <span class="id">k</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_esups">measurable_fun_esups</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">t</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //.<br/>
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> --&gt; <span class="id">X</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> (<span class="id"><a href="mathcomp.analysis.sequences.html#esups">esups</a></span> (<span class="id">f</span>^~<span class="id">t</span>)))).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#cvg_esups_inf">cvg_esups_inf</a></span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf">ereal_inf</a></span> [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span> <span class="kwd">in</span> <span class="id">_</span>]); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> <span class="id"><a name="D:470">D</a></span> (<span class="id"><a name="f_:471">f_</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="f:472">f</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun.R">R</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="m:473">m</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> (<span class="id">f_</span> <span class="id">m</span>)) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:474">x</a></span>, <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f_</span> ^~ <span class="id">x</span> --&gt; <span class="id">f</span> <span class="id">x</span>) -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="id">move</span>=&gt; <span class="id">mf_</span> <span class="id">f_f</span>; <span class="id">have</span> <span class="id">fE</span> <span class="id">x</span> : <span class="id">D</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="id">f_</span>^~ <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dx</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span>  &lt;-// := @<span class="id"><a href="mathcomp.analysis.sequences.html#cvg_esups">cvg_esups</a></span> <span class="id">_</span> (<span class="id">f_</span>^~<span class="id">x</span>) (<span class="id">f</span> <span class="id">x</span>) (<span class="id">f_f</span> <span class="id">x</span> <span class="id">Dx</span>).<br/>
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#eq_measurable_fun">eq_measurable_fun</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:476">x</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.sequences.html#limn_esup">limn_esup</a></span> (<span class="id">f_</span> ^~ <span class="id">x</span>))) =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Dx</span>; <span class="id">rewrite</span> <span class="id">fE</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun">emeasurable_fun</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#emeasurable_fun_cvg">emeasurable_fun_cvg</a></span> {<span class="id">d</span> <span class="id">T</span> <span class="id">R</span> <span class="id">D</span>} <span class="id">f_</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurableT_comp</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_funN">emeasurable_funN</a></span> := <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_maxe</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_fun_max">emeasurable_fun_max</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_maxe">measurable_maxe</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_mine</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_fun_min">emeasurable_fun_min</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_mine">measurable_mine</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_funepos</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_fun_funepos">emeasurable_fun_funepos</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funepos">measurable_funepos</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.3", <span class="id">note</span>="<span class="id">use</span> `<span class="id">measurable_funeneg</span>` <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="emeasurable_fun_funeneg">emeasurable_fun_funeneg</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funeneg">measurable_funeneg</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.6", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">measurable_fun_limn_esup</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="measurable_fun_lim_esup">measurable_fun_lim_esup</a></span> := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_fun_limn_esup">measurable_fun_limn_esup</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="lebesgue_regularity">lebesgue_regularity</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:478">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>}.<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_regularity.mu">mu</a></span> := [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>].<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_regularity_outer">lebesgue_regularity_outer</a></span> (<span class="id"><a name="D:479">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) (<span class="id"><a name="eps:480">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> &lt; +<span class="id">oo</span> -&gt; (0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="U:481">U</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.topology.html#open">open</a></span> <span class="id">U</span> , <span class="id">D</span> `&lt;=` <span class="id">U</span> &amp; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">U</span> `\` <span class="id">D</span>) &lt; <span class="id">eps</span>%:<span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">muDpos</span> <span class="id">epspos</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lt">ereal_inf_lt</a></span>[<span class="id">z</span> [<span class="id">M</span>' <span class="id">covDM</span> <span class="id">sMz</span> <span class="id">zDe</span>]] : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> + (<span class="id">eps</span> / 2)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_spaddre">lte_spaddre</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> ?<span class="id">divr_gt0</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>.<br/>
<span class="id">pose</span> <span class="id">e2</span> <span class="id"><a name="n:482">n</a></span> := (<span class="id">eps</span> / 2) / (2 ^ <span class="id">n</span>.+1)%:<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">e2pos</span> <span class="id">n</span> : (0 &lt; <span class="id">e2</span> <span class="id">n</span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">divr_gt0</span>.<br/>
<span class="id">pose</span> <span class="id">M</span> <span class="id"><a name="n:484">n</a></span> := <span class="kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">M</span>' <span class="id">n</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) <span class="kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(`] <span class="id"><a href="mathcomp.analysis.reals.html#inf">inf</a></span> (<span class="id">M</span>' <span class="id">n</span>), <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> (<span class="id">M</span>' <span class="id">n</span>) + <span class="id">e2</span> <span class="id">n</span> [%<span class="id">classic</span>)%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">muM</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">M</span> <span class="id">n</span>) &lt;= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">M</span>' <span class="id">n</span>) + (<span class="id">e2</span> <span class="id">n</span>)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">M</span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; /= [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitvP">ocitvP</a></span>[-&gt; //| [[<span class="id">a</span> <span class="id">b</span> /= <span class="id">alb</span> -&gt; <span class="id">ab0</span>]]] : <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> (<span class="id">M</span>' <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">covDM</span>  =&gt; /(<span class="id">_</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#inf_itv">inf_itv</a></span>// <span class="id"><a href="mathcomp.analysis.real_interval.html#sup_itv">sup_itv</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : (`]<span class="id">a</span>, (<span class="id">b</span> + <span class="id">e2</span> <span class="id">n</span>)%<span class="id">R</span>[ = `]<span class="id">a</span>, <span class="id">b</span>] `|` `]<span class="id">b</span>, (<span class="id">b</span> + <span class="id">e2</span> <span class="id">n</span>)%<span class="id">R</span>[ )%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">r</span> /=; <span class="id">rewrite</span> (@<span class="id">itv_splitU</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">BRight</span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">propeqE</a></span>; <span class="id">split</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">orP</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bnd_simp">bnd_simp</a></span> (<span class="id">ltW</span> <span class="id">alb</span>)/= <span class="id">ltr_spaddr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span>/=.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span>/= !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">alb</span> <span class="id">ltr_spaddr</span>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> (<span class="id">b</span> + <span class="id">e2</span> <span class="id">n</span>)) (<span class="id">addrC</span> <span class="id">b</span>) <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#is_ocitv">is_ocitv</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; // <span class="id">r</span> []/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span> [<span class="id">_</span> +] /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[+ <span class="id">_</span>] /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#bnd_simp">bnd_simp</a></span> =&gt; /<span class="id">le_lt_trans</span> /[<span class="id">apply</span>]; <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
<span class="id">pose</span> <span class="id">U</span> := \<span class="id">bigcup_n</span> <span class="id">M</span> <span class="id">n</span>.<br/>
<span class="kwd">exists</span> <span class="id">U</span>; <span class="id">have</span> <span class="id">DU</span> : <span class="id">D</span> `&lt;=` <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">covDM</span>) =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span>; <span class="id">apply</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_bigcup">subset_bigcup</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">M</span> =&gt; <span class="id">n</span> <span class="id">_</span> <span class="id">x</span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; [/= -&gt; //|].<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitvP">ocitvP</a></span> [-&gt; //| [[/= <span class="id">a</span> <span class="id">b</span> <span class="id">alb</span> -&gt; <span class="id">mn</span>]]] : <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#ocitv">ocitv</a></span> (<span class="id">M</span>' <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">covDM</span> =&gt; /(<span class="id">_</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= !<span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">ax</span> <span class="id">xb</span>]; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.real_interval.html#inf_itv">inf_itv</a></span> ?<span class="id"><a href="mathcomp.analysis.real_interval.html#sup_itv">sup_itv</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ax</span>/= (<span class="id">le_lt_trans</span> <span class="id">xb</span>)// <span class="id">ltr_spaddr</span>.<br/>
<span class="id">have</span> <span class="id">mM</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">M</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">M</span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurable0">measurable0</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>.<br/>
<span class="id">have</span> <span class="id">muU</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">U</span> &lt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> + <span class="id">eps</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:488">n</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">M</span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#outer_measure_sigma_subadditive">outer_measure_sigma_subadditive</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:500">n</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">M</span>' <span class="id">n</span>) + (<span class="id">e2</span> <span class="id">n</span>)%:<span class="id">E</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#epsilon_trick">epsilon_trick</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id">divr_ge0</span>// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> {2}[<span class="id">eps</span>]<span class="id">splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">addeA</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_le_add">lte_le_add</a></span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">zDe</span>)// -<span class="id">sMz</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span>// =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= -<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_Rhull">wlength_Rhull</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#wlength_itv">wlength_itv</a></span> !<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#er_map_idfun">er_map_idfun</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>//= ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">covDM</span> =&gt; /(<span class="id">_</span> <span class="id">i</span>) + <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#sub_sigma_algebra">sub_sigma_algebra</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_itv">measurable_itv</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#sub_Rhull">sub_Rhull</a></span>.<br/>
<span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#bigcup_open">bigcup_open</a></span> =&gt; <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">M</span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; /= <span class="id">_</span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#open0">open0</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">interval_open</a></span>].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>//=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIidr">setIidr</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_subel_addl">lte_subel_addl</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// (<span class="id">lt_le_trans</span> <span class="id">muU</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">mM</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">muU</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">leey</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_nearly_bounded">lebesgue_nearly_bounded</a></span> (<span class="id"><a name="D:512">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) (<span class="id"><a name="eps:513">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> &lt; +<span class="id">oo</span> -&gt; (0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="ab:514">ab</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">D</span> `\` [<span class="id">set</span>` `[<span class="id">ab</span>.1,<span class="id">ab</span>.2]]) &lt; <span class="id">eps</span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">Dfin</span> <span class="id">epspos</span>; <span class="id">pose</span> <span class="id">Dn</span> <span class="id"><a name="n:515">n</a></span> := <span class="id">D</span> `&amp;` [<span class="id">set</span>` `[-(<span class="id">n</span>%:<span class="id">R</span>), <span class="id">n</span>%:<span class="id">R</span>]]%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">mDn</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">Dn</span> <span class="id">n</span>) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> \<span class="id">o</span> <span class="id">Dn</span> --&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (\<span class="id">bigcup_n</span> <span class="id">Dn</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; // ? <span class="id">_</span>; <span class="id">exact</span>: <span class="id">mDn</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setIS">setIS</a></span> =&gt; <span class="id">z</span> /=; <span class="id">rewrite</span> !<span class="id">in_itv</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">nz</span> <span class="id">zn</span>]; <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">nz</span>)/= ?(<span class="id">le_trans</span> <span class="id">zn</span>) ?<span class="id">ler_nat</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppl</span> <span class="id">opprK</span> <span class="id">ler_nat</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.real_interval.html#bigcup_itvT">bigcup_itvT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span>.<br/>
<span class="id">have</span> <span class="id">finDn</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">Dn</span> <span class="id">n</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>// (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">Dfin</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//=; [<span class="id">exact</span>: <span class="id">mDn</span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>].<br/>
<span class="id">have</span> <span class="id">finD</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num_abs">fin_num_abs</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span>.<br/>
<span class="id">rewrite</span> -[<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span>// =&gt; /<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvg">fine_cvg</a></span>/(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#interior">interior</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span>)) <span class="id">eps</span>)))[].<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_interior">nbhs_interior</a></span>/(<span class="id"><a href="mathcomp.analysis.topology.html#nbhsx_ballx">nbhsx_ballx</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">epspos</span>)).<br/>
<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">_</span> (<span class="id">leqnn</span> <span class="id">n</span>))/<span class="id"><a href="mathcomp.analysis.topology.html#interior_subset">interior_subset</a></span> <span class="id">muDN</span>.<br/>
<span class="kwd">exists</span> (-<span class="id">n</span>%:<span class="id">R</span>, <span class="id">n</span>%:<span class="id">R</span>)%<span class="id">R</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureD">measureD</a></span>//=.<br/>
<span class="id">move</span>: <span class="id">muDN</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span>/= /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ereal_ball">ereal_ball</a></span>/= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineB">fineB</a></span>//=; <span class="id">last</span> <span class="id">exact</span>: <span class="id">finDn</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
<span class="id">have</span> <span class="id">finDDn</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> - <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">Dn</span> <span class="id">n</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">fin_num</a></span><br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_numB">fin_numB</a></span> ?<span class="id">finD</span> /= ?(<span class="id">finDn</span> <span class="id">n</span>).<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_abse">fine_abse</a></span> // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#gee0_abs">gee0_abs</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sube_ge0">sube_ge0</a></span> ?<span class="id">finD</span> ?(<span class="id">finDn</span> <span class="id">_</span>) //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">_</span> - <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> // <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> |<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> (<span class="id"><a name="D:519">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) (<span class="id"><a name="eps:520">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> &lt; +<span class="id">oo</span> -&gt; (0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="V:521">V</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">V</span> , <span class="id">V</span> `&lt;=` <span class="id">D</span> &amp; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">D</span> `\` <span class="id">V</span>) &lt; <span class="id">eps</span>%:<span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
<span class="id">move</span>=&gt; <span class="id">mD</span> <span class="id">finD</span> <span class="id">epspos</span>.<br/>
<span class="id">wlog</span> : <span class="id">eps</span> <span class="id">epspos</span> <span class="id">D</span> <span class="id">mD</span> <span class="id">finD</span> / <span class="kwd">exists</span> <span class="id"><a name="ab:522">ab</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span> * <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>, <span class="id">D</span> `&lt;=` `[<span class="id">ab</span>.1, <span class="id">ab</span>.2]%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">WL</span>; <span class="id">have</span> [] := @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_nearly_bounded">lebesgue_nearly_bounded</a></span> <span class="id">_</span> (<span class="id">eps</span> / 2)%<span class="id">R</span> <span class="id">mD</span> <span class="id">finD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>=&gt; <span class="id">a</span> <span class="id">b</span> /= <span class="id">muDabe</span>; <span class="id">have</span> [] := <span class="id">WL</span> (<span class="id">eps</span> / 2) <span class="id">_</span> (<span class="id">D</span> `&amp;` `[<span class="id">a</span>,<span class="id">b</span>]).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">finD</span>)// <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">a</span>, <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">V</span> [/= <span class="id">cptV</span> <span class="id">VDab</span> <span class="id">Dabeps2</span>]; <span class="kwd">exists</span> (<span class="id">V</span> `&amp;` `[<span class="id">a</span>, <span class="id">b</span>]); <span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#subclosed_compact">subclosed_compact</a></span> <span class="id">_</span> <span class="id">cptV</span>) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closedI">closedI</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_closed">interval_closed</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? [/<span class="id">VDab</span> []].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDIr">setDIr</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setU_id2r">setU_id2r</a></span> ((<span class="id">D</span> `&amp;` `[<span class="id">a</span>, <span class="id">b</span>]) `\` <span class="id">V</span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> ; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCI">setCI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> =&gt; -[?|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propext">propext</a></span>; <span class="id">split</span> =&gt; [[]|[[]]].<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">mV</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#closed_measurable">closed_measurable</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#compact_closed">compact_closed</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Rhausdorff">Rhausdorff</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">eps</span>]<span class="id">splitr</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> (<span class="id"><a href="mathcomp.analysis.measure.html#measureU">measureU</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span>) // ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_add">lte_add</a></span> //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">z</span> // [[[<span class="id">_</span> + <span class="id">_</span>] [<span class="id">_</span>]]].<br/>
<span class="id">case</span>=&gt; -[<span class="id">a</span> <span class="id">b</span>] /= <span class="id">Dab</span>; <span class="id">pose</span> <span class="id">D</span>' := `[<span class="id">a</span>,<span class="id">b</span>] `\` <span class="id">D</span>.<br/>
<span class="id">have</span> <span class="id">mD</span>' : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span>' <span class="kwd">by</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableD">measurableD</a></span>.<br/>
<span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_outer">lebesgue_regularity_outer</a></span> <span class="id">mD</span>' <span class="id">_</span> <span class="id">epspos</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> `[<span class="id">a</span>,<span class="id">b</span>]%<span class="id">classic</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetl">subIsetl</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_itv">lebesgue_measure_itv</a></span> //= -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> -<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#fun_if">fun_if</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">U</span> [<span class="id">oU</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> + <span class="id">mDeps</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCI">setCI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> =&gt; <span class="id">nCD</span>'.<br/>
<span class="kwd">exists</span> (`[<span class="id">a</span>, <span class="id">b</span>] `&amp;` ~` <span class="id">U</span>); <span class="id">split</span>.<br/>
- <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#subclosed_compact">subclosed_compact</a></span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.analysis.normedtype.html#segment_compact">segment_compact</a></span> <span class="id">_</span> <span class="id">a</span> <span class="id">b</span>)) =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closedI">closedI</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_closed">interval_closed</a></span> | <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#open_closedC">open_closedC</a></span>].<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> [<span class="id">abz</span>] /<span class="id">nCD</span>'[].<br/>
- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCI">setCI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">_</span> `&amp;` ~` <span class="id">_</span> ](<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#iffRL">iffRL</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#disjoints_subset">disjoints_subset</a></span> <span class="id">_</span> <span class="id">_</span>)) ?<span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#set0U">set0U</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">mDeps</span>; <span class="id">rewrite</span> /<span class="id">D</span>' ?<span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCI">setCI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIUr">setIUr</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span> [<span class="id">U</span> `&amp;` <span class="id">D</span>]<span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span> =&gt; /(<span class="id">le_lt_trans</span> <span class="id">_</span>); <span class="id">apply</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span> =&gt; ?; <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#open_measurable">open_measurable</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="lebesgue_regularity.lebesgue_regularity_innerE_bounded">lebesgue_regularity_innerE_bounded</a></span> (<span class="id"><a name="A:523">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">A</span> &lt; +<span class="id">oo</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">A</span> = <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">K</span> | <span class="id"><a name="K:525">K</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="K:524">K</a></span> | <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">K</span> /\ <span class="id">K</span> `&lt;=` <span class="id">A</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
<span class="id">move</span>=&gt; <span class="id">mA</span> <span class="id">muA</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ub_ereal_sup">ub_ereal_sup</a></span> =&gt; /= <span class="id">x</span> [<span class="id">B</span> /= [<span class="id">cB</span> <span class="id">BA</span> &lt;-{<span class="id">x</span>}]]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_outer_measure">le_outer_measure</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addgt0Pr">lee_addgt0Pr</a></span> =&gt; <span class="id">e</span> <span class="id">e0</span>.<br/>
<span class="id">have</span> [<span class="id">B</span> [<span class="id">cB</span> <span class="id">BA</span> /= <span class="id">ABe</span>]] := <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> <span class="id">mA</span> <span class="id">muA</span> <span class="id">e0</span>.<br/>
<span class="id">rewrite</span> -{1}(<span class="id"><a href="mathcomp.classical.classical_sets.html#setDKU">setDKU</a></span> <span class="id">BA</span>) (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">B</span> + <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">A</span> `\` <span class="id">B</span>)))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#outer_measureU2">outer_measureU2</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add">lee_add</a></span>//; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span> =&gt; /=; <span class="kwd">exists</span> <span class="id">B</span>|<span class="id">exact</span>/<span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lebesgue_regularity_inner_sup">lebesgue_regularity_inner_sup</a></span> (<span class="id"><a name="D:526">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">D</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span> = <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup">ereal_sup</a></span> [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">K</span> | <span class="id"><a name="K:528">K</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="K:527">K</a></span> | <span class="id"><a href="mathcomp.analysis.topology.html#compact">compact</a></span> <span class="id">K</span> /\ <span class="id">K</span> `&lt;=` <span class="id">D</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
<span class="id">move</span>=&gt; <span class="id">mD</span>; <span class="id">have</span> [?|] := <span class="id">ltP</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">D</span>) +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.lebesgue_regularity_innerE_bounded">lebesgue_regularity_innerE_bounded</a></span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.measure.html#sigma_finiteP">sigma_finiteP</a></span> [<span class="id">F</span> <span class="id">RFU</span> [<span class="id">Fsub</span> <span class="id">ffin</span>]] :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#sigmaT_finite_lebesgue_stieltjes_measure">sigmaT_finite_lebesgue_stieltjes_measure</a></span> [<span class="id">the</span> @<span class="id"><a href="mathcomp.analysis.lebesgue_stieltjes_measure.html#Cumulative.Exports.cumulative">cumulative</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.R">R</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>]<br/>
&nbsp;&nbsp;<span class="comment">(*TODO:&nbsp;sigma_finiteT&nbsp;mu&nbsp;should&nbsp;be&nbsp;enough&nbsp;but&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;work&nbsp;with&nbsp;older<br/>
&nbsp;&nbsp;&nbsp;&nbsp;versions&nbsp;of&nbsp;MathComp/Coq&nbsp;(Coq&nbsp;&lt;=&nbsp;8.15?)&nbsp;*)</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leye_eq">leye_eq</a></span> =&gt; /<span class="id">eqP</span> /[<span class="id">dup</span>] + -&gt;.<br/>
<span class="id">have</span> {1}-&gt; : <span class="id">D</span> = \<span class="id">bigcup_n</span> (<span class="id">F</span> <span class="id">n</span> `&amp;` <span class="id">D</span>) <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupl">setI_bigcupl</a></span> -<span class="id">RFU</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">FDp</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#eq_infty">eq_infty</a></span> =&gt; <span class="id">M</span>.<br/>
<span class="id">have</span> : (<span class="kwd">fun</span> <span class="id"><a name="n:530">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (<span class="id">F</span> <span class="id">n</span> `&amp;` <span class="id">D</span>)) @ \<span class="id">oo</span> --&gt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">FDp</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nondecreasing_cvg_mu">nondecreasing_cvg_mu</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: (<span class="id">ffin</span> <span class="id">i</span>).1.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ffin</span> <span class="id">i</span>).1).<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#setSI">setSI</a></span>; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#SetOrder.Exports.subsetPset">subsetPset</a></span>/<span class="id">Fsub</span>.<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgey_ge">cvgey_ge</a></span> =&gt; /(<span class="id">_</span> (<span class="id">M</span> + 1)%<span class="id">R</span>) [<span class="id">N</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">_</span> (<span class="id">lexx</span> <span class="id">N</span>))].<br/>
<span class="id">have</span> [<span class="id">mFN</span> <span class="id">FNoo</span>] := <span class="id">ffin</span> <span class="id">N</span>.<br/>
<span class="id">have</span> [] := @<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity_inner">lebesgue_regularity_inner</a></span> (<span class="id">F</span> <span class="id">N</span> `&amp;` <span class="id">D</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ltr01</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> (<span class="id">ffin</span> <span class="id">N</span>).2)//= <span class="id"><a href="mathcomp.analysis.measure.html#measureIl">measureIl</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">V</span> [/[<span class="id">dup</span>] /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#compact_measurable">compact_measurable</a></span> <span class="id">mV</span> <span class="id">cptV</span> <span class="id">VFND</span>] <span class="id">FDV1</span> <span class="id">M1FD</span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> <span class="id">V</span>))//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_sup_ub">ereal_sup_ub</a></span>; <span class="kwd">exists</span> <span class="id">V</span> =&gt; //=; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">VFND</span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#subIsetr">subIsetr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> -(@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_add2lE">lee_add2lE</a></span> <span class="id">_</span> 1)// {1}<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">addeC</a></span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">EFinD</a></span> (<span class="id">le_trans</span> <span class="id">M1FD</span>)//.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity.mu">mu</a></span> (@<span class="id"><a href="mathcomp.analysis.measure.html#measureDI">measureDI</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">F</span> <span class="id">N</span> `&amp;` <span class="id">D</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">mV</span>)/=; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">ltW</span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_le_add">lte_le_add</a></span> // ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span> //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureIr">measureIr</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setIA">setIA</a></span> (<span class="id">le_lt_trans</span> <span class="id">_</span> (<span class="id">ffin</span> <span class="id">N</span>).2)// <span class="id"><a href="mathcomp.analysis.measure.html#measureIl">measureIl</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_regularity">lebesgue_regularity</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="egorov">egorov</a></span>.<br/>
<br/>
<span class="kwd">Context</span> <span class="id"><a name="d:531">d</a></span> {<span class="id"><a name="R:532">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>} {<span class="id"><a name="T:533">T</a></span> : <span class="id"><a href="mathcomp.analysis.measure.html#Measurable.Exports.measurableType">measurableType</a></span> <span class="id">d</span>}.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="mu:534">mu</a></span> : {<span class="id">measure</span> <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>}).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pointwise_almost_uniform">pointwise_almost_uniform</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f_:535">f_</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="g:536">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>) (<span class="id"><a name="A:537">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span>) (<span class="id"><a name="eps:538">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>):<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:539">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> (<span class="id">f_</span> <span class="id">n</span>)) -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> <span class="id">A</span> &lt; +<span class="id">oo</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:540">x</a></span>, <span class="id">A</span> <span class="id">x</span> -&gt; <span class="id">f_</span> ^~ <span class="id">x</span> --&gt; <span class="id">g</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt; <span class="kwd">exists</span> <span class="id"><a name="B:541">B</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">B</span>, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> <span class="id">B</span> &lt; <span class="id">eps</span>%:<span class="id">E</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">uniform</span> <span class="id">A</span> `\` <span class="id">B</span>, <span class="id">f_</span> --&gt; <span class="id">g</span>}].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mA</span> <span class="id">finA</span> <span class="id">fptwsg</span> <span class="id">epspos</span>; <span class="id">pose</span> <span class="id">h</span> <span class="id"><a name="q:542">q</a></span> (<span class="id"><a name="z:543">z</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span> := `|<span class="id">f_</span> <span class="id">q</span> <span class="id">z</span> - <span class="id">g</span> <span class="id">z</span>|%<span class="id">R</span>.<br/>
<span class="id">have</span> <span class="id">mfunh</span> <span class="id">q</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> (<span class="id">h</span> <span class="id">q</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableT_comp">measurableT_comp</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_normr">measurable_normr</a></span> |<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_funB">measurable_funB</a></span>].<br/>
<span class="id">pose</span> <span class="id">E</span> <span class="id"><a name="k:547">k</a></span> <span class="id"><a name="n:548">n</a></span> := \<span class="id">bigcup_</span>(<span class="id"><a name="i:550">i</a></span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id"><a name="j:549">j</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> | (<span class="id">n</span> &lt;= <span class="id">j</span>)%<span class="id">N</span> ])<br/>
&nbsp;&nbsp;(<span class="id">A</span> `&amp;` [<span class="id">set</span> <span class="id"><a name="x:551">x</a></span> | (<span class="id">h</span> <span class="id">i</span> <span class="id">x</span> &gt;= <span class="id">k</span>.+1%:<span class="id">R</span>^-1)%<span class="id">R</span>]).<br/>
<span class="id">have</span> <span class="id">Einc</span> <span class="id">k</span> : <span class="id">nonincreasing_seq</span> (<span class="id">E</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> =&gt; <span class="id">z</span> [<span class="id">i</span>] /= /(<span class="id">leq_trans</span> <span class="id">_</span>) <span class="id">mi</span> [? ?].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span> =&gt; //; <span class="id">apply</span>: <span class="id">mi</span>.<br/>
<span class="id">have</span> <span class="id">mE</span> <span class="id">k</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id">E</span> <span class="id">k</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">q</span> /= ?.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : [<span class="id">set</span> <span class="id"><a name="x:555">x</a></span> | <span class="id">h</span> <span class="id">q</span> <span class="id">x</span> &gt;= <span class="id">k</span>.+1%:<span class="id">R</span>^-1]%<span class="id">R</span> = (<span class="id">h</span> <span class="id">q</span>)@^-1` (`[<span class="id">k</span>.+1%:<span class="id">R</span>^-1, +<span class="id">oo</span>[).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; <span class="id">z</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Bool.Bool.html#andb_true_r">Bool.andb_true_r</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">mfunh</span>.<br/>
<span class="id">have</span> <span class="id">nEcvg</span> <span class="id">x</span> <span class="id">k</span> : <span class="kwd">exists</span> <span class="id"><a name="n:558">n</a></span>, <span class="id">A</span> <span class="id">x</span> -&gt; (~` (<span class="id">E</span> <span class="id">k</span> <span class="id">n</span>)) <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span> : (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">A</span> <span class="id">x</span>)); <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span> =&gt; ?; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Ax</span>; <span class="id">have</span> [] := <span class="id">fptwsg</span> <span class="id">_</span> <span class="id">Ax</span> (<span class="id"><a href="mathcomp.analysis.topology.html#interior">interior</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (<span class="id">g</span> <span class="id">x</span>) (<span class="id">k</span>.+1%:<span class="id">R</span>^-1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#open_nbhs_nbhs">open_nbhs_nbhs</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#open_interior">open_interior</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ki0</span> : ((0:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>) &lt; <span class="id">k</span>.+1%:<span class="id">R</span>^-1)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">k</span>.+1%:<span class="id">R</span>^-1 = (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">ki0</span>)%:<span class="id">num</span> ) //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nbhsx_ballx">nbhsx_ballx</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">N</span> <span class="id">_</span> <span class="id">Nk</span>; <span class="kwd">exists</span> <span class="id">N</span>.+1 =&gt; <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcup">setC_bigcup</a></span> =&gt; <span class="id">i</span> /= /<span class="id">ltnW</span> <span class="id">Ni</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#not_andP">not_andP</a></span>; <span class="id">right</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> /<span class="id">h</span> -<span class="id">real_ltNge</span> // <span class="id">distrC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">Nk</span> <span class="id">_</span> <span class="id">Ni</span>) =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[?]; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_norm_center">ball_norm_center</a></span>.<br/>
<span class="id">have</span> <span class="id">Ek0</span> <span class="id">k</span> : (\<span class="id">bigcap_n</span> (<span class="id">E</span> <span class="id">k</span> <span class="id">n</span>)) = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span> =&gt; // <span class="id">z</span> /=; <span class="id">suff</span> : (~` \<span class="id">bigcap_n</span> <span class="id">E</span> <span class="id">k</span> <span class="id">n</span>) <span class="id">z</span> <span class="kwd">by</span> <span class="id">done</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcap">setC_bigcap</a></span>; <span class="id">case</span> : (<span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">A</span> <span class="id">z</span>)) =&gt; [<span class="id">Az</span> | <span class="id">nAz</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [<span class="id">N</span> /(<span class="id">_</span> <span class="id">Az</span>) ?] := <span class="id">nEcvg</span> <span class="id">z</span> <span class="id">k</span>; <span class="kwd">exists</span> <span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>; <span class="id">rewrite</span> // /<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcup">setC_bigcup</a></span> =&gt; <span class="id">n</span> ? [].<br/>
<span class="id">have</span> <span class="id">badn</span>' : <span class="kwd">forall</span> <span class="id"><a name="k:562">k</a></span>, <span class="kwd">exists</span> <span class="id"><a name="n:563">n</a></span>, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> (<span class="id">E</span> <span class="id">k</span> <span class="id">n</span>) &lt; ((<span class="id">eps</span>/2) / (2 ^ <span class="id">k</span>.+1)%:<span class="id">R</span>)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">pose</span> <span class="id">ek</span> :<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span> := <span class="id">eps</span>/2 / (2 ^ <span class="id">k</span>.+1)%:<span class="id">R</span>; <span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> \<span class="id">o</span> <span class="id">E</span> <span class="id">k</span> --&gt; (0%<span class="id">R</span>)%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span>) -(<span class="id">Ek0</span> <span class="id">k</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#nonincreasing_cvg_mu">nonincreasing_cvg_mu</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span>: (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">finA</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? [? <span class="id">_</span> []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcap_measurable">bigcap_measurable</a></span> =&gt; ?.<br/>
&nbsp;&nbsp;<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvg">fine_cvg</a></span>/(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#interior">interior</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>) <span class="id">ek</span>))%<span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#open_nbhs_nbhs">open_nbhs_nbhs</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#open_interior">open_interior</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ekpos</span> : (0 &lt; <span class="id">ek</span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span> // <span class="id">divr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">ek</span> <span class="id">ekpos</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">ek</span>]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#nbhsx_ballx">nbhsx_ballx</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">N</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">N</span> (<span class="id">leqnn</span> <span class="id">_</span>))/<span class="id"><a href="mathcomp.analysis.topology.html#interior_subset">interior_subset</a></span> <span class="id">muEN</span>; <span class="kwd">exists</span> <span class="id">N</span>; <span class="id">move</span>: <span class="id">muEN</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span> <span class="id">ger0_norm</span> // -[<span class="id">x</span> <span class="kwd">in</span> <span class="id">x</span> &lt; <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>:(<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">finA</span>); <span class="id">apply</span> <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// =&gt; ? [? <span class="id">_</span> []].<br/>
<span class="id">pose</span> <span class="id">badn</span> <span class="id"><a name="k:566">k</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">badn</span>' <span class="id">k</span>)); <span class="kwd">exists</span> (\<span class="id">bigcup_k</span> (<span class="id">E</span> <span class="id">k</span> (<span class="id">badn</span> <span class="id">k</span>))); <span class="id">split</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
- <span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">eps</span>/2)%<span class="id">R</span>%:<span class="id">E</span>); <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // <span class="id"><a href="mathcomp.analysis.reals.html#Rint_ltr_addr1">Rint_ltr_addr1</a></span> // ?<span class="id"><a href="mathcomp.analysis.reals.html#Rint1">Rint1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_sub_additive">measure_sigma_sub_additive</a></span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="k:568">k</a></span> =&gt; <span class="id">mE</span> <span class="id">k</span> (<span class="id">badn</span> <span class="id">k</span>)) <span class="id">_</span> <span class="id">_</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.measure.html#epsilon_trick0">epsilon_trick0</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#xpredT">xpredT</a></span>); <span class="id">rewrite</span> <span class="id">divr_ge0</span> //; <span class="id">exact</span>: <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> // =&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">exact</span>/<span class="id">ltW</span>/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span> (<span class="id">badn</span>' <span class="id">_</span>))).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#uniform_restrict_cvg">uniform_restrict_cvg</a></span> =&gt; /= <span class="id">U</span> /=; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.analysis.topology.html#uniform_nbhsT">uniform_nbhsT</a></span>.<br/>
<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ex">nbhs_ex</a></span> =&gt; <span class="id">del</span> /<span class="id"><a href="mathcomp.analysis.topology.html#filterS">filterS</a></span>; <span class="id">apply</span>.<br/>
<span class="id">have</span> [<span class="id">N</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">N</span>)/(<span class="id">_</span> (<span class="id">leqnn</span> <span class="id">_</span>)) <span class="id">Ndel</span>] := <span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_lt">near_infty_natSinv_lt</a></span> <span class="id">del</span>.<br/>
<span class="kwd">exists</span> (<span class="id">badn</span> <span class="id">N</span>) =&gt; // <span class="id">r</span> <span class="id">badNr</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">case</span> <span class="id">xAB</span>: (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">A</span> `\` <span class="id">_</span>) =&gt; //; <span class="id">apply</span>: (<span class="id">lt_trans</span> <span class="id">_</span> <span class="id">Ndel</span>).<br/>
<span class="id">move</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>: <span class="id">xAB</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span>; <span class="id">case</span> =&gt; <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcup">setC_bigcup</a></span> =&gt; /(<span class="id">_</span> <span class="id">N</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<span class="id">rewrite</span> /<span class="id">E</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setC_bigcup">setC_bigcup</a></span> =&gt; /(<span class="id">_</span> <span class="id">r</span>) /=; <span class="id">rewrite</span> /<span class="id">h</span> =&gt; /(<span class="id">_</span> <span class="id">badNr</span>) /<span class="id"><a href="mathcomp.classical.boolp.html#not_andP">not_andP</a></span> [] //.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> <span class="id">real_ltNge</span> // <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ae_pointwise_almost_uniform">ae_pointwise_almost_uniform</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f_:570">f_</a></span> : (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>)^<span class="id">nat</span>) (<span class="id"><a name="g:571">g</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>) (<span class="id"><a name="A:572">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span>) (<span class="id"><a name="eps:573">eps</a></span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>):<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="n:574">n</a></span>, <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> (<span class="id">f_</span> <span class="id">n</span>)) -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable_fun">measurable_fun</a></span> <span class="id">A</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">A</span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> <span class="id">A</span> &lt; +<span class="id">oo</span> -&gt; {<span class="id">ae</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span>, (<span class="kwd">forall</span> <span class="id"><a name="x:575">x</a></span>, <span class="id">A</span> <span class="id">x</span> -&gt; <span class="id">f_</span> ^~ <span class="id">x</span> --&gt; <span class="id">g</span> <span class="id">x</span>)} -&gt;<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">eps</span>)%<span class="id">R</span> -&gt; <span class="kwd">exists</span> <span class="id"><a name="B:576">B</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> <span class="id">B</span>, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> <span class="id">B</span> &lt; <span class="id">eps</span>%:<span class="id">E</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">uniform</span> <span class="id">A</span> `\` <span class="id">B</span>, (<span class="kwd">fun</span> <span class="id"><a name="n:577">n</a></span> =&gt; (<span class="id">f_</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.R">R</a></span>)) --&gt; <span class="id">g</span>}].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="id">move</span>=&gt; <span class="id">mf</span> <span class="id">mg</span> <span class="id">mA</span> <span class="id">Afin</span> [<span class="id">C</span> [<span class="id">mC</span> <span class="id">C0</span> <span class="id">nC</span>] <span class="id">epspos</span>].<br/>
<span class="id">have</span> [<span class="id">B</span> [<span class="id">mB</span> <span class="id">Beps</span> <span class="id">Bunif</span>]] : <span class="kwd">exists</span> <span class="id"><a name="B:578">B</a></span>, [/\ <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.d">d</a></span>.-<span class="id">measurable</span> <span class="id">B</span>, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov.mu">mu</a></span> <span class="id">B</span> &lt; <span class="id">eps</span>%:<span class="id">E</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">uniform</span> (<span class="id">A</span> `\` <span class="id">C</span>) `\` <span class="id">B</span>,  <span class="id">f_</span> --&gt; <span class="id">g</span>}].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#pointwise_almost_uniform">pointwise_almost_uniform</a></span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span> : (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mA</span> <span class="id">_</span> (<span class="id">mf</span> <span class="id">n</span>)) =&gt; ? [].<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span> : (<span class="id"><a href="mathcomp.analysis.measure.html#measurable_funS">measurable_funS</a></span> <span class="id">mA</span> <span class="id">_</span> (<span class="id">mg</span>)) =&gt; ? [].<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>: (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">Afin</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableI">measurableI</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableC">measurableC</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setDE">setDE</a></span>; <span class="id">case</span> =&gt; <span class="id">Ax</span> /(<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">subsetC</a></span> <span class="id">nC</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setCK">setCK</a></span>; <span class="id">exact</span>.<br/>
<span class="kwd">exists</span> (<span class="id">B</span> `|` <span class="id">C</span>); <span class="id">split</span>.<br/>
- <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measurableU">measurableU</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">Beps</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measureU0">measureU0</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setDDl">setDDl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#egorov">egorov</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="vitali_cover">vitali_cover</a></span> {<span class="id"><a name="R:579">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>} (<span class="id"><a name="E:580">E</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) <span class="id"><a name="I:581">I</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="B:582">B</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) (<span class="id"><a name="D:583">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) :=<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:584">i</a></span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball">is_ball</a></span> (<span class="id">B</span> <span class="id">i</span>)) /\<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:585">x</a></span>, <span class="id">E</span> <span class="id">x</span> -&gt; <span class="kwd">forall</span> <span class="id"><a name="e:586">e</a></span> : <span class="id">R</span>, 0 &lt; <span class="id">e</span> -&gt; <span class="kwd">exists</span> <span class="id"><a name="i:587">i</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="id">D</span> <span class="id">i</span>, <span class="id">B</span> <span class="id">i</span> <span class="id">x</span> &amp; (<span class="id"><a href="mathcomp.analysis.normedtype.html#radius">radius</a></span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &lt; <span class="id">e</span>].<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="vitali_theorem">vitali_theorem</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:588">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>} (<span class="id"><a name="A:589">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>) (<span class="id"><a name="B:590">B</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">R</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="vitali_theorem.B0">B0</a></span> : <span class="kwd">forall</span> <span class="id"><a name="i:591">i</a></span>, (0 &lt; (<span class="id"><a href="mathcomp.analysis.normedtype.html#radius">radius</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))%:<span class="id">num</span>)%<span class="id">R</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="mu">mu</a></span> := (@<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure">lebesgue_measure</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="vitali_theorem">vitali_theorem</a></span> (<span class="id"><a name="V:593">V</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_cover">vitali_cover</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">V</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="D:594">D</a></span>, [/\ <span class="id"><a href="mathcomp.classical.cardinality.html#countable">countable</a></span> <span class="id">D</span>, <span class="id">D</span> `&lt;=` <span class="id">V</span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id">D</span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.A">A</a></span> `\` \<span class="id">bigcup_</span>(<span class="id"><a name="k:595">k</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">k</span>)) = 0].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">move</span>=&gt; <span class="id">ABV</span>.<br/>
<span class="id">wlog</span> <span class="id">VB1</span> : <span class="id">V</span> <span class="id">ABV</span> / <span class="kwd">forall</span> <span class="id"><a name="i:596">i</a></span>, <span class="id">V</span> <span class="id">i</span> -&gt; ((<span class="id"><a href="mathcomp.analysis.normedtype.html#radius">radius</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))%:<span class="id">num</span> &lt;= 1)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">wlg</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">V</span>' := <span class="id">V</span> `\` [<span class="id">set</span> <span class="id"><a name="i:597">i</a></span> | (<span class="id"><a href="mathcomp.analysis.normedtype.html#radius">radius</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))%:<span class="id">num</span> &gt; 1]%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_cover">vitali_cover</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.A">A</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">V</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; [<span class="id">exact</span>: <span class="id">ABV</span>.1|<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span> <span class="id">e</span> <span class="id">e0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : (0 &lt; <span class="id">minr</span> <span class="id">e</span> 1)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minr</span>// <span class="id">e0</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">ABV</span>.2 <span class="id">x</span> <span class="id">Ax</span>)[<span class="id">i</span> [<span class="id">Vi</span> <span class="id">ix</span> <span class="id">ie</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">i</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">split</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">ltNge</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ltW</span> <span class="id">ie</span>))// <span class="id">le_minl</span> <span class="id">lexx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">ie</span>)// <span class="id">le_minl</span> <span class="id">lexx</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">wlg</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">V</span>'<span class="id">B1</span> <span class="id">i</span> : <span class="id">V</span>' <span class="id">i</span> -&gt; ((<span class="id"><a href="mathcomp.analysis.normedtype.html#radius">radius</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))%:<span class="id">num</span> &lt;= 1)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">Vi</span> /=]; <span class="id">rewrite</span> <span class="id">ltNge</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPn">negPn</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">V</span>'<span class="id">B1</span>)[<span class="id">D</span> [<span class="id">cD</span> <span class="id">DV</span>' <span class="id">tD</span> <span class="id">h</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">D</span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">DV</span>') =&gt; ? [].<br/>
<span class="id">have</span> [<span class="id">D</span> [<span class="id">cD</span> <span class="id">DV</span> <span class="id">tDB</span> <span class="id">Dintersect</span>]] := <span class="id"><a href="mathcomp.analysis.normedtype.html#vitali_lemma_infinite">vitali_lemma_infinite</a></span> <span class="id">ABV</span>.1 <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B0">B0</a></span> <span class="id">VB1</span>.<br/>
<span class="kwd">exists</span> <span class="id">D</span>; <span class="id">split</span> =&gt; //.<br/>
<span class="id">pose</span> <span class="id">Z</span> <span class="id"><a name="r:599">r</a></span> := (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.A">A</a></span> `\` \<span class="id">bigcup_</span>(<span class="id"><a name="k:600">k</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">k</span>)) `&amp;` <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0%<span class="id">R</span>:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) <span class="id">r</span>.<br/>
<span class="id">suff</span>: <span class="kwd">forall</span> <span class="id"><a name="r:601">r</a></span> : {<span class="id">posnum</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>}, <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id">Z</span> <span class="id">r</span>%:<span class="id">num</span>) = 0.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Zr</span>; <span class="id">have</span> {}<span class="id">Zr</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id">Z</span> <span class="id">n</span>%:<span class="id">R</span>) = 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">Z</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#ball0">ball0</a></span> <span class="id">_</span> <span class="id">_</span>).2// <span class="id"><a href="mathcomp.classical.classical_sets.html#setI0">setI0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">Zr</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> (<span class="id">ltr0Sn</span> <span class="id">_</span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">F</span> := <span class="kwd">fun</span> <span class="id"><a name="n:603">n</a></span> =&gt; <span class="id">Z</span> <span class="id">n</span>%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_n</span> <span class="id">F</span> <span class="id">n</span>) &lt;= \<span class="id">sum_</span>(<span class="id"><a name="i:607">i</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id">F</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#outer_measure_sigma_subadditive">outer_measure_sigma_subadditive</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eseries0">eseries0</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id">F</span> <span class="id">Zr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">F</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#setI_bigcupr">setI_bigcupr</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bigcup_ballT">bigcup_ballT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIT">setIT</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_le0">measure_le0</a></span> =&gt; /<span class="id">eqP</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">r</span>.<br/>
<span class="id">pose</span> <span class="id">E</span> := [<span class="id">set</span> <span class="id"><a name="i:613">i</a></span> | <span class="id">D</span> <span class="id">i</span> /\ <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) `&amp;` <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0%<span class="id">R</span>:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) <span class="id">r</span>%:<span class="id">num</span> !=<span class="id">set0</span>].<br/>
<span class="id">pose</span> <span class="id">F</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#vitali_collection_partition">vitali_collection_partition</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">E</span> 1.<br/>
<span class="id">have</span> <span class="id">E_partition</span> : <span class="id">E</span> = \<span class="id">bigcup_n</span> (<span class="id">F</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#cover_vitali_collection_partition">cover_vitali_collection_partition</a></span>// =&gt; <span class="id">i</span> [] /<span class="id">DV</span> /<span class="id">VB1</span>.<br/>
<span class="id">have</span> <span class="id">EBr2</span> <span class="id">n</span> : <span class="id">E</span> <span class="id">n</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">n</span>) `&lt;=` (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) (<span class="id">r</span>%:<span class="id">num</span> + 2))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">Dn</span>] [<span class="id">x</span>] =&gt; -[<span class="id">Bnx</span> <span class="id">rx</span>] <span class="id">y</span> /= <span class="id">Bny</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">rx</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /= !<span class="id">sub0r</span> !<span class="id">normrN</span> =&gt; <span class="id">rx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">subrK</span> <span class="id">x</span> <span class="id">y</span>) (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">addrC</span> <span class="id">ltr_le_add</span>// -(<span class="id">subrK</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cpoint">cpoint</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">n</span>)) <span class="id">y</span>) -(<span class="id">addrA</span> (<span class="id">y</span> - <span class="id">_</span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))// (<span class="id">_</span> : 2 = 1 + 1)%<span class="id">R</span>// <span class="id">ler_add</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">distrC</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_closureP">is_ball_closureP</a></span> (<span class="id">ABV</span>.1 <span class="id">n</span>) <span class="id">Bny</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">VB1</span>//; <span class="id">exact</span>: <span class="id">DV</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_closureP">is_ball_closureP</a></span> (<span class="id">ABV</span>.1 <span class="id">n</span>) <span class="id">Bnx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">VB1</span>//; <span class="id">exact</span>: <span class="id">DV</span>.<br/>
<span class="id">have</span> <span class="id">measurable_closure</span> (<span class="id"><a name="C:616">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball">is_ball</a></span> <span class="id">C</span> -&gt; <span class="id"><a href="mathcomp.analysis.measure.html#measurable">measurable</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">ballC</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_closure">is_ball_closure</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_closed_ball">measurable_closed_ball</a></span>.<br/>
<span class="id">move</span>: <span class="id">ABV</span> =&gt; [<span class="id">is_ballB</span> <span class="id">ABV</span>].<br/>
<span class="id">have</span> {}<span class="id">EBr2</span> : \<span class="id">esum_</span>(<span class="id"><a name="i:617">i</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)) &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) (<span class="id">r</span>%:<span class="id">num</span> + 2))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span> <span class="id">E</span>) -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// -<span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span>//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; ? [].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; [|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#measurable_ball">measurable_ball</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_sub">bigcup_sub</a></span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; *; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
<span class="id">have</span> <span class="id">finite_set_F</span> <span class="id">i</span> : <span class="id"><a href="mathcomp.classical.cardinality.html#finite_set">finite_set</a></span> (<span class="id">F</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">M</span> := `|<span class="id"><a href="mathcomp.analysis.reals.html#ceil">ceil</a></span> ((<span class="id">r</span>%:<span class="id">num</span> + 2) *+ 2 / (1 / (2 ^ <span class="id">i</span>.+1)%:<span class="id">R</span>))|.+1.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(<span class="id"><a href="mathcomp.classical.cardinality.html#infinite_set_fset">infinite_set_fset</a></span> <span class="id">M</span>) =&gt; [/= <span class="id">C</span>] <span class="id">CsubFi</span> <span class="id">McardC</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">MC</span> : (<span class="id">M</span>%:<span class="id">R</span> * (1 / (2 ^ <span class="id">i</span>.+1)%:<span class="id">R</span>))%:<span class="id">E</span> &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="j:619">j</a></span> <span class="kwd">in</span> [<span class="id">set</span>` <span class="id">C</span>]) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span> <span class="id">_</span> [<span class="id">set</span>` <span class="id">C</span>])//; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">_</span>; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span>; <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">CsubFi</span>) =&gt; <span class="id">x</span> [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>//= <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span>// <span class="id"><a href="mathcomp.analysis.esum.html#esum_fset">esum_fset</a></span>// <span class="id"><a href="mathcomp.classical.fsbigop.html#fsbig_finite">fsbig_finite</a></span>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.cardinality.html#set_fsetK">set_fsetK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">sum_</span>(<span class="id"><a name="i0:620">i0</a></span> &lt;- <span class="id">C</span>) (1 / (2 ^ <span class="id">i</span>.+1)%:<span class="id">R</span>)%:<span class="id">E</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">under</span> <span class="id">eq_bigr</span> <span class="id">do</span> <span class="id">rewrite</span> -(<span class="id">mul1r</span> (<span class="id">_</span> / <span class="id">_</span>)) <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_sume_distrl">ge0_sume_distrl</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_wpmul2r">lee_wpmul2r</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sumEFin">sumEFin</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">natr_sum</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 1%<span class="id">N</span>)) <span class="id">ler_nat</span> -<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#card_fset_sum1">card_fset_sum1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">big_seq</span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">big_seq</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_sum">lee_sum</a></span> =&gt; // <span class="id">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">CsubFi</span>[<span class="id">_</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[+ <span class="id">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span> =&gt; /<span class="id">ltW</span>/<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_closure">is_ball_closure</a></span> (<span class="id">is_ballB</span> <span class="id">_</span>))// <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_closed_ball">lebesgue_measure_closed_ball</a></span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">lee_fin</a></span> <span class="id">mulr2n</span> <span class="id">ler_addr</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">CFi</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="j:626">j</a></span> <span class="kwd">in</span> [<span class="id">set</span>` <span class="id">C</span>]) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)) &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="j:627">j</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span> =&gt; //; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_fset">bigcup_fset</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigsetU_measurable">bigsetU_measurable</a></span> =&gt; *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; *; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_sub">bigcup_sub</a></span> =&gt; <span class="id">j</span> <span class="id">Cj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/(@<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_sup">bigcup_sup</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span>))/<span class="id">CsubFi</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Fir2</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="j:628">j</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)) &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) (<span class="id">r</span>%:<span class="id">num</span> + 2))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">EBr2</span>)// -(<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span> <span class="id">E</span>) -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">E_partition</span> -<span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span>//=; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">_</span>; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_bigcup">trivIset_bigcup</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; ? [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">m</span> <span class="id">i0</span> <span class="id">j</span> <span class="id">nm</span> [[<span class="id">Di0</span> <span class="id">_</span>] <span class="id">_</span>] [[<span class="id">Dj</span> <span class="id">_</span>] <span class="id">_</span>]; <span class="id">exact</span>: <span class="id">tDB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_measure">le_measure</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; *; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; *; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; /= <span class="id">x</span> [<span class="id">n</span> <span class="id">Fni</span> <span class="id">Bnx</span>]; <span class="kwd">exists</span> <span class="id">n</span> =&gt; //; <span class="kwd">exists</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> {<span class="id">CFi</span> <span class="id">Fir2</span>} := <span class="id">le_trans</span> <span class="id">MC</span> (<span class="id">le_trans</span> <span class="id">CFi</span> <span class="id">Fir2</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>; <span class="id">rewrite</span> -<span class="id">ltNge</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">natr1</span> <span class="id">_</span> `| <span class="id">_</span> |%<span class="id">N</span>) <span class="id">natr_absz</span> <span class="id">ger0_norm</span> ?<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge0">ceil_ge0</a></span>// -<span class="id">ltr_pdivr_mulr</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltr_subl_addr</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.reals.html#ceil_ge">ceil_ge</a></span> <span class="id">_</span>))// <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> <span class="id">mur2_fin_num_</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) (<span class="id">r</span>%:<span class="id">num</span> + 2))%<span class="id">R</span> &lt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_ball">lebesgue_measure_ball</a></span>// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltry">ltry</a></span>.<br/>
<span class="id">have</span> <span class="id">FE</span> : \<span class="id">sum_</span>(<span class="id"><a name="n:629">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">esum_</span>(<span class="id"><a name="i:632">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:637">i</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">E_partition</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_bigcup">bigcup_bigcup</a></span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (\<span class="id">sum_</span>(<span class="id"><a name="n:638">n</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:641">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measure_semi_bigcup">measure_semi_bigcup</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; *; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetT_bigcup">trivIsetT_bigcup</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIsetP">trivIsetP</a></span> =&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#disjoint_vitali_collection_partition">disjoint_vitali_collection_partition</a></span> =&gt; // <span class="id">k</span> -[] /<span class="id">DV</span> /<span class="id">VB1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">E_partition</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; <span class="id">x</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_bigcup">bigcup_bigcup</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="n:654">n</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:655">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)))).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkcond">bigcup_mkcond</a></span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_semi_bigcup">measure_semi_bigcup</a></span>//; <span class="id">last</span> 3 <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // <span class="id">_</span>; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset_mkcond">trivIset_mkcond</a></span> <span class="id">_</span> <span class="id">_</span>).1; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; <span class="id">x</span> [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkcond">bigcup_mkcond</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#esum_mkcond">esum_mkcond</a></span>//= <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// -<span class="id"><a href="mathcomp.classical.classical_sets.html#fun_true">fun_true</a></span>//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.esum.html#eq_esum">eq_esum</a></span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#fun_if">fun_if</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span>) (<span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span> [<span class="id">the</span> <span class="id"><a href="mathcomp.analysis.measure.html#Measure.Exports.measure">measure</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span>]).<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.measure.html#measure_le0">measure_le0</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addgt0Pr">lee_addgt0Pr</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">add0e</a></span>.<br/>
<span class="id">have</span> [<span class="id">N</span> <span class="id">F5e</span>] : <span class="kwd">exists</span> <span class="id"><a name="N:658">N</a></span>, \<span class="id">sum_</span>(<span class="id">N</span> &lt;= <span class="id"><a name="n:659">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">esum_</span>(<span class="id"><a name="i:662">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)) &lt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;5%:<span class="id">R</span>^-1%:<span class="id">E</span> * <span class="id">e</span>%:<span class="id">num</span>%:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">f</span> <span class="id"><a name="n:667">n</a></span> := \<span class="id">bigcup_</span>(<span class="id"><a name="i:668">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">foo</span> : \<span class="id">sum_</span>(<span class="id"><a name="k:669">k</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">k</span> &lt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">f</span> /= [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltLHS">ltLHS</a></span>](<span class="id">_</span> : <span class="id">_</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="n:675">n</a></span> &lt;<span class="id">oo</span>) \<span class="id">esum_</span>(<span class="id"><a name="i:678">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.sequences.html#eq_eseriesr">eq_eseriesr</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="k:699">k</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:700">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">k</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)))) =&gt; <span class="id">i</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span> <span class="id">D</span>'<span class="id">ij</span>; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; // <span class="id">x</span> [[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">FE</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0 : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) (<span class="id">r</span>%:<span class="id">num</span> + 2))%<span class="id">R</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">EBr2</span>)// <span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span>//=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; // <span class="id">x</span> [].<br/>
&nbsp;&nbsp;<span class="id">have</span> : \<span class="id">sum_</span>(<span class="id">N</span> &lt;= <span class="id"><a name="k:704">k</a></span> &lt;<span class="id">oo</span>) (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">k</span> @[<span class="id"><a name="N:703">N</a></span> --&gt; \<span class="id">oo</span>] --&gt; 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_tail_cvg">nneseries_tail_cvg</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">f</span> /= =&gt; /<span class="id"><a href="mathcomp.analysis.normedtype.html#fine_fcvg">fine_fcvg</a></span> /=.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(@<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> <span class="id">_</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>^<span class="id">o</span>]).<br/>
&nbsp;&nbsp;<span class="id">have</span> : (0 &lt; 5%:<span class="id">R</span>^-1 * <span class="id">e</span>%:<span class="id">num</span>)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_gt0</span>// <span class="id">invr_gt0</span>// <span class="id">ltr0n</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /[<span class="id">swap</span>] /[<span class="id">apply</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#near_map">near_map</a></span> =&gt; -[<span class="id">N</span> <span class="id">_</span>]/(<span class="id">_</span> <span class="id">_</span> (<span class="id">leqnn</span> <span class="id">N</span>)) <span class="id">h</span>; <span class="kwd">exists</span> <span class="id">N</span>; <span class="id">move</span>: <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">ger0_norm</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine_ge0">fine_ge0</a></span>// <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">lte_fin</a></span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">X</span> : \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span> := (<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">fine</a></span> <span class="id">X</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Xoo</span> : <span class="id">X</span> &lt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_split">nneseries_split</a></span> <span class="id">N</span>)// <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_addr">lee_addr</a></span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">sume_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">fineK</a></span> ?<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">ge0_fin_numE</a></span>//; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#nneseries_ge0">nneseries_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">Nn</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.measure.html#measure_bigcup">measure_bigcup</a></span>//=.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">exact</span>: <span class="id">measurable_closure</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub_trivIset">sub_trivIset</a></span> <span class="id">tDB</span> =&gt; <span class="id">x</span> [[]].<br/>
<span class="id">pose</span> <span class="id">K</span> := \<span class="id">bigcup_</span>(<span class="id"><a name="i:711">i</a></span> <span class="kwd">in</span> `<span class="id">I_N</span>) \<span class="id">bigcup_</span>(<span class="id"><a name="j:712">j</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>).<br/>
<span class="id">have</span> <span class="id">closedK</span> : <span class="id"><a href="mathcomp.analysis.topology.html#closed">closed</a></span> <span class="id">K</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closed_bigcup">closed_bigcup</a></span> =&gt; //= <span class="id">i</span> <span class="id">iN</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closed_bigcup">closed_bigcup</a></span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span> <span class="id">Fij</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closed_closure">closed_closure</a></span>.<br/>
<span class="id">have</span> <span class="id">ZNF5</span> : <span class="id">Z</span> <span class="id">r</span>%:<span class="id">num</span> `&lt;=`<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">bigcup_</span>(<span class="id"><a name="i:713">i</a></span> <span class="kwd">in</span> ~` `<span class="id">I_N</span>) \<span class="id">bigcup_</span>(<span class="id"><a name="j:714">j</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (5%:<span class="id">R</span> *` <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> <span class="id">Zz</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Kz</span> : ~ <span class="id">K</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">K</span> =&gt; -[<span class="id">n</span> /= <span class="id">nN</span> [<span class="id">m</span>] [[<span class="id">Dm</span> <span class="id">_</span>] <span class="id">_</span>] <span class="id">Bmz</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">Zz</span> =&gt; -[<span class="id">_</span> + <span class="id">_</span>]; <span class="id">apply</span>; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">i</span> [<span class="id">Vi</span> <span class="id">Biz</span> <span class="id">Bir</span> <span class="id">BiK0</span>]] : <span class="kwd">exists</span> <span class="id"><a name="i:715">i</a></span>, [/\ <span class="id">V</span> <span class="id">i</span>, (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)) <span class="id">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) `&lt;=` <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> (0%<span class="id">R</span>:<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>) <span class="id">r</span>%:<span class="id">num</span> &amp; <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) `&amp;` <span class="id">K</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">Zz</span> =&gt; -[<span class="id">Az</span> <span class="id">notDBz</span>]; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span>/= <span class="id">sub0r</span> <span class="id">normrN</span> =&gt; <span class="id">rz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">d</span> <span class="id">dzr</span> <span class="id">zdK0</span>] : <span class="kwd">exists2</span> <span class="id"><a name="d:716">d</a></span> : {<span class="id">posnum</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">d</span>%:<span class="id">num</span> &lt; <span class="id">r</span>%:<span class="id">num</span> - `|<span class="id">z</span>|)%<span class="id">R</span> &amp; <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">closed_ball</a></span> <span class="id">z</span> <span class="id">d</span>%:<span class="id">num</span> `&amp;` <span class="id">K</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">d</span>/= <span class="id">d0</span> <span class="id">dzK</span>] := (@<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_disjoint_closed_ball">closed_disjoint_closed_ball</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>^<span class="id">o</span>] <span class="id">_</span> <span class="id">_</span> <span class="id">closedK</span> <span class="id">Kz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">rz0</span> : (0 &lt; <span class="id">minr</span> ((<span class="id">r</span>%:<span class="id">num</span> - `|<span class="id">z</span>|) / 2) (<span class="id">d</span> / 2))%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minr</span> (<span class="id">divr_gt0</span> <span class="id">d0</span>)//= <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id">divr_gt0</span>// <span class="id">subr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">rz0</span>) =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minl</span> <span class="id">ltr_pdivr_mulr</span>// <span class="id">ltr_pmulr</span> ?<span class="id">subr_gt0</span>// <span class="id">ltr1n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">dzK</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">gtr0_norm</span>// <span class="id">lt_minl</span> (<span class="id">ltr_pdivr_mulr</span> <span class="id">d</span> <span class="id">d</span>)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pmulr</span>// <span class="id">ltr1n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">N0_gt0</span> : (0 &lt; <span class="id">d</span>%:<span class="id">num</span> / 2)%<span class="id">R</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">i</span> [<span class="id">Vi</span> <span class="id">Biz</span> <span class="id">BiN0</span>]] := <span class="id">ABV</span> <span class="id">_</span> <span class="id">Az</span> <span class="id">_</span> <span class="id">N0_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">i</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#subset_closure">subset_closure</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">Biy</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span>/= <span class="id">sub0r</span> <span class="id">normrN</span> -(@<span class="id">subrK</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cpoint">cpoint</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)) <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">d</span>%:<span class="id">num</span> / 2 + `|<span class="id"><a href="mathcomp.analysis.normedtype.html#cpoint">cpoint</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)|)%<span class="id">R</span>)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_add2r</span>// <span class="id">distrC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_closureP">is_ball_closureP</a></span> (<span class="id">is_ballB</span> <span class="id">i</span>) <span class="id">Biy</span>))// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">subrK</span> <span class="id">_</span> <span class="id">z</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cpoint">cpoint</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">d</span>%:<span class="id">num</span> / 2 + `|<span class="id"><a href="mathcomp.analysis.normedtype.html#cpoint">cpoint</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) - <span class="id">z</span>| + `|<span class="id">z</span>|)%<span class="id">R</span>)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">addrA</span> <span class="id">ler_add2l</span>//; <span class="id">exact</span>: <span class="id">ler_norm_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">d</span>%:<span class="id">num</span> + `|<span class="id">z</span>|)%<span class="id">R</span>)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">splitr</span> <span class="id">d</span>%:<span class="id">num</span>) -!<span class="id">addrA</span> <span class="id">ler_add2l</span>// <span class="id">ler_add2r</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ltW</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#is_ballP">is_ballP</a></span> (<span class="id">is_ballB</span> <span class="id">i</span>) <span class="id">Biz</span>)))// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">dzr</span>; <span class="id">rewrite</span> -<span class="id">ltr_subr_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetI_eq0">subsetI_eq0</a></span> <span class="id">zdK0</span> =&gt; // <span class="id">y</span> <span class="id">Biy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ballE">closed_ballE</a></span> <span class="id">_</span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span>^<span class="id">o</span>])//= /<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball_">closed_ball_</a></span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">subrK</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cpoint">cpoint</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)) <span class="id">z</span>) -(<span class="id">addrA</span> (<span class="id">z</span> - <span class="id">_</span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))// [<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">splitr</span> <span class="id">d</span>%:<span class="id">num</span>) <span class="id">ler_add</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">distrC</span> (<span class="id">le_trans</span> (<span class="id">ltW</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#is_ballP">is_ballP</a></span> (<span class="id">is_ballB</span> <span class="id">i</span>) <span class="id">Biz</span>)))// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#is_ball_closureP">is_ball_closureP</a></span> (<span class="id">is_ballB</span> <span class="id">i</span>) <span class="id">Biy</span>))// <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">j</span> [<span class="id">Ej</span> <span class="id">Bij0</span> <span class="id">Bij5</span>]] : <span class="kwd">exists</span> <span class="id"><a name="j:718">j</a></span>, [/\ <span class="id">E</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) `&amp;` <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>) !=<span class="id">set0</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) `&lt;=` <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (5%:<span class="id">R</span> *` <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">j</span> [<span class="id">Dj</span> <span class="id">Bij0</span> <span class="id">Bij2</span> <span class="id">Bij5</span>]] := <span class="id">Dintersect</span> <span class="id">_</span> <span class="id">Vi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">j</span>; <span class="id">split</span> =&gt; //; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">Bij0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIC">setIC</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetI_neq0">subsetI_neq0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">BjK</span> : ~ (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>) `&lt;=` <span class="id">K</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">BjK</span>; <span class="id">move</span>/<span class="id">eqP</span> : <span class="id">BiK0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">negP</a></span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#set0P">set0P</a></span>; <span class="id">move</span>: <span class="id">Bij0</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetI_neq0">subsetI_neq0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">k</span> <span class="id">NK</span> <span class="id">Fkj</span>] : (\<span class="id">bigcup_</span>(<span class="id"><a name="i:719">i</a></span> <span class="kwd">in</span> ~` `<span class="id">I_N</span>) <span class="id">F</span> <span class="id">i</span>) <span class="id">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">Ej</span>; <span class="id">rewrite</span> <span class="id">E_partition</span> =&gt; -[<span class="id">k</span> <span class="id">_</span> <span class="id">Fkj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">k</span> =&gt; //= <span class="id">kN</span>; <span class="id">apply</span>: <span class="id">BjK</span> =&gt; <span class="id">x</span> <span class="id">Bjx</span>; <span class="kwd">exists</span> <span class="id">k</span> =&gt; //; <span class="kwd">exists</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">k</span> =&gt; //; <span class="kwd">exists</span> <span class="id">j</span> =&gt; //; <span class="id">exact</span>: <span class="id">Bij5</span>.<br/>
<span class="id">have</span> {}<span class="id">ZNF5</span> : <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id">Z</span> <span class="id">r</span>%:<span class="id">num</span>) &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">N</span> &lt;= <span class="id"><a name="m:720">m</a></span> &lt;<span class="id">oo</span>) \<span class="id">esum_</span>(<span class="id"><a name="i:723">i</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">m</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (5%:<span class="id">R</span> *` <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span> (\<span class="id">bigcup_</span>(<span class="id"><a name="i:728">i</a></span> <span class="kwd">in</span> ~` `<span class="id">I_N</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<span class="id">bigcup_</span>(<span class="id"><a name="j:729">j</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (5%:<span class="id">R</span> *` <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.measure.html#le_outer_measure">le_outer_measure</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (\<span class="id">sum_</span>(<span class="id">N</span> &lt;= <span class="id"><a name="i:732">i</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">bigcup_</span>(<span class="id"><a name="j:735">j</a></span> <span class="kwd">in</span> <span class="id">F</span> <span class="id">i</span>) <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (5%:<span class="id">R</span> *` <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">j</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_sub_additive_tail">measure_sigma_sub_additive_tail</a></span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">measurable_closure</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_scale_ball">is_scale_ball</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span>' <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">measurable_closure</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_scale_ball">is_scale_ball</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; // <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span> (<span class="id">F</span> <span class="id">n</span>)) -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_mkcond">bigcup_mkcond</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.sequences.html#eseries_mkcond">eseries_mkcond</a></span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>](<span class="id">_</span> : <span class="id">_</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:748">i</a></span> &lt;<span class="id">oo</span>) <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">if</span> <span class="id">i</span> \<span class="kwd">in</span> <span class="id">F</span> <span class="id">n</span> <span class="kwd">then</span> <span class="id"><a href="mathcomp.analysis.topology.html#closure">closure</a></span> (5%:<span class="id">R</span> *` <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.B">B</a></span> <span class="id">i</span>) <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]<span class="id">eq_bigr</span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#fun_if">fun_if</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#mu">mu</a></span>) <span class="id"><a href="mathcomp.analysis.measure.html#measure0">measure0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#measure_sigma_sub_additive">measure_sigma_sub_additive</a></span> =&gt; //.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; <span class="id">m</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">measurable_closure</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_scale_ball">is_scale_ball</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.measure.html#bigcup_measurable">bigcup_measurable</a></span> =&gt; <span class="id">k</span> <span class="id">_</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">measurable_closure</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#is_scale_ball">is_scale_ball</a></span>.<br/>
<span class="id">apply</span>/(<span class="id">le_trans</span> <span class="id">ZNF5</span>).<br/>
<span class="id">move</span>/<span class="id">ltW</span>: <span class="id">F5e</span>; <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> -&gt; <span class="id">_</span>](@<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pdivl_mull">lee_pdivl_mull</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem.R">R</a></span> 5%:<span class="id">R</span>) ?<span class="id">ltr0n</span>//.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.sequences.html#nneseriesZl">nneseriesZl</a></span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.esum.html#esum_ge0">esum_ge0</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>.<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span> (<span class="id">F</span> <span class="id">n</span>)) -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// -<span class="id"><a href="mathcomp.analysis.esum.html#nneseries_esum">nneseries_esum</a></span>// -<span class="id"><a href="mathcomp.analysis.sequences.html#nneseriesZl">nneseriesZl</a></span>//.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.sequences.html#lee_nneseries">lee_nneseries</a></span> =&gt; // <span class="id">m</span> <span class="id">mFn</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#ballE">ballE</a></span> (<span class="id">is_ballB</span> <span class="id">m</span>))// <span class="id"><a href="mathcomp.analysis.normedtype.html#closure_ball">closure_ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_closed_ball">lebesgue_measure_closed_ball</a></span>//.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#scale_ballE">scale_ballE</a></span>// <span class="id"><a href="mathcomp.analysis.normedtype.html#closure_ball">closure_ball</a></span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#lebesgue_measure_closed_ball">lebesgue_measure_closed_ball</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">EFinM</a></span> <span class="id">mulrnAr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.lebesgue_measure.html#vitali_theorem">vitali_theorem</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
