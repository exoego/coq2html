
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monae.monad_transformer</title>
<meta name="description" content="Documentation of Coq module monae.monad_transformer" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="monae"><summary>monae</summary>
          <ul>
          <li><a href="monae.altprob_model.html">altprob_model</a></li>
<li><a href="monae.array_lib.html">array_lib</a></li>
<li><a href="monae.category.html">category</a></li>
<li><a href="monae.category_ext.html">category_ext</a></li>
<li><a href="monae.example_iquicksort.html">example_iquicksort</a></li>
<li><a href="monae.example_monty.html">example_monty</a></li>
<li><a href="monae.example_nqueens.html">example_nqueens</a></li>
<li><a href="monae.example_quicksort.html">example_quicksort</a></li>
<li><a href="monae.example_relabeling.html">example_relabeling</a></li>
<li><a href="monae.example_spark.html">example_spark</a></li>
<li><a href="monae.example_transformer.html">example_transformer</a></li>
<li><a href="monae.example_typed_store.html">example_typed_store</a></li>
<li><a href="monae.fail_lib.html">fail_lib</a></li>
<li><a href="monae.gcm_model.html">gcm_model</a></li>
<li><a href="monae.hierarchy.html">hierarchy</a></li>
<li><a href="monae.monad_composition.html">monad_composition</a></li>
<li><a href="monae.monad_lib.html">monad_lib</a></li>
<li><a href="monae.monad_model.html">monad_model</a></li>
<li><a href="monae.monad_transformer.html">monad_transformer</a></li>
<li><a href="monae.monae_lib.html">monae_lib</a></li>
<li><a href="monae.proba_lib.html">proba_lib</a></li>
<li><a href="monae.proba_monad_model.html">proba_monad_model</a></li>
<li><a href="monae.smallstep.html">smallstep</a></li>
<li><a href="monae.state_lib.html">state_lib</a></li>
<li><a href="monae.trace_lib.html">trace_lib</a></li>
<li><a href="monae.typed_store_lib.html">typed_store_lib</a></li>
<li><a href="monae.typed_store_model.html">typed_store_model</a></li>
          </ul>
          </details>
          </li>
<li><details id="monaeImpredicativeSet"><summary>monaeImpredicativeSet</summary>
          <ul>
          <li><a href="monaeImpredicativeSet.ifail_lib.html">ifail_lib</a></li>
<li><a href="monaeImpredicativeSet.ihierarchy.html">ihierarchy</a></li>
<li><a href="monaeImpredicativeSet.imonad_composition.html">imonad_composition</a></li>
<li><a href="monaeImpredicativeSet.imonad_lib.html">imonad_lib</a></li>
<li><a href="monaeImpredicativeSet.imonae_lib.html">imonae_lib</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module monae.monad_transformer</h1>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp">boolp</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monae_lib.html">monae_lib</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.hierarchy.html">hierarchy</a></span> <span class="id"><a href="monae.monad_lib.html">monad_lib</a></span> <span class="id"><a href="monae.fail_lib.html">fail_lib</a></span> <span class="id"><a href="monae.state_lib.html">state_lib</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                   Formalization of monad transformers                     
                                                                           
This file corresponds to the formalization of [Mauro Jaskelioff, Modular   
Monad Transformers, ESOP 2009] (roughly, up to Sect. 5, Example 22).       
                                                                           
 Module MonadMLaws == laws of monad morphisms                              
            monadM == type of monad morphisms                              
            monadT == type of monad transformers, i.e., functions t of     
                      type monad -&gt; monad equipped with an operator Lift   
                      such that for any monad M Lift t M is a monad        
                      morphism from M to t M                               
                      instances:                                           
                      - stateT: the state monad transformer                
                      - exceptT: the exception monad transformer           
                      - envT: environment                                  
                      - outputT                                            
                      - contT: continuation                                
        mapStateT2 == standard utility function                            
           lifting == lifting of a sigma-operation along a monad morphism  
          alifting == algebraic operation defined using an algebraic       
                      operation op and a monad morphism e                  
uniform_algebraic_lifting == Theorem: alifting is a lifting                
                                                                           
        functorial == type of functors where the action on objects as type 
                      monad -&gt; monad                                       
               fmt == type of functorial monad transformers                
                      instances:                                           
                      - exceptFMT                                          
                      - stateFMT                                           
                      - envFMT                                             
                      - outputFMT                                          
                                                                           
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="MonadMLaws" class="id"><a name="MonadMLaws" class="">MonadMLaws</a></span>.<br/>
<span class="vernacular">Section</span> <span id="MonadMLaws.monadmlaws" class="id"><a name="MonadMLaws.monadmlaws" class="">monadmlaws</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="MonadMLaws.monadmlaws.M" class="id"><a name="MonadMLaws.monadmlaws.M" class="">M</a></span> <span id="MonadMLaws.monadmlaws.N" class="id"><a name="MonadMLaws.monadmlaws.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="MonadMLaws.ret" class="id"><a name="MonadMLaws.ret" class="">ret</a></span> (<span id="e:3" class="id"><a name="e:3" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws.N">N</a></span>) <span class="id">:=</span> <span class="gallina-kwd">forall</span> <span id="A:4" class="id"><a name="A:4" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0,</a></span> <span class="id"><a href="monae.monad_transformer.html#e:3">e</a></span> <span class="id"><a href="monae.monad_transformer.html#A:4">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="MonadMLaws.bind" class="id"><a name="MonadMLaws.bind" class="">bind</a></span> (<span id="e:5" class="id"><a name="e:5" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws.N">N</a></span>) <span class="id">:=</span> <span class="gallina-kwd">forall</span> (<span id="A:6" class="id"><a name="A:6" class="">A</a></span> <span id="B:7" class="id"><a name="B:7" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:8" class="id"><a name="m:8" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:6">A</a></span>) (<span id="f:9" class="id"><a name="f:9" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:6">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#B:7">B</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#e:5">e</a></span> <span class="id"><a href="monae.monad_transformer.html#B:7">B</a></span> (<span class="id"><a href="monae.monad_transformer.html#m:8">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#f:9">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#e:5">e</a></span> <span class="id"><a href="monae.monad_transformer.html#A:6">A</a></span> <span class="id"><a href="monae.monad_transformer.html#m:8">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="id"><a href="monae.monad_transformer.html#e:5">e</a></span> <span class="id"><a href="monae.monad_transformer.html#B:7">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#f:9">f</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws.monadmlaws">monadmlaws</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#MonadMLaws">MonadMLaws</a></span>.<br/>
<br/>
<span id="isMonadM.Exports" class="id"><span id="isMonadM.identity_builder" class="id"><span id="isMonadM.phant_axioms" class="id"><span id="isMonadM.phant_Build" class="id"><span id="isMonadM.monadMbind" class="id"><span id="isMonadM.monadMret" class="id"><span id="isMonadM.axioms_" class="id"><span id="isMonadM.isMonadM.e" class="id"><span id="isMonadM.isMonadM.N" class="id"><span id="isMonadM.isMonadM.M" class="id"><span id="isMonadM.isMonadM" class="id"><span id="isMonadM" class="id"><a name="isMonadM.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isMonadM</span> (<span id="M:10" class="id"><a name="M:10" class="">M</a></span> <span id="N:11" class="id"><a name="N:11" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:12" class="id"><a name="e:12" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:10">M</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:11">N</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="monadMret:13" class="id"><a name="monadMret:13" class="">monadMret</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#e:12">e</a></span> <span class="id">;</span><br/>
&nbsp;&nbsp;<span id="monadMbind:14" class="id"><a name="monadMbind:14" class="">monadMbind</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#e:12">e</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations6" class="id"><span id="monadMbind" class="id"><span id="monadMret" class="id"><span id="MonadM.EtaAndMixinExports.structures_eta__canonical__monad_transformer_MonadM" class="id"><span id="MonadM.EtaAndMixinExports.HB_unnamed_mixin_5" class="id"><span id="MonadM.EtaAndMixinExports.monad_transformer_MonadM__to__hierarchy_isNatural" class="id"><span id="MonadM.EtaAndMixinExports.monad_transformer_MonadM__to__monad_transformer_isMonadM" class="id"><span id="MonadM.EtaAndMixinExports.HB_unnamed_factory_2" class="id"><span id="MonadM.EtaAndMixinExports.hb_instance_1.e" class="id"><span id="MonadM.EtaAndMixinExports.hb_instance_1.N" class="id"><span id="MonadM.EtaAndMixinExports.hb_instance_1.M" class="id"><span id="MonadM.EtaAndMixinExports.hb_instance_1" class="id"><span id="MonadM.EtaAndMixinExports" class="id"><span id="MonadM.phant_on_" class="id"><span id="MonadM.Exports.monad_transformer_MonadM__to__hierarchy_Nattrans" class="id"><span id="MonadM.Exports.monad_transformer_MonadM_class__to__hierarchy_Nattrans_class" class="id"><span id="MonadM.Exports" class="id"><span id="MonadM.pack_" class="id"><span id="MonadM.phant_clone" class="id"><span id="MonadM.class" class="id"><span id="MonadM.sort" class="id"><span id="MonadM.type" class="id"><span id="MonadM.hierarchy_isNatural_mixin" class="id"><span id="MonadM.monad_transformer_isMonadM_mixin" class="id"><span id="MonadM.axioms_" class="id"><span id="MonadM" class="id"><a name="ElpiOperations6" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=monadM</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">MonadM</span> (<span id="M:18" class="id"><a name="M:18" class="">M</a></span> <span id="N:19" class="id"><a name="N:19" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{e</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#isMonadM">isMonadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:18">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:19">N</a></span> <span class="id"><a href="monae.monad_transformer.html#e:20">e</a></span> &amp; <span class="id"><a href="monae.hierarchy.html#isNatural">isNatural</a></span> <span class="id"><a href="monae.monad_transformer.html#M:18">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:19">N</a></span> <span class="id"><a href="monae.monad_transformer.html#e:20">e}</a></span>.<br/>
<br/>
<span id="isMonadM_ret_bind.Exports" class="id"><span id="isMonadM_ret_bind.phant_axioms" class="id"><span id="isMonadM_ret_bind.phant_Build" class="id"><span id="isMonadM_ret_bind.monadMbind" class="id"><span id="isMonadM_ret_bind.monadMret" class="id"><span id="isMonadM_ret_bind.axioms_" class="id"><span id="isMonadM_ret_bind.isMonadM_ret_bind.e" class="id"><span id="isMonadM_ret_bind.isMonadM_ret_bind.N" class="id"><span id="isMonadM_ret_bind.isMonadM_ret_bind.M" class="id"><span id="isMonadM_ret_bind.isMonadM_ret_bind" class="id"><span id="isMonadM_ret_bind" class="id"><a name="isMonadM_ret_bind.Exports" class="hierarchy-builder">HB.factory</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isMonadM_ret_bind</span> (<span id="M:23" class="id"><a name="M:23" class="">M</a></span> <span id="N:24" class="id"><a name="N:24" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:25" class="id"><a name="e:25" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:23">M</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:24">N</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="monadMret:26" class="id"><a name="monadMret:26" class="">monadMret</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#e:25">e</a></span> <span class="id">;</span><br/>
&nbsp;&nbsp;<span id="monadMbind:27" class="id"><a name="monadMbind:27" class="">monadMbind</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#e:25">e</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="Builders_7.Builders_7.fresh_name_8" class="id"><span id="Builders_7.Builders_7.e" class="id"><span id="Builders_7.Builders_7.N" class="id"><span id="Builders_7.Builders_7.M" class="id"><span id="Builders_7.Builders_7" class="id"><span id="Builders_7" class="id"><a name="Builders_7.Builders_7.fresh_name_8" class="hierarchy-builder">HB.builders</a></span></span></span></span></span></span> <span class="vernacular">Context</span> (<span id="M:31" class="id"><a name="M:31" class="">M</a></span> <span id="N:32" class="id"><a name="N:32" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:33" class="id"><a name="e:33" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:31">M</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:32">N</a></span>) <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#isMonadM_ret_bind">isMonadM_ret_bind</a></span> <span class="id"><a href="monae.monad_transformer.html#M:31">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:32">N</a></span> <span class="id"><a href="monae.monad_transformer.html#e:33">e</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Builders_7.naturality_monadM" class="id"><a name="Builders_7.naturality_monadM" class="">naturality_monadM</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.e">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!fmapE</span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.monadMbind">monadMbind</a></span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.e">e</a></span> <span class="id">B</span>)) <span class="id"><a href="monae.monad_transformer.html#Builders_7.monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span id="Builders_7.Builders_7_e__canonical__hierarchy_Nattrans" class="id"><span id="Builders_7.HB_unnamed_factory_9" class="id"><a name="Builders_7.Builders_7_e__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.e">e</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.naturality_monadM">naturality_monadM</a></span>.<br/>
<span id="Builders_7.Builders_7_e__canonical__monad_transformer_MonadM" class="id"><span id="Builders_7.HB_unnamed_factory_11" class="id"><a name="Builders_7.Builders_7_e__canonical__monad_transformer_MonadM" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#isMonadM.Build">isMonadM.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.Builders_7.e">e</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.monadMret">monadMret</a></span> <span class="id"><a href="monae.monad_transformer.html#Builders_7.monadMbind">monadMbind</a></span>.<br/>
<span id="Builders_7.isMonadM_ret_bind_Exports" class="id"><a name="Builders_7.isMonadM_ret_bind_Exports" class="hierarchy-builder">HB.end</a></span>.<br/>
<br/>
<span id="isMonadT.Exports" class="id"><span id="isMonadT.identity_builder" class="id"><span id="isMonadT.phant_axioms" class="id"><span id="isMonadT.phant_Build" class="id"><span id="isMonadT.Lift" class="id"><span id="isMonadT.axioms_" class="id"><span id="isMonadT.isMonadT.T" class="id"><span id="isMonadT.isMonadT" class="id"><span id="isMonadT" class="id"><a name="isMonadT.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isMonadT</span> (<span id="T:37" class="id"><a name="T:37" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="Lift:39" class="id"><a name="Lift:39" class="">Lift</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="M:38" class="id"><a name="M:38" class="">M,</a></span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:38">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#T:37">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:38">M</a></span>) <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations17" class="id"><span id="Lift" class="id"><span id="MonadT.EtaAndMixinExports.structures_eta__canonical__monad_transformer_MonadT" class="id"><span id="MonadT.EtaAndMixinExports.HB_unnamed_mixin_16" class="id"><span id="MonadT.EtaAndMixinExports.monad_transformer_MonadT__to__monad_transformer_isMonadT" class="id"><span id="MonadT.EtaAndMixinExports.HB_unnamed_factory_14" class="id"><span id="MonadT.EtaAndMixinExports.hb_instance_13.T" class="id"><span id="MonadT.EtaAndMixinExports.hb_instance_13" class="id"><span id="MonadT.EtaAndMixinExports" class="id"><span id="MonadT.phant_on_" class="id"><span id="MonadT.Exports" class="id"><span id="MonadT.pack_" class="id"><span id="MonadT.phant_clone" class="id"><span id="MonadT.class" class="id"><span id="MonadT.sort" class="id"><span id="MonadT.type" class="id"><span id="MonadT.monad_transformer_isMonadT_mixin" class="id"><span id="MonadT.axioms_" class="id"><span id="MonadT" class="id"><a name="ElpiOperations17" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=monadT</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">MonadT</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{T</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#isMonadT">isMonadT</a></span> <span class="id"><a href="monae.monad_transformer.html#T:41">T}</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id">:</span> <span class="id">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="state_monad_transformer" class="id"><a name="state_monad_transformer" class="">state_monad_transformer</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="state_monad_transformer.S" class="id"><a name="state_monad_transformer.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="state_monad_transformer.M" class="id"><a name="state_monad_transformer.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="MS" class="id"><a name="MS" class="">MS</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:46" class="id"><a name="A:46" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#A:46">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.S">S</a></span>)%<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="retS" class="id"><a name="retS" class="">retS</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:47" class="id"><a name="A:47" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#curry">curry</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bindS" class="id"><a name="bindS" class="">bindS</a></span> (<span id="A:48" class="id"><a name="A:48" class="">A</a></span> <span id="B:49" class="id"><a name="B:49" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:50" class="id"><a name="m:50" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#A:48">A</a></span>) <span id="f:51" class="id"><a name="f:51" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#B:49">B</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:52" class="id"><a name="s:52" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:50">m</a></span> <span class="id"><a href="monae.monad_transformer.html#s:52">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.monad_transformer.html#f:51">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="state_monad_transformer.bindSretf" class="id"><a name="state_monad_transformer.bindSretf" class="">bindSretf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindS">bindS</a></span> <span class="id"><a href="monae.monad_transformer.html#retS">retS</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bindS;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="state_monad_transformer.bindSmret" class="id"><a name="state_monad_transformer.bindSmret" class="">bindSmret</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindS">bindS</a></span> <span class="id"><a href="monae.monad_transformer.html#retS">retS</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bindS;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span> (<span class="id">m</span> <span class="id">s</span>))<span class="id">;</span> <span class="id">bind_ext;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="state_monad_transformer.bindSA" class="id"><a name="state_monad_transformer.bindSA" class="">bindSA</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_transformer.html#bindS">bindS</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bindS;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_MS__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_22" class="id"><span id="monad_transformer_MS__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_21" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isMonad" class="id"><span id="HB_unnamed_factory_18" class="id"><a name="monad_transformer_MS__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.bindSretf">bindSretf</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.bindSmret">bindSmret</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.bindSA">bindSA</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="MS_mapE" class="id"><a name="MS_mapE" class="">MS_mapE</a></span> (<span id="A:53" class="id"><a name="A:53" class="">A</a></span> <span id="B:54" class="id"><a name="B:54" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:55" class="id"><a name="f:55" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:53">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#B:54">B</a></span>) (<span id="m:56" class="id"><a name="m:56" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#A:53">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#f:55">f</a></span>) <span class="id"><a href="monae.monad_transformer.html#m:56">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="gallina-kwd">fun</span> <span id="x:57" class="id"><a name="x:57" class="">x</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_transformer.html#f:55">f</a></span> <span class="id"><a href="monae.monad_transformer.html#x:57">x</a></span>.<span class="id">1,</span> <span class="id"><a href="monae.monad_transformer.html#x:57">x</a></span>.<span class="id">2</span>))) <span class="id">\o</span> <span class="id"><a href="monae.monad_transformer.html#m:56">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span><span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">{1}/actm</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span>.<br/>
<span class="id">congr</span> <span class="id"><a href="monae.hierarchy.html#bind">bind</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span><span class="id">;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="liftS" class="id"><a name="liftS" class="">liftS</a></span> (<span id="A:58" class="id"><a name="A:58" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:59" class="id"><a name="m:59" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:58">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#A:58">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="s:60" class="id"><a name="s:60" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:59">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:61" class="id"><a name="x:61" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#x:61">x,</a></span> <span class="id"><a href="monae.monad_transformer.html#s:60">s</a></span>)).<br/>
<br/>
<span class="vernacular">Let</span> <span id="state_monad_transformer.retliftS" class="id"><a name="state_monad_transformer.retliftS" class="">retliftS</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">/liftS;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="state_monad_transformer.bindliftS" class="id"><a name="state_monad_transformer.bindliftS" class="">bindliftS</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">{1}/liftS;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]bindA</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> <span class="id">m</span> <span class="id">s</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (@<span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>)) <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindA</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[RHS]eq_bind</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_liftS__canonical__monad_transformer_MonadM" class="id"><span id="HB_unnamed_mixin_27" class="id"><span id="monad_transformer_liftS__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_mixin_26" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__hierarchy_isNatural" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__monad_transformer_isMonadM" class="id"><span id="HB_unnamed_factory_23" class="id"><a name="monad_transformer_liftS__canonical__monad_transformer_MonadM" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadM_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.retliftS">retliftS</a></span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer.bindliftS">bindliftS</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#state_monad_transformer">state_monad_transformer</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="MS_bindE" class="id"><a name="MS_bindE" class="">MS_bindE</a></span> <span class="id">[S</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0]</a></span> <span class="id">[M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad]</a></span> <span class="id">[A</span> <span id="B:65" class="id"><a name="B:65" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0]</a></span> (<span id="m:66" class="id"><a name="m:66" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#S:62">S</a></span> <span class="id"><a href="monae.monad_transformer.html#M:63">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:64">A</a></span>) (<span id="f:67" class="id"><a name="f:67" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:64">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#S:62">S</a></span> <span class="id"><a href="monae.monad_transformer.html#M:63">M</a></span> <span class="id"><a href="monae.monad_transformer.html#B:65">B</a></span>) <span id="s:68" class="id"><a name="s:68" class="">s</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#m:66">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#f:67">f</a></span>) <span class="id"><a href="monae.monad_transformer.html#s:68">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#m:66">m</a></span> <span class="id"><a href="monae.monad_transformer.html#s:68">s</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.monad_transformer.html#f:67">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="stateT" class="id"><a name="stateT" class="">stateT</a></span> (<span id="S:69" class="id"><a name="S:69" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#S:69">S</a></span>.<br/>
<br/>
<span id="monad_transformer_stateT__canonical__monad_transformer_MonadT" class="id"><span id="HB_unnamed_factory_29" class="id"><span id="hb_instance_28.S" class="id"><span id="hb_instance_28" class="id"><a name="monad_transformer_stateT__canonical__monad_transformer_MonadT" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="S:70" class="id"><a name="S:70" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadT.Build</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#S:70">S</a></span>) (@<span class="id"><a href="monae.monad_transformer.html#liftS">liftS</a></span> <span class="id"><a href="monae.monad_transformer.html#S:70">S</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="mapStateT2" class="id"><a name="mapStateT2" class="">mapStateT2</a></span> (<span id="A:71" class="id"><a name="A:71" class="">A</a></span> <span id="S:72" class="id"><a name="S:72" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="N1:73" class="id"><a name="N1:73" class="">N1</a></span> <span id="N2:74" class="id"><a name="N2:74" class="">N2</a></span> <span id="N3:75" class="id"><a name="N3:75" class="">N3</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="f:76" class="id"><a name="f:76" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#N1:73">N1</a></span> (<span class="id"><a href="monae.monad_transformer.html#A:71">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_transformer.html#S:72">S</a></span>)%<span class="id">type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N2:74">N2</a></span> (<span class="id"><a href="monae.monad_transformer.html#A:71">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_transformer.html#S:72">S</a></span>)%<span class="id">type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N3:75">N3</a></span> (<span class="id"><a href="monae.monad_transformer.html#A:71">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_transformer.html#S:72">S</a></span>)%<span class="id">type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m1:77" class="id"><a name="m1:77" class="">m1</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#S:72">S</a></span> <span class="id"><a href="monae.monad_transformer.html#N1:73">N1</a></span> <span class="id"><a href="monae.monad_transformer.html#A:71">A</a></span>) (<span id="m2:78" class="id"><a name="m2:78" class="">m2</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#S:72">S</a></span> <span class="id"><a href="monae.monad_transformer.html#N2:74">N2</a></span> <span class="id"><a href="monae.monad_transformer.html#A:71">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#S:72">S</a></span> <span class="id"><a href="monae.monad_transformer.html#N3:75">N3</a></span> <span class="id"><a href="monae.monad_transformer.html#A:71">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="s:79" class="id"><a name="s:79" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#f:76">f</a></span> (<span class="id"><a href="monae.monad_transformer.html#m1:77">m1</a></span> <span class="id"><a href="monae.monad_transformer.html#s:79">s</a></span>) (<span class="id"><a href="monae.monad_transformer.html#m2:78">m2</a></span> <span class="id"><a href="monae.monad_transformer.html#s:79">s</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="stateMonad_of_stateT" class="id"><a name="stateMonad_of_stateT" class="">stateMonad_of_stateT</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="stateMonad_of_stateT.S" class="id"><a name="stateMonad_of_stateT.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="stateMonad_of_stateT.M" class="id"><a name="stateMonad_of_stateT.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="stateMonad_of_stateT.Put" class="id"><a name="stateMonad_of_stateT.Put" class="">Put</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:82" class="id"><a name="s:82" class="">s</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.monad_transformer.html#s:82">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="stateMonad_of_stateT.Get" class="id"><a name="stateMonad_of_stateT.Get" class="">Get</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:83" class="id"><a name="s:83" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#s:83">s,</a></span> <span class="id"><a href="monae.monad_transformer.html#s:83">s</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="stateMonad_of_stateT.bindputput" class="id"><a name="stateMonad_of_stateT.bindputput" class="">bindputput</a></span> <span id="s:84" class="id"><a name="s:84" class="">s</a></span> <span id="s':85" class="id"><a name="s':85" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="monae.monad_transformer.html#s:84">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="monae.monad_transformer.html#s':85">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="monae.monad_transformer.html#s':85">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">rewrite</span> <span class="id">/Ret</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id">/=</span> <span class="id">/bindS;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s0</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_mapE">MS_mapE</a></span> <span class="id"><a href="monae.hierarchy.html#bind_fmap">bind_fmap</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="stateMonad_of_stateT.bindputget" class="id"><a name="stateMonad_of_stateT.bindputget" class="">bindputget</a></span> <span id="s:86" class="id"><a name="s:86" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="monae.monad_transformer.html#s:86">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Get">Get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="monae.monad_transformer.html#s:86">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_transformer.html#s:86">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">/bindS</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s'</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bind_fmap</span> <span class="id">!bindretf</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="stateMonad_of_stateT.bindgetput" class="id"><a name="stateMonad_of_stateT.bindgetput" class="">bindgetput</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Get">Get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_mapE">MS_mapE</a></span> <span class="id">/=</span> <span class="id">/bindS</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bind_fmap">bind_fmap</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="stateMonad_of_stateT.bindgetget" class="id"><a name="stateMonad_of_stateT.bindgetget" class="">bindgetget</a></span> (<span id="A:87" class="id"><a name="A:87" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:88" class="id"><a name="k:88" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:87">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Get">Get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:89" class="id"><a name="s:89" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Get">Get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#k:88">k</a></span> <span class="id"><a href="monae.monad_transformer.html#s:89">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Get">Get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:90" class="id"><a name="s:90" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#k:88">k</a></span> <span class="id"><a href="monae.monad_transformer.html#s:90">s</a></span> <span class="id"><a href="monae.monad_transformer.html#s:90">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">/Get/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">/=</span> <span class="id">/retS/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bind_fmap</span> <span class="id">!bindretf/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">/=</span> <span class="id">/retS/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bind_fmap">bind_fmap</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_MS__canonical__hierarchy_MonadState" class="id"><span id="HB_unnamed_factory_31" class="id"><a name="monad_transformer_MS__canonical__hierarchy_MonadState" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadState.Build">isMonadState.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> (<span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.S">S</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.M">M</a></span>) <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Get">Get</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.Put">Put</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.bindputput">bindputput</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.bindputget">bindputget</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.bindgetput">bindgetput</a></span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT.bindgetget">bindgetget</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#stateMonad_of_stateT">stateMonad_of_stateT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="exception_monad_transformer" class="id"><a name="exception_monad_transformer" class="">exception_monad_transformer</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">idtac</span>.<br/>
<span class="vernacular">Variables</span> (<span id="exception_monad_transformer.Z" class="id"><a name="exception_monad_transformer.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)  (<span id="exception_monad_transformer.M" class="id"><a name="exception_monad_transformer.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="MX" class="id"><a name="MX" class="">MX</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="X:93" class="id"><a name="X:93" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92">+</a></span> <span class="id"><a href="monae.monad_transformer.html#X:93">X</a></span>)%<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="retX" class="id"><a name="retX" class="">retX</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="X:94" class="id"><a name="X:94" class="">X</a></span> <span id="x:95" class="id"><a name="x:95" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monae.monad_transformer.html#x:95">x</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bindX" class="id"><a name="bindX" class="">bindX</a></span> <span id="X:96" class="id"><a name="X:96" class="">X</a></span> <span id="Y:97" class="id"><a name="Y:97" class="">Y</a></span> (<span id="t:98" class="id"><a name="t:98" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#X:96">X</a></span>) (<span id="f:99" class="id"><a name="f:99" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#X:96">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#Y:97">Y</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#Y:97">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#t:98">t</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="c:100" class="id"><a name="c:100" class="">c</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_transformer.html#c:100">c</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span>) <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#f:99">f</a></span> <span class="id">x</span> <span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="exception_monad_transformer.bindXretf" class="id"><a name="exception_monad_transformer.bindXretf" class="">bindXretf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindX">bindX</a></span> <span class="id"><a href="monae.monad_transformer.html#retX">retX</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bindX</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exception_monad_transformer.bindXmret" class="id"><a name="exception_monad_transformer.bindXmret" class="">bindXmret</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindX">bindX</a></span> <span class="id"><a href="monae.monad_transformer.html#retX">retX</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bindX</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span> <span class="id">m</span>)<span class="id">;</span> <span class="id">bind_ext;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exception_monad_transformer.bindXA" class="id"><a name="exception_monad_transformer.bindXA" class="">bindXA</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_transformer.html#bindX">bindX</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bindX</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext;</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_MX__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_39" class="id"><span id="monad_transformer_MX__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_38" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor__37" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isMonad__35" class="id"><span id="HB_unnamed_factory_33" class="id"><a name="monad_transformer_MX__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.bindXretf">bindXretf</a></span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.bindXmret">bindXmret</a></span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.bindXA">bindXA</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="MX_mapE" class="id"><a name="MX_mapE" class="">MX_mapE</a></span> (<span id="A:102" class="id"><a name="A:102" class="">A</a></span> <span id="B:103" class="id"><a name="B:103" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:104" class="id"><a name="f:104" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:102">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#B:103">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#f:104">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="gallina-kwd">fun</span> <span id="x:105" class="id"><a name="x:105" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_transformer.html#x:105">x</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">y</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">y</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id"><a href="monae.monad_transformer.html#f:104">f</a></span> <span class="id">y</span>) <span class="gallina-kwd">end</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span>.<br/>
<span class="id">rewrite</span> <span class="id">{1}/actm</span> <span class="id">/=</span> <span class="id">/bindX</span> <span class="id">/=</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]fmapE</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span><span class="id">;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="liftX" class="id"><a name="liftX" class="">liftX</a></span> <span id="X:107" class="id"><a name="X:107" class="">X</a></span> (<span id="m:108" class="id"><a name="m:108" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#X:107">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#X:107">X</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#m:108">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (@<span class="id"><a href="monae.hierarchy.html#ret">ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX]</a></span> <span class="id">_</span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="exception_monad_transformer.retliftX" class="id"><a name="exception_monad_transformer.retliftX" class="">retliftX</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#liftX">liftX</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a;</span> <span class="id">rewrite</span> <span class="id">/liftX</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exception_monad_transformer.bindliftX" class="id"><a name="exception_monad_transformer.bindliftX" class="">bindliftX</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#liftX">liftX</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">{1}/liftX</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">!fmapE</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/join_of_bind</span> <span class="id">/bindX</span> <span class="id">/=</span> <span class="id">!bindA</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!joinE</span> <span class="id">!bindA</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">a</span>.<br/>
<span class="id">rewrite</span> <span class="id">3!bindretf</span>.<br/>
<span class="id">rewrite</span> <span class="id">/liftX</span> <span class="id">/=</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">b</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_liftX__canonical__monad_transformer_MonadM" class="id"><span id="HB_unnamed_mixin_46" class="id"><span id="monad_transformer_liftX__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_mixin_45" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__hierarchy_isNatural__44" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__monad_transformer_isMonadM__42" class="id"><span id="HB_unnamed_factory_40" class="id"><a name="monad_transformer_liftX__canonical__monad_transformer_MonadM" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadM_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX]</a></span> <span class="id"><a href="monae.monad_transformer.html#liftX">liftX</a></span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.retliftX">retliftX</a></span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer.bindliftX">bindliftX</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#exception_monad_transformer">exception_monad_transformer</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="exceptT" class="id"><a name="exceptT" class="">exceptT</a></span> (<span id="Z:109" class="id"><a name="Z:109" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="M:110" class="id"><a name="M:110" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#Z:109">Z</a></span> <span class="id"><a href="monae.monad_transformer.html#M:110">M]</a></span>.<br/>
<br/>
<span id="monad_transformer_exceptT__canonical__monad_transformer_MonadT" class="id"><span id="HB_unnamed_factory_48" class="id"><span id="hb_instance_47.Z" class="id"><span id="hb_instance_47" class="id"><a name="monad_transformer_exceptT__canonical__monad_transformer_MonadT" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="Z:111" class="id"><a name="Z:111" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadT.Build</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_transformer.html#Z:111">Z</a></span>) (<span class="gallina-kwd">fun</span> <span id="M:112" class="id"><a name="M:112" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:112">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="monae.monad_transformer.html#Z:111">Z</a></span> <span class="id"><a href="monae.monad_transformer.html#M:112">M]</a></span> <span class="id">of</span> @<span class="id"><a href="monae.monad_transformer.html#liftX">liftX</a></span> <span class="id"><a href="monae.monad_transformer.html#Z:111">Z</a></span> <span class="id"><a href="monae.monad_transformer.html#M:112">M]</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="failMonad_of_exceptT" class="id"><a name="failMonad_of_exceptT" class="">failMonad_of_exceptT</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="failMonad_of_exceptT.M" class="id"><a name="failMonad_of_exceptT.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>.<br/>
<span class="vernacular">Let</span> <span id="failMonad_of_exceptT.N" class="id"><a name="failMonad_of_exceptT.N" class="">N</a></span> (<span id="B:114" class="id"><a name="B:114" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#failMonad_of_exceptT.M">M</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92">+</a></span> <span class="id"><a href="monae.monad_transformer.html#B:114">B</a></span>)%<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span class="vernacular">Fail</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="B:115" class="id"><a name="B:115" class="">B,</a></span> <span class="id"><a href="monae.monad_transformer.html#failMonad_of_exceptT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:115">B</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="B:116" class="id"><a name="B:116" class="">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="failMonad_of_exceptT.bindfail" class="id"><a name="failMonad_of_exceptT.bindfail" class="">bindfail</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#failMonad_of_exceptT.M">M</a></span>)) <span class="vernacular">Fail</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/Fail</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id">/=</span> <span class="id">/join_of_bind</span> <span class="id">/bindX</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id">2!bindretf</span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_MX__canonical__hierarchy_MonadFail" class="id"><span id="HB_unnamed_factory_50" class="id"><a name="monad_transformer_MX__canonical__hierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#failMonad_of_exceptT.M">M</a></span>) <span class="vernacular">Fail</span> <span class="id"><a href="monae.monad_transformer.html#failMonad_of_exceptT.bindfail">bindfail</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#failMonad_of_exceptT">failMonad_of_exceptT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="exceptMonad_of_exceptT" class="id"><a name="exceptMonad_of_exceptT" class="">exceptMonad_of_exceptT</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="exceptMonad_of_exceptT.M" class="id"><a name="exceptMonad_of_exceptT.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<span class="vernacular">Let</span> <span id="exceptMonad_of_exceptT.N" class="id"><a name="exceptMonad_of_exceptT.N" class="">N</a></span> (<span id="B:118" class="id"><a name="B:118" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.M">M</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92">+</a></span> <span class="id"><a href="monae.monad_transformer.html#B:118">B</a></span>)%<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="exceptMonad_of_exceptT.Catch" class="id"><a name="exceptMonad_of_exceptT.Catch" class="">Catch</a></span> (<span id="B:119" class="id"><a name="B:119" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="x:120" class="id"><a name="x:120" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:119">B</a></span>) (<span id="y:121" class="id"><a name="y:121" class="">y</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:119">B</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:119">B</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#x:120">x</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:122" class="id"><a name="u:122" class="">u</a></span> <span class="id">=&gt;</span> (<span class="gallina-kwd">fun</span> <span id="k:123" class="id"><a name="k:123" class="">k</a></span> <span id="k':124" class="id"><a name="k':124" class="">k'</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">match</span> <span class="id"><a href="monae.monad_transformer.html#u:122">u</a></span> <span class="gallina-kwd">with</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#k:123">k</a></span> <span class="id">a</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#k':124">k'</a></span> <span class="id">b</span> <span class="gallina-kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#y:121">y</a></span>) (<span class="gallina-kwd">fun</span> <span id="b:126" class="id"><a name="b:126" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monae.monad_transformer.html#b:126">b</a></span>))).<br/>
<br/>
<span class="vernacular">Let</span> <span id="exceptMonad_of_exceptT.Catchmfail" class="id"><a name="exceptMonad_of_exceptT.Catchmfail" class="">Catchmfail</a></span> (<span id="A:127" class="id"><a name="A:127" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">right_id</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.M">M]</a></span> <span class="id"><a href="monae.monad_transformer.html#A:127">A</a></span>) (@<span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catch">Catch</a></span> <span class="id"><a href="monae.monad_transformer.html#A:127">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/=</span> <span class="id">/fail</span> <span class="id">/=</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span> <span class="id">x</span>)<span class="id">;</span> <span class="id">bind_ext</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case=&gt;</span> <span class="id">/=</span> <span class="id">[[]|]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exceptMonad_of_exceptT.Catchfailm" class="id"><a name="exceptMonad_of_exceptT.Catchfailm" class="">Catchfailm</a></span> (<span id="A:128" class="id"><a name="A:128" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_id">left_id</a></span> (@<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.M">M]</a></span> <span class="id"><a href="monae.monad_transformer.html#A:128">A</a></span>) (@<span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catch">Catch</a></span> <span class="id"><a href="monae.monad_transformer.html#A:128">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/N</span> <span class="gallina-kwd">in</span> <span class="id">x</span> <span class="id">*</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/=</span> <span class="id">/fail</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exceptMonad_of_exceptT.CatchA" class="id"><a name="exceptMonad_of_exceptT.CatchA" class="">CatchA</a></span> (<span id="A:129" class="id"><a name="A:129" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">associative</a></span> (@<span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catch">Catch</a></span> <span class="id"><a href="monae.monad_transformer.html#A:129">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move=&gt;</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case=&gt;</span> <span class="id">[[]//|b];</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exceptMonad_of_exceptT.Catchret" class="id"><a name="exceptMonad_of_exceptT.Catchret" class="">Catchret</a></span> (<span id="A:130" class="id"><a name="A:130" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="ua:131" class="id"><a name="ua:131" class="">ua</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:130">A</a></span>%<span class="id">type</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_zero">left_zero</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:130">A</a></span>) (<span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:130">A</a></span>) (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monae.monad_transformer.html#ua:131">ua</a></span>)) (@<span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catch">Catch</a></span> <span class="id"><a href="monae.monad_transformer.html#A:130">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">n</span> <span class="id">;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>. Qed.</div>
<br/>
<span id="monad_transformer_MX__canonical__hierarchy_MonadExcept" class="id"><span id="HB_unnamed_factory_52" class="id"><a name="monad_transformer_MX__canonical__hierarchy_MonadExcept" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadExcept.Build">isMonadExcept.Build</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#MX">MX</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.M">M</a></span>) <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catch">Catch</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catchmfail">Catchmfail</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catchfailm">Catchfailm</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.CatchA">CatchA</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT.Catchret">Catchret</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#exceptMonad_of_exceptT">exceptMonad_of_exceptT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="environment_monad_transformer" class="id"><a name="environment_monad_transformer" class="">environment_monad_transformer</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">idtac</span>.<br/>
<span class="vernacular">Variables</span> (<span id="environment_monad_transformer.R" class="id"><a name="environment_monad_transformer.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="environment_monad_transformer.M" class="id"><a name="environment_monad_transformer.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="MEnv" class="id"><a name="MEnv" class="">MEnv</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:134" class="id"><a name="A:134" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.R">R</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:134">A</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="retEnv" class="id"><a name="retEnv" class="">retEnv</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:135" class="id"><a name="A:135" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="a:136" class="id"><a name="a:136" class="">a</a></span> <span id="r:137" class="id"><a name="r:137" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_transformer.html#a:136">a</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bindEnv" class="id"><a name="bindEnv" class="">bindEnv</a></span> <span id="A:138" class="id"><a name="A:138" class="">A</a></span> <span id="B:139" class="id"><a name="B:139" class="">B</a></span> (<span id="m:140" class="id"><a name="m:140" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#A:138">A</a></span>) <span id="f:141" class="id"><a name="f:141" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#B:139">B</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="r:142" class="id"><a name="r:142" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:140">m</a></span> <span class="id"><a href="monae.monad_transformer.html#r:142">r</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="a:143" class="id"><a name="a:143" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#f:141">f</a></span> <span class="id"><a href="monae.monad_transformer.html#a:143">a</a></span> <span class="id"><a href="monae.monad_transformer.html#r:142">r</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="environment_monad_transformer.bindEnvretf" class="id"><a name="environment_monad_transformer.bindEnvretf" class="">bindEnvretf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindEnv">bindEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#retEnv">retEnv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bindEnv;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="environment_monad_transformer.bindEnvmret" class="id"><a name="environment_monad_transformer.bindEnvmret" class="">bindEnvmret</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindEnv">bindEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#retEnv">retEnv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bindEnv;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">r</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span> (<span class="id">m</span> <span class="id">r</span>))<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">bind_ext;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="environment_monad_transformer.bindEnvA" class="id"><a name="environment_monad_transformer.bindEnvA" class="">bindEnvA</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_transformer.html#bindEnv">bindEnv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bindEnv;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">r</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext;</span> <span class="id">case</span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_MEnv__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_60" class="id"><span id="monad_transformer_MEnv__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_59" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor__58" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isMonad__56" class="id"><span id="HB_unnamed_factory_54" class="id"><a name="monad_transformer_MEnv__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.bindEnvretf">bindEnvretf</a></span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.bindEnvmret">bindEnvmret</a></span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.bindEnvA">bindEnvA</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="MEnv_mapE" class="id"><a name="MEnv_mapE" class="">MEnv_mapE</a></span> (<span id="A:144" class="id"><a name="A:144" class="">A</a></span> <span id="B:145" class="id"><a name="B:145" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:146" class="id"><a name="f:146" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:144">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#B:145">B</a></span>) (<span id="m:147" class="id"><a name="m:147" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#A:144">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#f:146">f</a></span>) <span class="id"><a href="monae.monad_transformer.html#m:147">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#f:146">f</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.monad_transformer.html#m:147">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">r;</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="liftEnv" class="id"><a name="liftEnv" class="">liftEnv</a></span> <span id="A:148" class="id"><a name="A:148" class="">A</a></span> (<span id="m:149" class="id"><a name="m:149" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:148">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#A:148">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="r:150" class="id"><a name="r:150" class="">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:149">m</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="environment_monad_transformer.retliftEnv" class="id"><a name="environment_monad_transformer.retliftEnv" class="">retliftEnv</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#liftEnv">liftEnv</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="environment_monad_transformer.bindliftEnv" class="id"><a name="environment_monad_transformer.bindliftEnv" class="">bindliftEnv</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#liftEnv">liftEnv</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="monad_transformer_liftEnv__canonical__monad_transformer_MonadM" class="id"><span id="HB_unnamed_mixin_66" class="id"><span id="monad_transformer_liftEnv__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_mixin_65" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__hierarchy_isNatural__64" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__monad_transformer_isMonadM__62" class="id"><span id="envTmonadM" class="id"><a name="monad_transformer_liftEnv__canonical__monad_transformer_MonadM" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">envTmonadM</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadM_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv]</a></span> <span class="id"><a href="monae.monad_transformer.html#liftEnv">liftEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.retliftEnv">retliftEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer.bindliftEnv">bindliftEnv</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#environment_monad_transformer">environment_monad_transformer</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="envT" class="id"><a name="envT" class="">envT</a></span> (<span id="E:151" class="id"><a name="E:151" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="M:152" class="id"><a name="M:152" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#E:151">E</a></span> <span class="id"><a href="monae.monad_transformer.html#M:152">M]</a></span>.<br/>
<br/>
<span id="monad_transformer_envT__canonical__monad_transformer_MonadT" class="id"><span id="HB_unnamed_factory_68" class="id"><span id="hb_instance_67.E" class="id"><span id="hb_instance_67" class="id"><a name="monad_transformer_envT__canonical__monad_transformer_MonadT" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="E:153" class="id"><a name="E:153" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#envT">envT</a></span> <span class="id"><a href="monae.monad_transformer.html#E:153">E</a></span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="M:154" class="id"><a name="M:154" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:154">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#E:153">E</a></span> <span class="id"><a href="monae.monad_transformer.html#M:154">M]</a></span> <span class="id">of</span> @<span class="id"><a href="monae.monad_transformer.html#liftEnv">liftEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#E:153">E</a></span> <span class="id"><a href="monae.monad_transformer.html#M:154">M]</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="output_monad_transformer" class="id"><a name="output_monad_transformer" class="">output_monad_transformer</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">idtac</span>.<br/>
<span class="vernacular">Variables</span> (<span id="output_monad_transformer.R" class="id"><a name="output_monad_transformer.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="output_monad_transformer.M" class="id"><a name="output_monad_transformer.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="MO" class="id"><a name="MO" class="">MO</a></span> (<span id="X:157" class="id"><a name="X:157" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#X:157">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.R">R</a></span>)%<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="retO" class="id"><a name="retO" class="">retO</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:158" class="id"><a name="A:158" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="a:159" class="id"><a name="a:159" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#a:159">a,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bindO" class="id"><a name="bindO" class="">bindO</a></span> <span id="A:160" class="id"><a name="A:160" class="">A</a></span> <span id="B:161" class="id"><a name="B:161" class="">B</a></span> (<span id="m:162" class="id"><a name="m:162" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#A:160">A</a></span>) (<span id="f:163" class="id"><a name="f:163" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:160">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#B:161">B</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#B:161">B</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#m:162">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="o:164" class="id"><a name="o:164" class="">o</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">w</span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#o:164">o</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.monad_transformer.html#f:163">f</a></span> <span class="id">x</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="o':166" class="id"><a name="o':166" class="">o'</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">let</span> (<span id="x':167" class="id"><a name="x':167" class="">x',</a></span> <span id="w':168" class="id"><a name="w':168" class="">w'</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#o':166">o'</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#x':167">x',</a></span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.monad_transformer.html#w':168">w'</a></span>))).<br/>
<br/>
<span class="vernacular">Let</span> <span id="output_monad_transformer.bindOretf" class="id"><a name="output_monad_transformer.bindOretf" class="">bindOretf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindO">bindO</a></span> <span class="id"><a href="monae.monad_transformer.html#retO">retO</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bindO</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="o':173" class="id"><span id="o':171" class="id"><span id="o':169" class="id"><a name="o':173" class="">o'</a></span></span></span> <span class="id">:</span> <span class="id">B</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.R">R</a></span> <span class="id">=&gt;</span> <span class="id">_</span>) <span class="id">=</span> (<span class="gallina-kwd">fun</span> <span id="o:174" class="id"><span id="o:172" class="id"><span id="o:170" class="id"><a name="o:174" class="">o</a></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_transformer.html#o:170">o</a></span>)) <span class="id">?bindmret</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="output_monad_transformer.bindOmret" class="id"><a name="output_monad_transformer.bindOmret" class="">bindOmret</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindO">bindO</a></span> <span class="id"><a href="monae.monad_transformer.html#retO">retO</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bindO</span> <span class="id">/=</span> <span class="id">/retO</span> <span class="id">/=</span> <span class="id">-[RHS]bindmret</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[a</span> <span class="id">w];</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="output_monad_transformer.bindOA" class="id"><a name="output_monad_transformer.bindOA" class="">bindOA</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_transformer.html#bindO">bindO</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bindO</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext;</span> <span class="id">case=&gt;</span> <span class="id">x</span> <span class="id">w</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindA;</span> <span class="id">bind_ext;</span> <span class="id">case=&gt;</span> <span class="id">x'</span> <span class="id">w'</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindA</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf;</a></span> <span class="id">bind_ext;</span> <span class="id">case=&gt;</span> <span class="id">x''</span> <span class="id">w''</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_MO__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_76" class="id"><span id="monad_transformer_MO__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_75" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor__74" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isMonad__72" class="id"><span id="HB_unnamed_factory_70" class="id"><a name="monad_transformer_MO__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.bindOretf">bindOretf</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.bindOmret">bindOmret</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.bindOA">bindOA</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="MO_mapE" class="id"><a name="MO_mapE" class="">MO_mapE</a></span> (<span id="A:175" class="id"><a name="A:175" class="">A</a></span> <span id="B:176" class="id"><a name="B:176" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:177" class="id"><a name="f:177" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:175">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#B:176">B</a></span>) (<span id="m:178" class="id"><a name="m:178" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#A:175">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#f:177">f</a></span>) <span class="id"><a href="monae.monad_transformer.html#m:178">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="gallina-kwd">fun</span> <span id="x:179" class="id"><a name="x:179" class="">x</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_transformer.html#f:177">f</a></span> <span class="id"><a href="monae.monad_transformer.html#x:179">x</a></span>.<span class="id">1,</span> <span class="id"><a href="monae.monad_transformer.html#x:179">x</a></span>.<span class="id">2</span>))) <span class="id"><a href="monae.monad_transformer.html#m:178">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/actm</a></span> <span class="id">/=</span> <span class="id">/bindO</span> <span class="id">/=</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]fmapE</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span> <span class="id">?</span> <span class="id">?</span>.<br/>
<span class="gallina-kwd">by</span>  <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="liftO" class="id"><a name="liftO" class="">liftO</a></span> <span id="A:180" class="id"><a name="A:180" class="">A</a></span> (<span id="m:181" class="id"><a name="m:181" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:180">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#A:180">A</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#m:181">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:182" class="id"><a name="x:182" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#x:182">x,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>)).<br/>
<br/>
<span class="vernacular">Let</span> <span id="output_monad_transformer.retliftO" class="id"><a name="output_monad_transformer.retliftO" class="">retliftO</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#liftO">liftO</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move=&gt;</span> <span class="id">a;</span> <span class="id">rewrite</span> <span class="id">/liftO</span> <span class="id">/=</span> <span class="id">/retO;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">o</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="output_monad_transformer.bindliftO" class="id"><a name="output_monad_transformer.bindliftO" class="">bindliftO</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#liftO">liftO</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">{1}/liftO</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">/join_of_bind</span> <span class="id">/bindO</span> <span class="id">/=</span> <span class="id">2!joinE</span> <span class="id">!bindA</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">a</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!bindretf</span> <span class="id">/liftO</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">b</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_liftO__canonical__monad_transformer_MonadM" class="id"><span id="HB_unnamed_mixin_82" class="id"><span id="monad_transformer_liftO__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_mixin_81" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__hierarchy_isNatural__80" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__monad_transformer_isMonadM__78" class="id"><span id="outputTmonadM" class="id"><a name="monad_transformer_liftO__canonical__monad_transformer_MonadM" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">outputTmonadM</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadM_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO]</a></span> <span class="id"><a href="monae.monad_transformer.html#liftO">liftO</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.retliftO">retliftO</a></span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer.bindliftO">bindliftO</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#output_monad_transformer">output_monad_transformer</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="outputT" class="id"><a name="outputT" class="">outputT</a></span> (<span id="R:183" class="id"><a name="R:183" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="M:184" class="id"><a name="M:184" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#R:183">R</a></span> <span class="id"><a href="monae.monad_transformer.html#M:184">M]</a></span>.<br/>
<br/>
<span id="monad_transformer_outputT__canonical__monad_transformer_MonadT" class="id"><span id="HB_unnamed_factory_84" class="id"><span id="hb_instance_83.R" class="id"><span id="hb_instance_83" class="id"><a name="monad_transformer_outputT__canonical__monad_transformer_MonadT" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="R:185" class="id"><a name="R:185" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#outputT">outputT</a></span> <span class="id"><a href="monae.monad_transformer.html#R:185">R</a></span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="M:186" class="id"><a name="M:186" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:186">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#R:185">R</a></span> <span class="id"><a href="monae.monad_transformer.html#M:186">M]</a></span> <span class="id">of</span> @<span class="id"><a href="monae.monad_transformer.html#liftO">liftO</a></span> <span class="id"><a href="monae.monad_transformer.html#R:185">R</a></span> <span class="id"><a href="monae.monad_transformer.html#M:186">M]</a></span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuation_monad_tranformer" class="id"><a name="continuation_monad_tranformer" class="">continuation_monad_tranformer</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">idtac</span>.<br/>
<span class="vernacular">Variables</span> (<span id="continuation_monad_tranformer.r" class="id"><a name="continuation_monad_tranformer.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="continuation_monad_tranformer.M" class="id"><a name="continuation_monad_tranformer.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="MC" class="id"><a name="MC" class="">MC</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:189" class="id"><a name="A:189" class="">A</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_transformer.html#A:189">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.r">r</a></span> %<span class="id">type</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="retC" class="id"><a name="retC" class="">retC</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:190" class="id"><a name="A:190" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="a:191" class="id"><a name="a:191" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:190">A</a></span>) <span id="k:192" class="id"><a name="k:192" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#k:192">k</a></span> <span class="id"><a href="monae.monad_transformer.html#a:191">a</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="bindC" class="id"><a name="bindC" class="">bindC</a></span> <span id="A:193" class="id"><a name="A:193" class="">A</a></span> <span id="B:194" class="id"><a name="B:194" class="">B</a></span> (<span id="m:195" class="id"><a name="m:195" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#A:193">A</a></span>) <span id="f:196" class="id"><a name="f:196" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#B:194">B</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="k:197" class="id"><a name="k:197" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:195">m</a></span> (<span class="id"><a href="monae.monad_transformer.html#f:196">f^~</a></span> <span class="id"><a href="monae.monad_transformer.html#k:197">k</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="continuation_monad_tranformer.bindCretf" class="id"><a name="continuation_monad_tranformer.bindCretf" class="">bindCretf</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindC">bindC</a></span> <span class="id"><a href="monae.monad_transformer.html#retC">retC</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="continuation_monad_tranformer.bindCmret" class="id"><a name="continuation_monad_tranformer.bindCmret" class="">bindCmret</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monae.monad_transformer.html#bindC">bindC</a></span> <span class="id"><a href="monae.monad_transformer.html#retC">retC</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="continuation_monad_tranformer.bindCA" class="id"><a name="continuation_monad_tranformer.bindCA" class="">bindCA</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monae.monad_transformer.html#bindC">bindC</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="monad_transformer_MC__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_92" class="id"><span id="monad_transformer_MC__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_91" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isFunctor__90" class="id"><span id="hierarchy_isMonad_ret_bind__to__hierarchy_isMonad__88" class="id"><span id="HB_unnamed_factory_86" class="id"><a name="monad_transformer_MC__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.bindCretf">bindCretf</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.bindCmret">bindCmret</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.bindCA">bindCA</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="MC_mapE" class="id"><a name="MC_mapE" class="">MC_mapE</a></span> (<span id="A:198" class="id"><a name="A:198" class="">A</a></span> <span id="B:199" class="id"><a name="B:199" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:200" class="id"><a name="f:200" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:198">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#B:199">B</a></span>) (<span id="m:201" class="id"><a name="m:201" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#A:198">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#f:200">f</a></span>) <span class="id"><a href="monae.monad_transformer.html#m:201">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="k:202" class="id"><a name="k:202" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#B:199">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.r">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:201">m</a></span> (<span class="id"><a href="monae.monad_transformer.html#k:202">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#f:200">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="liftC" class="id"><a name="liftC" class="">liftC</a></span> <span id="A:203" class="id"><a name="A:203" class="">A</a></span> (<span id="x:204" class="id"><a name="x:204" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:203">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#A:203">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="k:205" class="id"><a name="k:205" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#x:204">x</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#k:205">k</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="continuation_monad_tranformer.retliftC" class="id"><a name="continuation_monad_tranformer.retliftC" class="">retliftC</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> <span class="id"><a href="monae.monad_transformer.html#liftC">liftC</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">move</span> <span class="id">=&gt;</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">/liftC;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="continuation_monad_tranformer.bindliftC" class="id"><a name="continuation_monad_tranformer.bindliftC" class="">bindliftC</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> <span class="id"><a href="monae.monad_transformer.html#liftC">liftC</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="id">move</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/liftC;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">cont</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">3!bindA</span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_liftC__canonical__monad_transformer_MonadM" class="id"><span id="HB_unnamed_mixin_98" class="id"><span id="monad_transformer_liftC__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_mixin_97" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__hierarchy_isNatural__96" class="id"><span id="monad_transformer_isMonadM_ret_bind__to__monad_transformer_isMonadM__94" class="id"><span id="contTmonadM" class="id"><a name="monad_transformer_liftC__canonical__monad_transformer_MonadM" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">contTmonadM</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadM_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC]</a></span> <span class="id"><a href="monae.monad_transformer.html#liftC">liftC</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.retliftC">retliftC</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer.bindliftC">bindliftC</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_tranformer">continuation_monad_tranformer</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="contT" class="id"><a name="contT" class="">contT</a></span> (<span id="r:206" class="id"><a name="r:206" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="M:207" class="id"><a name="M:207" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#r:206">r</a></span> <span class="id"><a href="monae.monad_transformer.html#M:207">M]</a></span>.<br/>
<br/>
<span id="monad_transformer_contT__canonical__monad_transformer_MonadT" class="id"><span id="HB_unnamed_factory_100" class="id"><span id="hb_instance_99.r" class="id"><span id="hb_instance_99" class="id"><a name="monad_transformer_contT__canonical__monad_transformer_MonadT" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="r:208" class="id"><a name="r:208" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isMonadT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#contT">contT</a></span> <span class="id"><a href="monae.monad_transformer.html#r:208">r</a></span>)<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="M:209" class="id"><a name="M:209" class="">M</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:209">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#r:208">r</a></span> <span class="id"><a href="monae.monad_transformer.html#M:209">M]</a></span> <span class="id">of</span> @<span class="id"><a href="monae.monad_transformer.html#liftC">liftC</a></span> <span class="id"><a href="monae.monad_transformer.html#r:208">r</a></span> <span class="id"><a href="monae.monad_transformer.html#M:209">M]</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="abortT" class="id"><a name="abortT" class="">abortT</a></span> <span id="r:210" class="id"><a name="r:210" class="">r</a></span> <span id="X:211" class="id"><a name="X:211" class="">X</a></span> (<span id="M:212" class="id"><a name="M:212" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="A:213" class="id"><a name="A:213" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#contT">contT</a></span> <span class="id"><a href="monae.monad_transformer.html#r:210">r</a></span> <span class="id"><a href="monae.monad_transformer.html#M:212">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:213">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:213">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#M:212">M</a></span> <span class="id"><a href="monae.monad_transformer.html#r:210">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_transformer.html#X:211">X</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_transformer.html#abortT">abortT</a></span> <span class="id">{r}</span> <span class="id">_</span> <span class="id">{M}</span> <span class="id">{A}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="contMonad_of_contT" class="id"><a name="contMonad_of_contT" class="">contMonad_of_contT</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="contMonad_of_contT.r" class="id"><a name="contMonad_of_contT.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="contMonad_of_contT.M" class="id"><a name="contMonad_of_contT.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<span class="vernacular">Let</span> <span id="contMonad_of_contT.N" class="id"><a name="contMonad_of_contT.N" class="">N</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.r">r</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.M">M</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="contMonad_of_contT.Callcc" class="id"><a name="contMonad_of_contT.Callcc" class="">Callcc</a></span> (<span id="A:216" class="id"><a name="A:216" class="">A</a></span> <span id="B:217" class="id"><a name="B:217" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> ((<span class="id"><a href="monae.monad_transformer.html#A:216">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:217">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:216">A</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:216">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="k:218" class="id"><a name="k:218" class="">k</a></span> <span id="f:219" class="id"><a name="f:219" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#k:218">k</a></span> (<span class="gallina-kwd">fun</span> <span id="a:220" class="id"><a name="a:220" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#f:219">f</a></span> <span class="id"><a href="monae.monad_transformer.html#a:220">a</a></span>) <span class="id"><a href="monae.monad_transformer.html#f:219">f</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="contMonad_of_contT.Callcc0" class="id"><a name="contMonad_of_contT.Callcc0" class="">Callcc0</a></span> (<span id="A:221" class="id"><a name="A:221" class="">A</a></span> <span id="B:222" class="id"><a name="B:222" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="g:223" class="id"><a name="g:223" class="">g</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_transformer.html#A:221">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:222">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:221">A</a></span>) (<span id="k:224" class="id"><a name="k:224" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#B:222">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:222">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:225" class="id"><a name="f:225" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#g:223">g</a></span> (<span class="gallina-kwd">fun</span> <span id="x:226" class="id"><a name="x:226" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#f:225">f</a></span> <span class="id"><a href="monae.monad_transformer.html#x:226">x</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#k:224">k</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="monae.monad_transformer.html#g:223">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="contMonad_of_contT.Callcc1" class="id"><a name="contMonad_of_contT.Callcc1" class="">Callcc1</a></span> (<span id="A:227" class="id"><a name="A:227" class="">A</a></span> <span id="B:228" class="id"><a name="B:228" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:229" class="id"><a name="m:229" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:228">B</a></span>) <span class="id">:</span> @<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#B:228">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:227">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:229">m</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#m:229">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="contMonad_of_contT.Callcc2" class="id"><a name="contMonad_of_contT.Callcc2" class="">Callcc2</a></span> (<span id="A:230" class="id"><a name="A:230" class="">A</a></span> <span id="B:231" class="id"><a name="B:231" class="">B</a></span> <span id="C:232" class="id"><a name="C:232" class="">C</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:233" class="id"><a name="m:233" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:230">A</a></span>) <span id="x:234" class="id"><a name="x:234" class="">x</a></span> (<span id="k:235" class="id"><a name="k:235" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#A:230">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#B:231">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#C:232">C</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:236" class="id"><a name="f:236" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:233">m</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="a:237" class="id"><a name="a:237" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#f:236">f</a></span> <span class="id"><a href="monae.monad_transformer.html#x:234">x</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="b:238" class="id"><a name="b:238" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#k:235">k</a></span> <span class="id"><a href="monae.monad_transformer.html#a:237">a</a></span> <span class="id"><a href="monae.monad_transformer.html#b:238">b</a></span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:239" class="id"><a name="f:239" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:233">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#f:239">f</a></span> <span class="id"><a href="monae.monad_transformer.html#x:234">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="contMonad_of_contT.Callcc3" class="id"><a name="contMonad_of_contT.Callcc3" class="">Callcc3</a></span> (<span id="A:240" class="id"><a name="A:240" class="">A</a></span> <span id="B:241" class="id"><a name="B:241" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:242" class="id"><a name="m:242" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#A:240">A</a></span>) <span id="b:243" class="id"><a name="b:243" class="">b</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:244" class="id"><a name="f:244" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#B:241">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:241">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:242">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#f:244">f</a></span> <span class="id"><a href="monae.monad_transformer.html#b:243">b</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#B:241">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#B:241">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#m:242">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.monad_transformer.html#b:243">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="monad_transformer_MC__canonical__hierarchy_MonadContinuation" class="id"><span id="HB_unnamed_factory_102" class="id"><a name="monad_transformer_MC__canonical__hierarchy_MonadContinuation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#isMonadContinuation.Build">isMonadContinuation.Build</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#MC">MC</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.r">r</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.M">M</a></span>) <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc">Callcc</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc0">Callcc0</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc1">Callcc1</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc2">Callcc2</a></span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT.Callcc3">Callcc3</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#contMonad_of_contT">contMonad_of_contT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuation_monad_transformer_examples" class="id"><a name="continuation_monad_transformer_examples" class="">continuation_monad_transformer_examples</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="for_loop" class="id"><a name="for_loop" class="">for_loop</a></span> (<span id="M:245" class="id"><a name="M:245" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="it:246" class="id"><a name="it:246" class="">it</a></span> <span id="min:247" class="id"><a name="min:247" class="">min</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="body:248" class="id"><a name="body:248" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contT">contT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#M:245">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:245">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_transformer.html#it:246">it</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#min:247">min</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_transformer.html#it:246">it</a></span> <span class="id">is</span> <span class="id">it'</span>.<span class="id">+1</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#body:248">body</a></span> <span class="id">it'</span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#for_loop:249">for_loop</a></span> <span class="id">it'</span> <span class="id"><a href="monae.monad_transformer.html#min:247">min</a></span> <span class="id"><a href="monae.monad_transformer.html#body:248">body</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuation_monad_transformer_examples.for_loop_lemmas" class="id"><a name="continuation_monad_transformer_examples.for_loop_lemmas" class="">for_loop_lemmas</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="continuation_monad_transformer_examples.for_loop_lemmas.M" class="id"><a name="continuation_monad_transformer_examples.for_loop_lemmas.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>.<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> <span class="id">body</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>  <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#contT">contT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.for_loop_lemmas.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="loop0" class="id"><a name="loop0" class="">loop0</a></span> <span id="i:252" class="id"><a name="i:252" class="">i</a></span> <span id="body:253" class="id"><a name="body:253" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#for_loop">for_loop</a></span> <span class="id"><a href="monae.monad_transformer.html#i:252">i</a></span> <span class="id"><a href="monae.monad_transformer.html#i:252">i</a></span> <span class="id"><a href="monae.monad_transformer.html#body:253">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">i</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loop1" class="id"><a name="loop1" class="">loop1</a></span> <span id="i:254" class="id"><a name="i:254" class="">i</a></span> <span id="j:255" class="id"><a name="j:255" class="">j</a></span> <span id="body:256" class="id"><a name="body:256" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#for_loop">for_loop</a></span> (<span class="id"><a href="monae.monad_transformer.html#i:254">i</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#j:255">j</a></span>) <span class="id"><a href="monae.monad_transformer.html#i:254">i</a></span> <span class="id"><a href="monae.monad_transformer.html#body:256">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#body:256">body</a></span> (<span class="id"><a href="monae.monad_transformer.html#i:254">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#j:255">j</a></span>)) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#for_loop">for_loop</a></span> (<span class="id"><a href="monae.monad_transformer.html#i:254">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#j:255">j</a></span>) <span class="id"><a href="monae.monad_transformer.html#i:254">i</a></span> <span class="id"><a href="monae.monad_transformer.html#body:256">body</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnNge">ltnNge</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_addr">leq_addr</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="loop2" class="id"><a name="loop2" class="">loop2</a></span> <span id="i:257" class="id"><a name="i:257" class="">i</a></span> <span id="j:258" class="id"><a name="j:258" class="">j</a></span> <span id="body:259" class="id"><a name="body:259" class="">body</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#body:259">body</a></span> (<span class="id"><a href="monae.monad_transformer.html#i:257">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#j:258">j</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#abortT">abortT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#for_loop">for_loop</a></span> (<span class="id"><a href="monae.monad_transformer.html#i:257">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#j:258">j</a></span>).<span class="id">+1</span> <span class="id"><a href="monae.monad_transformer.html#i:257">i</a></span> <span class="id"><a href="monae.monad_transformer.html#body:259">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">move=&gt;</span> <span class="id">Hbody</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">Hcond</span>.<br/>
<span class="id">-</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">Hbody</span> <span class="id">/=</span> <span class="id">/abortT</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.for_loop_lemmas">for_loop_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="foreach" class="id"><a name="foreach" class="">foreach</a></span> (<span id="M:260" class="id"><a name="M:260" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="items:261" class="id"><a name="items:261" class="">items</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="body:262" class="id"><a name="body:262" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#contT">contT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.monad_transformer.html#M:260">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:260">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#foldr">foldr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:263" class="id"><a name="x:263" class="">x</a></span> <span id="next:264" class="id"><a name="next:264" class="">next</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_transformer.html#body:262">body</a></span> <span class="id"><a href="monae.monad_transformer.html#x:263">x</a></span>) (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#next:264">next</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#items:261">items</a></span>.<br/>
<br/>
<br/>
<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuation_monad_transformer_examples.sum" class="id"><a name="continuation_monad_transformer_examples.sum" class="">sum</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="continuation_monad_transformer_examples.sum.M" class="id"><a name="continuation_monad_transformer_examples.sum.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="continuation_monad_transformer_examples.sum.sum" class="id"><a name="continuation_monad_transformer_examples.sum.sum" class="">sum</a></span> <span id="n:266" class="id"><a name="n:266" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.sum.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#for_loop">for_loop</a></span> <span class="id"><a href="monae.monad_transformer.html#n:266">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="i:267" class="id"><a name="i:267" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#liftC">liftC</a></span> (<span class="id"><a href="monae.hierarchy.html#get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="z:268" class="id"><a name="z:268" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#put">put</a></span> (<span class="id"><a href="monae.monad_transformer.html#z:268">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#i:267">i</a></span>)))).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="sum_test" class="id"><a name="sum_test" class="">sum_test</a></span> <span id="n:269" class="id"><a name="n:269" class="">n</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.sum.sum">sum</a></span> <span class="id"><a href="monae.monad_transformer.html#n:269">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="m:270" class="id"><a name="m:270" class="">m</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#put">put</a></span> (<span class="id"><a href="monae.monad_transformer.html#m:270">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#sumn">sumn</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#iota">iota</a></span> <span class="id">0</span> <span class="id"><a href="monae.monad_transformer.html#n:269">n</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">[|n</span> <span class="id">ih]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/sum</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#loop0">loop0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#sumn">sumn</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#iota">iota</a></span> <span class="id">0</span> <span class="id">0</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">0</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[LHS]bindskipf</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-getputskip</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addn0">addn0</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[RHS]bindmret</span>.<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="id">rewrite</span> <span class="id">/sum</span> <span class="id">-add1n</span> <span class="id"><a href="monae.monad_transformer.html#loop1">loop1</a></span> <span class="id">/liftC</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">m</span>.<br/>
<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.sum.sum">sum</a></span> <span class="id">n</span>) <span class="id">{}ih</span> <span class="id">-bindA</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#putget">putget</a></span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id"><a href="monae.hierarchy.html#putput">putput</a></span>.<br/>
<span class="id">congr</span> <span class="id"><a href="monae.hierarchy.html#put">put</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addnC">addnC</a></span> <span class="id">1</span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#iotaD">iotaD</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#sumn_cat">sumn_cat</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#add0n">add0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addn0">addn0</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addnAC">addnAC</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#addnA">addnA</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Example</span> <span id="sum_from_0_to_10" class="id"><a name="sum_from_0_to_10" class="">sum_from_0_to_10</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.sum.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#foreach">foreach</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#iota">iota</a></span> <span class="id">100</span> <span class="id">0</span>) (<span class="gallina-kwd">fun</span> <span id="i:271" class="id"><a name="i:271" class="">i</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.monad_transformer.html#i:271">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&gt;'_x">&gt;</a></span> <span class="id">90</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#abortT">abortT</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#liftC">liftC</a></span> (<span class="id"><a href="monae.hierarchy.html#get">get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="z:272" class="id"><a name="z:272" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#put">put</a></span> (<span class="id"><a href="monae.monad_transformer.html#z:272">z</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.monad_transformer.html#i:271">i</a></span>)))).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples.sum">sum</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#continuation_monad_transformer_examples">continuation_monad_transformer_examples</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bindLfailf" class="id"><a name="bindLfailf" class="">bindLfailf</a></span> (<span id="M:273" class="id"><a name="M:273" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span>) <span id="S:274" class="id"><a name="S:274" class="">S</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#S:274">S</a></span> <span class="id"><a href="monae.monad_transformer.html#M:273">M</a></span>)) (<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">g</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/liftS;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
<span class="id">set</span> <span class="id">x</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.monad_transformer.html#X:275">X</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>) <span class="id">?bindfailf//</span> <span class="id">/x</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bindmLfail" class="id"><a name="bindmLfail" class="">bindmLfail</a></span> (<span id="M:276" class="id"><a name="M:276" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFailR0.Exports.failR0Monad">failR0Monad</a></span>) <span id="S:277" class="id"><a name="S:277" class="">S</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#BindLaws.right_zero">BindLaws.right_zero</a></span> (@<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#S:277">S</a></span> <span class="id"><a href="monae.monad_transformer.html#M:276">M</a></span>)) (<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4">^~</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">/liftS/=;</span> <span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
<span class="id">set</span> <span class="id">x</span> <span class="id">:=</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monae.monad_transformer.html#X:278">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">_</span>).<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c">fun=&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>) <span class="id">?bindmfail//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/boolp</span>.<span class="id">funext=&gt;</span> <span class="id">-[b</span> <span class="id">s'];</span> <span class="id">rewrite</span> <span class="id">/x/=</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Section</span> <span id="lifting" class="id"><a name="lifting" class="">lifting</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="lifting.E" class="id"><a name="lifting.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span>) (<span id="lifting.M" class="id"><a name="lifting.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="lifting.op" class="id"><a name="lifting.op" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#E:279">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#M:280">M</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="lifting.N" class="id"><a name="lifting.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="lifting.e" class="id"><a name="lifting.e" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:280">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:282">N</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="lifting" class="id"><a name="lifting" class="">lifting</a></span> (<span id="f:284" class="id"><a name="f:284" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#lifting.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#lifting.N">N</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#lifting.N">N</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="X:285" class="id"><a name="X:285" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0,</a></span> <span class="id"><a href="monae.monad_transformer.html#lifting.e">e</a></span> <span class="id"><a href="monae.monad_transformer.html#X:285">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#lifting.op">op</a></span> <span class="id"><a href="monae.monad_transformer.html#X:285">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#f:284">f</a></span> <span class="id"><a href="monae.monad_transformer.html#X:285">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.monad_transformer.html#lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#lifting.e">e</a></span> <span class="id"><a href="monae.monad_transformer.html#X:285">X</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#lifting">lifting</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="liftingt" class="id"><a name="liftingt" class="">liftingt</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="liftingt.E" class="id"><a name="liftingt.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span>) (<span id="liftingt.M" class="id"><a name="liftingt.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="liftingt.op" class="id"><a name="liftingt.op" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#E:286">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#M:287">M</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="liftingt.t" class="id"><a name="liftingt.t" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="lifting_monadT" class="id"><a name="lifting_monadT" class="">lifting_monadT</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#lifting">lifting</a></span> <span class="id"><a href="monae.monad_transformer.html#liftingt.op">op</a></span> (<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#liftingt.t">t</a></span> <span class="id"><a href="monae.monad_transformer.html#liftingt.M">M</a></span>).<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#liftingt">liftingt</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="proposition17" class="id"><a name="proposition17" class="">proposition17</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="proposition17.psi" class="id"><a name="proposition17.psi" class="">psi</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="proposition17.psi.E" class="id"><a name="proposition17.psi.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span>) (<span id="proposition17.psi.M" class="id"><a name="proposition17.psi.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="psi'" class="id"><a name="psi'" class="">psi'</a></span> (<span id="n:292" class="id"><a name="n:292" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="X:293" class="id"><a name="X:293" class="">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#n:292">n</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#X:293">X</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="natural_psi'" class="id"><a name="natural_psi'" class="">natural_psi'</a></span> (<span id="n:294" class="id"><a name="n:294" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M]</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#psi'">psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:294">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id">/psi'</span>.<br/>
<span class="id">rewrite</span> <span class="id">-/</span>(<span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">n</span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id">A</span>)) <span class="id">[LHS]compA</span> <span class="id"><a href="monae.hierarchy.html#natural">natural</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-compA</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id">n</span>).<br/>
Qed.</div>
<br/>
<span id="monad_transformer_psi'__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_105" class="id"><span id="proposition17.psi.hb_instance_104.n" class="id"><span id="proposition17.psi.hb_instance_104" class="id"><a name="monad_transformer_psi'__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="n:295" class="id"><a name="n:295" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M]</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#psi'">psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:295">n</a></span>) (<span class="id"><a href="monae.monad_transformer.html#natural_psi'">natural_psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:295">n</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_psi'" class="id"><a name="algebraic_psi'" class="">algebraic_psi'</a></span> (<span id="n:296" class="id"><a name="n:296" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_lib.html#algebraicity">algebraicity</a></span> (<span class="id"><a href="monae.monad_transformer.html#psi'">psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:296">n</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">g</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">g</span>)).<br/>
<span class="id">rewrite</span> <span class="id">{1}/psi'</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">g</span>) <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span>).<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="monae.monad_transformer.html#X:297">X]compE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id">n</span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> ((<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">g</span>))) (<span class="id">n</span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id">A</span>) <span class="id">t</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> (<span class="id">n</span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id">A</span>)) <span class="id">t</span>).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> ((<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span> ) <span class="id">t</span>)).<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">ma</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="monae.monad_transformer.html#X:298">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">_]compE</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id"><a href="monae.hierarchy.html#join">join</a></span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]FCompE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-[RHS]compE</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]compA</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinA">joinA</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_psi'__canonical__monad_lib_AOperation" class="id"><span id="HB_unnamed_factory_108" class="id"><span id="proposition17.psi.hb_instance_107.n" class="id"><span id="proposition17.psi.hb_instance_107" class="id"><a name="monad_transformer_psi'__canonical__monad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="n:299" class="id"><a name="n:299" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#psi'">psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:299">n</a></span>) (<span class="id"><a href="monae.monad_transformer.html#algebraic_psi'">algebraic_psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:299">n</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="psi" class="id"><a name="psi" class="">psi</a></span> (<span id="n:300" class="id"><a name="n:300" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#psi'">psi'</a></span> <span class="id"><a href="monae.monad_transformer.html#n:300">n]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="psiE" class="id"><a name="psiE" class="">psiE</a></span> (<span id="n:301" class="id"><a name="n:301" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span>) <span id="A:302" class="id"><a name="A:302" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#psi">psi</a></span> <span class="id"><a href="monae.monad_transformer.html#n:301">n</a></span> <span class="id"><a href="monae.monad_transformer.html#A:302">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#n:301">n</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.psi.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#A:302">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.psi">psi</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="proposition17.phi" class="id"><a name="proposition17.phi" class="">phi</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="proposition17.phi.E" class="id"><a name="proposition17.phi.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span>) (<span id="proposition17.phi.M" class="id"><a name="proposition17.phi.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="phi'" class="id"><a name="phi'" class="">phi'</a></span> (<span id="op:305" class="id"><a name="op:305" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="X:306" class="id"><a name="X:306" class="">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#op:305">op</a></span> <span class="id"><a href="monae.monad_transformer.html#X:306">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="natural_phi'" class="id"><a name="natural_phi'" class="">natural_phi'</a></span> (<span id="op:307" class="id"><a name="op:307" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#phi'">phi'</a></span> <span class="id"><a href="monae.monad_transformer.html#op:307">op</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">rewrite</span> <span class="id">/phi'</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compA">compA</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id">op</span>).<br/>
<span class="id">rewrite</span> <span class="id">-compA</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]compA</a></span>.<br/>
<span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>).<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-2!</span>(@<span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id"><a href="monae.hierarchy.html#ret">ret</a></span>) <span class="id"><a href="monae.hierarchy.html#FIdE">FIdE</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_phi'__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_111" class="id"><span id="proposition17.phi.hb_instance_110.op" class="id"><span id="proposition17.phi.hb_instance_110" class="id"><a name="monad_transformer_phi'__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="op:308" class="id"><a name="op:308" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span> (<span class="id"><a href="monae.monad_transformer.html#phi'">phi'</a></span> <span class="id"><a href="monae.monad_transformer.html#op:308">op</a></span>) (<span class="id"><a href="monae.monad_transformer.html#natural_phi'">natural_phi'</a></span> <span class="id"><a href="monae.monad_transformer.html#op:308">op</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="phi" class="id"><a name="phi" class="">phi</a></span> (<span id="op:309" class="id"><a name="op:309" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#phi'">phi'</a></span> <span class="id"><a href="monae.monad_transformer.html#op:309">op]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="phiE" class="id"><a name="phiE" class="">phiE</a></span> (<span id="op:310" class="id"><a name="op:310" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span>.<span class="id">-operation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi.M">M</a></span>) (<span id="X:311" class="id"><a name="X:311" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#phi">phi</a></span> <span class="id"><a href="monae.monad_transformer.html#op:310">op</a></span> <span class="id"><a href="monae.monad_transformer.html#X:311">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#op:310">op</a></span> <span class="id"><a href="monae.monad_transformer.html#X:311">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.phi.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.phi">phi</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="proposition17.bijection" class="id"><a name="proposition17.bijection" class="">bijection</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="proposition17.bijection.E" class="id"><a name="proposition17.bijection.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span>) (<span id="proposition17.bijection.M" class="id"><a name="proposition17.bijection.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="psiK" class="id"><a name="psiK" class="">psiK</a></span> (<span id="op:314" class="id"><a name="op:314" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.bijection.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#proposition17.bijection.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#phi">phi</a></span> (<span class="id"><a href="monae.monad_transformer.html#psi">psi</a></span> <span class="id"><a href="monae.monad_transformer.html#op:314">op</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#op:314">op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#phiE">phiE</a></span> <span class="id">/=</span> <span class="id"><a href="monae.monad_transformer.html#psiE">psiE;</a></span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">op</span> <span class="id">_</span>)) <span class="id">-</span>(<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id">op</span>) <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id"><a href="monae.hierarchy.html#joinMret">joinMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="phiK" class="id"><a name="phiK" class="">phiK</a></span> (<span id="op:315" class="id"><a name="op:315" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.bijection.E">E</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.bijection.M">M</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#psi">psi</a></span> (<span class="id"><a href="monae.monad_transformer.html#phi">phi</a></span> <span class="id"><a href="monae.monad_transformer.html#op:315">op</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#op:315">op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
<span class="id">apply/aoperation_ext</span> <span class="id">=&gt;</span> <span class="id">A</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#psiE">psiE</a></span> <span class="id"><a href="monae.monad_transformer.html#phiE">phiE;</a></span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">op</span> <span class="id">_</span>)) <span class="id"><a href="monae.hierarchy.html#joinE">joinE</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.monad_lib.html#algebraic">algebraic</a></span> <span class="id">op</span>).<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id"><a href="monae.monad_transformer.html#proposition17.bijection.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">_</span>)) <span class="id">-functor_o</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">op</span> <span class="id">_</span>)).<br/>
<span class="id">set</span> <span class="id">x</span> <span class="id">:=</span> <span class="id">_^~</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">mma</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/x</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id"><a href="monae.hierarchy.html#functor_id">functor_id</a></span> <span class="comment">(*TODO:&nbsp;lemma*)</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinretM">joinretM</a></span> <span class="id"><a href="monae.hierarchy.html#functor_id">functor_id</a></span> <span class="id"><a href="monae.monae_lib.html#compfid">compfid</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#proposition17.bijection">bijection</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#proposition17">proposition17</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="uniform_algebraic_lifting" class="id"><a name="uniform_algebraic_lifting" class="">uniform_algebraic_lifting</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="uniform_algebraic_lifting.E" class="id"><a name="uniform_algebraic_lifting.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span>) (<span id="uniform_algebraic_lifting.M" class="id"><a name="uniform_algebraic_lifting.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="uniform_algebraic_lifting.op" class="id"><a name="uniform_algebraic_lifting.op" class="">op</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#E:316">E</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="monae.monad_transformer.html#M:317">M</a></span>).<br/>
<span class="vernacular">Variables</span> (<span id="uniform_algebraic_lifting.N" class="id"><a name="uniform_algebraic_lifting.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="uniform_algebraic_lifting.e" class="id"><a name="uniform_algebraic_lifting.e" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:319">N</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="alifting" class="id"><a name="alifting" class="">alifting</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#psi">psi</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#phi">phi</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span>).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="aliftingE" class="id"><a name="aliftingE" class="">aliftingE</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#alifting">alifting</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="X:321" class="id"><a name="X:321" class="">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#X:321">X</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#phi">phi</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.N">N</a></span> <span class="id"><a href="monae.monad_transformer.html#X:321">X</a></span>)) <span class="id">:&gt;</span> (<span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alifting/=</span> <span class="id">/vcomp;</span> <span class="id">unlock</span>. Qed.</div>
<br/>
<span class="vernacular">Theorem</span> <span id="uniform_algebraic_lifting" class="id"><a name="uniform_algebraic_lifting" class="">uniform_algebraic_lifting</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#lifting">lifting</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id"><a href="monae.monad_transformer.html#alifting">alifting</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="id">move=&gt;</span> <span class="id">X</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">Y</span>.<br/>
<span class="id">rewrite</span> <span class="id">/alifting</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#psiE">psiE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#phiE">phiE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!compE</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>) ((<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id">X</span>) <span class="id">Y</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id">X</span>)) ((<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>) <span class="id">Y</span>))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]compE</a></span> <span class="id">-functor_o</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]compE</a></span> <span class="id">-functor_o</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id"><a href="monae.hierarchy.html#ret">ret</a></span>) <span class="id"><a href="monae.hierarchy.html#FIdE">FIdE</a></span>.<br/>
<span class="id">set</span> <span class="id">x</span> <span class="id">:=</span> (<span class="id">Z</span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.N">N</a></span> <span class="id">X</span>) <span class="id"><a href="monae.monad_transformer.html#Z:322">Z</a></span>)).<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id">X</span>) (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id">X</span>) ((<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>) <span class="id">Y</span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id">X</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span>).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id">X</span> (<span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id">X</span>) ((<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.E">E</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>) <span class="id">Y</span>))))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinE">joinE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#monadMbind">monadMbind</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE</a></span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.e">e</a></span> <span class="id">X</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-natural</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="monae.monad_transformer.html#phiK">phiK</a></span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting.op">op</a></span>).<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#uniform_algebraic_lifting">uniform_algebraic_lifting</a></span>.<br/>
<br/>
<span id="isFunctorial.Exports" class="id"><span id="isFunctorial.identity_builder" class="id"><span id="isFunctorial.phant_axioms" class="id"><span id="isFunctorial.phant_Build" class="id"><span id="isFunctorial.functorial_o" class="id"><span id="isFunctorial.functorial_id" class="id"><span id="isFunctorial.hmap" class="id"><span id="isFunctorial.axioms_" class="id"><span id="isFunctorial.isFunctorial.t" class="id"><span id="isFunctorial.isFunctorial" class="id"><span id="isFunctorial" class="id"><a name="isFunctorial.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isFunctorial</span> (<span id="t:323" class="id"><a name="t:323" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="hmap:326" class="id"><a name="hmap:326" class="">hmap</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span class="id">{M</span> <span id="N:325" class="id"><a name="N:325" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad},</a></span> (<span class="id"><a href="monae.monad_transformer.html#M:324">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:325">N</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.monad_transformer.html#t:323">t</a></span> <span class="id"><a href="monae.monad_transformer.html#M:324">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#t:323">t</a></span> <span class="id"><a href="monae.monad_transformer.html#N:325">N</a></span> <span class="id">;</span><br/>
&nbsp;&nbsp;<span id="functorial_id:328" class="id"><a name="functorial_id:328" class="">functorial_id</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="M:327" class="id"><a name="M:327" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad,</a></span> <span class="id"><a href="monae.monad_transformer.html#hmap:326">hmap</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="monae.monad_transformer.html#M:327">M</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> (<span class="id"><a href="monae.monad_transformer.html#t:323">t</a></span> <span class="id"><a href="monae.monad_transformer.html#M:327">M</a></span>) <span class="id">;</span><br/>
&nbsp;&nbsp;<span id="functorial_o:334" class="id"><a name="functorial_o:334" class="">functorial_o</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="M:329" class="id"><a name="M:329" class="">M</a></span> <span id="N:330" class="id"><a name="N:330" class="">N</a></span> <span id="P:331" class="id"><a name="P:331" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="t:332" class="id"><a name="t:332" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:329">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:330">N</a></span>) (<span id="s:333" class="id"><a name="s:333" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#N:330">N</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#P:331">P</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#hmap:326">hmap</a></span> (<span class="id"><a href="monae.monad_transformer.html#s:333">s</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#t:332">t</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#hmap:326">hmap</a></span> <span class="id"><a href="monae.monad_transformer.html#s:333">s</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#hmap:326">hmap</a></span> <span class="id"><a href="monae.monad_transformer.html#t:332">t</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations117" class="id"><span id="functorial_o" class="id"><span id="functorial_id" class="id"><span id="hmap" class="id"><span id="Functorial.EtaAndMixinExports.structures_eta__canonical__monad_transformer_Functorial" class="id"><span id="Functorial.EtaAndMixinExports.HB_unnamed_mixin_116" class="id"><span id="Functorial.EtaAndMixinExports.monad_transformer_Functorial__to__monad_transformer_isFunctorial" class="id"><span id="Functorial.EtaAndMixinExports.HB_unnamed_factory_114" class="id"><span id="Functorial.EtaAndMixinExports.hb_instance_113.t" class="id"><span id="Functorial.EtaAndMixinExports.hb_instance_113" class="id"><span id="Functorial.EtaAndMixinExports" class="id"><span id="Functorial.phant_on_" class="id"><span id="Functorial.Exports" class="id"><span id="Functorial.pack_" class="id"><span id="Functorial.phant_clone" class="id"><span id="Functorial.class" class="id"><span id="Functorial.sort" class="id"><span id="Functorial.type" class="id"><span id="Functorial.monad_transformer_isFunctorial_mixin" class="id"><span id="Functorial.axioms_" class="id"><span id="Functorial" class="id"><a name="ElpiOperations117" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=functorial</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">Functorial</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{t</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#isFunctorial">isFunctorial</a></span> <span class="id"><a href="monae.monad_transformer.html#t:336">t}</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.monad_transformer.html#hmap">hmap</a></span> <span class="id">_</span> <span class="id">{M</span> <span class="id">N}</span> <span class="id">_</span>.<br/>
<br/>
<span id="isFMT.Exports" class="id"><span id="isFMT.identity_builder" class="id"><span id="isFMT.phant_axioms" class="id"><span id="isFMT.phant_Build" class="id"><span id="isFMT.natural_hmap" class="id"><span id="isFMT.fmt_bind" class="id"><span id="isFMT.fmt_ret" class="id"><span id="isFMT.axioms_" class="id"><span id="isFMT.isFMT_t__canonical__monad_transformer_Functorial" class="id"><span id="isFMT.isFMT.local_mixin_monad_transformer_isFunctorial" class="id"><span id="isFMT.isFMT_t__canonical__monad_transformer_MonadT" class="id"><span id="isFMT.isFMT.local_mixin_monad_transformer_isMonadT" class="id"><span id="isFMT.isFMT.t" class="id"><span id="isFMT.isFMT" class="id"><span id="isFMT" class="id"><a name="isFMT.Exports" class="hierarchy-builder">HB.mixin</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="vernacular">Record</span> <span class="id">isFMT</span> (<span id="t:339" class="id"><a name="t:339" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MonadT">MonadT</a></span> <span class="id"><a href="monae.monad_transformer.html#t:339">t</a></span> &amp; <span class="id"><a href="monae.monad_transformer.html#Functorial">Functorial</a></span> <span class="id"><a href="monae.monad_transformer.html#t:339">t</a></span> <span class="id">:=</span> <span class="id">{</span><br/>
&nbsp;&nbsp;<span id="fmt_ret:343" class="id"><a name="fmt_ret:343" class="">fmt_ret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="M:340" class="id"><a name="M:340" class="">M</a></span> <span id="N:341" class="id"><a name="N:341" class="">N</a></span> (<span id="e:342" class="id"><a name="e:342" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:340">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:341">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmap">hmap</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#functorial">functorial</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#t:339">t]</a></span> <span class="id"><a href="monae.monad_transformer.html#e:342">e</a></span>) <span class="id">;</span><br/>
&nbsp;&nbsp;<span id="fmt_bind:347" class="id"><a name="fmt_bind:347" class="">fmt_bind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="M:344" class="id"><a name="M:344" class="">M</a></span> <span id="N:345" class="id"><a name="N:345" class="">N</a></span> (<span id="e:346" class="id"><a name="e:346" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#M:344">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:345">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmap">hmap</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#functorial">functorial</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#t:339">t]</a></span> <span class="id"><a href="monae.monad_transformer.html#e:346">e</a></span>) <span class="id">;</span><br/>
&nbsp;&nbsp;<span id="natural_hmap:351" class="id"><a name="natural_hmap:351" class="">natural_hmap</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="M:348" class="id"><a name="M:348" class="">M</a></span> <span id="N:349" class="id"><a name="N:349" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="n:350" class="id"><a name="n:350" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:348">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:349">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#hmap">hmap</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#functorial">functorial</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#t:339">t]</a></span> <span class="id"><a href="monae.monad_transformer.html#n:350">n</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#t:339">t]</a></span> <span class="id"><a href="monae.monad_transformer.html#M:348">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#t:339">t]</a></span> <span class="id"><a href="monae.monad_transformer.html#N:349">N</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#n:350">n</a></span> <span class="id">}</span>.<br/>
<br/>
<span id="ElpiOperations124" class="id"><span id="natural_hmap" class="id"><span id="fmt_bind" class="id"><span id="fmt_ret" class="id"><span id="FMT.EtaAndMixinExports.structures_eta__canonical__monad_transformer_FMT" class="id"><span id="FMT.EtaAndMixinExports.HB_unnamed_mixin_123" class="id"><span id="FMT.EtaAndMixinExports.monad_transformer_FMT__to__monad_transformer_isFMT" class="id"><span id="FMT.EtaAndMixinExports.monad_transformer_FMT__to__monad_transformer_isFunctorial" class="id"><span id="FMT.EtaAndMixinExports.monad_transformer_FMT__to__monad_transformer_isMonadT" class="id"><span id="FMT.EtaAndMixinExports.HB_unnamed_factory_119" class="id"><span id="FMT.EtaAndMixinExports.hb_instance_118.t" class="id"><span id="FMT.EtaAndMixinExports.hb_instance_118" class="id"><span id="FMT.EtaAndMixinExports" class="id"><span id="FMT.phant_on_" class="id"><span id="FMT.Exports.join_monad_transformer_FMT_between_monad_transformer_Functorial_and_monad_transformer_MonadT" class="id"><span id="FMT.Exports.monad_transformer_FMT__to__monad_transformer_MonadT" class="id"><span id="FMT.Exports.monad_transformer_FMT_class__to__monad_transformer_MonadT_class" class="id"><span id="FMT.Exports.monad_transformer_FMT__to__monad_transformer_Functorial" class="id"><span id="FMT.Exports.monad_transformer_FMT_class__to__monad_transformer_Functorial_class" class="id"><span id="FMT.Exports" class="id"><span id="FMT.pack_" class="id"><span id="FMT.phant_clone" class="id"><span id="FMT.class" class="id"><span id="FMT.sort" class="id"><span id="FMT.type" class="id"><span id="FMT.monad_transformer_isFMT_mixin" class="id"><span id="FMT.monad_transformer_isFunctorial_mixin" class="id"><span id="FMT.monad_transformer_isMonadT_mixin" class="id"><span id="FMT.axioms_" class="id"><span id="FMT" class="id"><a name="ElpiOperations124" class="">#[short</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="id">type=fmt</span>)<span class="id">]</span><br/>
<span class="id">HB.structure</span> <span class="vernacular">Definition</span> <span class="id">FMT</span> <span class="id">:=</span> <span class="id"><a href="NOTFOUND the module url for HB.structures#07a2fe97f630e8e0c2d8d753544c8c8c">{t</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#isFMT">isFMT</a></span> <span class="id"><a href="monae.monad_transformer.html#t:353">t</a></span> &amp; <span class="id"><a href="monae.monad_transformer.html#isFunctorial">isFunctorial</a></span> <span class="id"><a href="monae.monad_transformer.html#t:353">t</a></span> &amp; <span class="id"><a href="monae.monad_transformer.html#isMonadT">isMonadT</a></span> <span class="id"><a href="monae.monad_transformer.html#t:353">t}</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="fmt_lemmas" class="id"><a name="fmt_lemmas" class="">fmt_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="natural_hmapE" class="id"><a name="natural_hmapE" class="">natural_hmapE</a></span> (<span id="t:356" class="id"><a name="t:356" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#fmt">fmt</a></span>) (<span id="M:357" class="id"><a name="M:357" class="">M</a></span> <span id="N:358" class="id"><a name="N:358" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="n:359" class="id"><a name="n:359" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:357">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:358">N</a></span>) (<span id="X:360" class="id"><a name="X:360" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#hmap">hmap</a></span> <span class="id"><a href="monae.monad_transformer.html#t:356">t</a></span> <span class="id"><a href="monae.monad_transformer.html#n:359">n</a></span> <span class="id"><a href="monae.monad_transformer.html#X:360">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#t:356">t</a></span> <span class="id"><a href="monae.monad_transformer.html#M:357">M</a></span> <span class="id"><a href="monae.monad_transformer.html#X:360">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#t:356">t</a></span> <span class="id"><a href="monae.monad_transformer.html#N:358">N</a></span> <span class="id"><a href="monae.monad_transformer.html#X:360">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_transformer.html#n:359">n</a></span> <span class="id"><a href="monae.monad_transformer.html#X:360">X</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
<span class="id">have</span> <span class="id">/nattrans_ext/</span>(<span class="id">_</span> <span class="id">X</span>)<span class="id">/=</span> <span class="id">:=</span> @<span class="id"><a href="monae.monad_transformer.html#natural_hmap">natural_hmap</a></span> <span class="id">t</span> <span class="id">M</span> <span class="id">N</span> <span class="id">n</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!vcompE</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#fmt_lemmas">fmt_lemmas</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="exceptFMT" class="id"><a name="exceptFMT" class="">exceptFMT</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="exceptFMT.X" class="id"><a name="exceptFMT.X" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.T" class="id"><a name="exceptFMT.T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.X">X]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="hmapX'" class="id"><a name="hmapX'" class="">hmapX'</a></span> (<span id="F:362" class="id"><a name="F:362" class="">F</a></span> <span id="G:363" class="id"><a name="G:363" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:364" class="id"><a name="tau:364" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:362">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:363">G</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:362">F</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:363">G</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:365" class="id"><a name="A:365" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="t:366" class="id"><a name="t:366" class="">t</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#tau:364">tau</a></span> <span class="id">_</span> <span class="id"><a href="monae.monad_transformer.html#t:366">t</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.naturality_hmapX'" class="id"><a name="exceptFMT.naturality_hmapX'" class="">naturality_hmapX'</a></span> (<span id="F:367" class="id"><a name="F:367" class="">F</a></span> <span id="G:368" class="id"><a name="G:368" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:369" class="id"><a name="tau:369" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:367">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:368">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:367">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:368">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:369">tau</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/hmapX'</span> <span class="id">2!MX_mapE</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id">tau</span>).<br/>
Qed.</div>
<br/>
<span id="monad_transformer_hmapX'__canonical__hierarchy_Nattrans" class="id"><span id="hmapX" class="id"><span id="exceptFMT.hb_instance_125.tau" class="id"><span id="exceptFMT.hb_instance_125.G" class="id"><span id="exceptFMT.hb_instance_125.F" class="id"><span id="exceptFMT.hb_instance_125" class="id"><a name="monad_transformer_hmapX'__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">hmapX</span> (<span id="F:370" class="id"><a name="F:370" class="">F</a></span> <span id="G:371" class="id"><a name="G:371" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:372" class="id"><a name="tau:372" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:370">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:371">G</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:370">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:371">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:372">tau</a></span>) (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.naturality_hmapX'">naturality_hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:372">tau</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.hmapX_NId" class="id"><a name="exceptFMT.hmapX_NId" class="">hmapX_NId</a></span> (<span id="M:373" class="id"><a name="M:373" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="monae.monad_transformer.html#M:373">M</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:373">M</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="gallina-kwd">by</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.hmapX_v" class="id"><a name="exceptFMT.hmapX_v" class="">hmapX_v</a></span> (<span id="M:374" class="id"><a name="M:374" class="">M</a></span> <span id="N:375" class="id"><a name="N:375" class="">N</a></span> <span id="P:376" class="id"><a name="P:376" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="t:377" class="id"><a name="t:377" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:374">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:375">N</a></span>) (<span id="s:378" class="id"><a name="s:378" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#N:375">N</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#P:376">P</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> (<span class="id"><a href="monae.monad_transformer.html#s:378">s</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#t:377">t</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#s:378">s]</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#t:377">t]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="gallina-kwd">by</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE</a></span> <span class="id">/=</span> <span class="id">/hmapX'/=</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_exceptT__canonical__monad_transformer_Functorial" class="id"><span id="HB_unnamed_factory_127" class="id"><a name="monad_transformer_exceptT__canonical__monad_transformer_Functorial" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFunctorial.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.X">X</a></span>) <span class="id"><a href="monae.monad_transformer.html#exceptFMT.hmapX_NId">hmapX_NId</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.hmapX_v">hmapX_v</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.monadMret_hmapX" class="id"><a name="exceptFMT.monadMret_hmapX" class="">monadMret_hmapX</a></span> (<span id="F:379" class="id"><a name="F:379" class="">F</a></span> <span id="G:380" class="id"><a name="G:380" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:381" class="id"><a name="e:381" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:379">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:380">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#e:381">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">a</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/hmapX'</span> <span class="id">/retX</span> <span class="id">/=</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">e</span> <span class="id">_</span>)) <span class="id"><a href="monae.monad_transformer.html#monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.monadMbind_hmapX" class="id"><a name="exceptFMT.monadMbind_hmapX" class="">monadMbind_hmapX</a></span> (<span id="F:382" class="id"><a name="F:382" class="">F</a></span> <span id="G:383" class="id"><a name="G:383" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:384" class="id"><a name="e:384" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:382">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:383">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#e:384">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/hmapX'</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!MX_mapE</span> <span class="id">/bindX</span> <span class="id">/=</span> <span class="id">!bind_fmap</span>.<br/>
<span class="id">rewrite</span> <span class="id">!monadMbind</span> <span class="id">/=</span>.<br/>
<span class="id">congr</span> (<span class="id"><a href="monae.hierarchy.html#bind">bind</a></span> (<span class="id">e</span> (<span class="id"><a href="monae.monad_transformer.html#exceptFMT.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92">+</a></span> <span class="id">A</span>)%<span class="id">type</span> <span class="id">m</span>) <span class="id">_</span>).<br/>
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">-[x/=|//]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">e</span> <span class="id">_</span>)) <span class="id"><a href="monae.monad_transformer.html#monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="exceptFMT.hmapX_lift" class="id"><a name="exceptFMT.hmapX_lift" class="">hmapX_lift</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:388" class="id"><a name="h:388" class="">h</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="F:385" class="id"><a name="F:385" class="">F</a></span> <span id="G:386" class="id"><a name="G:386" class="">G</a></span> <span id="FG:387" class="id"><a name="FG:387" class="">FG</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapX'">hmapX'</a></span> <span class="id"><a href="monae.monad_transformer.html#FG:387">FG]</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="M:389" class="id"><a name="M:389" class="">M</a></span> <span id="N:390" class="id"><a name="N:390" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="n:391" class="id"><a name="n:391" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:389">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:390">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#h:388">h</a></span> <span class="id"><a href="monae.monad_transformer.html#M:389">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:390">N</a></span> <span class="id"><a href="monae.monad_transformer.html#n:391">n</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:389">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#N:390">N</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#n:391">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
<span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">M</span> <span class="id">N</span> <span class="id">t;</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A/=;</span> <span class="id">rewrite</span> <span class="id">!vcompE/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapX'</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/liftX</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/retX</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">ma</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:394" class="id"><span id="x:393" class="id"><span id="x:392" class="id"><a name="x:394" class="">x</a></span></span></span> <span class="id">:</span> <span class="id">A</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monae.monad_transformer.html#x:392">x</a></span>)) <span class="id">=</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span>) <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">-bind_fmap</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:397" class="id"><span id="x:396" class="id"><span id="x:395" class="id"><a name="x:397" class="">x</a></span></span></span> <span class="id">:</span> <span class="id">A</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monae.monad_transformer.html#x:395">x</a></span>)) <span class="id">=</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span>) <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">-bind_fmap</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">N</span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.hierarchy.html#natural">natural</a></span> <span class="id">t</span>).<br/>
Qed.</div>
<br/>
<span id="monad_transformer_exceptT__canonical__monad_transformer_FMT" class="id"><span id="HB_unnamed_factory_129" class="id"><a name="monad_transformer_exceptT__canonical__monad_transformer_FMT" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFMT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.X">X</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#exceptFMT.monadMret_hmapX">monadMret_hmapX</a></span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT.monadMbind_hmapX">monadMbind_hmapX</a></span>  <span class="id"><a href="monae.monad_transformer.html#exceptFMT.hmapX_lift">hmapX_lift</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#exceptFMT">exceptFMT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Fmt_stateT" class="id"><a name="Fmt_stateT" class="">Fmt_stateT</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Fmt_stateT.S" class="id"><a name="Fmt_stateT.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.T" class="id"><a name="Fmt_stateT.T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.S">S]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="hmapS" class="id"><a name="hmapS" class="">hmapS</a></span> (<span id="F:399" class="id"><a name="F:399" class="">F</a></span> <span id="G:400" class="id"><a name="G:400" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:401" class="id"><a name="tau:401" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:399">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:400">G</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:399">F</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:400">G</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:402" class="id"><a name="A:402" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="t:403" class="id"><a name="t:403" class="">t</a></span> <span id="s:404" class="id"><a name="s:404" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#tau:401">tau</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_transformer.html#t:403">t</a></span> <span class="id"><a href="monae.monad_transformer.html#s:404">s</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.naturality_hmapS" class="id"><a name="Fmt_stateT.naturality_hmapS" class="">naturality_hmapS</a></span> (<span id="F:405" class="id"><a name="F:405" class="">F</a></span> <span id="G:406" class="id"><a name="G:406" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:407" class="id"><a name="tau:407" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:405">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:406">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:405">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:406">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:407">tau</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapS</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">H</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="G:408" class="id"><a name="G:408" class="">G,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.S">S</a></span> <span class="id"><a href="monae.monad_transformer.html#G:408">G]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.S">S</a></span> <span class="id"><a href="monae.monad_transformer.html#G:408">G]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">h</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">!H</span> <span class="id">{H}</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!MS_mapE</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span>  <span class="id">_</span> (<span class="id">tau</span> (<span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.S">S</a></span>)%<span class="id">type</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#natural">natural</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_hmapS__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_132" class="id"><span id="Fmt_stateT.hb_instance_131.tau" class="id"><span id="Fmt_stateT.hb_instance_131.G" class="id"><span id="Fmt_stateT.hb_instance_131.F" class="id"><span id="Fmt_stateT.hb_instance_131" class="id"><a name="monad_transformer_hmapS__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="F:409" class="id"><a name="F:409" class="">F</a></span> <span id="G:410" class="id"><a name="G:410" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:411" class="id"><a name="tau:411" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:409">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:410">G</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:409">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:410">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:411">tau</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.naturality_hmapS">naturality_hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:411">tau</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.hmapS_NId" class="id"><a name="Fmt_stateT.hmapS_NId" class="">hmapS_NId</a></span> (<span id="M:412" class="id"><a name="M:412" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="monae.monad_transformer.html#M:412">M</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:412">M</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="id">exact/nattrans_ext</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.hmapS_v" class="id"><a name="Fmt_stateT.hmapS_v" class="">hmapS_v</a></span> (<span id="M:413" class="id"><a name="M:413" class="">M</a></span> <span id="N:414" class="id"><a name="N:414" class="">N</a></span> <span id="P:415" class="id"><a name="P:415" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="t:416" class="id"><a name="t:416" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:413">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:414">N</a></span>) (<span id="s:417" class="id"><a name="s:417" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#N:414">N</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#P:415">P</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> (<span class="id"><a href="monae.monad_transformer.html#s:417">s</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#t:416">t</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#s:417">s]</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#t:416">t]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="gallina-kwd">by</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE/=</a></span> <span class="id">/hmapS/=</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_stateT__canonical__monad_transformer_Functorial" class="id"><span id="HB_unnamed_factory_134" class="id"><a name="monad_transformer_stateT__canonical__monad_transformer_Functorial" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFunctorial.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.S">S</a></span>) <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.hmapS_NId">hmapS_NId</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.hmapS_v">hmapS_v</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.monadMret_hmapS" class="id"><a name="Fmt_stateT.monadMret_hmapS" class="">monadMret_hmapS</a></span> (<span id="F:418" class="id"><a name="F:418" class="">F</a></span> <span id="G:419" class="id"><a name="G:419" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:420" class="id"><a name="e:420" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:418">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:419">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#e:420">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">a</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapS</span> <span class="id">/=</span> <span class="id">/retS</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]curryE</a></span> <span class="id"><a href="monae.monad_transformer.html#monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.monadMbind_hmapS" class="id"><a name="Fmt_stateT.monadMbind_hmapS" class="">monadMbind_hmapS</a></span> (<span id="F:421" class="id"><a name="F:421" class="">F</a></span> <span id="G:422" class="id"><a name="G:422" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:423" class="id"><a name="e:423" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:421">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:422">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#e:423">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapS</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">2!bindE</span> <span class="id">/=</span> <span class="id">!MS_mapE</span> <span class="id">/bindS</span> <span class="id">/=</span> <span class="id">2!bind_fmap</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#monadMbind">monadMbind</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_stateT.hmapS_lift" class="id"><a name="Fmt_stateT.hmapS_lift" class="">hmapS_lift</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:427" class="id"><a name="h:427" class="">h</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="F:424" class="id"><a name="F:424" class="">F</a></span> <span id="G:425" class="id"><a name="G:425" class="">G</a></span> <span id="FG:426" class="id"><a name="FG:426" class="">FG</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapS">hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#FG:426">FG]</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="M:428" class="id"><a name="M:428" class="">M</a></span> <span id="N:429" class="id"><a name="N:429" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="n:430" class="id"><a name="n:430" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:428">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:429">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#h:427">h</a></span> <span class="id"><a href="monae.monad_transformer.html#M:428">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:429">N</a></span> <span class="id"><a href="monae.monad_transformer.html#n:430">n</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:428">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#N:429">N</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#n:430">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">M</span> <span class="id">N</span> <span class="id">t;</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!vcompE/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapS</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/liftS</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">ma</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]bindE</a></span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]fmapE</a></span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">2!</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> (<span class="gallina-kwd">fun</span> <span id="x:439" class="id"><span id="x:437" class="id"><span id="x:435" class="id"><span id="x:433" class="id"><span id="x:431" class="id"><a name="x:439" class="">x</a></span></span></span></span></span> <span class="id">:</span> <span class="id">A</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#x:431">x,</a></span> <span class="id">s</span>)) <span class="id">=</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="gallina-kwd">fun</span> <span id="x:440" class="id"><span id="x:438" class="id"><span id="x:436" class="id"><span id="x:434" class="id"><span id="x:432" class="id"><a name="x:440" class="">x</a></span></span></span></span></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.monad_transformer.html#x:432">x,</a></span> <span class="id">s</span>))) <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> (<span class="id">M</span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinMret">joinMret</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compidf">compidf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compA">compA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinMret">joinMret</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compidf">compidf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> (<span class="id">t</span> <span class="id">A</span>)).<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id">t</span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id">-natural</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE</a></span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]fmapE</a></span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> (<span class="id">N</span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">_</span>)).<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinMret">joinMret</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compidf">compidf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compA">compA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinMret">joinMret</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compidf">compidf</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> (<span class="id">t</span> <span class="id">A</span>)).<br/>
Qed.</div>
<br/>
<span id="monad_transformer_stateT__canonical__monad_transformer_FMT" class="id"><span id="HB_unnamed_factory_136" class="id"><a name="monad_transformer_stateT__canonical__monad_transformer_FMT" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFMT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.S">S</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.monadMret_hmapS">monadMret_hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.monadMbind_hmapS">monadMbind_hmapS</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT.hmapS_lift">hmapS_lift</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#Fmt_stateT">Fmt_stateT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Fmt_envT" class="id"><a name="Fmt_envT" class="">Fmt_envT</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Fmt_envT.E" class="id"><a name="Fmt_envT.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.T" class="id"><a name="Fmt_envT.T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#envT">envT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.E">E]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="hmapEnv" class="id"><a name="hmapEnv" class="">hmapEnv</a></span> (<span id="F:442" class="id"><a name="F:442" class="">F</a></span> <span id="G:443" class="id"><a name="G:443" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:444" class="id"><a name="tau:444" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:442">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:443">G</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:442">F</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:443">G</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:445" class="id"><a name="A:445" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="t:446" class="id"><a name="t:446" class="">t</a></span> <span id="s:447" class="id"><a name="s:447" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#tau:444">tau</a></span> <span class="id">_</span> (<span class="id"><a href="monae.monad_transformer.html#t:446">t</a></span> <span class="id"><a href="monae.monad_transformer.html#s:447">s</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.naturality_hmapEnv" class="id"><a name="Fmt_envT.naturality_hmapEnv" class="">naturality_hmapEnv</a></span> (<span id="F:448" class="id"><a name="F:448" class="">F</a></span> <span id="G:449" class="id"><a name="G:449" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:450" class="id"><a name="tau:450" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:448">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:449">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:448">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:449">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:450">tau</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapEnv</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">H</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="G:451" class="id"><a name="G:451" class="">G,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#envT">envT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.E">E</a></span> <span class="id"><a href="monae.monad_transformer.html#G:451">G]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MEnv">MEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.E">E</a></span> <span class="id"><a href="monae.monad_transformer.html#G:451">G]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">h</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">!H</span> <span class="id">{H}</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!MEnv_mapE</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span>  <span class="id">_</span> (<span class="id">tau</span> <span class="id">A</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#natural">natural</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_hmapEnv__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_139" class="id"><span id="Fmt_envT.hb_instance_138.tau" class="id"><span id="Fmt_envT.hb_instance_138.G" class="id"><span id="Fmt_envT.hb_instance_138.F" class="id"><span id="Fmt_envT.hb_instance_138" class="id"><a name="monad_transformer_hmapEnv__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="F:452" class="id"><a name="F:452" class="">F</a></span> <span id="G:453" class="id"><a name="G:453" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:454" class="id"><a name="tau:454" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:452">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:453">G</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:452">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:453">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:454">tau</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.naturality_hmapEnv">naturality_hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:454">tau</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.hmapEnv_NId" class="id"><a name="Fmt_envT.hmapEnv_NId" class="">hmapEnv_NId</a></span> (<span id="M:455" class="id"><a name="M:455" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="monae.monad_transformer.html#M:455">M</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:455">M</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="id">exact/nattrans_ext</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.hmapEnv_v" class="id"><a name="Fmt_envT.hmapEnv_v" class="">hmapEnv_v</a></span> (<span id="M:456" class="id"><a name="M:456" class="">M</a></span> <span id="N:457" class="id"><a name="N:457" class="">N</a></span> <span id="P:458" class="id"><a name="P:458" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="t:459" class="id"><a name="t:459" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:456">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:457">N</a></span>) (<span id="s:460" class="id"><a name="s:460" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#N:457">N</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#P:458">P</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> (<span class="id"><a href="monae.monad_transformer.html#s:460">s</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#t:459">t</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#s:460">s]</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#t:459">t]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
 <span class="gallina-kwd">by</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE/=</a></span> <span class="id">/hmapEnv</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE</a></span>. Qed.</div>
<br/>
<span id="monad_transformer_envT__canonical__monad_transformer_Functorial" class="id"><span id="HB_unnamed_factory_141" class="id"><a name="monad_transformer_envT__canonical__monad_transformer_Functorial" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFunctorial.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#envT">envT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.E">E</a></span>) <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.hmapEnv_NId">hmapEnv_NId</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.hmapEnv_v">hmapEnv_v</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.monadMret_hmapEnv" class="id"><a name="Fmt_envT.monadMret_hmapEnv" class="">monadMret_hmapEnv</a></span> (<span id="F:461" class="id"><a name="F:461" class="">F</a></span> <span id="G:462" class="id"><a name="G:462" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:463" class="id"><a name="e:463" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:461">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:462">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#e:463">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">a</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapEnv</span> <span class="id">/=</span> <span class="id">/retEnv</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[LHS]</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>) <span class="id"><a href="monae.monad_transformer.html#monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.monadMbind_hmapEnv" class="id"><a name="Fmt_envT.monadMbind_hmapEnv" class="">monadMbind_hmapEnv</a></span> (<span id="F:464" class="id"><a name="F:464" class="">F</a></span> <span id="G:465" class="id"><a name="G:465" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:466" class="id"><a name="e:466" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:464">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:465">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#e:466">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapEnv</span> <span class="id">/=;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">2!bindE</span> <span class="id">/=</span> <span class="id">!MEnv_mapE</span> <span class="id">/bindEnv</span> <span class="id">/=</span> <span class="id">2!bind_fmap</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#monadMbind">monadMbind</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_envT.hmapEnv_lift" class="id"><a name="Fmt_envT.hmapEnv_lift" class="">hmapEnv_lift</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:470" class="id"><a name="h:470" class="">h</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="F:467" class="id"><a name="F:467" class="">F</a></span> <span id="G:468" class="id"><a name="G:468" class="">G</a></span> <span id="FG:469" class="id"><a name="FG:469" class="">FG</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapEnv">hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#FG:469">FG]</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="M:471" class="id"><a name="M:471" class="">M</a></span> <span id="N:472" class="id"><a name="N:472" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="n:473" class="id"><a name="n:473" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:471">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:472">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#h:470">h</a></span> <span class="id"><a href="monae.monad_transformer.html#M:471">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:472">N</a></span> <span class="id"><a href="monae.monad_transformer.html#n:473">n</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:471">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#N:472">N</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#n:473">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">M</span> <span class="id">N</span> <span class="id">t;</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!vcompE/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/hmapEnv/=</span> <span class="id">/liftEnv/=;</span> <span class="id">exact:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_envT__canonical__monad_transformer_FMT" class="id"><span id="HB_unnamed_factory_143" class="id"><a name="monad_transformer_envT__canonical__monad_transformer_FMT" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFMT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#envT">envT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.E">E</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#Fmt_envT.monadMret_hmapEnv">monadMret_hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.monadMbind_hmapEnv">monadMbind_hmapEnv</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT.hmapEnv_lift">hmapEnv_lift</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#Fmt_envT">Fmt_envT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Fmt_outputT" class="id"><a name="Fmt_outputT" class="">Fmt_outputT</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Fmt_outputT.R" class="id"><a name="Fmt_outputT.R" class="">R</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.T" class="id"><a name="Fmt_outputT.T" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.monad_transformer.html#monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#outputT">outputT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.R">R]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="hmapO" class="id"><a name="hmapO" class="">hmapO</a></span> (<span id="F:475" class="id"><a name="F:475" class="">F</a></span> <span id="G:476" class="id"><a name="G:476" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:477" class="id"><a name="tau:477" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:475">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:476">G</a></span>) <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:475">F</a></span> <span class="id"><a href="monae.hierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:476">G</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:478" class="id"><a name="A:478" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monae.monad_transformer.html#tau:477">tau</a></span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.naturality_hmapO" class="id"><a name="Fmt_outputT.naturality_hmapO" class="">naturality_hmapO</a></span> (<span id="F:479" class="id"><a name="F:479" class="">F</a></span> <span id="G:480" class="id"><a name="G:480" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:481" class="id"><a name="tau:481" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:479">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:480">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#naturality">naturality</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:479">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:480">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:481">tau</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapO</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">H</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="G:482" class="id"><a name="G:482" class="">G,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#outputT">outputT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.R">R</a></span> <span class="id"><a href="monae.monad_transformer.html#G:482">G]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#MO">MO</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.R">R</a></span> <span class="id"><a href="monae.monad_transformer.html#G:482">G]</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id">h</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">!H</span> <span class="id">{H}</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">m</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!MO_mapE</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span>  <span class="id">_</span> (<span class="id">tau</span> <span class="id">_</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#natural">natural</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_hmapO__canonical__hierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_146" class="id"><span id="Fmt_outputT.hb_instance_145.tau" class="id"><span id="Fmt_outputT.hb_instance_145.G" class="id"><span id="Fmt_outputT.hb_instance_145.F" class="id"><span id="Fmt_outputT.hb_instance_145" class="id"><a name="monad_transformer_hmapO__canonical__hierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> (<span id="F:483" class="id"><a name="F:483" class="">F</a></span> <span id="G:484" class="id"><a name="G:484" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="tau:485" class="id"><a name="tau:485" class="">tau</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#F:483">F</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#G:484">G</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isNatural.Build">isNatural.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#F:483">F</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#G:484">G</a></span>) (<span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:485">tau</a></span>) (<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.naturality_hmapO">naturality_hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#tau:485">tau</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.hmapO_NId" class="id"><a name="Fmt_outputT.hmapO_NId" class="">hmapO_NId</a></span> (<span id="M:486" class="id"><a name="M:486" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> (<span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> <span class="id"><a href="monae.monad_transformer.html#M:486">M</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_lib.html#NId">NId</a></span> (<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:486">M</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="id">exact/nattrans_ext</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.hmapO_v" class="id"><a name="Fmt_outputT.hmapO_v" class="">hmapO_v</a></span> (<span id="M:487" class="id"><a name="M:487" class="">M</a></span> <span id="N:488" class="id"><a name="N:488" class="">N</a></span> <span id="P:489" class="id"><a name="P:489" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="t:490" class="id"><a name="t:490" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:487">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:488">N</a></span>) (<span id="s:491" class="id"><a name="s:491" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#N:488">N</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#P:489">P</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> (<span class="id"><a href="monae.monad_transformer.html#s:491">s</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#t:490">t</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#s:491">s]</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#t:490">t]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="gallina-kwd">by</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE/=</a></span> <span class="id">/hmapO/=</span> <span class="id"><a href="monae.monad_lib.html#vcompE">vcompE</a></span>. Qed.</div>
<br/>
<span id="monad_transformer_outputT__canonical__monad_transformer_Functorial" class="id"><span id="HB_unnamed_factory_148" class="id"><a name="monad_transformer_outputT__canonical__monad_transformer_Functorial" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFunctorial.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#outputT">outputT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.R">R</a></span>) <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.hmapO_NId">hmapO_NId</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.hmapO_v">hmapO_v</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.monadMret_hmapO" class="id"><a name="Fmt_outputT.monadMret_hmapO" class="">monadMret_hmapO</a></span> (<span id="F:492" class="id"><a name="F:492" class="">F</a></span> <span id="G:493" class="id"><a name="G:493" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:494" class="id"><a name="e:494" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:492">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:493">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#ret">MonadMLaws.ret</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#e:494">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">a;</span> <span class="id">rewrite</span> <span class="id">/hmapO</span> <span class="id">/=</span> <span class="id">/retO</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[LHS]</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span>) <span class="id"><a href="monae.monad_transformer.html#monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.monadMbind_hmapO" class="id"><a name="Fmt_outputT.monadMbind_hmapO" class="">monadMbind_hmapO</a></span> (<span id="F:495" class="id"><a name="F:495" class="">F</a></span> <span id="G:496" class="id"><a name="G:496" class="">G</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="e:497" class="id"><a name="e:497" class="">e</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#monadM">monadM</a></span> <span class="id"><a href="monae.monad_transformer.html#F:495">F</a></span> <span class="id"><a href="monae.monad_transformer.html#G:496">G</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#bind">MonadMLaws.bind</a></span> (<span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#e:497">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapO</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!bindE</span> <span class="id">/=</span> <span class="id">!MO_mapE</span> <span class="id">/bindO</span> <span class="id">/=</span> <span class="id">2!bind_fmap</span>.<br/>
<span class="id">rewrite</span> <span class="id">!monadMbind</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[x</span> <span class="id">w]</span>.<br/>
<span class="id">rewrite</span> <span class="id">/retO</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#monadMbind">monadMbind</a></span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">-[h</span> <span class="id">t]</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-[LHS]</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">h,</span> <span class="id">_</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#monadMret">monadMret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="Fmt_outputT.hmapO_lift" class="id"><a name="Fmt_outputT.hmapO_lift" class="">hmapO_lift</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:501" class="id"><a name="h:501" class="">h</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="F:498" class="id"><a name="F:498" class="">F</a></span> <span id="G:499" class="id"><a name="G:499" class="">G</a></span> <span id="FG:500" class="id"><a name="FG:500" class="">FG</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monae.monad_transformer.html#hmapO">hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#FG:500">FG]</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">forall</span> (<span id="M:502" class="id"><a name="M:502" class="">M</a></span> <span id="N:503" class="id"><a name="N:503" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="n:504" class="id"><a name="n:504" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="monae.monad_transformer.html#M:502">M</a></span> <span class="id"><a href="monae.hierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id"><a href="monae.monad_transformer.html#N:503">N</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#h:501">h</a></span> <span class="id"><a href="monae.monad_transformer.html#M:502">M</a></span> <span class="id"><a href="monae.monad_transformer.html#N:503">N</a></span> <span class="id"><a href="monae.monad_transformer.html#n:504">n</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#M:502">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.T">T</a></span> <span class="id"><a href="monae.monad_transformer.html#N:503">N</a></span> <span class="id"><a href="monae.monad_lib.html#7b1b0846c6d64b63297726a6b9b2433f">\v</a></span> <span class="id"><a href="monae.monad_transformer.html#n:504">n</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
<span class="id">move=&gt;</span> <span class="id">h</span> <span class="id">M</span> <span class="id">N</span> <span class="id">t;</span> <span class="id">apply/nattrans_ext</span> <span class="id">=&gt;</span> <span class="id">A</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!vcompE/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/hmapO</span> <span class="id">/=</span> <span class="id">/liftO</span> <span class="id">/=</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funext">boolp.funext</a></span> <span class="id">=&gt;</span> <span class="id">ma</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">-!fmapE</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> <span class="id">_</span> (<span class="id">t</span> <span class="id">A</span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#natural">natural</a></span>.<br/>
Qed.</div>
<br/>
<span id="monad_transformer_outputT__canonical__monad_transformer_FMT" class="id"><span id="HB_unnamed_factory_150" class="id"><a name="monad_transformer_outputT__canonical__monad_transformer_FMT" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#Build">isFMT.Build</a></span> (<span class="id"><a href="monae.monad_transformer.html#outputT">outputT</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.R">R</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.monadMret_hmapO">monadMret_hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.monadMbind_hmapO">monadMbind_hmapO</a></span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT.hmapO_lift">hmapO_lift</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.monad_transformer.html#Fmt_outputT">Fmt_outputT</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
