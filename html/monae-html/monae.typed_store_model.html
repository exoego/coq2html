
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monae.typed_store_model</title>
<meta name="description" content="Documentation of Coq module monae.typed_store_model" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module monae.typed_store_model</h1>
<div class="coq">
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html">JMeq</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.finmap.finmap">finmap</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp">boolp</a></span>.<br/>
<span class="id">#[local]</span> <span class="id">Remove</span> <span class="id">Hints</span> <span class="id">boolp.Prop_irrelevance</span> <span class="id">:</span> <span class="id">core</span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monae_lib.html">monae_lib</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.hierarchy.html">hierarchy</a></span> <span class="id"><a href="monae.monad_lib.html">monad_lib</a></span> <span class="id"><a href="monae.fail_lib.html">fail_lib</a></span> <span class="id"><a href="monae.state_lib.html">state_lib</a></span> <span class="id"><a href="monae.trace_lib.html">trace_lib</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monad_transformer.html">monad_transformer</a></span> <span class="id"><a href="monae.monad_model.html">monad_model</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                       Model for typed store                               
                                                                           
Separate file as it requires disabling various sanity checks.              
Reuses coerce and locT_nat from monad_model.v.                             
Similarities with ModelTypedStore from monad_model.v                       
                                                                           
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelTypedStore" class="id">
  <a name="ModelTypedStore" class="">ModelTypedStore</a>
</span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelTypedStore.MLU" class="id">
  <a name="ModelTypedStore.MLU" class="">MLU</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#ML_UNIVERSE.Exports.ML_universe">ML_universe</a></span>.<br/>
<br/>
<span class="vernacular">Record</span> <span id="binding" class="id">
  <a name="binding" class="">binding</a>
</span> (<span id="M:2" class="id">
  <a name="M:2" class="">M</a>
</span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="gallina-kwd">Type</span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">mkbind</span> <span class="id">{</span> <span id="bind_type" class="id">
  <a name="bind_type" class="">bind_type</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore.MLU">MLU;</a></span> <span id="bind_val" class="id">
  <a name="bind_val" class="">bind_val</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#M:2">M</a></span> <span class="id"><a href="monae.typed_store_model.html#bind_type:4">bind_type</a></span> <span class="id">}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id">{M</span> <span class="id">bind_type}</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="M0" class="id">
  <a name="M0" class="">M0</a>
</span> <span id="Env:6" class="id">
  <a name="Env:6" class="">Env</a>
</span> (<span id="T:7" class="id">
  <a name="T:7" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.typed_store_model.html#Env:6">Env</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span> <span class="id"><a href="monae.typed_store_model.html#T:7">T</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore">ModelTypedStore</a></span>.<br/>
<br/>
<span class="id">#[bypass_check</span>(<span class="id">positivity</span>)<span class="id">]</span><br/>
<span class="vernacular">Inductive</span> <span id="Env" class="id">
  <a name="Env" class="">Env</a>
</span> (<span id="MLU:8" class="id">
  <a name="MLU:8" class="">MLU</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#ML_UNIVERSE.Exports.ML_universe">ML_universe</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span id="mkEnv" class="id">
  <a name="mkEnv" class="">mkEnv</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="monae.typed_store_model.html#binding">binding</a></span> <span class="id"><a href="monae.typed_store_model.html#MLU:8">MLU</a></span> (<span class="id"><a href="monae.typed_store_model.html#M0">M0</a></span> (<span class="id"><a href="monae.typed_store_model.html#Env:9">Env</a></span> <span class="id">_</span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#Env:9">Env</a></span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelTypedStore_contd" class="id">
  <a name="ModelTypedStore_contd" class="">ModelTypedStore_contd</a>
</span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelTypedStore_contd.MLU" class="id">
  <a name="ModelTypedStore_contd.MLU" class="">MLU</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#ML_UNIVERSE.Exports.ML_universe">ML_universe</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ofEnv" class="id">
  <a name="ofEnv" class="">ofEnv</a>
</span> (<span id="e:12" class="id">
  <a name="e:12" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span>) <span class="id">:=</span> <span class="id">let:</span> <span class="id"><a href="monae.typed_store_model.html#mkEnv">mkEnv</a></span> <span class="id">e</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#e:12">e</a></span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.typed_store_model.html#e:12">e</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sizeEnv" class="id">
  <a name="sizeEnv" class="">sizeEnv</a>
</span> <span id="e:14" class="id">
  <a name="e:14" class="">e</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:14">e</a></span>).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="mkEnv" class="id">
  <a name="mkEnv" class="">mkEnv</a>
</span> <span class="id">:=</span> (<span class="id">@mkEnv</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span>).<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="Env" class="id">
  <a name="Env" class="">Env</a>
</span> <span class="id">:=</span> (<span class="id">@Env</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="acto" class="id">
  <a name="acto" class="">acto</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_transformer.html#MS">MS</a></span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id">
  <a name="M" class="">M</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#acto">acto</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="coq_type" class="id">
  <a name="coq_type" class="">coq_type</a>
</span> <span class="id">:=</span> (<span class="id">@coq_type</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span>).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="val_nonundef" class="id">
  <a name="val_nonundef" class="">val_nonundef</a>
</span> <span class="id">:=</span> (<span class="id"><a href="monae.hierarchy.html#val_nonempty">val_nonempty</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="def" class="id">
  <a name="def" class="">def</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> (<span class="id">@val_nonempty</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span>).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="ml_type" class="id">
  <a name="ml_type" class="">ml_type</a>
</span> <span class="id">:=</span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.MLU">MLU</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_'Type'">:</a></span> <span class="gallina-kwd">Type</span>).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="nth_error" class="id">
  <a name="nth_error" class="">nth_error</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#nth_error">List.nth_error</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="extend_env" class="id">
  <a name="extend_env" class="">extend_env</a>
</span> <span id="T:15" class="id">
  <a name="T:15" class="">T</a>
</span> (<span id="v:16" class="id">
  <a name="v:16" class="">v</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:15">T</a></span>) (<span id="e:17" class="id">
  <a name="e:17" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#mkEnv">mkEnv</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:17">e</a></span>) (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#v:16">v</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="fresh_loc" class="id">
  <a name="fresh_loc" class="">fresh_loc</a>
</span> (<span id="T:18" class="id">
  <a name="T:18" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ml_type">ml_type</a></span>) (<span id="e:19" class="id">
  <a name="e:19" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#mkloc">mkloc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:18">T</a></span> (<span class="id"><a href="monae.typed_store_model.html#sizeEnv">sizeEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:19">e</a></span>).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Notation</span> <span id="loc" class="id">
  <a name="loc" class="">loc</a>
</span> <span class="id">:=</span> (<span class="id">@loc</span> <span class="id"><a href="monae.typed_store_model.html#ml_type">ml_type</a></span> <span class="id"><a href="monae.monad_model.html#locT_nat">locT_nat</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cnew" class="id">
  <a name="ModelTypedStore_contd.cnew" class="">cnew</a>
</span> <span id="T:20" class="id">
  <a name="T:20" class="">T</a>
</span> (<span id="v:21" class="id">
  <a name="v:21" class="">v</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:20">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> (<span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:20">T</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="e:22" class="id">
  <a name="e:22" class="">e</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id"><a href="monae.typed_store_model.html#fresh_loc">fresh_loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:20">T</a></span> <span class="id"><a href="monae.typed_store_model.html#e:22">e,</a></span> <span class="id"><a href="monae.typed_store_model.html#extend_env">extend_env</a></span> <span class="id"><a href="monae.typed_store_model.html#v:21">v</a></span> <span class="id"><a href="monae.typed_store_model.html#e:22">e</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cget" class="id">
  <a name="ModelTypedStore_contd.cget" class="">cget</a>
</span> <span id="T:23" class="id">
  <a name="T:23" class="">T</a>
</span> (<span id="r:24" class="id">
  <a name="r:24" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:23">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> (<span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:23">T</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="st:25" class="id">
  <a name="st:25" class="">st</a>
</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#st:25">st</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:24">r</a></span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id">T'</span> <span class="id">v</span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monae_lib.html#coerce">coerce</a></span> <span class="id"><a href="monae.typed_store_model.html#T:23">T</a></span> <span class="id">v</span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">u</span> <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id">u,</span> <span class="id"><a href="monae.typed_store_model.html#st:25">st</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cput" class="id">
  <a name="ModelTypedStore_contd.cput" class="">cput</a>
</span> <span id="T:26" class="id">
  <a name="T:26" class="">T</a>
</span> (<span id="r:27" class="id">
  <a name="r:27" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:26">T</a></span>) (<span id="v:28" class="id">
  <a name="v:28" class="">v</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:26">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="st:29" class="id">
  <a name="st:29" class="">st</a>
</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="n:30" class="id">
  <a name="n:30" class="">n</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:27">r</a></span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#st:29">st</a></span>) <span class="id"><a href="monae.typed_store_model.html#n:30">n</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id">T'</span> <span class="id">_</span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.monae_lib.html#coerce">coerce</a></span> <span class="id">T'</span> <span class="id"><a href="monae.typed_store_model.html#v:28">v</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">u</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="b:31" class="id">
  <a name="b:31" class="">b</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> (<span class="id">u</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id">T'</span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.typed_store_model.html#mkEnv">mkEnv</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth">set_nth</a></span> <span class="id"><a href="monae.typed_store_model.html#def">def</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#st:29">st</a></span>) <span class="id"><a href="monae.typed_store_model.html#n:30">n</a></span> <span class="id"><a href="monae.typed_store_model.html#b:31">b</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crun" class="id">
  <a name="ModelTypedStore_contd.crun" class="">crun</a>
</span> (<span id="A:32" class="id">
  <a name="A:32" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:33" class="id">
  <a name="m:33" class="">m</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:32">A</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="monae.typed_store_model.html#A:32">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.typed_store_model.html#m:33">m</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkEnv">mkEnv</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id">a,</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="bind_cnew" class="id">
  <a name="bind_cnew" class="">bind_cnew</a>
</span> <span id="T:34" class="id">
  <a name="T:34" class="">T</a>
</span> (<span id="s:35" class="id">
  <a name="s:35" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:34">T</a></span>) <span id="A:36" class="id">
  <a name="A:36" class="">A</a>
</span> (<span id="k:37" class="id">
  <a name="k:37" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:34">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:36">A</a></span>) <span id="e:38" class="id">
  <a name="e:38" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:35">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:37">k</a></span>) <span class="id"><a href="monae.typed_store_model.html#e:38">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:37">k</a></span> (<span class="id"><a href="monae.typed_store_model.html#fresh_loc">fresh_loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:34">T</a></span> <span class="id"><a href="monae.typed_store_model.html#e:38">e</a></span>) (<span class="id"><a href="monae.typed_store_model.html#extend_env">extend_env</a></span> <span class="id"><a href="monae.typed_store_model.html#s:35">s</a></span> <span class="id"><a href="monae.typed_store_model.html#e:38">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Some_cget" class="id">
  <a name="Some_cget" class="">Some_cget</a>
</span> <span id="T:39" class="id">
  <a name="T:39" class="">T</a>
</span> (<span id="r:40" class="id">
  <a name="r:40" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:39">T</a></span>) (<span id="s:41" class="id">
  <a name="s:41" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:39">T</a></span>) <span id="e:42" class="id">
  <a name="e:42" class="">e</a>
</span> (<span id="A:43" class="id">
  <a name="A:43" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="f:44" class="id">
  <a name="f:44" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:39">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:43">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:42">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:40">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s:41">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:40">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#f:44">f</a></span>) <span class="id"><a href="monae.typed_store_model.html#e:42">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#f:44">f</a></span> <span class="id"><a href="monae.typed_store_model.html#s:41">s</a></span> <span class="id"><a href="monae.typed_store_model.html#e:42">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>. Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">{T</span> <span class="id">r}</span> <span class="id">s</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="nocoerce_cget" class="id">
  <a name="nocoerce_cget" class="">nocoerce_cget</a>
</span> <span id="T:45" class="id">
  <a name="T:45" class="">T</a>
</span> (<span id="r:46" class="id">
  <a name="r:46" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:45">T</a></span>) <span id="T':47" class="id">
  <a name="T':47" class="">T'</a>
</span> (<span id="s':48" class="id">
  <a name="s':48" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T':47">T'</a></span>) <span id="e:49" class="id">
  <a name="e:49" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:49">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:46">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s':48">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:'~~'_x">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.typed_store_model.html#T:45">T</a></span> <span class="id"><a href="monae.typed_store_model.html#s':48">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:46">r</a></span> <span class="id"><a href="monae.typed_store_model.html#e:49">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H</span> <span class="id">Ts';</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#not_coercible">not_coercible</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="None_cget" class="id">
  <a name="None_cget" class="">None_cget</a>
</span> <span id="T:50" class="id">
  <a name="T:50" class="">T</a>
</span> (<span id="r:51" class="id">
  <a name="r:51" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:50">T</a></span>) <span id="e:52" class="id">
  <a name="e:52" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:52">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:51">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:51">r</a></span> <span class="id"><a href="monae.typed_store_model.html#e:52">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id">H</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cnewget" class="id">
  <a name="ModelTypedStore_contd.cnewget" class="">cnewget</a>
</span> <span id="T:53" class="id">
  <a name="T:53" class="">T</a>
</span> (<span id="s:54" class="id">
  <a name="s:54" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:53">T</a></span>) <span id="A:55" class="id">
  <a name="A:55" class="">A</a>
</span> (<span id="k:56" class="id">
  <a name="k:56" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:53">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:53">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:55">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:54">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:57" class="id">
  <a name="r:57" class="">r</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:57">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:56">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r:57">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:54">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:58" class="id">
  <a name="r:58" class="">r</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#k:56">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r:58">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:54">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#bind_cnew">bind_cnew</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">s</span>)<span class="id">//</span> <span class="id"><a href="monae.monae_lib.html#nth_error_rcons_size">nth_error_rcons_size</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="nocoerce_cput" class="id">
  <a name="nocoerce_cput" class="">nocoerce_cput</a>
</span> <span id="T:59" class="id">
  <a name="T:59" class="">T</a>
</span> (<span id="r:60" class="id">
  <a name="r:60" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:59">T</a></span>) (<span id="s:61" class="id">
  <a name="s:61" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:59">T</a></span>) <span id="T':62" class="id">
  <a name="T':62" class="">T'</a>
</span> (<span id="s':63" class="id">
  <a name="s':63" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T':62">T'</a></span>) <span id="e:64" class="id">
  <a name="e:64" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:64">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:60">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s':63">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:'~~'_x">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.typed_store_model.html#T:59">T</a></span> <span class="id"><a href="monae.typed_store_model.html#s':63">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:60">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:61">s</a></span> <span class="id"><a href="monae.typed_store_model.html#e:64">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">move=&gt;</span> <span class="id">H</span> <span class="id">Ts';</span> <span class="id">move:</span> <span class="id">e</span> <span class="id">H</span> <span class="id">=&gt;</span> <span class="id">[e]</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cput</span> <span class="id">H</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#not_coercible">not_coercible//</a></span> (<span class="id"><a href="monae.monae_lib.html#coercible_sym">coercible_sym</a></span> <span class="id">_</span> <span class="id">s'</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="None_cput" class="id">
  <a name="None_cput" class="">None_cput</a>
</span> <span id="T:65" class="id">
  <a name="T:65" class="">T</a>
</span> (<span id="r:66" class="id">
  <a name="r:66" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:65">T</a></span>) (<span id="s:67" class="id">
  <a name="s:67" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:65">T</a></span>) <span id="e:68" class="id">
  <a name="e:68" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:68">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:66">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:66">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:67">s</a></span> <span class="id"><a href="monae.typed_store_model.html#e:68">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">move:</span> <span class="id">e</span> <span class="id">H</span> <span class="id">=&gt;</span> <span class="id">[e]</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cput</span> <span class="id">H</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cnewput" class="id">
  <a name="ModelTypedStore_contd.cnewput" class="">cnewput</a>
</span> <span id="T:69" class="id">
  <a name="T:69" class="">T</a>
</span> (<span id="s:70" class="id">
  <a name="s:70" class="">s</a>
</span> <span id="t:71" class="id">
  <a name="t:71" class="">t</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:69">T</a></span>) <span id="A:72" class="id">
  <a name="A:72" class="">A</a>
</span> (<span id="k:73" class="id">
  <a name="k:73" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:69">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:72">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:70">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:74" class="id">
  <a name="r:74" class="">r</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:74">r</a></span> <span class="id"><a href="monae.typed_store_model.html#t:71">t</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#k:73">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r:74">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#t:71">t</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:73">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#bind_cnew">bind_cnew</a></span> <span class="id">2!MS_bindE</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id"><a href="monae.monae_lib.html#nth_error_rcons_size">nth_error_rcons_size</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.monae_lib.html#set_nth_rcons">set_nth_rcons</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="vernacular">Variant</span> <span id="nth_error_spec" class="id">
  <a name="nth_error_spec" class="">nth_error_spec</a>
</span> (<span id="T:75" class="id">
  <a name="T:75" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ml_type">ml_type</a></span>) (<span id="e:76" class="id">
  <a name="e:76" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>) (<span id="r:77" class="id">
  <a name="r:77" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:75">T</a></span>) <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="NthError" class="id">
  <a name="NthError" class="">NthError</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:80" class="id">
  <a name="s:80" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:75">T,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:76">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:77">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s:80">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#nth_error_spec:78">nth_error_spec</a></span> <span class="id"><a href="monae.typed_store_model.html#e:76">e</a></span> <span class="id"><a href="monae.typed_store_model.html#r:77">r</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="NthError_nocoerce" class="id">
  <a name="NthError_nocoerce" class="">NthError_nocoerce</a>
</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="T':81" class="id">
  <a name="T':81" class="">T'</a>
</span> (<span id="s':82" class="id">
  <a name="s':82" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T':81">T'</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:76">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:77">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s':82">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:'~~'_x">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.typed_store_model.html#T:75">T</a></span> <span class="id"><a href="monae.typed_store_model.html#s':82">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error_spec:78">nth_error_spec</a></span> <span class="id"><a href="monae.typed_store_model.html#e:76">e</a></span> <span class="id"><a href="monae.typed_store_model.html#r:77">r</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span id="NthError_None" class="id">
  <a name="NthError_None" class="">NthError_None</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:76">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:77">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#nth_error_spec:78">nth_error_spec</a></span> <span class="id"><a href="monae.typed_store_model.html#e:76">e</a></span> <span class="id"><a href="monae.typed_store_model.html#r:77">r</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="ntherrorP" class="id">
  <a name="ntherrorP" class="">ntherrorP</a>
</span> (<span id="T:83" class="id">
  <a name="T:83" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ml_type">ml_type</a></span>) (<span id="e:84" class="id">
  <a name="e:84" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>) (<span id="r:85" class="id">
  <a name="r:85" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:83">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#nth_error_spec">nth_error_spec</a></span> <span class="id"><a href="monae.typed_store_model.html#e:84">e</a></span> <span class="id"><a href="monae.typed_store_model.html#r:85">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">case</span> <span class="id">H</span> <span class="id">:</span> (<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id">e</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r</span>)) <span class="id">=&gt;</span> <span class="id">[[T'</span> <span class="id">s']|]</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[Ts'|Ts']</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id">T</span> <span class="id">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:=</span> <span class="id"><a href="monae.monae_lib.html#coercible_eq">coercible_eq</a></span> <span class="id">Ts';</span> <span class="id">subst</span> <span class="id">T'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="monae.typed_store_model.html#NthError">NthError</a></span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="monae.typed_store_model.html#NthError_nocoerce">NthError_nocoerce</a></span> <span class="id">H</span> <span class="id">Ts'</span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="monae.typed_store_model.html#NthError_None">NthError_None</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetput" class="id">
  <a name="ModelTypedStore_contd.cgetput" class="">cgetput</a>
</span> <span id="T:86" class="id">
  <a name="T:86" class="">T</a>
</span> (<span id="r:87" class="id">
  <a name="r:87" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:86">T</a></span>) (<span id="s:88" class="id">
  <a name="s:88" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:86">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:87">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:87">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:88">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:87">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:88">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">s'</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">H</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget//</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Some_cputE" class="id">
  <a name="Some_cputE" class="">Some_cputE</a>
</span> <span id="T:89" class="id">
  <a name="T:89" class="">T</a>
</span> (<span id="r:90" class="id">
  <a name="r:90" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:89">T</a></span>) (<span id="s:91" class="id">
  <a name="s:91" class="">s</a>
</span> <span id="s':92" class="id">
  <a name="s':92" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:89">T</a></span>) <span id="e:93" class="id">
  <a name="e:93" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:93">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:90">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s':92">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:90">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:91">s</a></span> <span class="id"><a href="monae.typed_store_model.html#e:93">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monae.typed_store_model.html#mkEnv">mkEnv</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_nth">set_nth</a></span> <span class="id"><a href="monae.typed_store_model.html#def">def</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:93">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:90">r</a></span>) (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s:91">s</a></span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Some_cput" class="id">
  <a name="Some_cput" class="">Some_cput</a>
</span> <span id="T:94" class="id">
  <a name="T:94" class="">T</a>
</span> (<span id="r:95" class="id">
  <a name="r:95" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:94">T</a></span>) (<span id="s:96" class="id">
  <a name="s:96" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:94">T</a></span>) <span id="e:97" class="id">
  <a name="e:97" class="">e</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:97">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:95">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s:96">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:95">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:96">s</a></span> <span class="id"><a href="monae.typed_store_model.html#e:97">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id">@skip</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span>) <span class="id"><a href="monae.typed_store_model.html#e:97">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id">H</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some/=</a></span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_id">nth_error_set_nth_id//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">destruct</span> <span class="id">e</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Some_cputget" class="id">
  <a name="Some_cputget" class="">Some_cputget</a>
</span> <span id="T:98" class="id">
  <a name="T:98" class="">T</a>
</span> (<span id="s':99" class="id">
  <a name="s':99" class="">s'</a>
</span> <span id="s:100" class="id">
  <a name="s:100" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:98">T</a></span>) (<span id="r:101" class="id">
  <a name="r:101" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:98">T</a></span>) <span id="A:102" class="id">
  <a name="A:102" class="">A</a>
</span> (<span id="k:103" class="id">
  <a name="k:103" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:98">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:102">A</a></span>)<br/>
&nbsp;&nbsp;(<span id="e:104" class="id">
  <a name="e:104" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:104">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:101">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s':99">s'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:101">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:100">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:101">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:103">k</a></span>)) <span class="id"><a href="monae.typed_store_model.html#e:104">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:101">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:100">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#k:103">k</a></span> <span class="id"><a href="monae.typed_store_model.html#s:100">s</a></span>) <span class="id"><a href="monae.typed_store_model.html#e:104">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">s</span>)<span class="id">//</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span>.<br/>
Qed.</div>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.typed_store_model.html#Some_cputget">Some_cputget</a></span> <span class="id">{T}</span> <span class="id">s'</span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetputskip" class="id">
  <a name="ModelTypedStore_contd.cgetputskip" class="">cgetputskip</a>
</span> <span id="T:105" class="id">
  <a name="T:105" class="">T</a>
</span> (<span id="r:106" class="id">
  <a name="r:106" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:105">T</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:106">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:106">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:106">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">s'</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">s'</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cput">Some_cput</a></span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetget" class="id">
  <a name="ModelTypedStore_contd.cgetget" class="">cgetget</a>
</span> <span id="T:107" class="id">
  <a name="T:107" class="">T</a>
</span> (<span id="r:108" class="id">
  <a name="r:108" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:107">T</a></span>) (<span id="A:109" class="id">
  <a name="A:109" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:110" class="id">
  <a name="k:110" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:107">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:107">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:109">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:108">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:111" class="id">
  <a name="s:111" class="">s</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:108">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:110">k</a></span> <span class="id"><a href="monae.typed_store_model.html#s:111">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:108">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:112" class="id">
  <a name="s:112" class="">s</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#k:110">k</a></span> <span class="id"><a href="monae.typed_store_model.html#s:112">s</a></span> <span class="id"><a href="monae.typed_store_model.html#s:112">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">do</span> <span class="id">3</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">s'</span>)<span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cputget" class="id">
  <a name="ModelTypedStore_contd.cputget" class="">cputget</a>
</span> <span id="T:113" class="id">
  <a name="T:113" class="">T</a>
</span> (<span id="r:114" class="id">
  <a name="r:114" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:113">T</a></span>) (<span id="s:115" class="id">
  <a name="s:115" class="">s:</a>
</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:113">T</a></span>) (<span id="A:116" class="id">
  <a name="A:116" class="">A:</a>
</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:117" class="id">
  <a name="k:117" class="">k:</a>
</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:113">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:116">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:114">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:115">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:114">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:117">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:114">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:115">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#k:117">k</a></span> <span class="id"><a href="monae.typed_store_model.html#s:115">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[s'</span> <span class="id">H|T'</span> <span class="id">s'</span> <span class="id">H</span> <span class="id">Ts'|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputget">Some_cputget</a></span> <span class="id">s'</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Some_cputput" class="id">
  <a name="Some_cputput" class="">Some_cputput</a>
</span> (<span id="T:118" class="id">
  <a name="T:118" class="">T</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ml_type">ml_type</a></span>) (<span id="r:119" class="id">
  <a name="r:119" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:118">T</a></span>) (<span id="s:120" class="id">
  <a name="s:120" class="">s</a>
</span> <span id="s':121" class="id">
  <a name="s':121" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:118">T</a></span>)<br/>
&nbsp;&nbsp;(<span id="e:122" class="id">
  <a name="e:122" class="">e</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>) (<span id="s'':123" class="id">
  <a name="s'':123" class="">s''</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:118">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:122">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:119">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s'':123">s''</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:119">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:120">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:119">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s':121">s'</a></span>) <span class="id"><a href="monae.typed_store_model.html#e:122">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:119">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s':121">s'</a></span> <span class="id"><a href="monae.typed_store_model.html#e:122">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE/=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]</a></span>(<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span> <span class="id">/cput</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some/=</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_set_nth">set_set_nth</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cputput" class="id">
  <a name="ModelTypedStore_contd.cputput" class="">cputput</a>
</span> <span id="T:124" class="id">
  <a name="T:124" class="">T</a>
</span> (<span id="r:125" class="id">
  <a name="r:125" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:124">T</a></span>) (<span id="s:126" class="id">
  <a name="s:126" class="">s</a>
</span> <span id="s':127" class="id">
  <a name="s':127" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:124">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:125">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:126">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:125">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s':127">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:125">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s':127">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[s''</span> <span class="id">H|T''</span> <span class="id">s''</span> <span class="id">H</span> <span class="id">Ts''|H]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputput">Some_cputput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">!None_cput</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetC" class="id">
  <a name="ModelTypedStore_contd.cgetC" class="">cgetC</a>
</span> <span id="T1:128" class="id">
  <a name="T1:128" class="">T1</a>
</span> <span id="T2:129" class="id">
  <a name="T2:129" class="">T2</a>
</span> (<span id="r1:130" class="id">
  <a name="r1:130" class="">r1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:128">T1</a></span>) (<span id="r2:131" class="id">
  <a name="r2:131" class="">r2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:129">T2</a></span>) (<span id="A:132" class="id">
  <a name="A:132" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:133" class="id">
  <a name="k:133" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:128">T1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:129">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:132">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:130">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:134" class="id">
  <a name="u:134" class="">u</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:131">r2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:135" class="id">
  <a name="v:135" class="">v</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#k:133">k</a></span> <span class="id"><a href="monae.typed_store_model.html#u:134">u</a></span> <span class="id"><a href="monae.typed_store_model.html#v:135">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:131">r2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:136" class="id">
  <a name="v:136" class="">v</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:130">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:137" class="id">
  <a name="u:137" class="">u</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#k:133">k</a></span> <span class="id"><a href="monae.typed_store_model.html#u:137">u</a></span> <span class="id"><a href="monae.typed_store_model.html#v:136">v</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr1|u</span> <span class="id">T1'</span> <span class="id">Hr1</span> <span class="id">T1u|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|v</span> <span class="id">T2'</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr1</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|v</span> <span class="id">T2'</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr1</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|v</span> <span class="id">T2'</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">v</span>)<span class="id">//</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">!None_cget</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cnewgetD_helper" class="id">
  <a name="cnewgetD_helper" class="">cnewgetD_helper</a>
</span> <span id="e:138" class="id">
  <a name="e:138" class="">e</a>
</span> <span id="T:139" class="id">
  <a name="T:139" class="">T</a>
</span> <span id="T':140" class="id">
  <a name="T':140" class="">T'</a>
</span> <span id="r:141" class="id">
  <a name="r:141" class="">r</a>
</span> <span id="v:142" class="id">
  <a name="v:142" class="">v</a>
</span> (<span id="s:143" class="id">
  <a name="s:143" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T':140">T'</a></span>) <span id="A:144" class="id">
  <a name="A:144" class="">A</a>
</span> (<span id="k:145" class="id">
  <a name="k:145" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T':140">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:139">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:144">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:138">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r:141">r</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#v:142">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:143">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r':146" class="id">
  <a name="r':146" class="">r'</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:141">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:145">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r':146">r'</a></span>)) <span class="id"><a href="monae.typed_store_model.html#e:138">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:143">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="r:147" class="id">
  <a name="r:147" class="">r</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#k:145">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r:147">r</a></span> <span class="id"><a href="monae.typed_store_model.html#v:142">v</a></span>)) <span class="id"><a href="monae.typed_store_model.html#e:138">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">move=&gt;</span> <span class="id">H</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#bind_cnew">bind_cnew//</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">v</span>) <span class="id">//</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_rcons_some">nth_error_rcons_some</a></span> <span class="id">_</span> <span class="id">H</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetnewD" class="id">
  <a name="ModelTypedStore_contd.cgetnewD" class="">cgetnewD</a>
</span> <span id="T:148" class="id">
  <a name="T:148" class="">T</a>
</span> <span id="T':149" class="id">
  <a name="T':149" class="">T'</a>
</span> (<span id="r:150" class="id">
  <a name="r:150" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:148">T</a></span>) (<span id="s:151" class="id">
  <a name="s:151" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T':149">T'</a></span>) <span id="A:152" class="id">
  <a name="A:152" class="">A</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:153" class="id">
  <a name="k:153" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T':149">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:148">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:148">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:152">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:150">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:154" class="id">
  <a name="u:154" class="">u</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:151">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="r':155" class="id">
  <a name="r':155" class="">r'</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:150">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:153">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r':155">r'</a></span> <span class="id"><a href="monae.typed_store_model.html#u:154">u</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:150">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:156" class="id">
  <a name="u:156" class="">u</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:151">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="r':157" class="id">
  <a name="r':157" class="">r'</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#k:153">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r':157">r'</a></span> <span class="id"><a href="monae.typed_store_model.html#u:156">u</a></span> <span class="id"><a href="monae.typed_store_model.html#u:156">u</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr|u</span> <span class="id">T1</span> <span class="id">Hr</span> <span class="id">T1u|Hr]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#cnewgetD_helper">cnewgetD_helper</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>)<span class="id">//</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetnewE" class="id">
  <a name="ModelTypedStore_contd.cgetnewE" class="">cgetnewE</a>
</span> <span id="T1:158" class="id">
  <a name="T1:158" class="">T1</a>
</span> <span id="T2:159" class="id">
  <a name="T2:159" class="">T2</a>
</span> (<span id="r1:160" class="id">
  <a name="r1:160" class="">r1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:158">T1</a></span>) (<span id="s:161" class="id">
  <a name="s:161" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:159">T2</a></span>) (<span id="A:162" class="id">
  <a name="A:162" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k1:163" class="id">
  <a name="k1:163" class="">k1</a>
</span> <span id="k2:164" class="id">
  <a name="k2:164" class="">k2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:159">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:162">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="r2:165" class="id">
  <a name="r2:165" class="">r2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:159">T2,</a></span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:160">r1</a></span> <span class="id">!=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:165">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#k1:163">k1</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:165">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#k2:164">k2</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:165">r2</a></span>) <span class="id">-&gt;</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:160">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:161">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k1:163">k1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:160">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s:161">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k2:164">k2</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">move=&gt;</span> <span class="id">Hk</span>.<br/>
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">r1u|T'</span> <span class="id">s'</span> <span class="id">Hr1</span> <span class="id">T1s'|Hr]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> <span class="id">!bind_cnew</span> <span class="id">Hk//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#neq_ltn">neq_ltn</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">e</span> <span class="id">r1u</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">e</span> <span class="id">/nth_error_size</span> <span class="id">-&gt;</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr1</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cgetputC" class="id">
  <a name="ModelTypedStore_contd.cgetputC" class="">cgetputC</a>
</span> <span id="T1:166" class="id">
  <a name="T1:166" class="">T1</a>
</span> <span id="T2:167" class="id">
  <a name="T2:167" class="">T2</a>
</span> (<span id="r1:168" class="id">
  <a name="r1:168" class="">r1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:166">T1</a></span>) (<span id="r2:169" class="id">
  <a name="r2:169" class="">r2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:167">T2</a></span>) (<span id="s:170" class="id">
  <a name="s:170" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:167">T2</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:168">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:169">r2</a></span> <span class="id"><a href="monae.typed_store_model.html#s:170">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:169">r2</a></span> <span class="id"><a href="monae.typed_store_model.html#s:170">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:168">r1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">r1u|T1'</span> <span class="id">v1</span> <span class="id">Hr1</span> <span class="id">T1v1|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindA</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T'</span> <span class="id">v</span> <span class="id">r2v</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r12|r12]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r2v;</span> <span class="id">rewrite</span> <span class="id">-r12</span> <span class="id">r1u</span> <span class="id">=&gt;</span> <span class="id">-[?]</span> <span class="id">_;</span> <span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth//</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">u</span>)<span class="id">//</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">r12</span> <span class="id">r1u</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">[RHS]MS_bindE</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T'</span> <span class="id">v</span> <span class="id">r2v</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">{1}/cget</span> <span class="id">Hr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[?|T1'T1]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">T1'</span> <span class="id">T1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">subst</span> <span class="id">T1';</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]bindE/=</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[Hr|Hr]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r2v;</span> <span class="id">rewrite</span> <span class="id">-Hr</span> <span class="id">Hr1</span> <span class="id">=&gt;</span> <span class="id">-[?]</span> <span class="id">_;</span> <span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span> <span class="id">Hr1</span>) <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//=</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[r12|r12]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">r2v;</span> <span class="id">rewrite</span> <span class="id">-r12</span> <span class="id">Hr1</span> <span class="id">=&gt;</span> <span class="id">-[?]</span> <span class="id">_;</span> <span class="id">subst</span> <span class="id">T1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">r12</span> <span class="id">Hr1</span>) <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T1v1</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T1v1</span>)<span class="id">//</span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T'</span> <span class="id">v</span> <span class="id">r2v</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>)<span class="id">/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget/=</a></span> <span class="id">?bindfailf//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr1</span> <span class="id">r2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">r2v</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="cput_then_fail" class="id">
  <a name="cput_then_fail" class="">cput_then_fail</a>
</span> <span id="T1:171" class="id">
  <a name="T1:171" class="">T1</a>
</span> <span id="T2:172" class="id">
  <a name="T2:172" class="">T2</a>
</span> <span id="T1':173" class="id">
  <a name="T1':173" class="">T1'</a>
</span> <span id="e:174" class="id">
  <a name="e:174" class="">e</a>
</span> (<span id="s1':175" class="id">
  <a name="s1':175" class="">s1'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T1':173">T1'</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="r2:176" class="id">
  <a name="r2:176" class="">r2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:172">T2</a></span>) (<span id="s2:177" class="id">
  <a name="s2:177" class="">s2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:172">T2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="r1:178" class="id">
  <a name="r1:178" class="">r1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:171">T1</a></span>) (<span id="s1:179" class="id">
  <a name="s1:179" class="">s1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:171">T1</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> (<span class="id"><a href="monae.typed_store_model.html#ofEnv">ofEnv</a></span> <span class="id"><a href="monae.typed_store_model.html#e:174">e</a></span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:178">r1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id"><a href="monae.typed_store_model.html#s1':175">s1'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:'~~'_x">~~</a></span> <span class="id"><a href="monae.monae_lib.html#coercible">coercible</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:171">T1</a></span> <span class="id"><a href="monae.typed_store_model.html#s1':175">s1'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:176">r2</a></span> <span class="id"><a href="monae.typed_store_model.html#s2:177">s2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:178">r1</a></span> <span class="id"><a href="monae.typed_store_model.html#s1:179">s1</a></span>) <span class="id"><a href="monae.typed_store_model.html#e:174">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">move=&gt;</span> <span class="id">Hr1</span> <span class="id">T1s'</span>.<br/>
<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T2'</span> <span class="id">v</span> <span class="id">Hr2</span> <span class="id">T2v|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2v</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[Hr|Hr]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span>) (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">{1}/cput</span> <span class="id">-Hr</span> <span class="id">/=</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[HT|HT]</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">T1</span> <span class="id">T2;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> <span class="id">Hr1;</span> <span class="id">rewrite</span> <span class="id">Hr</span> <span class="id">Hr2</span> <span class="id">=&gt;</span> <span class="id">-[?];</span> <span class="id">subst</span> <span class="id">T1'</span> <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coercible_Some">coercible_Some</a></span> <span class="id">//</span> <span class="gallina-kwd">in</span> <span class="id">T1s'</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id">@nth_error_set_nth_other</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="monae.typed_store_model.html#mkbind">mkbind</a></span> <span class="id">s1'</span>)).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cputC" class="id">
  <a name="ModelTypedStore_contd.cputC" class="">cputC</a>
</span> <span id="T1:180" class="id">
  <a name="T1:180" class="">T1</a>
</span> <span id="T2:181" class="id">
  <a name="T2:181" class="">T2</a>
</span> (<span id="r1:182" class="id">
  <a name="r1:182" class="">r1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:180">T1</a></span>) (<span id="r2:183" class="id">
  <a name="r2:183" class="">r2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:181">T2</a></span>) (<span id="s1:184" class="id">
  <a name="s1:184" class="">s1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:180">T1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="s2:185" class="id">
  <a name="s2:185" class="">s2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:181">T2</a></span>) (<span id="A:186" class="id">
  <a name="A:186" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:182">r1</a></span> <span class="id">!=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:183">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'\/'_x">\/</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html#JMeq">JMeq</a></span> <span class="id"><a href="monae.typed_store_model.html#s1:184">s1</a></span> <span class="id"><a href="monae.typed_store_model.html#s2:185">s2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:182">r1</a></span> <span class="id"><a href="monae.typed_store_model.html#s1:184">s1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:183">r2</a></span> <span class="id"><a href="monae.typed_store_model.html#s2:185">s2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:183">r2</a></span> <span class="id"><a href="monae.typed_store_model.html#s2:185">s2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:182">r1</a></span> <span class="id"><a href="monae.typed_store_model.html#s1:184">s1</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">move=&gt;</span> <span class="id">H;</span> <span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr1|T1'</span> <span class="id">s'd</span> <span class="id">Hr1</span> <span class="id">T1s'|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T2'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2s'</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput//</a></span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr1</span> <span class="id">Hr2</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#cput_then_fail">cput_then_fail</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr1</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">Hr1</span>)<span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case/boolP:</span> (<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id">r2</span>) <span class="id">H</span> <span class="id">=&gt;</span> <span class="id">[/eqP|]</span> <span class="id">Hr</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{2}/cput</span> <span class="id">-Hr</span> <span class="id">Hr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case/boolP:</span> (<span class="id">T1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">T2</span>) <span class="id">=&gt;</span> <span class="id">[/eqP</span> <span class="id">HT|HT];</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//;</a></span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cput/=</span> <span class="id">Hr</span> <span class="id"><a href="monae.monae_lib.html#nth_error_set_nth">nth_error_set_nth//</a></span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">?</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html#JMeq_eq">JMeq_eq</a></span> <span class="id">H;</span> <span class="id">subst</span> <span class="id">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cput</span> <span class="id">-Hr</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move=&gt;</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">r2v|T2'</span> <span class="id">s</span> <span class="id">Hr2</span> <span class="id">T2s|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput/=;</a></span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span> <span class="id">Hr1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2s</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T2s</span>)<span class="id">//=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id">1?eq_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]</a></span>(<span class="id"><a href="monae.typed_store_model.html#Some_cputE">Some_cputE</a></span> <span class="id">_</span> <span class="id">r2v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{1}/cput/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">r2v</span>) <span class="id">1?eq_sym//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindE">bindE/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/cput</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span> <span class="id">Hr1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#set_set_nth">set_set_nth</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">Hr</span>).<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cputgetC" class="id">
  <a name="ModelTypedStore_contd.cputgetC" class="">cputgetC</a>
</span> <span id="T1:187" class="id">
  <a name="T1:187" class="">T1</a>
</span> <span id="T2:188" class="id">
  <a name="T2:188" class="">T2</a>
</span> (<span id="r1:189" class="id">
  <a name="r1:189" class="">r1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:187">T1</a></span>) (<span id="r2:190" class="id">
  <a name="r2:190" class="">r2</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:188">T2</a></span>) (<span id="s1:191" class="id">
  <a name="s1:191" class="">s1</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:187">T1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="A:192" class="id">
  <a name="A:192" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="k:193" class="id">
  <a name="k:193" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:188">T2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:192">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:189">r1</a></span> <span class="id">!=</span> <span class="id"><a href="monae.hierarchy.html#loc_id">loc_id</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:190">r2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:189">r1</a></span> <span class="id"><a href="monae.typed_store_model.html#s1:191">s1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:190">r2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:193">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r2:190">r2</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:194" class="id">
  <a name="v:194" class="">v</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r1:189">r1</a></span> <span class="id"><a href="monae.typed_store_model.html#s1:191">s1</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#k:193">k</a></span> <span class="id"><a href="monae.typed_store_model.html#v:194">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move=&gt;</span> <span class="id">Hr;</span> <span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">!bindA</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr1|T1'</span> <span class="id">s1'</span> <span class="id">Hr1</span> <span class="id">T1s'|Hr1]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r1</span>.<br/>
<span class="id">-</span> <span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]MS_bindE</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]MS_bindE</a></span> <span class="id">/cput</span> <span class="id">Hr1</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id">!bindretf/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id">1?eq_sym//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">[RHS]MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T2s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id">/cput</span> <span class="id">Hr1</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf//=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget/=</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_other">nth_error_set_nth_other</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id">1?eq_sym//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#not_coercible">not_coercible</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cput</span> <span class="id">Hr1</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id">/cget</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_none">nth_error_set_nth_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span> <span class="id">Hr1</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr2</span>) <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T2s'</span>).<br/>
&nbsp;&nbsp;<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">[v</span> <span class="id">Hr2|T'</span> <span class="id">s'</span> <span class="id">Hr2</span> <span class="id">T2s'|Hr2]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/cget</span> <span class="id">Hr2</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf//=</a></span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">Hr2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.cputnewC" class="id">
  <a name="ModelTypedStore_contd.cputnewC" class="">cputnewC</a>
</span> <span id="T:195" class="id">
  <a name="T:195" class="">T</a>
</span> <span id="T':196" class="id">
  <a name="T':196" class="">T'</a>
</span> (<span id="r:197" class="id">
  <a name="r:197" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:195">T</a></span>) (<span id="s:198" class="id">
  <a name="s:198" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:195">T</a></span>) (<span id="s':199" class="id">
  <a name="s':199" class="">s'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T':196">T'</a></span>) <span id="A:200" class="id">
  <a name="A:200" class="">A</a>
</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="k:201" class="id">
  <a name="k:201" class="">k</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T':196">T'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:200">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> <span class="id"><a href="monae.typed_store_model.html#r:197">r</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s':199">s'</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="r':202" class="id">
  <a name="r':202" class="">r'</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:197">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:198">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#k:201">k</a></span> <span class="id"><a href="monae.typed_store_model.html#r':202">r'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> <span class="id"><a href="monae.typed_store_model.html#r:197">r</a></span> <span class="id"><a href="monae.typed_store_model.html#s:198">s</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> (<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> <span class="id"><a href="monae.typed_store_model.html#s':199">s'</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.typed_store_model.html#k:201">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">apply/boolp</span>.<span class="id">funext</span> <span class="id">=&gt;</span> <span class="id">e</span> <span class="id">/=</span>.<br/>
<span class="id">have</span> <span class="id">[u</span> <span class="id">Hr|T1</span> <span class="id">s1'</span> <span class="id">Hr</span> <span class="id">T1s'|Hr]</span> <span class="id">:=</span> <span class="id"><a href="monae.typed_store_model.html#ntherrorP">ntherrorP</a></span> <span class="id">e</span> <span class="id">r</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#Some_cget">Some_cget</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[RHS]MS_bindE</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/cput</a></span> <span class="id">Hr</span> <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!MS_bindE</span> <span class="id">/cnew</span> <span class="id">!bindretf/=</span> <span class="id">!MS_bindE</span> <span class="id">/cput</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_rcons_some">nth_error_rcons_some</a></span> <span class="id">_</span> <span class="id">Hr</span>) <span class="id"><a href="monae.monae_lib.html#coerce_Some">coerce_Some</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf/=</a></span> <span class="id">/fresh_loc/=</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/sizeEnv/=</span> <span class="id">/extend_env/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_size_set_nth">nth_error_size_set_nth</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>) (<span class="id"><a href="monae.monae_lib.html#nth_error_set_nth_rcons">nth_error_set_nth_rcons</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hr</span>).<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cget">nocoerce_cget</a></span> <span class="id">_</span> <span class="id">T1s'</span>)<span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.typed_store_model.html#nocoerce_cput">nocoerce_cput</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">T1s'</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!MS_bindE</span> <span class="id"><a href="monae.typed_store_model.html#None_cget">None_cget//</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.typed_store_model.html#None_cput">None_cput</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crunret" class="id">
  <a name="ModelTypedStore_contd.crunret" class="">crunret</a>
</span> (<span id="A:203" class="id">
  <a name="A:203" class="">A</a>
</span> <span id="B:204" class="id">
  <a name="B:204" class="">B</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:205" class="id">
  <a name="m:205" class="">m</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:203">A</a></span>) (<span id="s:206" class="id">
  <a name="s:206" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#B:204">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> <span class="id"><a href="monae.typed_store_model.html#m:205">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:205">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.typed_store_model.html#s:206">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.typed_store_model.html#s:206">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE/=;</a></span> <span class="id">case:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//-</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crunskip" class="id">
  <a name="ModelTypedStore_contd.crunskip" class="">crunskip</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crunnew" class="id">
  <a name="ModelTypedStore_contd.crunnew" class="">crunnew</a>
</span> (<span id="A:207" class="id">
  <a name="A:207" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="T:208" class="id">
  <a name="T:208" class="">T</a>
</span> (<span id="m:209" class="id">
  <a name="m:209" class="">m</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:207">A</a></span>) (<span id="s:210" class="id">
  <a name="s:210" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#A:207">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:208">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> <span class="id"><a href="monae.typed_store_model.html#m:209">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:209">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:211" class="id">
  <a name="x:211" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> (<span class="id"><a href="monae.typed_store_model.html#s:210">s</a></span> <span class="id"><a href="monae.typed_store_model.html#x:211">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id"><a href="monae.monad_transformer.html#MS_bindE">MS_bindE;</a></span> <span class="id">case:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">-[]</span>. Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crunnewgetC" class="id">
  <a name="ModelTypedStore_contd.crunnewgetC" class="">crunnewgetC</a>
</span> (<span id="A:212" class="id">
  <a name="A:212" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="T1:213" class="id">
  <a name="T1:213" class="">T1</a>
</span> <span id="T2:214" class="id">
  <a name="T2:214" class="">T2</a>
</span> (<span id="m:215" class="id">
  <a name="m:215" class="">m</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:212">A</a></span>) (<span id="r:216" class="id">
  <a name="r:216" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#A:212">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T1:213">T1</a></span>)<br/>
&nbsp;&nbsp;(<span id="s:217" class="id">
  <a name="s:217" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#A:212">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T2:214">T2</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:215">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:218" class="id">
  <a name="x:218" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> (<span class="id"><a href="monae.typed_store_model.html#r:216">r</a></span> <span class="id"><a href="monae.typed_store_model.html#x:218">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:215">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:219" class="id">
  <a name="x:219" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnew">cnew</a></span> (<span class="id"><a href="monae.typed_store_model.html#s:217">s</a></span> <span class="id"><a href="monae.typed_store_model.html#x:219">x</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> (<span class="id"><a href="monae.typed_store_model.html#r:216">r</a></span> <span class="id"><a href="monae.typed_store_model.html#x:219">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">!bindA</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">Hm:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">[|[a</span> <span class="id">b]]</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id"><a href="monae.monad_transformer.html#MS_mapE">MS_mapE</a></span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/cget</span>.<br/>
<span class="id">case</span> <span class="id">Hnth:</span> <span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> <span class="id">=&gt;</span> <span class="id">[[]|]</span> <span class="id">//</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#nth_error_rcons_some">nth_error_rcons_some</a></span> <span class="id">_</span> <span class="id">Hnth</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">Hcoe:</span> <span class="id"><a href="monae.monae_lib.html#coerce">coerce</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crungetput" class="id">
  <a name="ModelTypedStore_contd.crungetput" class="">crungetput</a>
</span> (<span id="A:220" class="id">
  <a name="A:220" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span id="T:221" class="id">
  <a name="T:221" class="">T</a>
</span> (<span id="m:222" class="id">
  <a name="m:222" class="">m</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:220">A</a></span>) (<span id="r:223" class="id">
  <a name="r:223" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#A:220">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#loc">loc</a></span> <span class="id"><a href="monae.typed_store_model.html#T:221">T</a></span>) (<span id="s:224" class="id">
  <a name="s:224" class="">s</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#A:220">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.typed_store_model.html#coq_type">coq_type</a></span> <span class="id"><a href="monae.typed_store_model.html#T:221">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:222">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:225" class="id">
  <a name="x:225" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cget">cget</a></span> (<span class="id"><a href="monae.typed_store_model.html#r:223">r</a></span> <span class="id"><a href="monae.typed_store_model.html#x:225">x</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:222">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:226" class="id">
  <a name="x:226" class="">x</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cput">cput</a></span> (<span class="id"><a href="monae.typed_store_model.html#r:223">r</a></span> <span class="id"><a href="monae.typed_store_model.html#x:226">x</a></span>) (<span class="id"><a href="monae.typed_store_model.html#s:224">s</a></span> <span class="id"><a href="monae.typed_store_model.html#x:226">x</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">!bindA</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">Hm:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">[|[a</span> <span class="id">[b]]]</span> <span class="id">//=</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/cget</span> <span class="id">/cput</span> <span class="id">/=</span>.<br/>
<span class="id">case</span> <span class="id">Hnth:</span> <span class="id"><a href="monae.typed_store_model.html#nth_error">nth_error</a></span> <span class="id">=&gt;</span> <span class="id">[[T'</span> <span class="id">v]|]</span> <span class="id">//</span>.<br/>
<span class="id">case:</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqVneq">eqVneq</a></span> <span class="id">T'</span> <span class="id">T</span>) <span class="id">=&gt;</span> <span class="id">T'T;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None//</a></span> <span class="id">1?eq_sym//</span> <span class="id"><a href="monae.monae_lib.html#coerce_None">coerce_None</a></span>.<br/>
<span class="id">subst</span> <span class="id">T'</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!coerce_Some</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="ModelTypedStore_contd.crunmskip" class="id">
  <a name="ModelTypedStore_contd.crunmskip" class="">crunmskip</a>
</span> (<span id="A:227" class="id">
  <a name="A:227" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) (<span id="m:228" class="id">
  <a name="m:228" class="">m</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:227">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> (<span class="id"><a href="monae.typed_store_model.html#m:228">m</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#skip">skip</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crun">crun</a></span> <span class="id"><a href="monae.typed_store_model.html#m:228">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">rewrite</span> <span class="id">/crun</span> <span class="id">/=</span> <span class="id">!bindE</span> <span class="id">/=</span> <span class="id">/bindS</span> <span class="id">!MS_mapE</span> <span class="id">/=</span> <span class="id">!fmapE</span> <span class="id">/=</span> <span class="id">!bindA</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> <span class="id">Hm:</span> (<span class="id">m</span> <span class="id">_</span>) <span class="id">=&gt;</span> <span class="id">[|[]]</span>.<br/>
Qed.</div>
<br/>
<span id="typed_store_model_acto__canonical__hierarchy_Monad" class="id"><span id="HB_unnamed_mixin_5" class="id"><span id="typed_store_model_acto__canonical__hierarchy_Functor" class="id"><span id="HB_unnamed_mixin_4" class="id"><span id="hierarchy_Monad__to__hierarchy_isMonad" class="id"><span id="hierarchy_Monad__to__hierarchy_isFunctor" class="id"><span id="HB_unnamed_factory_1" class="id">
  <a name="typed_store_model_acto__canonical__hierarchy_Monad" class="hierarchy-builder">HB.instance</a>
</span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#Monad.on">Monad.on</a></span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span>.<br/>
<span id="typed_store_model_acto__canonical__hierarchy_MonadTypedStore" class="id"><span id="isMonadTypedStoreModel" class="id">
  <a name="typed_store_model_acto__canonical__hierarchy_MonadTypedStore" class="hierarchy-builder">HB.instance</a>
</span></span> <span class="vernacular">Definition</span> <span class="id">isMonadTypedStoreModel</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#isMonadTypedStore.Build">isMonadTypedStore.Build</a></span> <span class="id">_</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id">_</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnewget">cnewget</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cnewput">cnewput</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetput">cgetput</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetputskip">cgetputskip</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetget">cgetget</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cputget">cputget</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cputput">cputput</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetC">cgetC</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetnewD">cgetnewD</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetnewE">cgetnewE</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cgetputC">cgetputC</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cputC">cputC</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cputgetC">cputgetC</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.cputnewC">cputnewC</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crunret">crunret</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crunskip">crunskip</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crunnew">crunnew</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crunnewgetC">crunnewgetC</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crungetput">crungetput</a></span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd.crunmskip">crunmskip</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Definition</span> <span id="W" class="id">
  <a name="W" class="">W</a>
</span> (<span id="A:229" class="id">
  <a name="A:229" class="">A</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#UU0">UU0</a></span> <span class="id">:=</span> <span class="id"><a href="monae.monad_model.html#option_monad">option_monad</a></span> (<span class="id"><a href="monae.typed_store_model.html#A:229">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="monae.typed_store_model.html#Env">Env</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Restart" class="id">
  <a name="Restart" class="">Restart</a>
</span> <span id="A:230" class="id">
  <a name="A:230" class="">A</a>
</span> <span id="B:231" class="id">
  <a name="B:231" class="">B</a>
</span> (<span id="r:232" class="id">
  <a name="r:232" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#W">W</a></span> <span class="id"><a href="monae.typed_store_model.html#A:230">A</a></span>) (<span id="f:233" class="id">
  <a name="f:233" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#B:231">B</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#W">W</a></span> <span class="id"><a href="monae.typed_store_model.html#B:231">B</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.typed_store_model.html#r:232">r</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id">_,</span> <span class="id">env</span>) <span class="gallina-kwd">then</span> <span class="id"><a href="monae.typed_store_model.html#f:233">f</a></span> <span class="id">env</span> <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="FromW" class="id">
  <a name="FromW" class="">FromW</a>
</span> <span id="A:235" class="id">
  <a name="A:235" class="">A</a>
</span> (<span id="r:236" class="id">
  <a name="r:236" class="">r</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#W">W</a></span> <span class="id"><a href="monae.typed_store_model.html#A:235">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.typed_store_model.html#M">M</a></span> <span class="id"><a href="monae.typed_store_model.html#A:235">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="env:237" class="id">
  <a name="env:237" class="">env</a>
</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.typed_store_model.html#r:236">r</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id">a,</span> <span class="id">_</span>) <span class="gallina-kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> (<span class="id">a,</span> <span class="id"><a href="monae.typed_store_model.html#env:237">env</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.typed_store_model.html#ModelTypedStore_contd">ModelTypedStore_contd</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.typed_store_model.html#W">W</a></span> <span class="id">{MLU}</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
