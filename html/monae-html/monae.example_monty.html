
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monae.example_monty</title>
<meta name="description" content="Documentation of Coq module monae.example_monty" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module monae.example_monty</h1>
<div class="coq">
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Reals.html">Reals</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.micromega.Lra.html">Lra</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssralg.html">ssralg</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.algebra.ssrnum.html">ssrnum</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.mathcomp_extra">mathcomp_extra</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.reals">reals</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct">Rstruct</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">infotheo</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for infotheo.lib.ssrR">ssrR</a></span> <span class="id"><a href="NOTFOUND the module url for infotheo.lib.realType_ext">realType_ext</a></span> <span class="id"><a href="NOTFOUND the module url for infotheo.lib.Reals_ext">Reals_ext</a></span> <span class="id"><a href="NOTFOUND the module url for infotheo.probability.proba">proba</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monae_lib.html">monae_lib</a></span> <span class="id"><a href="monae.hierarchy.html">hierarchy</a></span> <span class="id"><a href="monae.monad_lib.html">monad_lib</a></span> <span class="id"><a href="monae.fail_lib.html">fail_lib</a></span> <span class="id"><a href="monae.proba_lib.html">proba_lib</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                           Monty Hall example                              
                                                                           
Module Set3 == a small theory about sets of three elements                 
  Sample lemma: bcoin13E_pair == matching choices: the elements h and p    
  independently chosen at random will match one third of the time          
                                                                           
Section monty_proba == Monty Hall with the probability monad               
Section monty_nondeter == nondeterministic Monty Hall                      
Section forgetful_monty == with the exceptProbMonad                        
                                                                           
references:                                                                
- J. Gibbons, R. Hinze, Just do it: simple monadic equational reasoning,   
ICFP 2011                                                                  
- J. Gibbons, Unifying Theories of Programming with Monads, UTP 2012       
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="vernacular">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">reals_ext_scope</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Set3" class="id">
  <a name="Set3" class="">Set3</a>
</span>.<br/>
<span class="vernacular">Section</span> <span id="Set3.set3" class="id">
  <a name="Set3.set3" class="">set3</a>
</span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="Set3.set3.X" class="id">
  <a name="Set3.set3.X" class="">X</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#Finite.Exports.finType">finType</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="Set3.set3.X3" class="id">
  <a name="Set3.set3.X3" class="">X3</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#::nat_scope:'#|'_x_'|'">#|X|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">3</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Set3.a" class="id">
  <a name="Set3.a" class="">a</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val">enum_val</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#cast_ord">cast_ord</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X3">X3</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#ord0">ord0</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Set3.b" class="id">
  <a name="Set3.b" class="">b</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val">enum_val</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#cast_ord">cast_ord</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X3">X3</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#lift">lift</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#ord0">ord0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#ord0">ord0</a></span>)).<br/>
<span class="vernacular">Definition</span> <span id="Set3.c" class="id">
  <a name="Set3.c" class="">c</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val">enum_val</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#cast_ord">cast_ord</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X3">X3</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#lift">lift</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#ord0">ord0</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#lift">lift</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#ord0">ord0</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#ord0">ord0</a></span>))).<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.enumE" class="id">
  <a name="Set3.enumE" class="">enumE</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a;</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b;</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">apply</span> (<span class="id">@eq_from_nth</span> <span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-cardE</span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X3">X3</a></span>.<br/>
<span class="id">case=&gt;</span> <span class="id">[_|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X]/=</a></span> <span class="id">{2}/a</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val_nth">enum_val_nth</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>).<br/>
<span class="id">case=&gt;</span> <span class="id">[_|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X]/=</a></span> <span class="id">{1}/b</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val_nth">enum_val_nth</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>).<br/>
<span class="id">case=&gt;</span> <span class="id">[_|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X]/=</a></span> <span class="id">{1}/c</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum_val_nth">enum_val_nth</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>).<br/>
<span class="id">move=&gt;</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id">-cardE</span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X3">X3;</a></span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.a_neq_b" class="id">
  <a name="Set3.a_neq_b" class="">a_neq_b</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">/enum_val_inj</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.a_neq_c" class="id">
  <a name="Set3.a_neq_c" class="">a_neq_c</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="gallina-kwd">by</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">/enum_val_inj</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.b_neq_c" class="id">
  <a name="Set3.b_neq_c" class="">b_neq_c</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="gallina-kwd">by</span> <span class="id">apply/eqP</span> <span class="id">=&gt;</span> <span class="id">/enum_val_inj</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.neq_a" class="id">
  <a name="Set3.neq_a" class="">neq_a</a>
</span> <span id="x:6" class="id">
  <a name="x:6" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#x:6">x</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="monae.example_monty.html#x:6">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id">||</span> (<span class="id"><a href="monae.example_monty.html#x:6">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">[]</span>. <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-mem_enum</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/orP[-&gt;|]</span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.neq_b" class="id">
  <a name="Set3.neq_b" class="">neq_b</a>
</span> <span id="x:7" class="id">
  <a name="x:7" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#x:7">x</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="monae.example_monty.html#x:7">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>) <span class="id">||</span> (<span class="id"><a href="monae.example_monty.html#x:7">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-mem_enum</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/orP[-&gt;</span> <span class="id">//|/orP[]</span> <span class="id">/eqP</span> <span class="id">-&gt;];</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.neq_c" class="id">
  <a name="Set3.neq_c" class="">neq_c</a>
</span> <span id="x:8" class="id">
  <a name="x:8" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#x:8">x</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> (<span class="id"><a href="monae.example_monty.html#x:8">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>) <span class="id">||</span> (<span class="id"><a href="monae.example_monty.html#x:8">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">rewrite</span> <span class="id">-mem_enum</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/orP[-&gt;</span> <span class="id">//|/orP[]</span> <span class="id">/eqP</span> <span class="id">-&gt;];</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="Set3.another" class="id">
  <a name="Set3.another" class="">another</a>
</span> (<span id="h:9" class="id">
  <a name="h:9" class="">h</a>
</span> <span id="p:10" class="id">
  <a name="p:10" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#::form_scope:'['_'pick'_x_'|'_x_'&'_x_']'">[pick</a></span> <span id="d:11" class="id">
  <a name="d:11" class="">d</a>
</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#::form_scope:'['_'pick'_x_'|'_x_'&'_x_']'">|</a></span> <span class="id"><a href="monae.example_monty.html#d:11">d</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#h:9">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#::form_scope:'['_'pick'_x_'|'_x_'&'_x_']'">&amp;</a></span> <span class="id"><a href="monae.example_monty.html#d:11">d</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:10">p]</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_in" class="id">
  <a name="Set3.another_in" class="">another_in</a>
</span> <span id="d:12" class="id">
  <a name="d:12" class="">d</a>
</span> <span id="d':13" class="id">
  <a name="d':13" class="">d'</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#d:12">d</a></span> <span class="id"><a href="monae.example_monty.html#d':13">d'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_ab" class="id">
  <a name="Set3.another_ab" class="">another_ab</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">rewrite</span> <span class="id">/another;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#pickP">pickP</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">[x|]</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//=</span> <span class="id">?andbF</span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_ac" class="id">
  <a name="Set3.another_ac" class="">another_ac</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">rewrite</span> <span class="id">/another;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#pickP">pickP</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">[x|]</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//=</span> <span class="id">?andbF</span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_bc" class="id">
  <a name="Set3.another_bc" class="">another_bc</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">rewrite</span> <span class="id">/another;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#pickP">pickP</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">[x|]</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//=</span> <span class="id">?andbF</span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_sym" class="id">
  <a name="Set3.another_sym" class="">another_sym</a>
</span> <span id="h:14" class="id">
  <a name="h:14" class="">h</a>
</span> <span id="p:15" class="id">
  <a name="p:15" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#h:14">h</a></span> <span class="id"><a href="monae.example_monty.html#p:15">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#p:15">p</a></span> <span class="id"><a href="monae.example_monty.html#h:14">h</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="id">rewrite</span> <span class="id">/another;</span> <span class="id">congr</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt;</a></span> <span class="id">apply</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#eq_pick">eq_pick</a></span> <span class="id">=&gt;</span> <span class="id">?;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbC">andbC</a></span>. Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_notin" class="id">
  <a name="Set3.another_notin" class="">another_notin</a>
</span> <span id="h:16" class="id">
  <a name="h:16" class="">h</a>
</span> <span id="p:17" class="id">
  <a name="p:17" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#h:16">h</a></span> <span class="id"><a href="monae.example_monty.html#p:17">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\notin'_x">\notin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:16">h;</a></span> <span class="id"><a href="monae.example_monty.html#p:17">p]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">rewrite</span> <span class="id">/another;</span> <span class="id">case:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#pickP">pickP</a></span> <span class="id">=&gt;</span> <span class="id">[x</span> <span class="id">/andP[xh</span> <span class="id">xp]|]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">xh</span> <span class="id">xp</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;(<span class="id">have</span> <span class="id">:</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span> <span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">/=</span> <span class="id">?orbT</span> <span class="id">/=</span> <span class="id">?negb_or</span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>.<br/>
<span class="id">move/</span>(<span class="id">_</span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>)<span class="id">;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.filter_another" class="id">
  <a name="Set3.filter_another" class="">filter_another</a>
</span> <span id="h:18" class="id">
  <a name="h:18" class="">h</a>
</span> <span id="p:19" class="id">
  <a name="p:19" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#h:18">h</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:19">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:18">h;</a></span> <span class="id"><a href="monae.example_monty.html#p:19">p]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#h:18">h</a></span> <span class="id"><a href="monae.example_monty.html#p:19">p]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">have</span> <span class="id">:</span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;(<span class="id">have</span> <span class="id">:</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//=</span> <span class="id">!inE</span> <span class="id">?eqxx</span> <span class="id">?orbT</span> <span class="id">/=;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>) <span class="id">?</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>) <span class="id">?</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>) <span class="id">?orbF</span> <span class="id">/=;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) <span class="id">?</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>) <span class="id">/=</span> <span class="id">?</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>) <span class="id">/=;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id">?</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>) <span class="id">/=</span> <span class="id">=&gt;</span> <span class="id">_</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_ab">another_ab</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_ac">another_ac</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ab">another_ab</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_bc">another_bc</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ac">another_ac</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_bc">another_bc</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.another_another" class="id">
  <a name="Set3.another_another" class="">another_another</a>
</span> <span id="p:20" class="id">
  <a name="p:20" class="">p</a>
</span> <span id="h:21" class="id">
  <a name="h:21" class="">h</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#h:21">h</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:20">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#p:20">p</a></span> (<span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#h:21">h</a></span> <span class="id"><a href="monae.example_monty.html#p:20">p</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#h:21">h</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">have</span> <span class="id">:</span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;(<span class="id">have</span> <span class="id">:</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">?another_ab</span> <span class="id">?another_ac</span> <span class="id">?another_bc</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_bc">another_bc</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id"><a href="monae.example_monty.html#Set3.another_ab">another_ab</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ac">another_ac</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ac">another_ac</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) <span class="id"><a href="monae.example_monty.html#Set3.another_ac">another_ac</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ab">another_ab</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) <span class="id"><a href="monae.example_monty.html#Set3.another_bc">another_bc</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ab">another_ab</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.filter1_another" class="id">
  <a name="Set3.filter1_another" class="">filter1_another</a>
</span> <span id="h:22" class="id">
  <a name="h:22" class="">h</a>
</span> <span id="p:23" class="id">
  <a name="p:23" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#h:22">h</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:23">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#p:23">p]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:22">h;</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#h:22">h</a></span> <span class="id"><a href="monae.example_monty.html#p:23">p]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'\/'_x">\/</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#p:23">p]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id"><a href="monae.example_monty.html#h:22">h</a></span> <span class="id"><a href="monae.example_monty.html#p:23">p;</a></span> <span class="id"><a href="monae.example_monty.html#h:22">h]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">have</span> <span class="id">:</span> <span class="id">h</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;(<span class="id">have</span> <span class="id">:</span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">?eqxx</span> <span class="id">//</span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">rewrite</span> <span class="id">?another_ab</span> <span class="id">?another_ac</span> <span class="id">?another_bc</span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!inE</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c;</a></span> <span class="id">left</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!inE</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx;</a></span> <span class="id">left</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!inE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ab">another_ab;</a></span> <span class="id">left</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!inE</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">/=;</span> <span class="gallina-kwd">by</span> <span class="id">right</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!inE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_ac">another_ac;</a></span> <span class="gallina-kwd">by</span> <span class="id">right</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!inE</span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_sym">another_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.another_bc">another_bc;</a></span> <span class="gallina-kwd">by</span> <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.size_filter2" class="id">
  <a name="Set3.size_filter2" class="">size_filter2</a>
</span> <span id="d:24" class="id">
  <a name="d:24" class="">d</a>
</span> <span id="d':25" class="id">
  <a name="d':25" class="">d'</a>
</span> <span class="id">:</span> <span class="id">0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'<'_x">&lt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size">size</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#d:24">d;</a></span> <span class="id"><a href="monae.example_monty.html#d':25">d']</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_filter">size_filter</a></span> <span class="id">-has_count;</span> <span class="id">apply/hasP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id">d</span> <span class="id">d'</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_in">another_in</a></span> <span class="id">|</span> <span class="id">exact:</span> <span class="id"><a href="monae.example_monty.html#Set3.another_notin">another_notin]</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.filter_pred1" class="id">
  <a name="Set3.filter_pred1" class="">filter_pred1</a>
</span> <span id="h:26" class="id">
  <a name="h:26" class="">h</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:26">h]</a></span> <span class="id">!=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_']'">[::]</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">rewrite</span> <span class="id">-has_filter;</span> <span class="id">apply/hasP</span>.<br/>
<span class="gallina-kwd">exists</span> (<span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id">h</span> <span class="id">h</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move:</span> (<span class="id"><a href="monae.example_monty.html#Set3.another_notin">another_notin</a></span> <span class="id">h</span> <span class="id">h</span>)<span class="id">;</span> <span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra;</a></span> <span class="id">rewrite</span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.head_filter" class="id">
  <a name="Set3.head_filter" class="">head_filter</a>
</span> <span id="def:27" class="id">
  <a name="def:27" class="">def</a>
</span> <span id="h:28" class="id">
  <a name="h:28" class="">h</a>
</span> <span id="p:29" class="id">
  <a name="p:29" class="">p</a>
</span> <span id="x:30" class="id">
  <a name="x:30" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#x:30">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:28">h;</a></span> <span class="id"><a href="monae.example_monty.html#p:29">p]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#def:27">def</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:28">h;</a></span> <span class="id"><a href="monae.example_monty.html#p:29">p]</a></span>) <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#x:30">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">xhp</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\notin'_x">\notin</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id">h;</span> <span class="id">p]</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_filter">mem_filter</a></span> <span class="id">xhp</span>.<br/>
<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">{1}&lt;-</span>.<br/>
<span class="id">rewrite</span> <span class="id">-nth0</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_nth">mem_nth</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.ssrnat.html#lt0n">lt0n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#size_eq0">size_eq0</a></span> <span class="id">-has_filter;</span> <span class="id">apply/hasP</span>.<br/>
<span class="gallina-kwd">by</span> <span class="gallina-kwd">exists</span> (<span class="id"><a href="monae.example_monty.html#Set3.another">another</a></span> <span class="id">h</span> <span class="id">p</span>)<span class="id">;</span> <span class="id">[rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span> <span class="id">|</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.another_notin">another_notin]</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">proba_monad_scope</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">mprog</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.uniform_unfold" class="id">
  <a name="Set3.uniform_unfold" class="">uniform_unfold</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> (<span id="P:32" class="id">
  <a name="P:32" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rel">rel</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) <span id="def:33" class="id">
  <a name="def:33" class="">def</a>
</span> <span id="d:34" class="id">
  <a name="d:34" class="">d</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#def:33">def</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:35" class="id">
  <a name="p:35" class="">p</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:32">P</a></span> <span class="id"><a href="monae.example_monty.html#d:34">d</a></span> <span class="id"><a href="monae.example_monty.html#p:35">p</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:32">P</a></span> <span class="id"><a href="monae.example_monty.html#d:34">d</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr|&gt;</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:32">P</a></span> <span class="id"><a href="monae.example_monty.html#d:34">d</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr|&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:32">P</a></span> <span class="id"><a href="monae.example_monty.html#d:34">d</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> <span class="id"><a href="monae.example_monty.html#M:31">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">rewrite</span> <span class="id">[LHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="gallina-kwd">fun</span> <span id="p:38" class="id"><span id="p:37" class="id"><span id="p:36" class="id">
  <a name="p:38" class="">p</a>
</span></span></span> <span class="id">=&gt;</span> <span class="id">P</span> <span class="id">d</span> <span class="id"><a href="monae.example_monty.html#p:36">p</a></span>) (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id">def</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>)))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE;</a></span> <span class="id">bind_ext;</span> <span class="id">case</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id">_</span>)) <span class="id">-</span>(<span class="id"><a href="monae.proba_lib.html#uniform_naturality">uniform_naturality</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.uniform_unfold_pair" class="id">
  <a name="Set3.uniform_unfold_pair" class="">uniform_unfold_pair</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> <span id="def:40" class="id">
  <a name="def:40" class="">def</a>
</span> (<span id="P:41" class="id">
  <a name="P:41" class="">P</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rel">rel</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#def:40">def,</a></span> <span class="id"><a href="monae.example_monty.html#def:40">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:42" class="id">
  <a name="hp:42" class="">hp</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#hp:42">hp</a></span>.<span class="id">1</span> <span class="id"><a href="monae.example_monty.html#hp:42">hp</a></span>.<span class="id">2</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">9</span>)<span class="id">%coqR%:pr|&gt;</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">8</span>)<span class="id">%coqR%:pr|&gt;</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">7</span>)<span class="id">%coqR%:pr|&gt;</span><br/>
&nbsp;(<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">6</span>)<span class="id">%coqR%:pr|&gt;</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">5</span>)<span class="id">%coqR%:pr|&gt;</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">4</span>)<span class="id">%coqR%:pr|&gt;</span><br/>
&nbsp;(<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a">a</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr|&gt;</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr|&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#P:41">P</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>)))))))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> <span class="id"><a href="monae.example_monty.html#M:39">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
<span class="id">rewrite</span> <span class="id">[LHS]</span>(<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id">P</span>) (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id">def,</span> <span class="id">def</span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>))))<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE;</a></span> <span class="id">bind_ext;</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compE">compE</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id">_</span>)) <span class="id">-</span>(<span class="id"><a href="monae.proba_lib.html#uniform_naturality">uniform_naturality</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id"><a href="monae.example_monty.html#Set3.enumE">enumE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.bcoin13E_pair" class="id">
  <a name="Set3.bcoin13E_pair" class="">bcoin13E_pair</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> <span id="def:44" class="id">
  <a name="def:44" class="">def</a>
</span> (<span id="f:45" class="id">
  <a name="f:45" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#M:43">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#def:44">def,</a></span> <span class="id"><a href="monae.example_monty.html#def:44">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:46" class="id">
  <a name="hp:46" class="">hp</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#f:45">f</a></span> (<span class="id"><a href="monae.example_monty.html#hp:46">hp</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#hp:46">hp</a></span>.<span class="id">2</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#f:45">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id">def,</span> <span class="id">def</span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:48" class="id"><span id="hp:47" class="id">
  <a name="hp:48" class="">hp</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#hp:47">hp</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#hp:47">hp</a></span>.<span class="id">2</span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[h</span> <span class="id">p]</span> <span class="id">/=;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-bindA</span> <span class="id"><a href="monae.example_monty.html#Set3.uniform_unfold_pair">uniform_unfold_pair</a></span> <span class="id">!eqxx</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>).<br/>
<span class="id">rewrite</span> <span class="id">2!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#choiceA_compute">choiceA_compute</a></span> <span class="id">/=</span> <span class="id">-uFFTE</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="Set3.bcoin23E_pair" class="id">
  <a name="Set3.bcoin23E_pair" class="">bcoin23E_pair</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> <span id="def:50" class="id">
  <a name="def:50" class="">def</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#def:50">def,</a></span> <span class="id"><a href="monae.example_monty.html#def:50">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:51" class="id">
  <a name="hp:51" class="">hp</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#hp:51">hp</a></span>.<span class="id">1</span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#hp:51">hp</a></span>.<span class="id">2</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR</span>.<span class="id">~%:pr</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> <span class="id"><a href="monae.example_monty.html#M:49">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
<span class="id">pose</span> <span class="id">P</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:52" class="id">
  <a name="a:52" class="">a</a>
</span> <span id="b:53" class="id">
  <a name="b:53" class="">b</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#a:52">a</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#b:53">b</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id">def,</span> <span class="id">def</span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>) (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#Set3.set3.X">X</a></span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="hp:55" class="id"><span id="hp:54" class="id">
  <a name="hp:55" class="">hp</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">P</span> <span class="id"><a href="monae.example_monty.html#hp:54">hp</a></span>.<span class="id">1</span> <span class="id"><a href="monae.example_monty.html#hp:54">hp</a></span>.<span class="id">2</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">M</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">bind_ext</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#Set3.uniform_unfold_pair">uniform_unfold_pair</a></span> <span class="id">{}/P</span> <span class="id">!eqxx</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b">b</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_b">a_neq_b</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>).<br/>
<span class="id">rewrite</span> <span class="id">2!</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#Set3.c">c</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.a_neq_c">a_neq_c</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id"><a href="monae.example_monty.html#Set3.b_neq_c">b_neq_c</a></span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#choiceA_compute">choiceA_compute</a></span> <span class="id">/=</span> <span class="id">-uTTFE</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="vernacular">Close</span> <span class="vernacular">Scope</span> <span class="id">mprog</span>.<br/>
<span class="id">Local</span> <span class="vernacular">Close</span> <span class="vernacular">Scope</span> <span class="id">proba_monad_scope</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_monty.html#Set3.set3">set3</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_monty.html#Set3">Set3</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="monty" class="id">
  <a name="monty" class="">monty</a>
</span>.<br/>
<span class="vernacular">Variable</span> <span id="monty.door" class="id">
  <a name="monty.door" class="">door</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#Finite.Exports.finType">finType</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="monty.card_door" class="id">
  <a name="monty.card_door" class="">card_door</a>
</span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#::nat_scope:'#|'_x_'|'">#|door|</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">3%nat</span>.<br/>
<span class="vernacular">Let</span> <span id="monty.A" class="id">
  <a name="monty.A" class="">A</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#a">Set3.a</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span>.<br/>
<span class="vernacular">Let</span> <span id="monty.B" class="id">
  <a name="monty.B" class="">B</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#b">Set3.b</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span>.<br/>
<span class="vernacular">Let</span> <span id="monty.C" class="id">
  <a name="monty.C" class="">C</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#c">Set3.c</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span>.<br/>
<span class="vernacular">Let</span> <span id="monty.doors" class="id">
  <a name="monty.doors" class="">doors</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#enum">enum</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="monty" class="id">
  <a name="monty" class="">monty</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad}</a></span> (<span id="hide:59" class="id">
  <a name="hide:59" class="">hide</a>
</span> <span id="pick:60" class="id">
  <a name="pick:60" class="">pick</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#M:58">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>)<br/>
&nbsp;&nbsp;(<span id="tease:61" class="id">
  <a name="tease:61" class="">tease</a>
</span> <span id="strategy:62" class="id">
  <a name="strategy:62" class="">strategy</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#M:58">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="h:63" class="id">
  <a name="h:63" class="">h</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#hide:59">hide</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:64" class="id">
  <a name="p:64" class="">p</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick:60">pick</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="t:65" class="id">
  <a name="t:65" class="">t</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#tease:61">tease</a></span> <span class="id"><a href="monae.example_monty.html#h:63">h</a></span> <span class="id"><a href="monae.example_monty.html#p:64">p</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="s:66" class="id">
  <a name="s:66" class="">s</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#strategy:62">strategy</a></span> <span class="id"><a href="monae.example_monty.html#p:64">p</a></span> <span class="id"><a href="monae.example_monty.html#t:65">t</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#s:66">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#h:63">h</a></span>))<span class="id">%Do</span>.<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">proba_monad_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="monty.monty_proba" class="id">
  <a name="monty.monty_proba" class="">monty_proba</a>
</span>.<br/>
<span class="vernacular">Variable</span> <span id="monty.monty_proba.def" class="id">
  <a name="monty.monty_proba.def" class="">def</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="hide" class="id">
  <a name="hide" class="">hide</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#M:68">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="pick" class="id">
  <a name="pick" class="">pick</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#M:69">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="tease" class="id">
  <a name="tease" class="">tease</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType}</a></span> (<span id="h:71" class="id">
  <a name="h:71" class="">h</a>
</span> <span id="p:72" class="id">
  <a name="p:72" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#M:70">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:71">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">;</a></span> <span class="id"><a href="monae.example_monty.html#p:72">p]</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="switch" class="id">
  <a name="switch" class="">switch</a>
</span> <span class="id">{N</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad}</a></span> (<span id="p:74" class="id">
  <a name="p:74" class="">p</a>
</span> <span id="t:75" class="id">
  <a name="t:75" class="">t</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#N:73">N</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#p:74">p</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">;</a></span> <span class="id"><a href="monae.example_monty.html#t:75">t]</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="stick" class="id">
  <a name="stick" class="">stick</a>
</span> <span class="id">{N</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#Monad.Exports.monad">monad}</a></span> (<span id="p:77" class="id">
  <a name="p:77" class="">p</a>
</span> <span id="t:78" class="id">
  <a name="t:78" class="">t</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#N:76">N</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#p:77">p</a></span>.<br/>
<br/>
<span class="vernacular">Context</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadProb.Exports.probMonad">probMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.reals#Real.Exports.::form_scope:'['_'realType'_'of'_x_']'">[realType</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R">R]}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="play" class="id">
  <a name="play" class="">play</a>
</span> (<span id="strategy:80" class="id">
  <a name="strategy:80" class="">strategy</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#monty">monty</a></span> <span class="id"><a href="monae.example_monty.html#hide">hide</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#tease">tease</a></span> <span class="id"><a href="monae.example_monty.html#strategy:80">strategy</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="play_strategy" class="id">
  <a name="play_strategy" class="">play_strategy</a>
</span> <span id="strategy:81" class="id">
  <a name="strategy:81" class="">strategy</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#play">play</a></span> <span class="id"><a href="monae.example_monty.html#strategy:81">strategy</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="hp:82" class="id">
  <a name="hp:82" class="">hp</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:83" class="id">
  <a name="h:83" class="">h</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#hp:82">hp</a></span>.<span class="id">1</span> <span class="gallina-kwd">in</span> <span class="gallina-kwd">let</span> <span id="p:84" class="id">
  <a name="p:84" class="">p</a>
</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#hp:82">hp</a></span>.<span class="id">2</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="t:85" class="id">
  <a name="t:85" class="">t</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#tease">tease</a></span> <span class="id"><a href="monae.example_monty.html#h:83">h</a></span> <span class="id"><a href="monae.example_monty.html#p:84">p</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="s:86" class="id">
  <a name="s:86" class="">s</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#strategy:81">strategy</a></span> <span class="id"><a href="monae.example_monty.html#p:84">p</a></span> <span class="id"><a href="monae.example_monty.html#t:85">t;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#s:86">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#h:83">h</a></span>))<span class="id">%Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="id">rewrite</span> <span class="id">-mpair_uniform;</span> <span class="id">last</span> <span class="id">2</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/doors</span> <span class="id"><a href="monae.example_monty.html#enumE">Set3.enumE</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/doors</span> <span class="id"><a href="monae.example_monty.html#enumE">Set3.enumE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/play</span> <span class="id">/monty</span> <span class="id">/mpair</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[RHS]eq_bind</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="hide_pickE" class="id">
  <a name="hide_pickE" class="">hide_pickE</a>
</span> <span id="D:87" class="id">
  <a name="D:87" class="">D</a>
</span> (<span id="f:88" class="id">
  <a name="f:88" class="">f</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id"><a href="monae.example_monty.html#D:87">D</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#hide">hide</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:89" class="id">
  <a name="h:89" class="">h</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#f:88">f</a></span> <span class="id"><a href="monae.example_monty.html#h:89">h</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:90" class="id">
  <a name="hp:90" class="">hp</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#f:88">f</a></span> <span class="id"><a href="monae.example_monty.html#hp:90">hp</a></span>.<span class="id">1</span> <span class="id"><a href="monae.example_monty.html#hp:90">hp</a></span>.<span class="id">2</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
<span class="id">transitivity</span> (<span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> (<span class="id"><a href="monae.example_monty.html#hide">hide,</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:92" class="id"><span id="hp:91" class="id">
  <a name="hp:92" class="">hp</a>
</span></span> <span class="id">=&gt;</span> <span class="id">f</span> <span class="id"><a href="monae.example_monty.html#hp:91">hp</a></span>.<span class="id">1</span> <span class="id"><a href="monae.example_monty.html#hp:91">hp</a></span>.<span class="id">2</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">under</span> <span class="id">[RHS]eq_bind</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#mpair_uniform">mpair_uniform</a></span> <span class="id">//</span> <span class="id">/doors</span> <span class="id"><a href="monae.example_monty.html#enumE">Set3.enumE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="play_stick" class="id">
  <a name="play_stick" class="">play_stick</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#play">play</a></span> <span class="id"><a href="monae.example_monty.html#stick">stick</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">rewrite</span> <span class="id">{1}/play</span> <span class="id">{1}/monty</span> <span class="id"><a href="monae.example_monty.html#hide_pickE">hide_pickE</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="hp:97" class="id"><span id="hp:93" class="id">
  <a name="hp:97" class="">hp</a>
</span></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>)<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:98" class="id"><span id="h:94" class="id">
  <a name="h:98" class="">h</a>
</span></span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#hp:93">hp</a></span>.<span class="id">1</span> <span class="gallina-kwd">in</span> <span class="gallina-kwd">let</span> <span id="p:99" class="id"><span id="p:95" class="id">
  <a name="p:99" class="">p</a>
</span></span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#hp:93">hp</a></span>.<span class="id">2</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="t:100" class="id"><span id="t:96" class="id">
  <a name="t:100" class="">t</a>
</span></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#tease">tease</a></span> <span class="id"><a href="monae.example_monty.html#h:94">h</a></span> <span class="id"><a href="monae.example_monty.html#p:95">p</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#p:95">p</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#h:94">h</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id">_</span>)<span class="id">%Do</span>.<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:104" class="id"><span id="hp:101" class="id">
  <a name="hp:104" class="">hp</a>
</span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="h:105" class="id"><span id="h:102" class="id">
  <a name="h:105" class="">h</a>
</span></span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#hp:101">hp</a></span>.<span class="id">1</span> <span class="gallina-kwd">in</span> <span class="gallina-kwd">let</span> <span id="p:106" class="id"><span id="p:103" class="id">
  <a name="p:106" class="">p</a>
</span></span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#hp:101">hp</a></span>.<span class="id">2</span> <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:102">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#p:103">p</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;t&nbsp;unused&nbsp;and&nbsp;uniform&nbsp;side&nbsp;effect-free,&nbsp;so&nbsp;tease&nbsp;can&nbsp;be&nbsp;eliminated&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[x1</span> <span class="id">x2]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/tease</span> <span class="id"><a href="monae.proba_lib.html#uniform_inde">uniform_inde</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#bcoin13E_pair">Set3.bcoin13E_pair</a></span> <span class="id">//</span> <span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="play_switch" class="id">
  <a name="play_switch" class="">play_switch</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#play">play</a></span> <span class="id"><a href="monae.example_monty.html#switch">switch</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR</span>.<span class="id">~%:pr</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">rewrite</span> <span class="id">{1}/play</span> <span class="id">{1}/monty</span> <span class="id"><a href="monae.example_monty.html#hide_pickE">hide_pickE</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="hp:109" class="id"><span id="hp:107" class="id">
  <a name="hp:109" class="">hp</a>
</span></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>)<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="t:110" class="id"><span id="t:108" class="id">
  <a name="t:110" class="">t</a>
</span></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#tease">tease</a></span> <span class="id"><a href="monae.example_monty.html#hp:107">hp</a></span>.<span class="id">1</span> <span class="id"><a href="monae.example_monty.html#hp:107">hp</a></span>.<span class="id">2;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> ((<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#hp:107">hp</a></span>.<span class="id">2;</span> <span class="id"><a href="monae.example_monty.html#t:108">t]</a></span>)) <span class="id">==</span> <span class="id"><a href="monae.example_monty.html#hp:107">hp</a></span>.<span class="id">1</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id">_</span>)<span class="id">%Do</span>.<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[h</span> <span class="id">p]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">[_</span>.<span class="id">1]/=</span> <span class="id">[_</span>.<span class="id">2]/=;</span> <span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:112" class="id"><span id="hp:111" class="id">
  <a name="hp:112" class="">hp</a>
</span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#hp:111">hp</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#hp:111">hp</a></span>.<span class="id">2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[h</span> <span class="id">p]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[_</span>.<span class="id">1]/=</span> <span class="id">[_</span>.<span class="id">2]/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/eqP|]</span> <span class="id">hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-{2}hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">With</span> (<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>)) <span class="vernacular">Open</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#X:113">X</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negbTE/</span>(<span class="id"><a href="monae.example_monty.html#head_filter">Set3.head_filter</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.finset.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/tease</span> <span class="id"><a href="monae.proba_lib.html#uniform_inde">uniform_inde</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/tease</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;could&nbsp;be&nbsp;cleaner&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_singl">uniform_singl</a></span> <span class="id">//</span> <span class="id">-/</span>(<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id">_</span>) <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id">h</span>) <span class="id">?eqxx</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span> <span class="id">/=;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.example_monty.html#another_notin">Set3.another_notin</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span> <span class="id">h</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_];</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#another_another">Set3.another_another</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="hp:115" class="id"><span id="hp:114" class="id">
  <a name="hp:115" class="">hp</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#hp:114">hp</a></span>.<span class="id">1</span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#hp:114">hp</a></span>.<span class="id">2</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[h</span> <span class="id">p];</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
<span class="id">exact:</span> <span class="id"><a href="monae.example_monty.html#bcoin23E_pair">Set3.bcoin23E_pair</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_monty.html#monty.monty_proba">monty_proba</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="monty.monty_nondeter" class="id">
  <a name="monty.monty_nondeter" class="">monty_nondeter</a>
</span>.<br/>
<span class="vernacular">Variables</span> <span id="monty.monty_nondeter.def" class="id">
  <a name="monty.monty_nondeter.def" class="">def</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="hide_n" class="id">
  <a name="hide_n" class="">hide_n</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad}</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#M:117">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span> <span class="id"><a href="monae.fail_lib.html#arbitrary">arbitrary</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="tease_n" class="id">
  <a name="tease_n" class="">tease_n</a>
</span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadAlt.Exports.altMonad">altMonad}</a></span> (<span id="h:119" class="id">
  <a name="h:119" class="">h</a>
</span> <span id="p:120" class="id">
  <a name="p:120" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#M:118">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.fail_lib.html#arbitrary">arbitrary</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:119">h;</a></span> <span class="id"><a href="monae.example_monty.html#p:120">p]</a></span>).<br/>
<br/>
<span class="vernacular">Variable</span> <span id="monty.monty_nondeter.M" class="id">
  <a name="monty.monty_nondeter.M" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadAltProb.Exports.altProbMonad">altProbMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="play_n" class="id">
  <a name="play_n" class="">play_n</a>
</span> (<span id="strategy:122" class="id">
  <a name="strategy:122" class="">strategy</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#monty">monty</a></span> <span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> (<span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="monae.example_monty.html#tease_n">tease_n</a></span> <span class="id"><a href="monae.example_monty.html#strategy:122">strategy</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="monty_choice_your_choice_combine" class="id">
  <a name="monty_choice_your_choice_combine" class="">monty_choice_your_choice_combine</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="h:123" class="id">
  <a name="h:123" class="">h</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:124" class="id">
  <a name="p:124" class="">p</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:123">h,</a></span> <span class="id"><a href="monae.example_monty.html#p:124">p</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:125" class="id">
  <a name="p:125" class="">p</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#monty.A">A,</a></span> <span class="id"><a href="monae.example_monty.html#p:125">p</a></span>)) <span class="id">[~]</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:126" class="id">
  <a name="p:126" class="">p</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#monty.B">B,</a></span> <span class="id"><a href="monae.example_monty.html#p:126">p</a></span>)) <span class="id"><a href="monae.hierarchy.html#:::x_'[~]'_x">[~]</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:127" class="id">
  <a name="p:127" class="">p</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#monty.C">C,</a></span> <span class="id"><a href="monae.example_monty.html#p:127">p</a></span>)))<span class="id">%Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">pose</span> <span class="id">k</span> (<span id="h:129" class="id"><span id="h:128" class="id">
  <a name="h:129" class="">h</a>
</span></span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:130" class="id">
  <a name="p:130" class="">p</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:129">h,</a></span> <span class="id"><a href="monae.example_monty.html#p:130">p</a></span>)).<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id">k</span>)<span class="id">;</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#monty.A">A</a></span> <span class="id"><a href="monae.hierarchy.html#:::x_'[~]'_x">[~]</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#monty.B">B</a></span> <span class="id"><a href="monae.hierarchy.html#:::x_'[~]'_x">[~]</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#monty.C">C</a></span>) <span class="id">&gt;&gt;=</span> <span class="id">k</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/hide_n</span> <span class="id">/doors</span> <span class="id"><a href="monae.example_monty.html#enumE">Set3.enumE</a></span> <span class="id">/arbitrary</span> <span class="id">/foldr1</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/=</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]altA</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]altC</a></span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]altA</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!alt_bindDl</span> <span class="id">3!bindretf</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Let</span> <span id="monty.monty_nondeter.try" class="id">
  <a name="monty.monty_nondeter.try" class="">try</a>
</span> (<span id="d:131" class="id">
  <a name="d:131" class="">d</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:132" class="id">
  <a name="p:132" class="">p</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#d:131">d,</a></span> <span class="id"><a href="monae.example_monty.html#p:132">p</a></span>)).<br/>
<br/>
<span class="id">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">mprog</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="try_uFFT" class="id">
  <a name="try_uFFT" class="">try_uFFT</a>
</span> <span id="d:133" class="id">
  <a name="d:133" class="">d</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (<span class="gallina-kwd">fun</span> <span id="a:134" class="id">
  <a name="a:134" class="">a</a>
</span> <span id="b:135" class="id">
  <a name="b:135" class="">b</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#a:134">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#b:135">b</a></span>)) (<span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.try">try</a></span> <span class="id"><a href="monae.example_monty.html#d:133">d</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.proba_lib.html#uFFT">uFFT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span> <span class="id">/try</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/pick</span> <span class="id">/monty</span>.<span class="id">pick</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#monty.A">A</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#monty.B">B</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#monty.C">C</a></span>)) <span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span id="p:137" class="id"><span id="p:136" class="id">
  <a name="p:137" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">d</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#p:136">p</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">congr</span> <span class="id"><a href="monae.hierarchy.html#bind">bind;</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/doors</span> <span class="id"><a href="monae.example_monty.html#enumE">Set3.enumE</a></span> <span class="id">2!uniform_cons</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!choice_bindDl</span> <span class="id">3!bindretf</span>.<br/>
<span class="id">rewrite</span> <span class="id">/uFFT</span> <span class="id">2!uniform_cons</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_singl">uniform_singl</a></span> <span class="id">//</span> <span class="id">[head</span> <span class="id">_</span> <span class="id">_]/=</span>.<br/>
<span class="id">have</span> <span class="id">:</span> <span class="id">d</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#::bool_scope:x_'\in'_x">\in</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.fintype.html#mem_enum">mem_enum</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/doors</span> <span class="id"><a href="monae.example_monty.html#enumE">Set3.enumE</a></span> <span class="id">!inE</span> <span class="id">=&gt;</span> <span class="id">/or3P[]</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> (<span class="id"><a href="monae.example_monty.html#a_neq_b">Set3.a_neq_b</a></span> <span class="id">_</span>)) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> (<span class="id"><a href="monae.example_monty.html#a_neq_c">Set3.a_neq_c</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choiceC">choiceC</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="monae.hierarchy.html#choiceA_alternative">choiceA_alternative</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/onem;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-RmultE</span> <span class="id">-RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-RmultE</span> <span class="id">-!RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> (<span class="id"><a href="monae.example_monty.html#a_neq_b">Set3.a_neq_b</a></span> <span class="id">_</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> (<span class="id"><a href="monae.example_monty.html#b_neq_c">Set3.b_neq_c</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choiceC">choiceC</a></span> (<span class="id">@choice_ext</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span>) <span class="id">//=</span> <span class="id">/onem</span>.<br/>
&nbsp;&nbsp;<span class="id">congr</span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="id">apply/val_inj</span> <span class="id">=&gt;</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> (<span class="id"><a href="monae.example_monty.html#a_neq_c">Set3.a_neq_c</a></span> <span class="id">_</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> (<span class="id"><a href="monae.example_monty.html#b_neq_c">Set3.b_neq_c</a></span> <span class="id">_</span>)) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="hide_pick_nondeter" class="id">
  <a name="hide_pick_nondeter" class="">hide_pick_nondeter</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="h:138" class="id">
  <a name="h:138" class="">h</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#hide_n">hide_n;</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:139" class="id">
  <a name="p:139" class="">p</a>
</span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:138">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#p:139">p</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.proba_lib.html#uFFT">uFFT</a></span>)<span class="id">%Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (<span class="gallina-kwd">fun</span> <span id="a:144" class="id"><span id="a:140" class="id">
  <a name="a:144" class="">a</a>
</span></span> <span id="b:145" class="id"><span id="b:141" class="id">
  <a name="b:145" class="">b</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#a:140">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#b:141">b</a></span>))<br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="h:146" class="id"><span id="h:142" class="id">
  <a name="h:146" class="">h</a>
</span></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#hide_n">hide_n;</a></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">do</a></span> <span id="p:147" class="id"><span id="p:143" class="id">
  <a name="p:147" class="">p</a>
</span></span> <span class="id"><a href="monae.hierarchy.html#::do_notation:'do'_x_'<-'_x_';'_x">&lt;-</a></span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:142">h,</a></span> <span class="id"><a href="monae.example_monty.html#p:143">p</a></span>)))<span class="id">%Do</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span> <span class="id">!bindA;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">y1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!bindA;</span> <span class="id">under</span> <span class="id">[RHS]eq_bind</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#monty_choice_your_choice_combine">monty_choice_your_choice_combine</a></span> <span class="id">-!/</span>(<span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.try">try</a></span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!alt_fmapDr</span> <span class="id">!try_uFFT</span> <span class="id">2!altmm</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="monty_stick" class="id">
  <a name="monty_stick" class="">monty_stick</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#play_n">play_n</a></span> <span class="id"><a href="monae.example_monty.html#stick">stick</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">rewrite</span> <span class="id">/play_n</span> <span class="id">/monty</span> <span class="id">/stick</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:150" class="id"><span id="h:148" class="id">
  <a name="h:150" class="">h</a>
</span></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>) <span class="id">&gt;&gt;=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="p:151" class="id"><span id="p:149" class="id">
  <a name="p:151" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#tease_n">tease_n</a></span> <span class="id"><a href="monae.example_monty.html#h:148">h</a></span> <span class="id"><a href="monae.example_monty.html#p:149">p</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#p:149">p</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#h:148">h</a></span>)))).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">d;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">d';</span> <span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:154" class="id"><span id="h:152" class="id">
  <a name="h:154" class="">h</a>
</span></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>) <span class="id">&gt;&gt;=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="p:155" class="id"><span id="p:153" class="id">
  <a name="p:155" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:152">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#p:153">p</a></span>)))).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">d;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">d'</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.fail_lib.html#arbitrary_inde">arbitrary_inde</a></span> <span class="id">//</span> <span class="id">1?eq_sym</span> <span class="id">//</span> <span class="id"><a href="monae.example_monty.html#size_filter2">Set3.size_filter2</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#hide_pick_nondeter">hide_pick_nondeter</a></span> <span class="id"><a href="monae.proba_lib.html#uFFTE">uFFTE</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="bcoin23E" class="id">
  <a name="bcoin23E" class="">bcoin23E</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.fail_lib.html#arbitrary">arbitrary</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:156" class="id">
  <a name="h:156" class="">h</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:157" class="id">
  <a name="p:157" class="">p</a>
</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:156">h</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:157">p</a></span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR</span>.<span class="id">~%:pr</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">transitivity</span> (<span class="id"><a href="monae.fail_lib.html#arbitrary">arbitrary</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:161" class="id"><span id="h:158" class="id">
  <a name="h:161" class="">h</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="p:162" class="id"><span id="p:159" class="id">
  <a name="p:162" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:158">h,</a></span> <span class="id"><a href="monae.example_monty.html#p:159">p</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:163" class="id"><span id="x:160" class="id">
  <a name="x:163" class="">x</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#x:160">x</a></span>.<span class="id">1</span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#x:160">x</a></span>.<span class="id">2</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>)))).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">h;</span> <span class="id">under</span> <span class="id">[RHS]eq_bind</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.fail_lib.html#arbitrary">arbitrary</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:167" class="id"><span id="h:164" class="id">
  <a name="h:167" class="">h</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="p:168" class="id"><span id="p:165" class="id">
  <a name="p:168" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:164">h,</a></span> <span class="id"><a href="monae.example_monty.html#p:165">p</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>))) <span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span id="x:169" class="id"><span id="x:166" class="id">
  <a name="x:169" class="">x</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#x:166">x</a></span>.<span class="id">1</span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#x:166">x</a></span>.<span class="id">2</span>))).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">under</span> <span class="id">[RHS]eq_bind</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#monty_choice_your_choice_combine">monty_choice_your_choice_combine</a></span> <span class="id">/pick</span> <span class="id">/monty</span>.<span class="id">pick</span> <span class="id">2!alt_bindDl</span>.<br/>
<span class="id">have</span> <span class="id">K</span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="D:170" class="id">
  <a name="D:170" class="">D,</a>
</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:171" class="id">
  <a name="p:171" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#D:170">D,</a></span> <span class="id"><a href="monae.example_monty.html#p:171">p</a></span>))) <span class="id">&gt;&gt;=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:172" class="id">
  <a name="x:172" class="">x</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x">*</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#x:172">x</a></span>.<span class="id">1</span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#x:172">x</a></span>.<span class="id">2</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:173" class="id">
  <a name="p:173" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#D:170">D</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:173">p</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x_':>'_x">:&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">D;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">3!K</span> <span class="id">!</span>(<span class="id">@Set3</span>.<span class="id">uniform_unfold</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="a:184" class="id"><span id="a:182" class="id"><span id="a:180" class="id"><span id="a:178" class="id"><span id="a:176" class="id"><span id="a:174" class="id">
  <a name="a:184" class="">a</a>
</span></span></span></span></span></span> <span id="b:185" class="id"><span id="b:183" class="id"><span id="b:181" class="id"><span id="b:179" class="id"><span id="b:177" class="id"><span id="b:175" class="id">
  <a name="b:185" class="">b</a>
</span></span></span></span></span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#a:174">a</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#b:175">b</a></span>)) <span class="id">!eqxx</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#a_neq_b">Set3.a_neq_b</a></span> <span class="id"><a href="monae.example_monty.html#b_neq_c">Set3.b_neq_c</a></span> <span class="id"><a href="monae.example_monty.html#a_neq_c">Set3.a_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#a_neq_b">Set3.a_neq_b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#a_neq_c">Set3.a_neq_c</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#b_neq_c">Set3.b_neq_c</a></span> <span class="id"><a href="monae.hierarchy.html#choicemm">choicemm</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">@choiceC</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/2</a></span>)<span class="id">%coqR%:pr</span>).<br/>
<span class="id">rewrite</span> (<span class="id">@choiceA_alternative</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR</span>.<span class="id">~%:pr</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/onem</span> <span class="id">/=;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-RmultE</span> <span class="id">-RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-RmultE</span> <span class="id">-!RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choicemm">choicemm</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">@choiceA_alternative</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR</span>.<span class="id">~%:pr</span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/onem</span> <span class="id">/=;</span> <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-RmultE</span> <span class="id">-RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-RmultE</span> <span class="id">-!RminusE</span> <span class="id">-R1E;</span> <span class="id">field</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choicemm">choicemm</a></span> <span class="id"><a href="monae.hierarchy.html#choiceC">choiceC</a></span> <span class="id">/=</span> <span class="id">2!altmm</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="monty_switch" class="id">
  <a name="monty_switch" class="">monty_switch</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#play_n">play_n</a></span> (<span class="id"><a href="monae.example_monty.html#switch">switch</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.proba_lib.html#bcoin">bcoin</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR</span>.<span class="id">~%:pr</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">rewrite</span> <span class="id">{1}/play_n</span> <span class="id">{1}/monty</span> <span class="id">/switch</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:189" class="id"><span id="h:186" class="id">
  <a name="h:189" class="">h</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:190" class="id"><span id="p:187" class="id">
  <a name="p:190" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#tease_n">tease_n</a></span> <span class="id"><a href="monae.example_monty.html#h:186">h</a></span> <span class="id"><a href="monae.example_monty.html#p:187">p</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span id="t:191" class="id"><span id="t:188" class="id">
  <a name="t:191" class="">t</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:186">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#p:187">p;</a></span> <span class="id"><a href="monae.example_monty.html#t:188">t]</a></span>))))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">d;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">d';</span> <span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:194" class="id"><span id="h:192" class="id">
  <a name="h:194" class="">h</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:195" class="id"><span id="p:193" class="id">
  <a name="p:195" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#tease_n">tease_n</a></span> <span class="id"><a href="monae.example_monty.html#h:192">h</a></span> <span class="id"><a href="monae.example_monty.html#p:193">p</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">&gt;&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#h:192">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#p:193">p</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">h;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">p;</span> <span class="id">rewrite</span> <span class="id">/tease_n</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/eqP|]</span> <span class="id">hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-{2}hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">With</span> (<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>)) <span class="vernacular">Open</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#X:196">X</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply/negbTE;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym;</a></span> <span class="id">apply/</span>(<span class="id"><a href="monae.example_monty.html#head_filter">Set3.head_filter</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.finset.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.fail_lib.html#arbitrary_inde">arbitrary_inde</a></span> <span class="id">//</span> <span class="id"><a href="monae.example_monty.html#size_filter2">Set3.size_filter2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span> <span class="id">//</span> <span class="id">!arbitrary1</span> <span class="id">2!bindretf</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span> <span class="id">//;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.example_monty.html#another_notin">Set3.another_notin</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span> <span class="id">h</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">!inE</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negb_or">negb_or</a></span> <span class="id">=&gt;</span> <span class="id">/andP[_];</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#another_another">Set3.another_another</a></span> <span class="id">//=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.example_monty.html#hide_n">hide_n</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="h:199" class="id"><span id="h:197" class="id">
  <a name="h:199" class="">h</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.def">def</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="p:200" class="id"><span id="p:198" class="id">
  <a name="p:200" class="">p</a>
</span></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_monty.html#h:197">h</a></span> <span class="id">!=</span> <span class="id"><a href="monae.example_monty.html#p:198">p</a></span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">h;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/tease_n</span> <span class="id"><a href="monae.fail_lib.html#arbitrary_inde">arbitrary_inde</a></span> <span class="id">?Set3</span>.<span class="id">size_filter2</span> <span class="id">//;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/hide_n</span> <span class="id">/pick</span> <span class="id">/monty</span>.<span class="id">pick</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#bcoin23E">bcoin23E</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_monty.html#monty.monty_nondeter">monty_nondeter</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="monty.forgetful_monty" class="id">
  <a name="monty.forgetful_monty" class="">forgetful_monty</a>
</span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="monty.forgetful_monty.M" class="id">
  <a name="monty.forgetful_monty.M" class="">M</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadExceptProb.Exports.exceptProbMonad">exceptProbMonad</a></span> <span class="id"><a href="NOTFOUND the module url for mathcomp.analysis.Rstruct#real_realType">real_realType</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="monty.forgetful_monty.def" class="id">
  <a name="monty.forgetful_monty.def" class="">def</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="tease_f" class="id">
  <a name="tease_f" class="">tease_f</a>
</span> (<span id="h:203" class="id">
  <a name="h:203" class="">h</a>
</span> <span id="p:204" class="id">
  <a name="p:204" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#p:204">p]</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="t:205" class="id">
  <a name="t:205" class="">t</a>
</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#t:205">t</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#h:203">h</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#t:205">t</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="play_f" class="id">
  <a name="play_f" class="">play_f</a>
</span> (<span id="strategy:206" class="id">
  <a name="strategy:206" class="">strategy</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x">-&gt;</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#monty">monty</a></span> (<span class="id"><a href="monae.example_monty.html#hide">hide</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span>) (<span class="id"><a href="monae.example_monty.html#pick">pick</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span>) <span class="id"><a href="monae.example_monty.html#tease_f">tease_f</a></span> <span class="id"><a href="monae.example_monty.html#strategy:206">strategy</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="tease_fE" class="id">
  <a name="tease_fE" class="">tease_fE</a>
</span> (<span id="h:207" class="id">
  <a name="h:207" class="">h</a>
</span> <span id="p:208" class="id">
  <a name="p:208" class="">p</a>
</span> <span class="id">:</span> <span class="id"><a href="monae.example_monty.html#monty.door">door</a></span>) <span class="id">:</span> <span class="gallina-kwd">let</span> <span id="d:209" class="id">
  <a name="d:209" class="">d</a>
</span> <span class="id">:=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:207">h;</a></span> <span class="id"><a href="monae.example_monty.html#p:208">p]</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#tease_f">tease_f</a></span> <span class="id"><a href="monae.example_monty.html#h:207">h</a></span> <span class="id"><a href="monae.example_monty.html#p:208">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#h:207">h</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#p:208">p</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#h:207">h]</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#d:209">d</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move=&gt;</span> <span class="id">d</span>.<br/>
<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/eqP</span> <span class="id">&lt;-|hp]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/tease_f</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id">h]</span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_notin">uniform_notin</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="monae.example_monty.html#filter_pred1">Set3.filter_pred1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_filter">mem_filter</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.finset.html#inE">inE</a></span> <span class="id">=&gt;</span> <span class="id">/andP[]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindmret">bindmret</a></span>.<br/>
<span class="id">have</span> <span class="id">Hd</span> <span class="id">:</span> <span class="id">d</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="monae.example_monty.html#another">Set3.another</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span> <span class="id">h</span> <span class="id">p</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">{}/d</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/tease_f</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id">h;</span> <span class="id">d]</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="t:211" class="id"><span id="t:210" class="id">
  <a name="t:211" class="">t</a>
</span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#t:210">t</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">h</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.example_monty.html#t:210">t</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">hd</span> <span class="id">:</span> <span class="id">h</span> <span class="id">!=</span> <span class="id">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#contra">contra</a></span> (<span class="id"><a href="monae.example_monty.html#another_notin">Set3.another_notin</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span> <span class="id">h</span> <span class="id">p</span>) <span class="id">=&gt;</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_head">mem_head</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.example_monty.html#filter1_another">Set3.filter1_another</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span> <span class="id">hp</span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id">-/doors</span> <span class="id">-Hd</span> <span class="id">=&gt;</span> <span class="id">-[]</span> <span class="id">-&gt;</span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform2">uniform2</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_cons">uniform_cons</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_%:pr</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span>)<span class="id">%R;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#val_inj">val_inj</a></span> <span class="id">=&gt;</span> <span class="id">/=;</span> <span class="id">lra</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_singl">uniform_singl</a></span> <span class="id">//</span> <span class="id">[head</span> <span class="id">_</span> <span class="id">_]/=</span> <span class="id"><a href="monae.hierarchy.html#choice_bindDl">choice_bindDl</a></span> <span class="id">2!bindretf</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifF">ifF</a></span> <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">apply/negbTE/</span>(<span class="id"><a href="monae.example_monty.html#head_filter">Set3.head_filter</a></span> <span class="id"><a href="monae.example_monty.html#monty.card_door">card_door</a></span>)<span class="id">;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.finset.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="monty_f_stick" class="id">
  <a name="monty_f_stick" class="">monty_f_stick</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#play_f">play_f</a></span> (<span class="id">@stick</span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> (<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">rewrite</span> <span class="id">/play_f</span> <span class="id">/monty</span> <span class="id"><a href="monae.example_monty.html#hide_pickE">hide_pickE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/stick</span>.<br/>
<span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span> <span class="id"><a href="monae.example_monty.html#tease_fE">tease_fE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#fun_if">fun_if</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#if_arg">if_arg</a></span> <span class="id"><a href="monae.proba_lib.html#uniform_inde">uniform_inde</a></span>.<br/>
<span class="vernacular">Open</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#X:212">X</a></span>).<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="gallina-kwd">if</span> <span class="id">x</span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">x</span>.<span class="id">2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#ret">ret</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id">x</span>.<span class="id">1;</span> <span class="id">x</span>.<span class="id">2]</span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[/eqP</span> <span class="id">&lt;-|hp];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">hp</span>).<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choice_bindDl">choice_bindDl</a></span> <span class="id"><a href="monae.hierarchy.html#bindfailf">bindfailf</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.example_monty.html#bcoin13E_pair">Set3.bcoin13E_pair</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="gallina-kwd">fun</span> <span id="b:215" class="id"><span id="b:214" class="id"><span id="b:213" class="id">
  <a name="b:215" class="">b</a>
</span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#b:213">b</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>)) <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">/bcoin</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choice_bindDl">choice_bindDl</a></span> <span class="id">2!bindretf</span>.<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;flattening&nbsp;choices&nbsp;*)</span><br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="monty_f_switch" class="id">
  <a name="monty_f_switch" class="">monty_f_switch</a>
</span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_monty.html#play_f">play_f</a></span> (<span class="id">@switch</span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">3</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> (<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
<span class="id">rewrite</span> <span class="id">/play_f</span> <span class="id">/monty</span> <span class="id"><a href="monae.example_monty.html#hide_pickE">hide_pickE</a></span> <span class="id">/switch</span>.<br/>
<span class="vernacular">Open</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#X:216">X</a></span>).<br/>
&nbsp;&nbsp;<span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">over</span>.<br/>
<span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#tease_fE">tease_fE</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#fun_if">fun_if</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#if_arg">if_arg</a></span>.<br/>
<span class="vernacular">Open</span> (<span class="id">X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> <span class="id"><a href="monae.example_monty.html#X:217">X</a></span>).<br/>
<span class="id">transitivity</span> (<span class="gallina-kwd">if</span> <span class="id">x</span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">x</span>.<span class="id">2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id">x</span>.<span class="id">1]</span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#ret">ret</a></span> <span class="id">_</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id">x</span>.<span class="id">1;</span> <span class="id">x</span>.<span class="id">2]</span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x0:219" class="id"><span id="x0:218" class="id">
  <a name="x0:219" class="">x0</a>
</span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id">x</span>.<span class="id">2;</span> <span class="id"><a href="monae.example_monty.html#x0:218">x0]</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">x</span>.<span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id">h</span> <span class="id">p;</span> <span class="id">rewrite</span> <span class="id">[_</span>.<span class="id">1]/=</span> <span class="id">[_</span>.<span class="id">2]/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id">h]</span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x0:221" class="id"><span id="x0:220" class="id">
  <a name="x0:221" class="">x0</a>
</span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id">h;</span> <span class="id"><a href="monae.example_monty.html#x0:220">x0]</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id">h</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_notin">uniform_notin</a></span> <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span> <span class="id"><a href="monae.example_monty.html#filter_pred1">Set3.filter_pred1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#mem_filter">mem_filter</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.finset.html#inE">inE=&gt;</a></span> <span class="id">_;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#head_filter">Set3.head_filter</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.finset.html#inE">inE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:223" class="id"><span id="x:222" class="id">
  <a name="x:223" class="">x</a>
</span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#x:222">x</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#x:222">x</a></span>.<span class="id">2</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#x:222">x</a></span>.<span class="id">2;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#head">head</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">[::</a></span> <span class="id"><a href="monae.example_monty.html#x:222">x</a></span>.<span class="id">1;</span> <span class="id"><a href="monae.example_monty.html#x:222">x</a></span>.<span class="id">2]</span>)<span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_';'_x_';'_'..'_';'_x_']'">]</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#x:222">x</a></span>.<span class="id">1</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[h</span> <span class="id">p];</span> <span class="id">rewrite</span> <span class="id">[_</span>.<span class="id">1]/=</span> <span class="id">[_</span>.<span class="id">2]/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">[?|</span> <span class="id">hp];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.proba_lib.html#uniform_inde">uniform_inde</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choice_bindDl">choice_bindDl</a></span> (<span class="id">@bindfailf</span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span>) <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">transitivity</span> (<br/>
&nbsp;&nbsp;<span class="id"><a href="monae.proba_lib.html#uniform">uniform</a></span> (<span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def,</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span>) (<span class="id"><a href="monae.monae_lib.html#cp">cp</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span> <span class="id"><a href="monae.example_monty.html#monty.doors">doors</a></span>) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'>>='_x">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:225" class="id"><span id="x:224" class="id">
  <a name="x:225" class="">x</a>
</span></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#x:224">x</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#::bool_scope:x_'=='_x">==</a></span> <span class="id"><a href="monae.example_monty.html#x:224">x</a></span>.<span class="id">2</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> (<span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>) <span class="id">&lt;|</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.M">M</a></span> <span class="id">_</span>))).<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">-[h</span> <span class="id">p];</span> <span class="id">rewrite</span> <span class="id">[_</span>.<span class="id">1]/=</span> <span class="id">[_</span>.<span class="id">2]/=</span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">hp;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">apply/eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="monae.monae_lib.html#:::x_'\\'_x">\\</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'='_x">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.seq.html#::seq_scope:'['_'::'_x_']'">[::</a></span> <span class="id">h]</span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span><span class="id">;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eq_sym">eq_sym</a></span> <span class="id"><a href="monae.example_monty.html#head_filter">Set3.head_filter</a></span> <span class="id">//</span> <span class="id">!inE</span> <span class="id"><a href="https://math-comp.github.io/htmldoc/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_monty.html#filter_another">Set3.filter_another</a></span> <span class="id">//=</span> <span class="id"><a href="monae.example_monty.html#another_another">Set3.another_another</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="monae.example_monty.html#bcoin13E_pair">Set3.bcoin13E_pair</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty.def">def</a></span> (<span class="gallina-kwd">fun</span> <span id="b:228" class="id"><span id="b:227" class="id"><span id="b:226" class="id">
  <a name="b:228" class="">b</a>
</span></span></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monae.example_monty.html#b:226">b</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#fail">fail</a></span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">&lt;|</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#::R_scope:'/'_x">/</a></span> <span class="id">2</span>)<span class="id">%coqR%:pr</span> <span class="id"><a href="monae.hierarchy.html#::proba_monad_scope:x_'<|'_x_'|>'_x">|&gt;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span>)) <span class="id">//</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#choice_bindDl">choice_bindDl</a></span> <span class="id">2!bindretf</span>.<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;flattening&nbsp;choices&nbsp;*)</span><br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_monty.html#monty.forgetful_monty">forgetful_monty</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_monty.html#monty">monty</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
