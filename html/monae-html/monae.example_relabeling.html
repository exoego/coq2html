
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monae.example_relabeling</title>
<meta name="description" content="Documentation of Coq module monae.example_relabeling" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module monae.example_relabeling</h1>
<div class="coq">
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp">boolp</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.monae_lib.html">monae_lib</a></span> <span class="id"><a href="monae.hierarchy.html">hierarchy</a></span> <span class="id"><a href="monae.monad_lib.html">monad_lib</a></span> <span class="id"><a href="monae.fail_lib.html">fail_lib</a></span> <span class="id"><a href="monae.state_lib.html">state_lib</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                          Tree relabeling                                  
                                                                           
see Sect. 9 of J. Gibbons, R. Hinze, Just do it: simple monadic equational 
reasoning, ICFP 2011                                                       
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Tree" class="id"><a name="Tree" class="">Tree</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Tree.A" class="id"><a name="Tree.A" class="">A</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="Tree_sind" class="id"><span id="Tree_rec" class="id"><span id="Tree_ind" class="id"><span id="Tree_rect" class="id"><span id="Tree" class="id"><a name="Tree_sind" class="">Tree</a></span></span></span></span></span> <span class="id">:=</span> <span id="Tip" class="id"><a name="Tip" class="">Tip</a></span> (<span id="a:4" class="id"><a name="a:4" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree.A">A</a></span>) <span class="id">|</span> <span id="Bin" class="id"><a name="Bin" class="">Bin</a></span> <span class="id">of</span> <span class="id"><a href="monae.example_relabeling.html#Tree:2">Tree</a></span> &amp; <span class="id"><a href="monae.example_relabeling.html#Tree:2">Tree</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="foldt" class="id"><a name="foldt" class="">foldt</a></span> <span id="B:5" class="id"><a name="B:5" class="">B</a></span> (<span id="f:6" class="id"><a name="f:6" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#B:5">B</a></span>) (<span id="g:7" class="id"><a name="g:7" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#B:5">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.example_relabeling.html#B:5">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#B:5">B</a></span>) (<span id="t:8" class="id"><a name="t:8" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span>) <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#B:5">B</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.example_relabeling.html#t:8">t</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#f:6">f</a></span> <span class="id">a</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id">t</span> <span class="id">u</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#g:7">g</a></span> (<span class="id"><a href="monae.example_relabeling.html#foldt:9">foldt</a></span> <span class="id"><a href="monae.example_relabeling.html#f:6">f</a></span> <span class="id"><a href="monae.example_relabeling.html#g:7">g</a></span> <span class="id"><a href="monae.example_relabeling.html#t:8">t,</a></span> <span class="id"><a href="monae.example_relabeling.html#foldt:9">foldt</a></span> <span class="id"><a href="monae.example_relabeling.html#f:6">f</a></span> <span class="id"><a href="monae.example_relabeling.html#g:7">g</a></span> <span class="id">u</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Tree.foldt_universal" class="id"><a name="Tree.foldt_universal" class="">foldt_universal</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="Tree.foldt_universal.B" class="id"><a name="Tree.foldt_universal.B" class="">B</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="Tree.foldt_universal.h" class="id"><a name="Tree.foldt_universal.h" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#B:11">B</a></span>) (<span id="Tree.foldt_universal.f" class="id"><a name="Tree.foldt_universal.f" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree.A">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#B:11">B</a></span>) (<span id="Tree.foldt_universal.g" class="id"><a name="Tree.foldt_universal.g" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#B:11">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.example_relabeling.html#B:11">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#B:11">B</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="Tree.foldt_universal.H1" class="id"><a name="Tree.foldt_universal.H1" class="">H1</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.h">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.f">f</a></span>.<br/>
<span class="vernacular">Hypothesis</span> <span id="Tree.foldt_universal.H2" class="id"><a name="Tree.foldt_universal.H2" class="">H2</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.h">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.g">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="gallina-kwd">fun</span> <span id="x:16" class="id"><a name="x:16" class="">x</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.h">h</a></span> <span class="id"><a href="monae.example_relabeling.html#x:16">x</a></span>.<span class="id">1,</span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.h">h</a></span> <span class="id"><a href="monae.example_relabeling.html#x:16">x</a></span>.<span class="id">2</span>)).<br/>
<span class="vernacular">Lemma</span> <span id="foldt_universal" class="id"><a name="foldt_universal" class="">foldt_universal</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.h">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#foldt">foldt</a></span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.f">f</a></span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span><span class="id">;</span> <span class="id">elim</span> <span class="id">=&gt;</span> <span class="id">[a|];</span> <span class="id">first</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-H1</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">t1</span> <span class="id">IH1</span> <span class="id">t2</span> <span class="id">IH2</span> <span class="id">/=;</span> <span class="id">rewrite</span> <span class="id">-IH1</span> <span class="id">-IH2</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#uncurryE">uncurryE</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span>) <span class="id">-compE</span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal.H2">H2</a></span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_relabeling.html#Tree.foldt_universal">foldt_universal</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="size_Tree" class="id"><a name="size_Tree" class="">size_Tree</a></span> (<span id="t:18" class="id"><a name="t:18" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span>) <span class="id">:=</span> <span class="id"><a href="monae.example_relabeling.html#foldt">foldt</a></span> (<span class="id"><a href="monae.monae_lib.html#const">const</a></span> <span class="id">1</span>) <span class="id"><a href="monae.monae_lib.html#uaddn">uaddn</a></span> <span class="id"><a href="monae.example_relabeling.html#t:18">t</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="size_Tree_Bin" class="id"><a name="size_Tree_Bin" class="">size_Tree_Bin</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monae_lib.html#uaddn">uaddn</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree^`2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span><span class="id">;</span> <span class="id">case</span>. Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="labels" class="id"><a name="labels" class="">labels</a></span> (<span id="t:19" class="id"><a name="t:19" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span>) <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.example_relabeling.html#Tree.A">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.example_relabeling.html#t:19">t</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d">[::</a></span> <span class="id">a]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id">t</span> <span class="id">u</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#labels:20">labels</a></span> <span class="id"><a href="monae.example_relabeling.html#t:19">t</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.example_relabeling.html#labels:20">labels</a></span> <span class="id">u</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id">{A}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id">{A}</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="tree_relabelling" class="id"><a name="tree_relabelling" class="">tree_relabelling</a></span>.<br/>
<br/>
<span class="vernacular">Variable</span> <span id="tree_relabelling.Symbol" class="id"><a name="tree_relabelling.Symbol" class="">Symbol</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>. <br/>
<span class="vernacular">Variable</span> <span id="tree_relabelling.M" class="id"><a name="tree_relabelling.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFailFresh.Exports.failFreshMonad">failFreshMonad</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="tree_relabelling.q" class="id"><a name="tree_relabelling.q" class="">q</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>).<br/>
<span class="vernacular">Hypothesis</span> <span id="tree_relabelling.promotable_q" class="id"><a name="tree_relabelling.promotable_q" class="">promotable_q</a></span> <span class="id">:</span> <span class="id"><a href="monae.state_lib.html#promotable">promotable</a></span> (@<span class="id"><a href="monae.hierarchy.html#distinct">distinct</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span>) <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">mprog</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="relabel" class="id"><a name="relabel" class="">relabel</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> (<span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_relabeling.html#foldt">foldt</a></span> (<span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monae_lib.html#const">const</a></span> <span class="id"><a href="monae.hierarchy.html#fresh">fresh</a></span>) (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="tree_relabelling.drTip" class="id"><a name="tree_relabelling.drTip" class="">drTip</a></span> <span class="id">{A}</span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#A:26">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id">_</span> <span class="id">:=</span> (<span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monae_lib.html#wrap">wrap</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.monae_lib.html#const">const</a></span> <span class="id"><a href="monae.hierarchy.html#fresh">fresh</a></span>.<br/>
<span class="vernacular">Let</span> <span id="tree_relabelling.drBin" class="id"><a name="tree_relabelling.drBin" class="">drBin</a></span> <span class="id">{N</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad}</a></span> <span class="id">:</span> (<span class="id"><a href="monae.example_relabeling.html#N:27">N</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monae.example_relabeling.html#N:27">N</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#N:27">N</a></span> <span class="id">_</span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="dlabels" class="id"><a name="dlabels" class="">dlabels</a></span> <span class="id">{N</span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadFail.Exports.failMonad">failMonad}</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#Tree">Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#N:28">N</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_relabeling.html#foldt">foldt</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monae_lib.html#wrap">wrap</a></span>) <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.drBin">drBin</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="dlabelsC" class="id"><a name="dlabelsC" class="">dlabelsC</a></span> <span id="t:29" class="id"><a name="t:29" class="">t</a></span> <span id="u:30" class="id"><a name="u:30" class="">u</a></span> (<span id="m:31" class="id"><a name="m:31" class="">m</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>)%<span class="id">type</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id"><a href="monae.example_relabeling.html#t:29">t</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x:32" class="id"><a name="x:32" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id"><a href="monae.example_relabeling.html#u:30">u</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x0:33" class="id"><a name="x0:33" class="">x0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#m:31">m</a></span> <span class="id"><a href="monae.example_relabeling.html#x0:33">x0</a></span> <span class="id"><a href="monae.example_relabeling.html#x:32">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id"><a href="monae.example_relabeling.html#u:30">u</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="x0:34" class="id"><a name="x0:34" class="">x0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id"><a href="monae.example_relabeling.html#t:29">t</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:35" class="id"><a name="x:35" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.example_relabeling.html#m:31">m</a></span> <span class="id"><a href="monae.example_relabeling.html#x0:34">x0</a></span> <span class="id"><a href="monae.example_relabeling.html#x:35">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">elim:</span> <span class="id">t</span> <span class="id">u</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">[a</span> <span class="id">u</span> <span class="id">/=</span> <span class="id">m|t1</span> <span class="id">H1</span> <span class="id">t2</span> <span class="id">H2</span> <span class="id">u</span> <span class="id">m]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">/dlabels</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.drBin">drBin</a></span> (<span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id">t1,</span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id">t2</span>)) <span class="id">//</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/drBin</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/bassert</a></span> <span class="id">2!compE</span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]bindA</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x0:42" class="id"><span id="x0:36" class="id"><a name="x0:42" class="">x0</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id">u;</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:43" class="id"><span id="x:37" class="id"><a name="x:43" class="">x</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id">t1;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:47" class="id"><span id="x:41" class="id"><a name="x:47" class="">x</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x1:45" class="id"><span id="x1:39" class="id"><a name="x1:45" class="">x1</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:44" class="id"><span id="y:38" class="id"><a name="y:44" class="">y</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id">t2;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.example_relabeling.html#x:37">x,</a></span> <span class="id"><a href="monae.example_relabeling.html#y:38">y</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:46" class="id"><span id="x:40" class="id"><a name="x:46" class="">x</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#assert">assert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="monae.example_relabeling.html#x1:39">x1;</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id"><a href="monae.example_relabeling.html#x:40">x</a></span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">m</span> <span class="id"><a href="monae.example_relabeling.html#x0:36">x0</a></span> <span class="id"><a href="monae.example_relabeling.html#x:41">x</a></span>))%<span class="id">Do;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">u';</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bind_fmap">bind_fmap</a></span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA;</a></span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">sS</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">4!bindA;</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">2!bindretf</span> <span class="id">!bindA</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-H1</span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/drBin</a></span> <span class="id"><a href="monae.hierarchy.html#bind_fmap">bind_fmap</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/bassert</a></span> <span class="id">/=</span> <span class="id">![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]bindA</a></span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindA</span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x0:53" class="id"><span id="x0:48" class="id"><a name="x0:53" class="">x0</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id">u;</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:54" class="id"><span id="x:49" class="id"><a name="x:54" class="">x</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id">t2;</span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:57" class="id"><span id="x:52" class="id"><a name="x:57" class="">x</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x1:55" class="id"><span id="x1:50" class="id"><a name="x1:55" class="">x1</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id">s,</span> <span class="id"><a href="monae.example_relabeling.html#x:49">x</a></span>)<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> (<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x3:56" class="id"><span id="x3:51" class="id"><a name="x3:56" class="">x3</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#assert">assert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="monae.example_relabeling.html#x1:50">x1;</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span> <span class="id"><a href="monae.example_relabeling.html#x3:51">x3</a></span>)))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span> <span class="id"><a href="monae.example_relabeling.html#x0:48">x0</a></span> <span class="id"><a href="monae.example_relabeling.html#x:52">x</a></span>)))%<span class="id">Do;</span> <span class="id">last</span> <span class="gallina-kwd">by</span> <span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">y2;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">-H2</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">s'</span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindretf</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#assertE">assertE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#guard">guard</a></span> (<span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> (<span class="id">s,</span> <span class="id">s'</span>)) <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x1:59" class="id"><span id="x1:58" class="id"><a name="x1:59" class="">x1</a></span></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> (<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) (<span class="id">s,</span> <span class="id">s'</span>)<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id">u</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="id">m^~</span> <span class="id"><a href="monae.example_relabeling.html#x1:58">x1</a></span>)))%<span class="id">Do</span>.<br/>
&nbsp;&nbsp;<span class="id">bind_ext;</span> <span class="id">case;</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">2!bindretf</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#guardsC">guardsC;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="monae.hierarchy.html#failfresh_bindmfail">failfresh_bindmfail</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">!bindA</span> <span class="id">!bindretf</span> <span class="id">!bindA</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">u'</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.hierarchy.html#guardsC">guardsC;</a></span> <span class="id">last</span> <span class="id">exact:</span> <span class="id"><a href="monae.hierarchy.html#failfresh_bindmfail">failfresh_bindmfail</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="join_and_pairs" class="id"><a name="join_and_pairs" class="">join_and_pairs</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>) <span class="id">\o</span> ((<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span>)<span class="id">^`2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join^`2</a></span>) <span class="id">\o</span>             ((<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span>)<span class="id">^`2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span> <span class="id">=&gt;</span> <span class="id">-[x1</span> <span class="id">x2]</span>.<br/>
<span class="id">rewrite</span> <span class="id">3!compE</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#joinE">joinE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#fmapE">fmapE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">2![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]compE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]/mpair</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]/mpair</a></span>.<br/>
<span class="id">move</span> <span class="id">H</span> <span class="id">:</span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span>) <span class="id">=&gt;</span> <span class="id">h</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">2![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]joinE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">3!bindA</span>.<br/>
<span class="id">rewrite</span> <span class="id">-H</span>.<br/>
<span class="id">rewrite</span> <span class="id">!fmapE</span>.<br/>
<span class="id">rewrite</span> <span class="id">3!bindA</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">{}x1</span>.<br/>
<span class="id">rewrite</span> <span class="id">2!bindretf</span> <span class="id">2!bindA</span>.<br/>
<span class="id">under</span> <span class="id"><a href="monae.hierarchy.html#eq_bind">eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">3!bindretf</span>.<br/>
<span class="id">rewrite</span> <span class="id">-dlabelsC</span>.<br/>
<span class="id">bind_ext</span> <span class="id">=&gt;</span> <span class="id">?</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">under</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]eq_bind</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="dlabels_relabel_is_fold" class="id"><a name="dlabels_relabel_is_fold" class="">dlabels_relabel_is_fold</a></span> <span class="id">:</span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id"><a href="monae.hierarchy.html#5483cabbcd988b1cb7000e5ba9f05889">&gt;=&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#foldt">foldt</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.drTip">drTip</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.drBin">drBin</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">apply</span> <span class="id"><a href="monae.example_relabeling.html#foldt_universal">foldt_universal</a></span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;relabel&nbsp;&gt;=&gt;&nbsp;dlabels&nbsp;\o&nbsp;Tip&nbsp;=&nbsp;drTip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#kleisli_def">kleisli_def</a></span> <span class="id">-3!compA</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id"><a href="monae.hierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.monae_lib.html#const">const</a></span> <span class="id"><a href="monae.hierarchy.html#fresh">fresh</a></span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span>)) <span class="id">-functor_o</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#Tip">Tip</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#ret">ret</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monae_lib.html#wrap">wrap</a></span>) <span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#functor_o">functor_o</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span>) <span class="id"><a href="monae.hierarchy.html#joinMret">joinMret</a></span> <span class="id"><a href="monae.monae_lib.html#compidf">compidf</a></span>.<br/>
<span class="comment">(*&nbsp;relabel&nbsp;&gt;=&gt;&nbsp;dlabels&nbsp;\o&nbsp;Bin&nbsp;=&nbsp;drBin&nbsp;\o&nbsp;_&nbsp;*)</span><br/>
<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]kleisli_def</a></span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span>).<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span>)) <span class="id">\o</span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel^`2</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span><span class="id">;</span> <span class="id">case</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span>))) <span class="id">-compA</span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span>)) <span class="id">-functor_o</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels^`2</a></span>)<span class="id">;</span> <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="NOTFOUND the module url for mathcomp.classical.boolp#funeqE">boolp.funeqE</a></span><span class="id">;</span> <span class="id">case</span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> (<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span>)<span class="id">^`2</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]natural</a></span> <span class="id">-3![in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]compA;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]naturality_mpair</a></span> <span class="id">2![RHS]compA;</span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[X</span> <span class="gallina-kwd">in</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#X:60">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_]functor_o</span> <span class="id">-[RHS]functor_o</span> <span class="id">-compA</span>.<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>)) <span class="id">[X</span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.example_relabeling.html#X:61">X]functor_o</a></span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#commutativity_of_assertions">commutativity_of_assertions</a></span>. <span class="comment">(*&nbsp;first&nbsp;non-trivial&nbsp;step&nbsp;*)</span><br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#Join">Join</a></span>) (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id">_</span> (<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span>)).<br/>
<span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>) <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id">_</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>)).<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_relabeling.html#join_and_pairs">join_and_pairs</a></span>. <span class="comment">(*&nbsp;second&nbsp;non-trivial&nbsp;step&nbsp;*)</span><br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="symbols_size_is_fold" class="id"><a name="symbols_size_is_fold" class="">symbols_size_is_fold</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (@<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.example_relabeling.html#foldt">foldt</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.drTip">drTip</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.drBin">drBin</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">apply</span> <span class="id"><a href="monae.example_relabeling.html#foldt_universal">foldt_universal</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-compA</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> @<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.monae_lib.html#const">const</a></span> <span class="id">1</span>) <span class="id">//</span> <span class="id"><a href="monae.state_lib.html#symbols_prop1">symbols_prop1</a></span>.<br/>
<span class="id">pose</span> <span class="id">p</span> <span class="id">:=</span> @<span class="id"><a href="monae.hierarchy.html#distinct">distinct</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> @<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monae.example_relabeling.html#Bin">Bin</a></span><br/>
&nbsp;&nbsp;<span class="id">:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bassert_symbols">bassert_symbols</a></span>.<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id">p</span>) <span class="id">\o</span> <span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monae_lib.html#uaddn">uaddn</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (@<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>)<span class="id">^`2</span><br/>
&nbsp;&nbsp;<span class="id">:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]compA</a></span> <span class="id">-[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]compA</a></span> <span class="id"><a href="monae.example_relabeling.html#size_Tree_Bin">size_Tree_Bin</a></span>.<br/>
<span class="id">transitivity</span> (<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (@<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>))<span class="id">^`2</span><br/>
&nbsp;&nbsp;<span class="id">:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-2!compA</span> (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> <span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span>) <span class="id"><a href="monae.state_lib.html#symbols_prop2">symbols_prop2</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">-</span>(<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span>)) (<span class="id"><a href="monae.monae_lib.html#compA">compA</a></span> (<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id">p</span>)).<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id">p</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (@<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>))<span class="id">^`2</span><br/>
&nbsp;&nbsp;<span class="id">:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;assert&nbsp;p&nbsp;distributes&nbsp;over&nbsp;concatenation&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="monae.state_lib.html#promote_assert_sufficient_condition">promote_assert_sufficient_condition</a></span> (@<span class="id"><a href="monae.hierarchy.html#failfresh_bindmfail">failfresh_bindmfail</a></span> <span class="id">_</span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span>) <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.promotable_q">promotable_q</a></span>).<br/>
<span class="id">transitivity</span> ((<span class="id"><a href="monae.hierarchy.html#::mprog:'fmap'_x">fmap</a></span> <span class="id"><a href="monae.monae_lib.html#ucat">ucat</a></span>) <span class="id">\o</span> <span class="id"><a href="monae.hierarchy.html#bassert">bassert</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.q">q</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monae.monad_lib.html#mpair">mpair</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (<span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> (@<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>))<span class="id">^`2</span><br/>
&nbsp;&nbsp;<span class="id">:</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.M">M</a></span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bassert_symbols">bassert_symbols</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="dlabels_relabel_never_fails" class="id"><a name="dlabels_relabel_never_fails" class="">dlabels_relabel_never_fails</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.example_relabeling.html#relabel">relabel</a></span> <span class="id"><a href="monae.hierarchy.html#5483cabbcd988b1cb7000e5ba9f05889">&gt;=&gt;</a></span> <span class="id"><a href="monae.example_relabeling.html#dlabels">dlabels</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#symbols">symbols</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> @<span class="id"><a href="monae.example_relabeling.html#size_Tree">size_Tree</a></span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling.Symbol">Symbol</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.example_relabeling.html#dlabels_relabel_is_fold">dlabels_relabel_is_fold</a></span> <span class="id"><a href="monae.example_relabeling.html#symbols_size_is_fold">symbols_size_is_fold</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.example_relabeling.html#tree_relabelling">tree_relabelling</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
</body>
</html>
