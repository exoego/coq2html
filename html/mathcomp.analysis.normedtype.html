
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.normedtype</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.normedtype" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.normedtype</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrint</span> <span class="id">ssrnum</span> <span class="id">finmap</span> <span class="id">matrix</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">rat</span> <span class="id">interval</span> <span class="id">zmodp</span> <span class="id">vector</span> <span class="id">fieldext</span> <span class="id">falgebra</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.cardinality.html">cardinality</a></span> <span class="id"><a href="mathcomp.classical.set_interval.html">set_interval</a></span> <span class="id"><a href="mathcomp.analysis.Rstruct.html">Rstruct</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.ereal.html">ereal</a></span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span>.<br/>
<br/>
<pre class="ssrdoc">
This file extends the topological hierarchy with norm-related notions.     
                                                                           
Note that balls in topology.v are not necessarily open, here they are.     
                                                                           
* Normed Topological Abelian groups:                                       
 pseudoMetricNormedZmodType R  == interface type for a normed topological  
                                  Abelian group equipped with a norm       
 PseudoMetricNormedZmodule.Mixin nb == builds the mixin for a normed       
                                  topological Abelian group from the       
                                  compatibility between the norm and       
                                  balls; the carrier type must have a      
                                  normed Zmodule over a numDomainType.     
                                                                           
* Normed modules :                                                         
               normedModType K == interface type for a normed module       
                                  structure over the numDomainType K.      
          NormedModMixin normZ == builds the mixin for a normed module     
                                  from the property of the linearity of    
                                  the norm; the carrier type must have a   
                                  pseudoMetricNormedZmodType structure     
           NormedModType K T m == packs the mixin m to build a             
                                  normedModType K; T must have canonical   
                                  pseudoMetricNormedZmodType K and         
                                  pseudoMetricType structures.             
 [normedModType K of T for cT] == T-clone of the normedModType K structure 
                                  cT.                                      
        [normedModType K of T] == clone of a canonical normedModType K     
                                  structure on T.                          
                          `|x| == the norm of x (notation from ssrnum).    
                     ball_norm == balls defined by the norm.               
                         edist == the extended distance function for a     
                                  pseudometric X, from X*X -&gt; \bar R       
                   edist_inf A == the infimum of distances to the set A    
                   Urysohn A B == a continuous function T -&gt; [0,1] which   
                                  separates A and B when                   
                                  `uniform_separator A B`                  
         uniform_separator A B == There is a suitable uniform space and    
                                  entourage separating A and B             
                     nbhs_norm == neighborhoods defined by the norm.       
                   closed_ball == closure of a ball.                       
  f @`[ a , b ], f @`] a , b [ == notations for images of intervals,       
                                  intended for continuous, monotonous      
                                  functions, defined in ring_scope and     
                                  classical_set_scope respectively as:     
                 f @`[ a , b ] := `[minr (f a) (f b), maxr (f a) (f b)]%O  
                 f @`] a , b [ := `]minr (f a) (f b), maxr (f a) (f b)[%O  
                 f @`[ a , b ] := `[minr (f a) (f b),                      
                                    maxr (f a) (f b)]%classic              
                 f @`] a , b [ := `]minr (f a) (f b),                      
                                    maxr (f a) (f b)[%classic              
                                                                           
* Domination notations:                                                    
             dominated_by h k f F == `|f| &lt;= k * `|h|, near F              
                 bounded_near f F == f is bounded near F                   
           [bounded f x | x in A] == f is bounded on A, ie F := globally A 
  [locally [bounded f x | x in A] == f is locally bounded on A             
                      bounded_set == set of bounded sets.                  
                                  := [set A | [bounded x | x in A]]        
                      bounded_fun == set of functions bounded on their     
                                     whole domain.                         
                                  := [set f | [bounded f x | x in setT]]   
                 lipschitz_on f F == f is lipschitz near F                 
         [lipschitz f x | x in A] == f is lipschitz on A                   
[locally [lipschitz f x | x in A] == f is locally lipschitz on A           
              k.-lipschitz_on f F == f is k.-lipschitz near F              
                 k.-lipschitz_A f == f is k.-lipschitz on A                
       [locally k.-lipschitz_A f] == f is locally k.-lipschitz on A        
                  contraction q f == f is q.-lipschitz and q &lt; 1           
                 is_contraction f == exists q, f is q.-lipschitz and q &lt; 1 
                                                                           
                    is_interval E == the set E is an interval              
               bigcup_ointsub U q == union of open real interval included  
                                     in U and that contain the rational    
                                     number q                              
                          Rhull A == the real interval hull of a set A     
                        shift x y == y + x                                 
                         center c := shift (- c)                           
                                                                           
* Complete normed modules :                                                
       completeNormedModType K == interface type for a complete normed     
                                  module structure over a realFieldType    
                                  K.                                       
[completeNormedModType K of T] == clone of a canonical complete normed     
                                  module structure over K on T.            
                                                                           
* Filters :                                                                
         at_left x, at_right x == filters on real numbers for predicates   
                                  s.t. nbhs holds on the left/right of x   
                                                                           
--&gt; We used these definitions to prove the intermediate value theorem and  
    the Heine-Borel theorem, which states that the compact sets of R^n are 
    the closed and bounded sets.                                           
                                                                           
       cpoint A == the center of the set A if it is an open ball           
       radius A == the radius of the set A if it is an open ball           
                   Radius A has type {nonneg R} with R a numDomainType.    
      is_ball A == boolean predicate that holds when A is an open ball     
         k *` A == open ball with center cpoint A and radius k * radius A  
                   if A is an open ball and set0 o.w.                      
  vitali_collection_partition B V r n == subset of indices of V such the   
                   the ball B i has a radius between r/2^n+1 and r/2^n     
                                                                           
</pre>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> @`[ <span class="id">a</span> , <span class="id">b</span> ]" (<span class="kwd">at</span> <span class="id">level</span> 20, <span class="id">b</span> <span class="kwd">at</span> <span class="id">level</span> 9,<br/>
&nbsp;&nbsp;<span class="id">format</span> "<span class="id">f</span>  @`[ <span class="id">a</span> ,  <span class="id">b</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> @`] <span class="id">a</span> , <span class="id">b</span> [" (<span class="kwd">at</span> <span class="id">level</span> 20, <span class="id">b</span> <span class="kwd">at</span> <span class="id">level</span> 9,<br/>
&nbsp;&nbsp;<span class="id">format</span> "<span class="id">f</span>  @`] <span class="id">a</span> ,  <span class="id">b</span> [").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">x</span> ^'+" (<span class="kwd">at</span> <span class="id">level</span> 3, <span class="id">format</span> "<span class="id">x</span> ^'+").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">x</span> ^'-" (<span class="kwd">at</span> <span class="id">level</span> 3, <span class="id">format</span> "<span class="id">x</span> ^'-").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "+<span class="id">oo_</span> <span class="id">R</span>" (<span class="kwd">at</span> <span class="id">level</span> 3, <span class="id">format</span> "+<span class="id">oo_</span> <span class="id">R</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "-<span class="id">oo_</span> <span class="id">R</span>" (<span class="kwd">at</span> <span class="id">level</span> 3, <span class="id">format</span> "-<span class="id">oo_</span> <span class="id">R</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">bounded</span>' <span class="id">E</span> | <span class="id">x</span> '<span class="kwd">in</span>' <span class="id">A</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">x</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.PointedType">name</a></span>, <span class="id">format</span> "[ '<span class="id">bounded</span>'  <span class="id">E</span>  |  <span class="id">x</span>  '<span class="kwd">in</span>'  <span class="id">A</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">k</span> .-<span class="id">lipschitz_on</span> <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "<span class="id">k</span> .-<span class="id">lipschitz_on</span>  <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.class">k</a></span> .-<span class="id">lipschitz_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#pointed_of_zmodule">A</a></span> <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">A</span> <span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "<span class="id">k</span> .-<span class="id">lipschitz_</span> <span class="id">A</span>  <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">k</span> .-<span class="id">lipschitz</span> <span class="id">f</span>" (<span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "<span class="id">k</span> .-<span class="id">lipschitz</span>  <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">lipschitz</span>' <span class="id">E</span> | <span class="id">x</span> '<span class="kwd">in</span>' <span class="id">A</span> ]"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">x</span> <span class="id">name</span>, <span class="id">format</span> "[ '<span class="id">lipschitz</span>'  <span class="id">E</span>  |  <span class="id">x</span>  '<span class="kwd">in</span>'  <span class="id">A</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">k</span> *` <span class="id">A</span>" (<span class="kwd">at</span> <span class="id">level</span> 40, <span class="id">left</span> <span class="id"><a name="x:9">associativity</a></span>, <span class="id">format</span> "<span class="id">k</span>  *`  <span class="id">A</span>").<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Def</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id">numFieldTopology.Exports</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">pointed_of_zmodule</span> (<span class="id">R</span> : <span class="id">zmodType</span>) : <span class="id">pointedType</span> := <span class="id">PointedType</span> <span class="id">R</span> 0.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">filtered_of_normedZmod</span> (<span class="id">K</span> : <span class="id">numDomainType</span>) (<span class="id"><a href="mathcomp.analysis.topology.html#PseudoMetric.mixin_of">R</a></span> : <span class="id">normedZmodType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="mathcomp.analysis.topology.html#entourage_">filteredType</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetric_of_normedDomain.R">R</a></span> := <span class="id"><a href="mathcomp.analysis.topology.html#ball_">Filtered.Pack</a></span> (<span class="id">Filtered.Class</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Pointed.class</span> (<span class="id">pointed_of_zmodule</span> <span class="id">R</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nbhs_ball_</span> (<span class="id">ball_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; `|<span class="id">x</span>|)))).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">pseudoMetric_of_normedDomain</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">K</span> : <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_">numDomainType</a></span>) (<span class="id">R</span> : <span class="id">normedZmodType</span> <span class="id">K</span>).<br/>
<span class="kwd">Lemma</span> <span class="id">ball_norm_center</span> (<span class="id">x</span> : <span class="id">R</span>) (<span class="id">e</span> : <span class="id">K</span>) : 0 &lt; <span class="id">e</span> -&gt; <span class="id">ball_</span> <span class="id">normr</span> <span class="id">x</span> <span class="id">e</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? /=; <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">ball_norm_symmetric</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">R</span>) (<span class="id">e</span> : <span class="id">K</span>) :<br/>
&nbsp;&nbsp;<span class="id">ball_</span> <span class="id">normr</span> <span class="id">x</span> <span class="id">e</span> <span class="id">y</span> -&gt; <span class="id">ball_</span> <span class="id">normr</span> <span class="id">y</span> <span class="id">e</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">distrC</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">ball_norm_triangle</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">R</span>) (<span class="id">e1</span> <span class="id">e2</span> : <span class="id">K</span>) :<br/>
&nbsp;&nbsp;<span class="id">ball_</span> <span class="id">normr</span> <span class="id">x</span> <span class="id">e1</span> <span class="id">y</span> -&gt; <span class="id">ball_</span> <span class="id">normr</span> <span class="id">y</span> <span class="id">e2</span> <span class="id">z</span> -&gt; <span class="id">ball_</span> <span class="id">normr</span> <span class="id">x</span> (<span class="id">e1</span> + <span class="id">e2</span>) <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">move</span>=&gt; /= ? ?; <span class="id">rewrite</span> -(<span class="id">subr0</span> <span class="id">x</span>) -(<span class="id">subrr</span> <span class="id">y</span>) <span class="id">opprD</span> <span class="id">opprK</span> (<span class="id">addrA</span> <span class="id">x</span> <span class="id">_</span> <span class="id">y</span>) -<span class="id">addrA</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>)) // <span class="id">ltr_add</span>.<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id">pseudoMetric_of_normedDomain</span><br/>
&nbsp;&nbsp;: <span class="id">PseudoMetric.mixin_of</span> <span class="id">K</span> (@<span class="id">entourage_</span> <span class="id">K</span> <span class="id">R</span> <span class="id">R</span> (<span class="id">ball_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; `|<span class="id">x</span>|)))<br/>
&nbsp;&nbsp;:= <span class="id">PseudoMetricMixin</span> <span class="id">ball_norm_center</span> <span class="id">ball_norm_symmetric</span> <span class="id">ball_norm_triangle</span> <span class="id">erefl</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ball_normE</span> :<br/>
&nbsp;&nbsp;@<span class="id">nbhs_ball_</span> <span class="id">K</span> <span class="id">R</span> <span class="id">R</span> (<span class="id">ball_</span> <span class="id">normr</span>) = <span class="id">nbhs_</span> (<span class="id">entourage_</span> (<span class="id">ball_</span> <span class="id">normr</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">rewrite</span> /<span class="id"><a name="y:28">nbhs_</a></span> <span class="id">entourage_E</span> <span class="id">predeq2E</span> =&gt; <span class="id">x</span> <span class="id">A</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">e</span> <span class="id">egt0</span> <span class="id"><a href="mathcomp.analysis.topology.html#NearMap.near_simpl">sbeA</a></span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">set</span> <span class="id">xy</span> | <span class="id">ball_</span> <span class="id">normr</span> <span class="id">xy</span>.1 <span class="id">e</span> <span class="id">xy</span>.2] =&gt; //; <span class="kwd">exists</span> <span class="id">e</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">E</span> [<span class="id">e</span> <span class="id">egt0</span> <span class="id">sbeE</span>] <span class="id">sEA</span>]; <span class="kwd">exists</span> <span class="id">e</span> =&gt; // ??; <span class="id">apply</span>/<span class="id">sEA</span>/<span class="id"><a href="mathcomp.analysis.topology.html#openE">sbeE</a></span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id">pseudoMetric_of_normedDomain</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsN</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">x</span> : <span class="id">R</span>) : <span class="id">nbhs</span> (- <span class="id">x</span>) = -%<span class="id">R</span> @ <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">A</span>; <span class="id"><a href="mathcomp.analysis.topology.html#closed">split</a></span>=&gt; //= -[] <span class="id">e</span> <span class="id"><a name="x:37">e_gt0</a></span> <span class="id">xeA</span>; <span class="kwd">exists</span> <span class="id">e</span> =&gt; //= <span class="id">y</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id"><a href="mathcomp.analysis.topology.html#closure">apply</a></span>: <span class="id">xeA</span> =&gt; //=; <span class="id">rewrite</span> -<span class="id">opprD</span> <span class="id">normrN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">opprD</span> <span class="id">normrN</span> =&gt; ?; <span class="id">rewrite</span> -[<span class="id">y</span>]<span class="id">opprK</span>; <span class="id">apply</span>: <span class="id">xeA</span>; <span class="id">rewrite</span> /= <span class="id">opprK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsNimage</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">x</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> (- <span class="id">x</span>) = [<span class="id">set</span> -%<span class="id">R</span> @` <span class="id">A</span> | <span class="id">A</span> <span class="kwd">in</span> <span class="id">nbhs</span> <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">rewrite</span> <span class="id">nbhsN</span> /<span class="id">fmap</span>/=; <span class="id">under</span> <span class="id">eq_set</span> =&gt; <span class="id">A</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">preimageEinv</span>//= <span class="id">inv_oppr</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">eq_imageK</span> <span class="id">opprK</span> <span class="id">opprK</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nearN</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">x</span> : <span class="id">R</span>) (<span class="id">P</span> : <span class="id">R</span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> - <span class="id">x</span>, <span class="id">P</span> <span class="id">y</span>) &lt;-&gt; \<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> (- <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">near_simpl</span> <span class="id">nbhsN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">openN</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">open</span> <span class="id">A</span> -&gt; <span class="id">open</span> [<span class="id">set</span> - <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">move</span>=&gt; <span class="id">Aop</span>; <span class="id">rewrite</span> <span class="id">openE</span> =&gt; <span class="id">_</span> [<span class="id">x</span> /<span class="id">Aop</span> <span class="id">x_A</span> &lt;-].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">interior</span> <span class="id">nbhsNimage</span>; <span class="kwd">exists</span> <span class="id">A</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closedN</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">closed</span> [<span class="id">set</span> - <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">move</span>=&gt; <span class="id">Acl</span> <span class="id"><a href="mathcomp.analysis.topology.html#Uniform.mixin_of">x</a></span> <span class="id">clNAx</span>.<br/>
<span class="id">suff</span> /<span class="id">Acl</span> : <span class="id">closure</span> <span class="id">A</span> (- <span class="id"><a name="PseudoMetricNormedZmodule.pseudoMetric_mixin">x</a></span>) <span class="kwd">by</span> <span class="kwd">exists</span> (- <span class="id">x</span>)=&gt; //; <span class="id">rewrite</span> <span class="id">opprK</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">B</span> <span class="id">oppx_B</span>; <span class="id">have</span> : [<span class="id">set</span> - <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>] `&amp;` [<span class="id">set</span> - <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">B</span>] !=<span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">clNAx</span>; <span class="id">rewrite</span> -[<span class="id">x</span>]<span class="id">opprK</span> <span class="id">nbhsNimage</span>; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.base">B</a></span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">y</span> [[<span class="id">z</span> <span class="id">Az</span> <span class="id">oppzey</span>] [<span class="id">t</span> <span class="id">Bt</span> <span class="id">opptey</span>]]]; <span class="kwd">exists</span> (- <span class="id">y</span>).<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">rewrite</span> -<span class="id">oppzey</span> <span class="id">opprK</span>|<span class="id">rewrite</span> -<span class="id">opptey</span> <span class="id">opprK</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Module</span> <span class="id">PseudoMetricNormedZmodule</span>.<br/>
<span class="kwd">Section</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filtered.Class">ClassDef</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">numDomainType</span>.<br/>
<span class="kwd">Record</span> <span class="id">mixin_of</span> (<span class="id">T</span> : <span class="id">normedZmodType</span> <span class="id">R</span>) (<span class="id">ent</span> : <span class="id">set</span> (<span class="id">set</span> (<span class="id">T</span> * <span class="id">T</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m</span> : <span class="id">PseudoMetric.mixin_of</span> <span class="id">R</span> <span class="id">ent</span>) := <span class="id">Mixin</span> {<br/>
&nbsp;&nbsp;<span class="id">_</span> : <span class="id">PseudoMetric.ball</span> <span class="id">m</span> = <span class="id">ball_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; `| <span class="id">x</span> |) }.<br/>
<br/>
<span class="kwd">Record</span> <span class="id">class_of</span> (<span class="id">T</span> : <span class="kwd">Type</span>) := <span class="kwd">Class</span> {<br/>
&nbsp;&nbsp;<span class="id">base</span> : <span class="id">Num.NormedZmodule.class_of</span> <span class="id">R</span> <span class="id">T</span>;<br/>
&nbsp;&nbsp;<span class="id">pointed_mixin</span> : <span class="id">Pointed.point_of</span> <span class="id">T</span> ;<br/>
&nbsp;&nbsp;<span class="id">nbhs_mixin</span> : <span class="id">Filtered.nbhs_of</span> <span class="id">T</span> <span class="id">T</span> ;<br/>
&nbsp;&nbsp;<span class="id">topological_mixin</span> : @<span class="id">Topological.mixin_of</span> <span class="id">T</span> <span class="id">nbhs_mixin</span> ;<br/>
&nbsp;&nbsp;<span class="id">uniform_mixin</span> : @<span class="id">Uniform.mixin_of</span> <span class="id">T</span> <span class="id">nbhs_mixin</span> ;<br/>
&nbsp;&nbsp;<span class="id">pseudoMetric_mixin</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a name="PseudoMetricNormedZmodule.clone">PseudoMetric.mixin_of</a></span> <span class="id">R</span> <span class="id">T</span> (<span class="id">Uniform.entourage</span> <span class="id">uniform_mixin</span>) ;<br/>
&nbsp;&nbsp;<span class="id">mixin</span> : @<span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.ClassDef.cT">mixin_of</a></span> (<span class="id">Num.NormedZmodule.Pack</span> <span class="id">_</span> <span class="id">base</span>) <span class="id">_</span> <span class="id">pseudoMetric_mixin</span><br/>
}.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.ClassDef.R">Num.NormedZmodule.class_of</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id">base2</span> <span class="id">T</span> <span class="id">c</span> := @<span class="id">PseudoMetric.Class</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Uniform.Class</span> <span class="id"><a name="b:71">_</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">Topological.Class</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Filtered.Class</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Pointed.Class</span> (@<span class="id">base</span> <span class="id">T</span> <span class="id">c</span>) (<span class="id">pointed_mixin</span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">nbhs_mixin</span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">topological_mixin</a></span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">uniform_mixin</span> <span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">pseudoMetric_mixin</span> <span class="id">c</span>).<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base2</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">class_of</a></span> &gt;-&gt; <span class="id">PseudoMetric.class_of</span>.<br/>
<br/>
<span class="kwd">Structure</span> <span class="id">type</span> (<span class="id">phR</span> : <span class="id">phant</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="id">Pack</span> { <span class="id">sort</span>; <span class="id">_</span> : <span class="id">class_of</span> <span class="id">sort</span> }.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id">phR</span> : <span class="id">phant</span> <span class="id">R</span>) (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">cT</span> : <span class="id">type</span> <span class="id">phR</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">class</span> := <span class="kwd">let</span>: <span class="id">Pack</span> <span class="id">_</span> <span class="id">c</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.ClassDef.R">cT</a></span> <span class="kwd">return</span> <span class="id">class_of</span> <span class="id">cT</span> <span class="kwd">in</span> <span class="id">c</span>.<br/>
<span class="kwd">Definition</span> <span class="id">clone</span> <span class="id">c</span> <span class="id">of</span> <span class="id">phant_id</span> <span class="id">class</span> <span class="id">c</span> := @<span class="id">Pack</span> <span class="id">phR</span> <span class="id">T</span> <span class="id">c</span>.<br/>
<span class="kwd">Let</span> <span class="id">xT</span> := <span class="kwd">let</span>: <span class="id">Pack</span> <span class="id">T</span> <span class="id">_</span> := <span class="id">cT</span> <span class="kwd">in</span> <span class="id">T</span>.<br/>
<span class="kwd">Notation</span> <span class="id">xclass</span> := (<span class="id">class</span> : <span class="id">class_of</span> <span class="id">xT</span>).<br/>
<span class="kwd">Definition</span> <span class="id">pack</span> (<span class="id">b0</span> : <span class="id">Num.NormedZmodule.class_of</span> <span class="id">R</span> <span class="id">T</span>) <span class="id">lm0</span> <span class="id">um0</span><br/>
&nbsp;&nbsp;(<span class="id">m0</span> : @<span class="id">mixin_of</span> (@<span class="id"><a name="PseudoMetricNormedZmodule.pseudoMetricType">Num.NormedZmodule.Pack</a></span> <span class="id">R</span> (<span class="id">Phant</span> <span class="id">R</span>) <span class="id">T</span> <span class="id">b0</span>) <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.ClassDef.cT">lm0</a></span> <span class="id">um0</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">bT</span> (<span class="id"><a name="PseudoMetricNormedZmodule.pointed_zmodType">b</a></span> : <span class="id">Num.NormedZmodule.class_of</span> <span class="id">R</span> <span class="id">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; <span class="id">phant_id</span> (@<span class="id">Num.NormedZmodule.class</span> <span class="id">R</span> (<span class="id">Phant</span> <span class="id">R</span>) <span class="id">bT</span>) <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">uT</span> (<span class="id">u</span> : <span class="id">PseudoMetric.class_of</span> <span class="id">R</span> <span class="id">T</span>) &amp; <span class="id">phant_id</span> (@<span class="id">PseudoMetric.class</span> <span class="id">R</span> <span class="id">uT</span>) <span class="id">u</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">m</span> : @<span class="id">mixin_of</span> (<span class="id">Num.NormedZmodule.Pack</span> <span class="id">_</span> <span class="id">b</span>) <span class="id">_</span> <span class="id">u</span>) &amp; <span class="id">phant_id</span> <span class="id">m</span> <span class="id">m0</span> =&gt;<br/>
&nbsp;&nbsp;@<span class="id">Pack</span> <span class="id">phR</span> <span class="id">T</span> (@<span class="kwd">Class</span> <span class="id">T</span> <span class="id">b</span> <span class="id">u</span> <span class="id">u</span> <span class="id">u</span> <span class="id">u</span> <span class="id">u</span> <span class="id"><a name="PseudoMetricNormedZmodule.pseudoMetric_zmodType">m</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">eqType</span> := @<span class="id">Equality.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">choiceType</span> := @<span class="id">Choice.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">R</span> <span class="id">phR</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pointedType</span> := @<span class="id">Pointed.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">filteredType</span> := @<span class="id">Filtered.Pack</span> <span class="id">cT</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">topologicalType</span> := @<span class="id">Topological.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.ClassDef.R">uniformType</a></span> := @<span class="id">Uniform.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricType</span> := @<span class="id">PseudoMetric.Pack</span> <span class="id">R</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.ClassDef.R">cT</a></span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pointed_zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">pointedType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">filtered_zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">filteredType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">topological_zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">topologicalType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">uniform_zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">uniformType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetric_zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">pseudoMetricType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pointed_normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">R</span> <span class="id">phR</span> <span class="id">pointedType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.choiceType">filtered_normedZmodType</a></span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">R</span> <span class="id">phR</span> <span class="id">filteredType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">topological_normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">R</span> <span class="id">phR</span> <span class="id">topologicalType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">uniform_normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">R</span> <span class="id">phR</span> <span class="id">uniformType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetric_normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">R</span> <span class="id">phR</span> <span class="id">pseudoMetricType</span> <span class="id">xclass</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">ClassDef</span>.<br/>
<br/>
<br/>
<span class="kwd">Module</span> <span class="id">Exports</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.filtered_zmodType">Num.NormedZmodule.class_of</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">base2</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">PseudoMetric.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">eqType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Equality.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">eqType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">choiceType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Choice.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">choiceType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">zmodType</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.pseudoMetric_normedZmodType">type</a></span> &gt;-&gt; <span class="id">GRing.Zmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">zmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">normedZmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.NormedZmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pointedType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Pointed.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pointedType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">filteredType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Filtered.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">filteredType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">topologicalType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Topological.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">topologicalType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">uniformType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Uniform.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">uniformType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pseudoMetricType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">PseudoMetric.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pointed_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">filtered_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">topological_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">uniform_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetric_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pointed_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">filtered_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">topological_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">uniform_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetric_normedZmodType</span>.<br/>
<span class="kwd">Notation</span> <span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> := (<span class="id">type</span> (<span class="id">Phant</span> <span class="id">R</span>)).<br/>
<span class="kwd">Notation</span> <span class="id">PseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">T</span> <span class="id">m</span> :=<br/>
&nbsp;&nbsp;(@<span class="id">pack</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">R</span>) <span class="id">T</span> <span class="id"><a name="Nbhs'">_</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span> <span class="id">_</span> <span class="id">_</span> <span class="id">idfun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">idfun</span> <span class="id">_</span> <span class="id">idfun</span>).<br/>
<span class="kwd">Notation</span> "[ '<span class="id">pseudoMetricNormedZmodType</span>' <span class="id">R</span> '<span class="id">of</span>' <span class="id">T</span> '<span class="kwd">for</span>' <span class="id">cT</span> ]" :=<br/>
&nbsp;&nbsp;(@<span class="id">clone</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">R</span>) <span class="id">T</span> <span class="id">cT</span> <span class="id">_</span> <span class="id">idfun</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">pseudoMetricNormedZmodType</span>'  <span class="id">R</span>  '<span class="id">of</span>'  <span class="id">T</span>  '<span class="kwd">for</span>'  <span class="id">cT</span> ]") :<br/>
&nbsp;&nbsp;<span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">pseudoMetricNormedZmodType</span>' <span class="id">R</span> '<span class="id">of</span>' <span class="id">T</span> ]" :=<br/>
&nbsp;&nbsp;(@<span class="id">clone</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">R</span>) <span class="id">T</span> <span class="id">_</span> <span class="id">_</span> <span class="id">idfun</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">pseudoMetricNormedZmodType</a></span>'  <span class="id">R</span>  '<span class="id">of</span>'  <span class="id">T</span> ]") : <span class="id">form_scope</span>.<br/>
<span class="kwd">End</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">PseudoMetricNormedZmodule</span>.<br/>
<span class="kwd">Export</span> <span class="id">PseudoMetricNormedZmodule.Exports</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">pseudoMetricnormedzmodule_lemmas</span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">ball_norm</span> := (<span class="id">ball_</span> (@<span class="id">normr</span> <span class="id">K</span> <span class="id">V</span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_normE</span> : <span class="id">ball_norm</span> = <span class="id">ball</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">V</span> =&gt; ? [? ? ? ? ? ? []]. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">pseudoMetricnormedzmodule_lemmas</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigcup_ballT</span> {<span class="id">R</span> : <span class="id">realType</span>} : \<span class="id">bigcup_n</span> <span class="id">ball</span> (0%<span class="id">R</span> : <span class="id"><a name="P:91">R</a></span>) <span class="id">n</span>%:<span class="id">R</span> = <span class="id">setT</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">x</span> <span class="id">_</span>; <span class="id">have</span> [<span class="id">x0</span>|<span class="id">x0</span>] := <span class="id">ltP</span> 0%<span class="id">R</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> `|<span class="id">ceil</span> <span class="id">x</span>|.+1 =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id"><a name="d:94">sub0r</a></span> <span class="id">normrN</span> <span class="id">gtr0_norm</span>// (<span class="id"><a name="y:95">le_lt_trans</a></span> (<span class="id">ceil_ge</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">natr1</span> <span class="id">natr_absz</span> -<span class="id">abszE</span> <span class="id">gtz0_abs</span>// ?<span class="id">ceil_gt0</span>// <span class="id">ltr_spaddr</span>.<br/>
<span class="kwd">exists</span> `|<span class="id">ceil</span> (- <span class="id">x</span>)|.+1 =&gt; //.<br/>
<span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">ler0_norm</span>// (<span class="id">le_lt_trans</span> (<span class="id">ceil_ge</span> <span class="id">_</span>))//.<br/>
<span class="id">rewrite</span> -<span class="id">natr1</span> <span class="id">natr_absz</span> -<span class="id">abszE</span> <span class="id">gez0_abs</span> ?<span class="id">ceil_ge0</span>// 1?<span class="id">ler_oppr</span> ?<span class="id">oppr0</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_spaddr</span>.<br/>
Qed.</div>
<br/>
<div class="doc">neighborhoods </div>
<br/>
<span class="kwd">Section</span> <span class="id">Nbhs</span>'.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} {<span class="id">T</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ex_ball_sig</span> (<span class="id">x</span> : <span class="id"><a name="x:104">T</a></span>) (<span class="id">P</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;~ (<span class="kwd">forall</span> <span class="id">eps</span> : {<span class="id">posnum</span> <span class="id"><a href="mathcomp.analysis.topology.html#Build_ProperFilter">R</a></span>}, ~ (<span class="id">ball</span> <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span> `&lt;=` ~` <span class="id">P</span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">d</span> : {<span class="id">posnum</span> <span class="id">R</span>} | <span class="id">ball</span> <span class="id">x</span> <span class="id">d</span>%:<span class="id">num</span> `&lt;=` ~` <span class="id">P</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">rewrite</span> <span class="id">forallNE</span> <span class="id">notK</span> =&gt; <span class="id">exNP</span>.<br/>
<span class="id">pose</span> <span class="id">D</span> := [<span class="id">set</span> <span class="id">d</span> : <span class="id">R</span>^<span class="id">o</span> | <span class="id">d</span> &gt; 0 /\ <span class="id">ball</span> <span class="id">x</span> <span class="id">d</span> `&lt;=` ~` <span class="id">P</span>].<br/>
<span class="id">have</span> [|<span class="id">d_gt0</span>] := @<span class="id">getPex</span> <span class="id">_</span> <span class="id">D</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">PosNum</span> <span class="id">d_gt0</span>).<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">exNP</span> =&gt; [<span class="id">e</span> <span class="id">eP</span>]; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsC</span> (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">P</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;~ (<span class="kwd">forall</span> <span class="id">eps</span> : {<span class="id">posnum</span> <span class="id">R</span>}, ~ (<span class="id">ball</span> <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span> `&lt;=` ~` <span class="id">P</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> <span class="id">x</span> (~` <span class="id">P</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">ex_ball_sig</span> [<span class="id">e</span>] ?; <span class="id">apply</span>/<span class="id">nbhs_ballP</span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id"><a href="mathcomp.classical.classical_sets.html#set">num</a></span> =&gt; /=. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsC_ball</span> (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">P</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> <span class="id">x</span> (~` <span class="id">P</span>) -&gt; {<span class="id">d</span> : {<span class="id">posnum</span> <span class="id">R</span>} | <span class="id">ball</span> <span class="id">x</span> <span class="id">d</span>%:<span class="id">num</span> `&lt;=` ~` <span class="id">P</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move</span>=&gt; /<span class="id">nbhs_ballP</span> <span class="id">xNP</span>; <span class="id">apply</span>: <span class="id">ex_ball_sig</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id"><a name="M:111">eP</a></span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">eP</span>)] := <span class="id">xNP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ex</span> (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">P</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#ninfty_nbhs">T</a></span> -&gt; <span class="kwd">Prop</span>) : <span class="id">nbhs</span> <span class="id">x</span> <span class="id">P</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">d</span> : {<span class="id">posnum</span> <span class="id">R</span>} | <span class="kwd">forall</span> <span class="id">y</span>, <span class="id">ball</span> <span class="id">x</span> <span class="id">d</span>%:<span class="id">num</span> <span class="id">y</span> -&gt; <span class="id">P</span> <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">move</span>=&gt; /<span class="id">nbhs_ballP</span> <span class="id">xP</span>.<br/>
<span class="id">pose</span> <span class="id">D</span> := [<span class="id">set</span> <span class="id">d</span> : <span class="id">R</span>^<span class="id">o</span> | <span class="id">d</span> &gt; 0 /\ <span class="kwd">forall</span> <span class="id">y</span>, <span class="id">ball</span> <span class="id">x</span> <span class="id">d</span> <span class="id">y</span> -&gt; <span class="id">P</span> <span class="id">y</span>].<br/>
<span class="id">have</span> [|<span class="id">d_gt0</span> <span class="id">dP</span>] := @<span class="id">getPex</span> <span class="id">_</span> <span class="id">D</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">PosNum</span> <span class="id">d_gt0</span>).<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">xP</span> =&gt; [<span class="id">e</span> <span class="id">bP</span>]; <span class="kwd">exists</span> (<span class="id">e</span> : <span class="id">R</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">Nbhs</span>'.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">coord_continuous</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} <span class="id">m</span> <span class="id">n</span> <span class="id">i</span> <span class="id"><a name="R:113">j</a></span> :<br/>
&nbsp;&nbsp;<span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">M</span> : '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>, <span class="id">n</span>) =&gt; <span class="id">M</span> <span class="id">i</span> <span class="id">j</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move</span>=&gt; /= <span class="id">M</span> <span class="id">s</span> /= /(<span class="id">nbhs_ballP</span> (<span class="id">M</span> <span class="id">i</span> <span class="id">j</span>)) [<span class="id">e</span> <span class="id">e0</span> <span class="id">es</span>].<br/>
<span class="id"><a name="proper_pinfty_nbhs">apply</a></span>/<span class="id">nbhs_ballP</span>; <span class="kwd">exists</span> <span class="id">e</span> =&gt; //= <span class="id">N</span> <span class="id">MN</span>; <span class="id">exact</span>/<span class="id">es</span>/<span class="id">MN</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id">Proper_dnbhs_numFieldType</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">x</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">ProperFilter</span> <span class="id">x</span>^'.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">apply</span>: <span class="id">Build_ProperFilter</span> =&gt; <span class="id">A</span> /<span class="id">nbhs_ballP</span>[<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">Ae</span>].<br/>
<span class="kwd">exists</span> (<span class="id">x</span> + <span class="id">e</span>%:<span class="id">num</span> / 2); <span class="id">apply</span>: <span class="id">Ae</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">addrC</span> -<span class="id">subr_eq</span> <span class="id">subrr</span> <span class="id">eq_sym</span>.<br/>
<span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">subrr</span> <span class="id">distrC</span> <span class="id">subr0</span> <span class="id">ger0_norm</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> {2}(<span class="id">splitr</span> <span class="id">e</span>%:<span class="id">num</span>) <span class="id">ltr_spaddl</span>.<br/>
Qed.</div>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">ProperFilter</span> <span class="id">_</span>^') =&gt;<br/>
&nbsp;&nbsp;(<span class="id">apply</span>: <span class="id">Proper_dnbhs_numFieldType</span>) : <span class="id">typeclass_instances</span>.<br/>
<br/>
<h1> Some Topology on extended real numbers </h1>
<br/>
<span class="kwd">Definition</span> <span class="id">pinfty_nbhs</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) : <span class="id">set</span> (<span class="id">set</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">P</span> =&gt; <span class="kwd">exists</span> <span class="id">M</span>, <span class="id">M</span> \<span class="id">is</span> <span class="id">Num.real</span> /\ <span class="kwd">forall</span> <span class="id">x</span>, <span class="id">M</span> &lt; <span class="id">x</span> -&gt; <span class="id">P</span> <span class="id">x</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">pinfty_nbhs</span> <span class="id">R</span> : <span class="id">clear</span> <span class="id">implicits</span>.<br/>
<span class="kwd">Definition</span> <span class="id">ninfty_nbhs</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) : <span class="id">set</span> (<span class="id">set</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">P</span> =&gt; <span class="kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">M</a></span>, <span class="id">M</span> \<span class="id">is</span> <span class="id">Num.real</span> /\ <span class="kwd">forall</span> <span class="id">x</span>, <span class="id">x</span> &lt; <span class="id">M</span> -&gt; <span class="id">P</span> <span class="id">x</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">ninfty_nbhs</span> <span class="id">R</span> : <span class="id">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="kwd">Notation</span> "+<span class="id">oo_</span> <span class="id">R</span>" := (<span class="id">pinfty_nbhs</span> [<span class="id">numFieldType</span> <span class="id">of</span> <span class="id">R</span>])<br/>
&nbsp;&nbsp;(<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ring_scope</span>.<br/>
<span class="kwd">Notation</span> "-<span class="id">oo_</span> <span class="id">R</span>" := (<span class="id">ninfty_nbhs</span> [<span class="id">numFieldType</span> <span class="id">of</span> <span class="id">R</span>])<br/>
&nbsp;&nbsp;(<span class="id">only</span> <span class="id">parsing</span>) : <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "+<span class="id">oo</span>" := (<span class="id">pinfty_nbhs</span> <span class="id"><a name="nbhs_ninfty_lt">_</a></span>) : <span class="id">ring_scope</span>.<br/>
<span class="kwd">Notation</span> "-<span class="id">oo</span>" := (<span class="id">ninfty_nbhs</span> <span class="id">_</span>) : <span class="id">ring_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">infty_nbhs_instances</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numFieldType</span>}.<br/>
<span class="kwd">Let</span> <span class="id">R_topologicalType</span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">r</span> : <span class="id">R</span>.<br/>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id">proper_pinfty_nbhs</span> : <span class="id">ProperFilter</span> (<span class="id">pinfty_nbhs</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">apply</span> <span class="id">Build_ProperFilter</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">P</span> [<span class="id">M</span> [<span class="id">Mreal</span> <span class="id">MP</span>]]; <span class="kwd">exists</span> (<span class="id">M</span> + 1); <span class="id">apply</span> <span class="id">MP</span>; <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">split</span>=&gt; /= [|<span class="id">P</span> <span class="id">Q</span> [<span class="id">MP</span> [<span class="id"><a name="x:123">MPr</a></span> <span class="id">gtMP</span>]] [<span class="id">MQ</span> [<span class="id">MQr</span> <span class="id">gtMQ</span>]] |<span class="id">P</span> <span class="id">Q</span> <span class="id">sPQ</span> [<span class="id">M</span> [<span class="id">Mr</span> <span class="id">gtM</span>]]].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> 0.<br/>
- <span class="kwd">exists</span> (<span class="id">maxr</span> <span class="id">MP</span> <span class="id">MQ</span>); <span class="id">split</span>=&gt; [|<span class="id">x</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a name="pinfty_ex_gt">max_real</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">comparable_lt_maxl</span> ?<span class="id">real_comparable</span> // =&gt; /<span class="id">andP</span>[/<span class="id">gtMP</span> ? /<span class="id">gtMQ</span>].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">split</span> =&gt; // ? /<span class="id">gtM</span> /<span class="id">sPQ</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id">proper_ninfty_nbhs</span> : <span class="id">ProperFilter</span> (<span class="id">ninfty_nbhs</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">apply</span> <span class="id">Build_ProperFilter</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">P</span> [<span class="id">M</span> [<span class="id">Mr</span> <span class="id">ltMP</span>]]; <span class="kwd">exists</span> (<span class="id"><a name="m:129">M</a></span> - 1).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ltMP</span>; <span class="id">rewrite</span> <span class="id">gtr_addl</span> <span class="id">oppr_lt0</span>.<br/>
<span class="id">split</span>=&gt; /= [|<span class="id">P</span> <span class="id">Q</span> [<span class="id">MP</span> [<span class="id">MPr</span> <span class="id"><a name="M:132">ltMP</a></span>]] [<span class="id">MQ</span> [<span class="id">MQr</span> <span class="id">ltMQ</span>]] |<span class="id">P</span> <span class="id">Q</span> <span class="id">sPQ</span> [<span class="id">M</span> [<span class="id">Mr</span> <span class="id">ltM</span>]]].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> 0.<br/>
- <span class="kwd">exists</span> (<span class="id">Num.min</span> <span class="id">MP</span> <span class="id">MQ</span>); <span class="id">split</span>=&gt; [|<span class="id">x</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id">min_real</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">comparable_lt_minr</span> ?<span class="id">real_comparable</span> // =&gt; /<span class="id">andP</span>[/<span class="id">ltMP</span> ? /<span class="id">ltMQ</span>].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">split</span> =&gt; // <span class="id"><a name="M:136">x</a></span> /<span class="id">ltM</span> /<span class="id">sPQ</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_pinfty_gt</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">r</span> &lt; <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_pinfty_ge</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">r</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id">ltW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ninfty_lt</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> -<span class="id">oo</span>, <span class="id">r</span> &gt; <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ninfty_le</span> <span class="id">r</span> : <span class="id">r</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> -<span class="id">oo</span>, <span class="id">r</span> &gt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>; <span class="id">split</span> =&gt; // ?; <span class="id">apply</span>: <span class="id">ltW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_pinfty_real</span> : \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">x</span> \<span class="id">is</span> @<span class="id">Num.real</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> (<span class="id">nbhs_pinfty_gt</span> (@<span class="id">real0</span> <span class="id">_</span>)); <span class="id">apply</span>: <span class="id">gtr0_real</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ninfty_real</span> : \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> -<span class="id">oo</span>, <span class="id">x</span> \<span class="id">is</span> @<span class="id">Num.real</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> (<span class="id">nbhs_ninfty_lt</span> (@<span class="id">real0</span> <span class="id">_</span>)); <span class="id">apply</span>: <span class="id">ltr0_real</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pinfty_ex_gt</span> (<span class="id">m</span> : <span class="id">R</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">m</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">k</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">A</span> <span class="id">k</span>) -&gt; <span class="kwd">exists2</span> <span class="id">M</span>, <span class="id">m</span> &lt; <span class="id">M</span> &amp; <span class="id">A</span> <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="id">move</span>=&gt; <span class="id">m_real</span> <span class="id">Agt</span>; <span class="id">near</span> (<span class="id">pinfty_nbhs</span> <span class="id">R</span>) =&gt; <span class="id">M</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">near</span>: <span class="id">M</span> =&gt; //; <span class="id">apply</span>: <span class="id">nbhs_pinfty_gt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pinfty_ex_ge</span> (<span class="id">m</span> : <span class="id">R</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">m</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt;<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">k</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">A</span> <span class="id">k</span>) -&gt; <span class="kwd">exists2</span> <span class="id">M</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ninfty_real">m</a></span> &lt;= <span class="id">M</span> &amp; <span class="id">A</span> <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move</span>=&gt; <span class="id">m_real</span> <span class="id">Agt</span>; <span class="id">near</span> (<span class="id">pinfty_nbhs</span> <span class="id">R</span>) =&gt; <span class="id">M</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">near</span>: <span class="id">M</span> =&gt; //; <span class="id">apply</span>: <span class="id">nbhs_pinfty_ge</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pinfty_ex_gt0</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">k</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">A</span> <span class="id">k</span>) -&gt; <span class="kwd">exists2</span> <span class="id">M</span>, <span class="id">M</span> &gt; 0 &amp; <span class="id">A</span> <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="id">exact</span>: <span class="id">pinfty_ex_gt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">near_pinfty_div2</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">k</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">A</span> <span class="id">k</span>) -&gt; (\<span class="kwd">forall</span> <span class="id">k</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">A</span> (<span class="id">k</span> / 2)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move</span>=&gt; [<span class="id">M</span> [<span class="id">Mreal</span> <span class="id">AM</span>]]; <span class="kwd">exists</span> (<span class="id">M</span> * 2); <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">realM</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -<span class="id">ltr_pdivl_mulr</span> //; <span class="id">exact</span>: <span class="id">AM</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">infty_nbhs_instances</span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt; ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_pinfty_gt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt;= ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_pinfty_ge</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &gt; ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_ninfty_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &gt;= ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id"><a name="FF:143">goal</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_ninfty_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id">x</span> \<span class="id">is</span> <span class="id">Num.real</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_pinfty_real</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id"><a name="x:151">x</a></span> \<span class="id">is</span> <span class="id">Num.real</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_ninfty_real</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt; ?<span class="id">x</span>)%<span class="id">E</span>) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">ereal_nbhs_pinfty_gt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id"><a href="mathcomp.analysis.topology.html#filterS">global</a></span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt;= ?<span class="id">x</span>)%<span class="id">E</span>) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField.R">near</a></span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">ereal_nbhs_pinfty_ge</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &gt; ?<span class="id">x</span>)%<span class="id">E</span>) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id"><a name="FF:153">x</a></span>; <span class="id">exact</span>: <span class="id">ereal_nbhs_ninfty_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &gt;= ?<span class="id">x</span>)%<span class="id">E</span>) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">ereal_nbhs_ninfty_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">fine</span> ?<span class="id">x</span> \<span class="id">is</span> <span class="id">Num.real</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">ereal_nbhs_pinfty_real</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ninfty_le">global</a></span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">fine</span> ?<span class="id">x</span> \<span class="id">is</span> <span class="id">Num.real</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">ereal_nbhs_ninfty_real</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_infty_numField</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numFieldType</span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">cvgryPnum</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">R</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} : [&lt;-&gt;<br/>
 <span class="id">F</span> --&gt; +<span class="id">oo</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">x</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id"><a name="A:166">oo</a></span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">x</span> ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">tfae</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">apply</span>: <span class="id">Foo</span>; <span class="id">apply</span>: <span class="id">nbhs_pinfty_ge</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">AF</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>) =&gt; //=; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: <span class="id">Foo</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField.F">ltW</a></span>.<br/>
<span class="id">case</span>=&gt; [<span class="id">A</span> [<span class="id">AR</span> <span class="id">AF</span>]] <span class="id">P</span> [<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField.cvgryPnum">x</a></span> [<span class="id">xR</span> <span class="id">Px</span>]]; <span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
<span class="kwd">by</span> <span class="id"><a name="cvgryPgey">near</a></span> <span class="id">do</span> [<span class="id">apply</span>: <span class="id">Px</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField.F">apply</a></span>: (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>) =&gt; //]; <span class="id">apply</span>: <span class="id"><a name="x:176">AF</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgrNyPnum</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">R</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} : [&lt;-&gt;<br/>
 <span class="id">F</span> --&gt; -<span class="id">oo</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt;= <span class="id">x</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt;= <span class="id">x</span> ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
<span class="id">tfae</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">apply</span>: <span class="id">Foo</span>; <span class="id">apply</span>: <span class="id"><a name="x:185">nbhs_ninfty_le</a></span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">AF</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">near</span> -<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField.F">_</a></span> <span class="id">B</span>) =&gt; //; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: <span class="id">Foo</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id">ltW</span>.<br/>
<span class="id">case</span>=&gt; [<span class="id">A</span> [<span class="id">AR</span> <span class="id">AF</span>]] <span class="id">P</span> [<span class="id">x</span> [<span class="id">xR</span> <span class="id">Px</span>]]; <span class="id">near</span> -<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> [<span class="id">apply</span>: <span class="id">Px</span>; <span class="id">apply</span>: (@<span class="id">le_lt_trans</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgryPger">_</a></span> <span class="id">_</span> <span class="id">B</span>) =&gt; //]; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Context</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField.F">F</a></span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgryPger</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="id">exact</span>: (<span class="id">cvgryPnum</span> 0%<span class="id">N</span> 1%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgryPgtr</span> <span class="id"><a name="cvgrNy_ltr">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="id">exact</span>: (<span class="id">cvgryPnum</span> 0%<span class="id">N</span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgryPgty</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="id">exact</span>: (<span class="id">cvgryPnum</span> 0%<span class="id">N</span> 3%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgryPgey</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="id">exact</span>: (<span class="id">cvgryPnum</span> 0%<span class="id">N</span> 4%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNyPler</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_numField">is</a></span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="id">exact</span>: (<span class="id"><a name="R:203">cvgrNyPnum</a></span> 0%<span class="id">N</span> 1%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="F:205">cvgrNyPltr</a></span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="id">exact</span>: (<span class="id">cvgrNyPnum</span> 0%<span class="id">N</span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNyPltNy</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.boolp.html#eq_forall">f</a></span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_realField.f">exact</a></span>: (<span class="id">cvgrNyPnum</span> 0%<span class="id">N</span> 3%<span class="id"><a name="A:210">N</a></span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNyPleNy</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="id">exact</span>: (<span class="id">cvgrNyPnum</span> 0%<span class="id">N</span> 4%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgry_ger</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id"><a name="A:212">f</a></span> @ <span class="id">F</span> --&gt; +<span class="id"><a name="x:213">oo</a></span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_realField.f">A</a></span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgryPger</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgry_gtr</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id"><a name="cvgrNyPlt">f</a></span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_realField.F">near</a></span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgryPgtr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNy_ler</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt;= <span class="id">f</span> <span class="id"><a name="A:216">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrNyPler</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNy_ltr</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id"><a name="x:219">near</a></span> <span class="id">F</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_realField.F">A</a></span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrNyPltr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgNry</span> <span class="id">f</span> : (- <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>) &lt;-&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="id">rewrite</span> <span class="id">cvgrNyPler</span> <span class="id">cvgryPger</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrNyPle">split</a></span>=&gt; <span class="id">Foo</span> <span class="id">A</span> <span class="id">Areal</span>;<br/>
<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">ler_opp2</span> ?<span class="id">opprK</span>; <span class="id">apply</span>: <span class="id">Foo</span>; <span class="id"><a name="x:223">rewrite</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_infty_realField.F">rpredN</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgNrNy</span> <span class="id">f</span> : (- <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>) &lt;-&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">cvgNry</span> <span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_infty_numField</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_infty_realField</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Context</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgnyPge">T</a></span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgryPge</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgryPger</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span>=&gt; + *; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgryPgt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgryPgtr</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span>=&gt; + *; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNyPle</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id"><a name="FF:232">A</a></span> &gt;= <span class="id"><a href="mathcomp.analysis.topology.html#Filter">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrNyPler</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id"><a name="A:233">do</a></span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span>=&gt; + *; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNyPlt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrNyPltr</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span>=&gt; + *; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgry_ge</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgryPge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgry_gt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgryPgt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNy_le</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id"><a href="mathcomp.analysis.topology.html#filterS">near</a></span> <span class="id">F</span>, <span class="id">A</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrNyPle</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrNy_lt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrNyPlt</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_infty_realField</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrnyP</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">nat</span>) :<br/>
&nbsp;&nbsp;&nbsp;(((<span class="id">f</span> <span class="id">n</span>)%:<span class="id">R</span> : <span class="id">R</span>) @[<span class="id">n</span> --&gt; <span class="id">F</span>] --&gt; +<span class="id">oo</span>) &lt;-&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; \<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="id">split</span>=&gt; [/<span class="id">cvgryPge</span>|/<span class="id">cvgnyPge</span>] <span class="id">Foo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">cvgnyPge</span> =&gt; <span class="id">A</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -(@<span class="id">ler_nat</span> <span class="id">R</span>); <span class="id">apply</span>: <span class="id">Foo</span>.<br/>
<span class="id">apply</span>/<span class="id">cvgryPgey</span>; <span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (@<span class="id">ceil_ge</span> <span class="id">R</span> <span class="id">A</span>))// (<span class="id">ler_int</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">n</span>)) [<span class="id">ceil</span> <span class="id">_</span>]<span class="id">intEsign</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le_gtF</span> ?<span class="id">expr0</span> ?<span class="id">mul1r</span> ?<span class="id">lez_nat</span> ?<span class="id">ceil_ge0</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">Foo</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">ecvg_infty_numField</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numFieldType</span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">cvgeyPnum</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> \<span class="id">bar</span> <span class="id">R</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} : [&lt;-&gt;<br/>
 <span class="id">F</span> --&gt; +<span class="id">oo</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">x</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">x</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id"><a name="T:251">near</a></span> <span class="id">F</span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#set">A</a></span>%:<span class="id">E</span> &lt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.R">A</a></span>%:<span class="id">E</span> &lt;= <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.T">x</a></span> ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">tfae</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">apply</span>: <span class="id">Foo</span>; <span class="id">apply</span>: <span class="id">ereal_nbhs_pinfty_ge</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">AF</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>%:<span class="id">E</span>) ?<span class="id">lte_fin</span>//; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: <span class="id">Foo</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id">ltW</span>.<br/>
<span class="id">case</span>=&gt; [<span class="id">A</span> [<span class="id"><a name="f:260">AR</a></span> <span class="id">AF</span>]] <span class="id">P</span> [<span class="id">x</span> [<span class="id">xR</span> <span class="id">Px</span>]]; <span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> [<span class="id">apply</span>: <span class="id">Px</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.F">rewrite</a></span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>%:<span class="id">E</span>) ?<span class="id">lte_fin</span>//]; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgeNyPnum</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> \<span class="id">bar</span> <span class="id">R</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} : [&lt;-&gt;<br/>
 <span class="id">F</span> --&gt; -<span class="id">oo</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.F">F</a></span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">x</span>;<br/>
 <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.F">x</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">x</span>;<br/>
 \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id"><a name="A:270">oo</a></span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">x</span> ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
<span class="id">tfae</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.cvgeNyPnum">Foo</a></span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">apply</span>: <span class="id">Foo</span>; <span class="id">apply</span>: <span class="id">ereal_nbhs_ninfty_le</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">AF</span> <span class="id">A</span> <span class="id">Areal</span>; <span class="id">near</span> -<span class="id">oo_R</span> =&gt; <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>%:<span class="id">E</span>) ?<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.cvgeNyPnum">lte_fin</a></span>//; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Foo</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: <span class="id">Foo</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a name="A:276">filterS</a></span> =&gt; ?; <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>: <span class="id">ltW</span>.<br/>
<span class="id">case</span>=&gt; [<span class="id">A</span> [<span class="id">AR</span> <span class="id">AF</span>]] <span class="id">P</span> [<span class="id">x</span> [<span class="id">xR</span> <span class="id">Px</span>]]; <span class="id">near</span> -<span class="id">oo_R</span> =&gt; <span class="id"><a name="cvgey_ger">B</a></span>.<br/>
<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> [<span class="id">apply</span>: <span class="id">Px</span>; <span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">B</span>%:<span class="id">E</span>) ?<span class="id">lte_fin</span>//]; <span class="id">apply</span>: <span class="id">AF</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Context</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id"><a name="f:281">FF</a></span> : <span class="id">Filter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">u</span> : <span class="id">T</span> -&gt; <span class="id"><a name="x:283">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeyPger</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="id">exact</span>: (<span class="id">cvgeyPnum</span> 0%<span class="id">N</span> 1%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeyPgtr</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="id">exact</span>: (<span class="id">cvgeyPnum</span> 0%<span class="id">N</span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeyPgty</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="id">exact</span>: (<span class="id">cvgeyPnum</span> 0%<span class="id">N</span> 3%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeyPgey</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> +<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="id">exact</span>: (<span class="id">cvgeyPnum</span> 0%<span class="id">N</span> 4%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNyPler</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="id">exact</span>: (<span class="id">cvgeNyPnum</span> 0%<span class="id">N</span> 1%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNyPltr</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="id">exact</span>: (<span class="id">cvgeNyPnum</span> 0%<span class="id">N</span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNyPltNy</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">x</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="id">exact</span>: (<span class="id">cvgeNyPnum</span> 0%<span class="id">N</span> 3%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNyPleNy</span> <span class="id"><a name="x:295">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_numField.F">f</a></span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">A</span> \<span class="id">near</span> -<span class="id">oo</span>%<span class="id">R</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPler">near</a></span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="id">exact</span>: (<span class="id">cvgeNyPnum</span> 0%<span class="id">N</span> 4%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgey_ger</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeyPger</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgey_gtr</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt; <span class="id"><a name="R:296">f</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeyPgtr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNy_ler</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id"><a name="f:300">F</a></span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_realField.f">cvgeNyPler</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNy_ltr</span> <span class="id">f</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">A</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_infty_realField.f">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeNyPltr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgNey</span> <span class="id">f</span> : (\- <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>) &lt;-&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">rewrite</span> <span class="id">cvgeNyPler</span> <span class="id">cvgeyPger</span>; <span class="id">split</span>=&gt; <span class="id">Foo</span> <span class="id">A</span> <span class="id">Areal</span>;<br/>
<span class="kwd">by</span> <span class="id"><a name="cvgeNyPle">near</a></span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">lee_opp2</span> ?<span class="id">oppeK</span>; <span class="id">apply</span>: <span class="id">Foo</span>; <span class="id">rewrite</span> <span class="id">rpredN</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgNeNy</span> <span class="id">f</span> : (\- <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>) &lt;-&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">cvgNey</span> (<span class="id">_</span> : \- \- <span class="id">f</span> = <span class="id">f</span>)//; <span class="id">apply</span>/<span class="id">funeqP</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">oppeK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeryP</span> <span class="id">u</span> : ((<span class="id">u</span> <span class="id">x</span>)%:<span class="id">E</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; +<span class="id">oo</span>) &lt;-&gt; (<span class="id">u</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>%<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">split</span>=&gt; [/<span class="id">cvgeyPger</span>|/<span class="id">cvgryPger</span>] <span class="id">Foo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">cvgryPger</span> =&gt; <span class="id">A</span> <span class="id">Ar</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">lee_fin</span>; <span class="id">apply</span>: <span class="id">Foo</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">cvgeyPger</span> =&gt; <span class="id">A</span> <span class="id">Ar</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">lee_fin</span>; <span class="id">apply</span>: <span class="id">Foo</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgerNyP</span> <span class="id">u</span> : ((<span class="id">u</span> <span class="id">x</span>)%:<span class="id">E</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; -<span class="id">oo</span>) &lt;-&gt; (<span class="id">u</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>%<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">split</span>=&gt; [/<span class="id">cvgeNyPler</span>|/<span class="id">cvgrNyPler</span>] <span class="id">Foo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPle">cvgrNyPler</a></span> =&gt; <span class="id">A</span> <span class="id">Ar</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">lee_fin</span>; <span class="id">apply</span>: <span class="id">Foo</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">cvgeNyPler</span> =&gt; <span class="id">A</span> <span class="id">Ar</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">lee_fin</span>; <span class="id">apply</span>: <span class="id">Foo</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ecvg_infty_numField</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="F:319">ecvg_infty_realField</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Context</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeyPge</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeyPger</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span>=&gt; + *; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeyPgt</span> : <span class="id">f</span> @ <span class="id"><a name="x:328">F</a></span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeyPgtr</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a name="T:330">num_real</a></span>; <span class="id">split</span>=&gt; + *; <span class="id"><a name="NormedModule.base">apply</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNyPle</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.ClassDef.K">oo</a></span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeNyPler</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span>=&gt; + *; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNyPlt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeNyPltr</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id"><a name="NormedModule.base2">split</a></span>=&gt; + *; <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.class_of">apply</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgey_ge</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeyPge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgey_gt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phant">A</a></span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &lt; <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.class_of">x</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeyPgt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNy_le</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id">A</span>, \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id"><a name="NormedModule.ClassDef.cT">F</a></span>, <span class="id">A</span>%:<span class="id">E</span> &gt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeNyPle</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNy_lt</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="kwd">forall</span> <span class="id"><a name="NormedModule.clone">A</a></span>, \<span class="kwd">forall</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#phant_id">x</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">A</span>%:<span class="id">E</span> &gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeNyPlt</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.ClassDef.cT">ecvg_infty_realField</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.class">cvgenyP</a></span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id"><a name="m0:348">f</a></span> : <span class="id">T</span> -&gt; <span class="id">nat</span>) :<br/>
&nbsp;&nbsp;&nbsp;(((<span class="id">f</span> <span class="id">n</span>)%:<span class="id">R</span> : <span class="id">R</span>)%:<span class="id">E</span> @[<span class="id">n</span> --&gt; <span class="id">F</span>] --&gt; +<span class="id">oo</span>%<span class="id">E</span>) &lt;-&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; \<span class="id">oo</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgeryP</span> <span class="id">cvgrnyP</span>. Qed.</div>
<br/>
<h2> Modules with a norm </h2>
<br/>
<span class="kwd">Module</span> <span class="id">NormedModule</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id">mixin_of</span> (<span class="id">K</span> : <span class="id">numDomainType</span>)<br/>
&nbsp;&nbsp;(<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>) (<span class="id">scale</span> : <span class="id">K</span> -&gt; <span class="id">V</span> -&gt; <span class="id">V</span>) := <span class="id">Mixin</span> {<br/>
&nbsp;&nbsp;<span class="id">_</span> : <span class="kwd">forall</span> (<span class="id">l</span> : <span class="id"><a name="NormedModule.eqType">K</a></span>) (<span class="id">x</span> : <span class="id">V</span>), `| <span class="id">scale</span> <span class="id">l</span> <span class="id">x</span> | = `| <span class="id">l</span> | * `| <span class="id">x</span> |;<br/>
}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ClassDef</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id">K</span> : <span class="id">numDomainType</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id">class_of</span> (<span class="id">T</span> : <span class="kwd">Type</span>) := <span class="kwd">Class</span> {<br/>
&nbsp;&nbsp;<span class="id">base</span> : <span class="id">PseudoMetricNormedZmodule.class_of</span> <span class="id">K</span> <span class="id">T</span> ;<br/>
&nbsp;&nbsp;<span class="id">lmodmixin</span> : <span class="id">GRing.Lmodule.mixin_of</span> <span class="id">K</span> (<span class="id">GRing.Zmodule.Pack</span> <span class="id">base</span>) ;<br/>
&nbsp;&nbsp;<span class="id">mixin</span> : @<span class="id">mixin_of</span> <span class="id">K</span> (<span class="id">PseudoMetricNormedZmodule.Pack</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id">base</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">GRing.Lmodule.scale</span> <span class="id">lmodmixin</span>)<br/>
}.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">PseudoMetricNormedZmodule.class_of</span>.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base2</span> <span class="id">T</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.ClassDef.cT">c</a></span> : <span class="id">class_of</span> <span class="id">T</span>) : <span class="id">GRing.Lmodule.class_of</span> <span class="id">K</span> <span class="id"><a href="mathcomp.analysis.topology.html#PseudoMetric.Pack">T</a></span> :=<br/>
&nbsp;&nbsp;@<span class="id">GRing.Lmodule.Class</span> <span class="id">K</span> <span class="id">T</span> (<span class="id">base</span> <span class="id">c</span>) (<span class="id"><a name="NormedModule.pseudoMetricNormedZmodType">lmodmixin</a></span> <span class="id">c</span>).<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">mixin</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">mixin_of</span>.<br/>
<br/>
<span class="kwd">Structure</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.xclass">type</a></span> (<span class="id">phK</span> : <span class="id">phant</span> <span class="id">K</span>) :=<br/>
&nbsp;&nbsp;<span class="id">Pack</span> { <span class="id">sort</span>; <span class="id">_</span> : <span class="id">class_of</span> <span class="id">sort</span> }.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id">phK</span> : <span class="id">phant</span> <span class="id">K</span>) (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">cT</span> : <span class="id">type</span> <span class="id">phK</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">class</span> := <span class="kwd">let</span>: <span class="id">Pack</span> <span class="id">_</span> <span class="id">c</span> := <span class="id">cT</span> <span class="kwd">return</span> <span class="id">class_of</span> <span class="id">cT</span> <span class="kwd">in</span> <span class="id">c</span>.<br/>
<span class="kwd">Definition</span> <span class="id">clone</span> <span class="id">c</span> <span class="id">of</span> <span class="id">phant_id</span> <span class="id">class</span> <span class="id"><a name="NormedModule.uniform_lmodType">c</a></span> := @<span class="id">Pack</span> <span class="id">phK</span> <span class="id">T</span> <span class="id">c</span>.<br/>
<span class="kwd">Let</span> <span class="id">xT</span> := <span class="kwd">let</span>: <span class="id">Pack</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.ClassDef.K">T</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.ClassDef.phK">_</a></span> := <span class="id">cT</span> <span class="kwd">in</span> <span class="id">T</span>.<br/>
<span class="kwd">Notation</span> <span class="id">xclass</span> := (<span class="id">class</span> : <span class="id">class_of</span> <span class="id">xT</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">pack</span> <span class="id">b0</span> <span class="id">l0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m0</span> : @<span class="id">mixin_of</span> <span class="id">K</span> (@<span class="id">PseudoMetricNormedZmodule.Pack</span> <span class="id">K</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id">T</span> <span class="id">b0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">GRing.Lmodule.scale</span> <span class="id">l0</span>)) :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">bT</span> <span class="id">b</span> &amp; <span class="id">phant_id</span> (@<span class="id">PseudoMetricNormedZmodule.class</span> <span class="id">K</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.xclass">bT</a></span>) <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">l</span> &amp; <span class="id">phant_id</span> <span class="id">l0</span> <span class="id">l</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">m</span> &amp; <span class="id">phant_id</span> <span class="id">m0</span> <span class="id">m</span> =&gt; <span class="id">Pack</span> <span class="id">phK</span> (@<span class="kwd">Class</span> <span class="id">T</span> <span class="id">b</span> <span class="id">l</span> <span class="id">m</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">eqType</span> := @<span class="id">Equality.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">choiceType</span> := @<span class="id">Choice.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pointedType</span> := @<span class="id">Pointed.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">filteredType</span> := @<span class="id">Filtered.Pack</span> <span class="id">cT</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">topologicalType</span> := @<span class="id">Topological.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">uniformType</span> := @<span class="id">Uniform.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricType</span> := @<span class="id">PseudoMetric.Pack</span> <span class="id">K</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.pointedType">cT</a></span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmodType</span> := @<span class="id">PseudoMetricNormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pointed_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">pointedType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">filtered_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">filteredType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">topological_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">topologicalType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">uniform_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">uniformType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetric_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">pseudoMetricType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">normedZmod_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">normedZmodType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">pseudoMetricNormedZmodType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">End</span> <span class="id">ClassDef</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">PseudoMetricNormedZmodule.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id"><a name="NormedModule.Exports.NormedModMixin">base2</a></span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">GRing.Lmodule.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">mixin</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">mixin_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">eqType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Equality.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">eqType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">choiceType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Choice.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">choiceType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">zmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Zmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">zmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">normedZmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.NormedZmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">lmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Lmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pointedType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Pointed.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pointedType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">filteredType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Filtered.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">filteredType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">topologicalType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Topological.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">topologicalType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">uniformType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Uniform.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">uniformType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#regular_topology.regular_topology">pseudoMetricType</a></span> : <span class="id">type</span> &gt;-&gt; <span class="id">PseudoMetric.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pseudoMetricNormedZmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">PseudoMetricNormedZmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pointed_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">filtered_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">topological_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">uniform_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetric_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedZmod_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_lmodType</span>.<br/>
<span class="kwd">Notation</span> <span class="id">normedModType</span> <span class="id">K</span> := (<span class="id">type</span> (<span class="id">Phant</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realType.R">K</a></span>)).<br/>
<span class="kwd">Notation</span> <span class="id">NormedModType</span> <span class="id">K</span> <span class="id">T</span> <span class="id">m</span> := (@<span class="id">pack</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id">T</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span> <span class="id">_</span> <span class="id">_</span> <span class="id">idfun</span> <span class="id">_</span> <span class="id">idfun</span> <span class="id">_</span> <span class="id">idfun</span>).<br/>
<span class="kwd">Notation</span> <span class="id">NormedModMixin</span> := <span class="id">Mixin</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">normedModType</span>' <span class="id">K</span> '<span class="id">of</span>' <span class="id">T</span> '<span class="kwd">for</span>' <span class="id">cT</span> ]" := (@<span class="id">clone</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id">T</span> <span class="id">cT</span> <span class="id">_</span> <span class="id">idfun</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">normedModType</span>'  <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realType.R">K</a></span>  '<span class="id">of</span>'  <span class="id">T</span>  '<span class="kwd">for</span>'  <span class="id">cT</span> ]") : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">normedModType</span>' <span class="id">K</span> '<span class="id">of</span>' <span class="id"><a name="numFieldNormedType.real_fieldExtType">T</a></span> ]" := (@<span class="id">clone</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id">T</span> <span class="id">_</span> <span class="id">_</span> <span class="id">id</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">normedModType</span>'  <span class="id">K</span>  '<span class="id">of</span>'  <span class="id">T</span> ]") : <span class="id">form_scope</span>.<br/>
<span class="kwd">End</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">NormedModule</span>.<br/>
<br/>
<span class="kwd">Export</span> <span class="id">NormedModule.Exports</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">regular_topology</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">regular_topology</span>.<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmodType</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realType.R">PseudoMetricNormedZmodType</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">R</span> <span class="id">R</span>^<span class="id">o</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PseudoMetricNormedZmodule.Mixin</span> (<span class="id">erefl</span> : @<span class="id">ball</span> <span class="id">_</span> <span class="id">R</span> = <span class="id">ball_</span> <span class="id">Num.norm</span>)).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">normedModType</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) :=<br/>
&nbsp;&nbsp;<span class="id">NormedModType</span> <span class="id">R</span> <span class="id">R</span>^<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.rcfType.R">o</a></span> (@<span class="id">NormedModMixin</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.rcfType.R">_</a></span> ( *:%<span class="id">R</span> : <span class="id">R</span> -&gt; <span class="id">R</span>^<span class="id">o</span> -&gt; <span class="id"><a name="numFieldNormedType.rcf_algType">_</a></span>) (@<span class="id">normrM</span> <span class="id">_</span>)).<br/>
<span class="kwd">End</span> <span class="id">regular_topology</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">Exports</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedModType</span>.<br/>
<span class="kwd">End</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">regular_topology</span>.<br/>
<span class="kwd">Export</span> <span class="id">regular_topology.Exports</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">numFieldNormedType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">realType</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">realType</span>).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_lmodType</span> := [<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.rcfType.R">lmodType</a></span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_lalgType</span> := [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_algType</span> := [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_comAlgType</span> := [<span class="id">comAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_unitAlgType</span> := [<span class="id">unitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_comUnitAlgType</span> := [<span class="id">comUnitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_vectType</span> := [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_FalgType</span> := [<span class="id">FalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_fieldExtType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a name="numFieldNormedType.archiField_comAlgType">R</a></span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">real_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">End</span> <span class="id">realType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">rcfType</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">rcfType</span>).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_lmodType</span> := [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.archiFieldType.R">o</a></span>]].<br/>
<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.archiFieldType.R">Local</a></span> <span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.archiFieldType.R">rcf_lalgType</a></span> := [<span class="id">lalgType</span> <span class="id">R</span> <span class="id"><a name="numFieldNormedType.archiField_FalgType">of</a></span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_algType</span> := [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_comAlgType</span> := [<span class="id">comAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id"><a name="numFieldNormedType.archiField_pseudoMetricNormedZmodType">R</a></span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_unitAlgType</span> := [<span class="id">unitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_comUnitAlgType</span> := [<span class="id">comUnitAlgType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.archiFieldType.R">R</a></span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_vectType</span> := [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_FalgType</span> := [<span class="id">FalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id"><a name="numFieldNormedType.realFieldType">Local</a></span> <span class="kwd">Canonical</span> <span class="id">rcf_fieldExtType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id"><a name="numFieldNormedType.realField_lalgType">pseudoMetricNormedZmodType</a></span> <span class="id">R</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realFieldType.R">R</a></span> <span class="kwd">for</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">rcf_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">End</span> <span class="id">rcfType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">archiFieldType</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">archiFieldType</span>).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_lmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_lalgType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_algType</span> := [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_comAlgType</span> := [<span class="id">comAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_unitAlgType</span> := [<span class="id">unitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_comUnitAlgType</span> := [<span class="id">comUnitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_vectType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realFieldType.R">Local</a></span> <span class="kwd">Canonical</span> <span class="id">archiField_FalgType</span> := [<span class="id">FalgType</span> <span class="id"><a name="numFieldNormedType.lmod_latticeType">R</a></span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_fieldExtType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">fieldExtType</span> <span class="id"><a name="numFieldNormedType.lmod_distrLatticeType">R</a></span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">archiField_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">End</span> <span class="id">archiFieldType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">realFieldType</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">realFieldType</span>).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_lmodType</span> := [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_lalgType</span> := [<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realField_lalgType">lalgType</a></span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lalgType</span> <span class="id">R</span> <span class="id"><a name="numFieldNormedType.alg_latticeType">of</a></span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_algType</span> := [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_comAlgType</span> := [<span class="id">comAlgType</span> <span class="id">R</span> <span class="id"><a name="numFieldNormedType.alg_orderType">of</a></span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_unitAlgType</span> := [<span class="id">unitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_comUnitAlgType</span> := [<span class="id">comUnitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_vectType</span> := [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_FalgType</span> := [<span class="id">FalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_fieldExtType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">realField_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_distrLatticeType</span> := [<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_distrLatticeType</span> := [<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_distrLatticeType</span> := [<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_distrLatticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realField_FalgType">comAlg_orderType</a></span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_distrLatticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">distrLatticeType</span> <span class="id"><a name="numFieldNormedType.fieldExt_realDomainType">of</a></span> <span class="id">realField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_distrLatticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_realDomainType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_distrLatticeType</span> := [<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_latticeType</span> := [<span class="id">latticeType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realFieldType">of</a></span> <span class="id">realField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_distrLatticeType</span> := [<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_realDomainType</span> := [<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_distrLatticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_realDomainType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_latticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">latticeType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numClosedFieldType.R">of</a></span> <span class="id">realField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_distrLatticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_orderType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_realDomainType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_latticeType</span> := [<span class="id">latticeType</span> <span class="id">of</span> <span class="id">realField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_distrLatticeType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">distrLatticeType</span> <span class="id">of</span> <span class="id">realField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_orderType</span> := [<span class="id">orderType</span> <span class="id">of</span> <span class="id">realField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_realDomainType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">realDomainType</span> <span class="id">of</span> <span class="id">realField_normedModType</span>].<br/>
<span class="kwd">End</span> <span class="id">realFieldType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">numClosedFieldType</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">numClosedFieldType</span>).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_lmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_lalgType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_algType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id"><a name="numFieldNormedType.unitAlg_decFieldType">numClosedField_comAlgType</a></span> := [<span class="id">comAlgType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numClosedField_unitAlgType">R</a></span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_unitAlgType</span> := [<span class="id">unitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_comUnitAlgType</span> := [<span class="id">comUnitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_vectType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id"><a name="numFieldNormedType.comUnitAlg_closedFieldType">vectType</a></span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_FalgType</span> := [<span class="id">FalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_fieldExtType</span> :=<br/>
&nbsp;&nbsp;[<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numClosedField_vectType">fieldExtType</a></span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numClosedField_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_closedFieldType</span> := [<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_closedFieldType</span> := [<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_closedFieldType</span> := [<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_closedFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">of</a></span> <span class="id">numClosedField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_closedFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_decFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">decFieldType</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">numClosedField_comUnitAlgType</a></span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_closedFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_closedFieldType</span> := [<span class="id">closedFieldType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">of</a></span> <span class="id">numClosedField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_decFieldType</span> := [<span class="id">decFieldType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">of</a></span> <span class="id">numClosedField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_closedFieldType</span> := [<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_decFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_closedFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_decFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_closedFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_decFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">decFieldType</span> <span class="id">of</span> <span class="id">numClosedField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_closedFieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">closedFieldType</span> <span class="id">of</span> <span class="id">numClosedField_normedModType</span>].<br/>
<span class="kwd">End</span> <span class="id">numClosedFieldType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">numFieldType</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">numFieldType</span>).<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_lmodType</span> := [<span class="id">lmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lmodType</span> <span class="id"><a name="numFieldNormedType.lalg_normedZmodType">R</a></span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_lalgType</span> := [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">lalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_algType</span> := [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">algType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_comAlgType</span> := [<span class="id">comAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_unitAlgType</span> := [<span class="id">unitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_comUnitAlgType</span> := [<span class="id">comUnitAlgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_vectType</span> := [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">vectType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_FalgType</span> := [<span class="id">FalgType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_fieldExtType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">fieldExtType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="id">Local</span> <span class="kwd">Canonical</span> <span class="id">numField_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lmod_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_lmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_filteredType</span> := [<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_topologicalType</span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_uniformType</span> := [<span class="id">uniformType</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_pseudoMetricType</span> := [<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_normedZmodType</span> := [<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numField_comAlgType">numField_lalgType</a></span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">lalg_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_lalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">alg_pointedType</a></span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_filteredType</span> := [<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_topologicalType</span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_uniformType</span> := [<span class="id">uniformType</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_pseudoMetricType</span> := [<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_normedZmodType</span> := [<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a name="numFieldNormedType.unitAlg_pseudoMetricType">R</a></span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">alg_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_algType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_filteredType</span> := [<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_topologicalType</span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_uniformType</span> := [<span class="id">uniformType</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_pseudoMetricType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricType</span> <span class="id"><a name="numFieldNormedType.comUnitAlg_filteredType">R</a></span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_normedZmodType</span> := [<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comAlg_numDomainType</span> := [<span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">numDomainType</a></span> <span class="id">of</span> <span class="id">numField_comAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_filteredType</span> := [<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">unitAlg_topologicalType</a></span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_uniformType</span> := [<span class="id">uniformType</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_pseudoMetricType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id"><a name="numFieldNormedType.vect_pointedType">of</a></span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_normedZmodType</span> := [<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">unitAlg_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_unitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_filteredType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_topologicalType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_uniformType</span> := [<span class="id">uniformType</span> <span class="id"><a name="numFieldNormedType.Falg_pointedType">of</a></span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_pseudoMetricType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_normedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numField_FalgType">of</a></span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_normedModType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">comUnitAlg_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">comUnitAlg_numDomainType</a></span> :=<br/>
&nbsp;&nbsp;[<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_comUnitAlgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_filteredType</span> := [<span class="id"><a name="numFieldNormedType.Falg_numDomainType">filteredType</a></span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_topologicalType</span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_uniformType</span> := [<span class="id">uniformType</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_pseudoMetricType</span> := [<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_normedZmodType</span> := [<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numFieldType.R">vect_porderType</a></span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">vect_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_vectType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_filteredType</span> := [<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_topologicalType</span> := [<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_uniformType</span> := [<span class="id">uniformType</span> <span class="id"><a name="numFieldNormedType.pseudoMetricNormedZmod_ringType">of</a></span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_pseudoMetricType</span> := [<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_normedZmodType</span> := [<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">Falg_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_FalgType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_filteredType</span> := [<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_topologicalType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">topologicalType</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_uniformType</span> := [<span class="id">uniformType</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_pseudoMetricType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_normedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">normedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_normedModType</span> := [<span class="id">normedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">fieldExt_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_fieldExtType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_ringType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">ringType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_comRingType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">comRingType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_unitRingType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">unitRingType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_comUnitRingType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">comUnitRingType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_idomainType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">idomainType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_fieldType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">fieldType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_porderType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmod_numDomainType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_pseudoMetricNormedZmodType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_ringType</span> := [<span class="id">ringType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_comRingType</span> := [<span class="id">comRingType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_unitRingType</span> := [<span class="id">unitRingType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_comUnitRingType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">comUnitRingType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_idomainType</span> := [<span class="id">idomainType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_fieldType</span> := [<span class="id">fieldType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_porderType</span> := [<span class="id">porderType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">Definition</span> <span class="id">normedMod_numDomainType</span> := [<span class="id">numDomainType</span> <span class="id">of</span> <span class="id">numField_normedModType</span>].<br/>
<span class="kwd">End</span> <span class="id">numFieldType</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">Exports</span>.<br/>
<span class="kwd">Export</span> <span class="id">topology.numFieldTopology.Exports</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_lalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_algType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_comAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_unitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_comUnitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_vectType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_FalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_fieldExtType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">real_normedModType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_lmodType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_lalgType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">lalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_algType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">algType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_comAlgType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">comAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_unitAlgType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.archiField_lalgType">unitAlgType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_comUnitAlgType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">comUnitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_vectType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">vectType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_FalgType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">FalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_fieldExtType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">fieldExtType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">realType</span> &gt;-&gt; <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">real_normedModType</span> : <span class="id">realType</span> &gt;-&gt; <span class="id">normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_lalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_algType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_comAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_unitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_comUnitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_vectType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_FalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_fieldExtType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">rcf_normedModType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_lmodType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_lalgType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">lalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_algType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">algType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_comAlgType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">comAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_unitAlgType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">unitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_comUnitAlgType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">comUnitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_vectType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">vectType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_FalgType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">FalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_fieldExtType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">fieldExtType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">rcfType</span> &gt;-&gt; <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">rcf_normedModType</span> : <span class="id">rcfType</span> &gt;-&gt; <span class="id">normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_lalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_algType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_comAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_unitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_comUnitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_vectType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_FalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_fieldExtType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">archiField_normedModType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_lmodType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_lalgType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">lalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_algType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">algType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_comAlgType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">comAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_unitAlgType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">unitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_comUnitAlgType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">comUnitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_vectType</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.comUnitAlg_latticeType">archiFieldType</a></span> &gt;-&gt; <span class="id">vectType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_FalgType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">FalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_fieldExtType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">fieldExtType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">archiFieldType</span> &gt;-&gt; <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">archiField_normedModType</span> : <span class="id">archiFieldType</span> &gt;-&gt; <span class="id">normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_lalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_algType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_comAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_unitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_comUnitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_vectType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_FalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_fieldExtType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">realField_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.realField_vectType">unitAlg_latticeType</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numClosedField_unitAlgType">fieldExt_distrLatticeType</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_realDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_latticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_distrLatticeType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_orderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_realDomainType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_lmodType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_lalgType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">lalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_algType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">algType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_comAlgType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">comAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_unitAlgType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">unitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_comUnitAlgType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">comUnitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_vectType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">vectType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_FalgType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">FalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_fieldExtType</span> : <span class="id">realFieldType</span> &gt;-&gt; <span class="id">fieldExtType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">realField_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">Num.RealField.type</span> &gt;-&gt; <span class="id">PseudoMetricNormedZmodule.type</span>.<br/>
<span class="kwd">Coercion</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.numClosedField_lalgType">realField_normedModType</a></span> : <span class="id">Num.RealField.type</span> &gt;-&gt; <span class="id">NormedModule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_lalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_algType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_comAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_unitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_comUnitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_vectType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_FalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_fieldExtType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numClosedField_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_closedFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_decFieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_closedFieldType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_lmodType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_lalgType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">lalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_algType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">algType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_comAlgType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">comAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_unitAlgType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.alg_uniformType">unitAlgType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_comUnitAlgType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">comUnitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_vectType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">vectType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_FalgType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">FalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_fieldExtType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">fieldExtType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numClosedField_normedModType</span> : <span class="id">numClosedFieldType</span> &gt;-&gt; <span class="id">normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_lalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_algType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_comAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_unitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_comUnitAlgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_vectType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_FalgType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_fieldExtType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">numField_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmod_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lalg_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">alg_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comAlg_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">unitAlg_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">comUnitAlg_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.normedMod_fieldType">vect_pseudoMetricNormedZmodType</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">vect_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">Falg_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_pointedType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_filteredType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_topologicalType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_uniformType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_pseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">fieldExt_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_ringType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_comRingType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_unitRingType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_comUnitRingType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_idomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_fieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmod_numDomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_ringType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_comRingType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_unitRingType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_comUnitRingType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_idomainType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_fieldType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_porderType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedMod_numDomainType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_lmodType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_lalgType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">lalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_algType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">algType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_comAlgType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">comAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_unitAlgType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">unitAlgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_comUnitAlgType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ball">comUnitAlgType</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_vectType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">vectType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_FalgType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">FalgType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_fieldExtType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">fieldExtType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">numFieldType</span> &gt;-&gt; <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">numField_normedModType</span> : <span class="id">numFieldType</span> &gt;-&gt; <span class="id">normedModType</span>.<br/>
<span class="kwd">End</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">numFieldNormedType</span>.<br/>
<span class="kwd">Import</span> <span class="id">numFieldNormedType.Exports</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">NormedModule_numDomainType</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">normrZ</span> <span class="id">l</span> (<span class="id">x</span> : <span class="id">V</span>) : `| <span class="id">l</span> *: <span class="id">x</span> | = `| <span class="id">l</span> | * `| <span class="id">x</span> |.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="kwd">by</span> <span class="id"><a name="x:376">case</a></span>: <span class="id">V</span> <span class="id">x</span> =&gt; <span class="id">V0</span> [<span class="id">a</span> <span class="id">b</span> [<span class="id">c</span>]] //= <span class="id">v</span>; <span class="id">rewrite</span> <span class="id">c</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">normrZV</span> (<span class="id">x</span> : <span class="id">V</span>) : `|<span class="id">x</span>| \<span class="kwd">in</span> <span class="id">GRing.unit</span> -&gt; `| `| <span class="id">x</span> |^-1 *: <span class="id">x</span> | = 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">nxu</span>; <span class="id">rewrite</span> <span class="id">normrZ</span> <span class="id">normrV</span>// <span class="id">normr_id</span> <span class="id">mulVr</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">NormedModule_numDomainType</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id"><a href="mathcomp.analysis.topology.html#filter_from">analysis</a></span> 0.6.0", <span class="id">note</span>="<span class="id">renamed</span> `<span class="id">normrZ</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">normmZ</a></span> := <span class="id">normrZ</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">NormedModule_numFieldType</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">normfZV</span> (<span class="id">x</span> : <span class="id">V</span>) : <span class="id">x</span> != 0 -&gt; `| `|<span class="id">x</span>|^-1 *: <span class="id">x</span> | = 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">normr_eq0</span> -<span class="id">unitfE</span> =&gt; /<span class="id">normrZV</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">NormedModule_numFieldType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">PseudoNormedZmod_numDomainType</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span>).<br/>
<br/>
<span class="id"><a name="x:391">Local</a></span> <span class="kwd">Notation</span> <span class="id">ball_norm</span> := (<span class="id">ball_</span> (@<span class="id">normr</span> <span class="id">R</span> <span class="id">V</span>)).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">nbhs_ball</span> := (@<span class="id">nbhs_ball</span> <span class="id">_</span> <span class="id">V</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">nbhs_norm</span> := (<span class="id">nbhs_ball_</span> <span class="id">ball_norm</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_nbhs_norm</span> : <span class="id">nbhs_norm</span> = <span class="id">nbhs</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ball_normE</span> <span class="id">funeqE</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> -<span class="id">filter_from_ballE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_normP</span> <span class="id">x</span> (<span class="id">P</span> : <span class="id">V</span> -&gt; <span class="kwd">Prop</span>) : (\<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>) &lt;-&gt; <span class="id">nbhs_norm</span> <span class="id">x</span> <span class="id">P</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">nbhs_nbhs_norm</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_le_nbhs_norm</span> (<span class="id">x</span> : <span class="id">V</span>) : @<span class="id">nbhs</span> <span class="id">V</span> <span class="id">_</span> <span class="id">x</span> `=&gt;` <span class="id">nbhs_norm</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">P</span> [<span class="id">e</span> <span class="id">e0</span> <span class="id">subP</span>]; <span class="id">apply</span>/<span class="id">nbhs_normP</span>; <span class="kwd">exists</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_norm_le_nbhs</span> <span class="id">x</span> : <span class="id">nbhs_norm</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#filter_from_norm_nbhs">x</a></span> `=&gt;` <span class="id">nbhs</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">P</span> /<span class="id">nbhs_normP</span> [<span class="id">e</span> <span class="id">e0</span> <span class="id">Pxe</span>]; <span class="kwd">exists</span> <span class="id">e</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="y:412">filter_from_norm_nbhs</a></span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;@<span class="id">filter_from</span> <span class="id">R</span> <span class="id">_</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id"><a name="y':414">R</a></span> | 0 &lt; <span class="id">x</span>] (<span class="id">ball_norm</span> <span class="id">x</span>) = <span class="id">nbhs</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">nbhs_nbhs_norm</span> <span class="id">ball_normE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_normE</span> (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">P</span> : <span class="id">V</span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="id">nbhs_norm</span> <span class="id">x</span> <span class="id">P</span> = \<span class="id">near</span> <span class="id"><a name="y:419">x</a></span>, <span class="id">P</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">nbhs_nbhs_norm</span> <span class="id">near_simpl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">filter_from_normE</span> (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">P</span> : <span class="id">V</span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;@<span class="id">filter_from</span> <span class="id">R</span> <span class="id">_</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | 0 &lt; <span class="id">x</span>] (<span class="id">ball_norm</span> <span class="id">x</span>) <span class="id">P</span> = \<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoNormedZmod_numDomainType.V">rewrite</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoNormedZmod_numDomainType.V">filter_from_norm_nbhs</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">near_nbhs_norm</span> (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">P</span> : <span class="id">V</span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">nbhs_norm</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>) = \<span class="id">near</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_forall">x</a></span>, <span class="id">P</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="id">exact</span>: <span class="id">nbhs_normE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_norm_ball_norm</span> <span class="id">x</span> (<span class="id">e</span> : {<span class="id">posnum</span> <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;<span class="id">nbhs_norm</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filter">x</a></span> (<span class="id">ball_norm</span> <span class="id">x</span> <span class="id">e</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ball_normE</span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; /=. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ball_norm</span> (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">eps</span> : {<span class="id">posnum</span> <span class="id">R</span>}) : <span class="id">nbhs</span> <span class="id">x</span> (<span class="id">ball_norm</span> <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
 <span class="id">rewrite</span> -<span class="id"><a name="F:436">nbhs_nbhs_norm</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#Filter">nbhs_norm_ball_norm</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_norm_dec</span> <span class="id">x</span> <span class="id">y</span> (<span class="id">e</span> : <span class="id">R</span>) : {<span class="id">ball_norm</span> <span class="id">x</span> <span class="id">e</span> <span class="id">y</span>} + {~ <span class="id">ball_norm</span> <span class="id">x</span> <span class="id">e</span> <span class="id">y</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="id">exact</span>: <span class="id">pselect</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_norm_sym</span> <span class="id">x</span> <span class="id">y</span> (<span class="id">e</span> : <span class="id">R</span>) : <span class="id">ball_norm</span> <span class="id">x</span> <span class="id">e</span> <span class="id">y</span> -&gt; <span class="id">ball_norm</span> <span class="id">y</span> <span class="id">e</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ball_norm</span>/= -<span class="id">opprB</span> <span class="id">normrN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_norm_le</span> <span class="id">x</span> (<span class="id">e1</span> <span class="id">e2</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">e1</span> &lt;= <span class="id"><a name="F:442">e2</a></span> -&gt; <span class="id">ball_norm</span> <span class="id">x</span> <span class="id"><a name="FF:443">e1</a></span> `&lt;=` <span class="id">ball_norm</span> <span class="id">x</span> <span class="id">e2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e1e2</span> <span class="id">y</span> /<span class="id">lt_le_trans</span>; <span class="id"><a name="eps:446">apply</a></span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">nbhs_simpl</span> := (<span class="id">nbhs_simpl</span>,@<span class="id">nbhs_nbhs_norm</span>,@<span class="id">filter_from_norm_nbhs</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fcvgrPdist_lt</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">V</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">y</span>'| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">filter_fromP</span> /= !<span class="id">nbhs_simpl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdist_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">f</span> <span class="id">t</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
 <span class="id">exact</span>: <span class="id">fcvgrPdist_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdistC_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span> - <span class="id">y</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrPdist_lt</span>; <span class="id"><a name="x:463">under</a></span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_dist_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">f</span> <span class="id">t</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgrPdist_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_dist</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">V</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id"><a href="mathcomp.classical.boolp.html#eq_forall">y</a></span>'| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="id">exact</span>: <span class="id">cvgr_dist_lt</span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id"><a name="cvgr0_norm_lt">since</a></span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">use</span> `<span class="id">cvgr_dist_lt</span>` <span class="id">or</span> <span class="id">a</span> <span class="id">variation</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_dist</span> := <span class="id">__deprecated__cvg_dist</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_distC_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id"><a name="cvgr0_norm_le">T</a></span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id"><a name="eps:483">t</a></span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span> - <span class="id">y</span>| &lt; <span class="id"><a name="t:484">eps</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgrPdistC_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_dist_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ?; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltW</span>//; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_distC_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span> - <span class="id">y</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ?; <span class="id">near</span> <span class="id">do</span> <span class="id"><a name="x:492">rewrite</a></span> <span class="id">ltW</span>//; <span class="id">apply</span>: <span class="id">cvgr_distC_lt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_norm0P</span> {<span class="id">P</span> : <span class="id">V</span> -&gt; <span class="kwd">Prop</span>} :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> 0, <span class="id">P</span> <span class="id">x</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_norm">filter_from</a></span> [<span class="id"><a href="mathcomp.analysis.topology.html#ball">set</a></span> <span class="id">e</span> | 0 &lt; <span class="id">e</span>] (<span class="kwd">fun</span> <span class="id">e</span> =&gt; [<span class="id">set</span> <span class="id">y</span> | `|<span class="id">y</span>| &lt; <span class="id">e</span>]) <span class="id">P</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
<span class="id">rewrite</span> <span class="id">nbhs_normP</span>; <span class="id">split</span>=&gt; -[/= <span class="id">e</span> <span class="id">e0</span> <span class="id">Pe</span>];<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">e</span> =&gt; // <span class="id">y</span> /=; <span class="id">have</span> /= := <span class="id">Pe</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">subr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr0Pnorm_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; 0 &lt;-&gt; <span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrPdistC_lt</span>; <span class="id">under</span> <span class="id">eq_forall</span> <span class="id">do</span> <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr0_norm_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id"><a name="x:503">T</a></span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id"><a name="z:505">F</a></span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; 0 -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgr0Pnorm_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr0_norm_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; 0 -&gt; <span class="kwd">forall</span> <span class="id">eps</span>, <span class="id">eps</span> &gt; 0 -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoNormedZmod_numDomainType">near</a></span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ?; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ltW</span>//; <span class="id">apply</span>: <span class="id">cvgr0_norm_lt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs0_lt</span> <span class="id">e</span> : 0 &lt; <span class="id">e</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> (0 : <span class="id">V</span>), `|<span class="id">x</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="id">exact</span>: <span class="id">cvgr0_norm_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dnbhs0_lt</span> <span class="id">e</span> : 0 &lt; <span class="id">e</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> (0 : <span class="id">V</span>)^', `|<span class="id">x</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e_gt0</span>; <span class="id">apply</span>: <span class="id">cvg_within</span>; <span class="id">apply</span>: <span class="id">nbhs0_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs0_le</span> <span class="id">e</span> : 0 &lt; <span class="id">e</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> (0 : <span class="id">V</span>), `|<span class="id">x</span>| &lt;= <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
 <span class="id">exact</span>: <span class="id">cvgr0_norm_le</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dnbhs0_le</span> <span class="id">e</span> : 0 &lt; <span class="id">e</span> -&gt; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> (0 : <span class="id">V</span>)^', `|<span class="id">x</span>| &lt;= <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">e_gt0</span>; <span class="id">apply</span>: <span class="id">cvg_within</span>; <span class="id">apply</span>: <span class="id">nbhs0_le</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_norm_ball</span> <span class="id">x</span> (<span class="id">eps</span> : {<span class="id">posnum</span> <span class="id">R</span>}) : <span class="id">nbhs_norm</span> <span class="id">x</span> (<span class="id">ball</span> <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="id">rewrite</span> <span class="id">nbhs_nbhs_norm</span>; <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">nbhsx_ballx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsDl</span> (<span class="id">P</span> : <span class="id">set</span> <span class="id">V</span>) (<span class="id">x</span> <span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">z</span> \<span class="id">near</span> (<span class="id">x</span> + <span class="id">y</span>), <span class="id">P</span> <span class="id">z</span>) &lt;-&gt; (\<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> (<span class="id">x</span> + <span class="id">y</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
<span class="id">split</span>=&gt; /<span class="id">nbhs_normP</span>[<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>]/= <span class="id">Px</span>]; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">nbhs_normP</a></span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> /= <span class="id">xze</span>; <span class="id">apply</span>: <span class="id">Px</span>; <span class="id">rewrite</span> /= <span class="id">opprD</span> <span class="id">addrACA</span> <span class="id">subrr</span> <span class="id">addr0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> /= <span class="id">xyz</span>; <span class="id">rewrite</span> -[<span class="id">z</span>](<span class="id">addrNK</span> <span class="id">y</span>); <span class="id">apply</span>: <span class="id">Px</span>; <span class="id">rewrite</span> /= <span class="id">opprB</span> <span class="id">addrA</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsDr</span> (<span class="id">P</span> : <span class="id">set</span> <span class="id">V</span>) <span class="id">x</span> <span class="id">y</span> :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">z</span> \<span class="id">near</span> (<span class="id">x</span> + <span class="id">y</span>), <span class="id">P</span> <span class="id">z</span>) &lt;-&gt; (\<span class="id">near</span> <span class="id">y</span>, <span class="id">P</span> (<span class="id">x</span> + <span class="id">y</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrC</span> <span class="id">nbhsDl</span> -<span class="id">propeqE</span>; <span class="id">apply</span>: <span class="id">eq_near</span> =&gt; ?; <span class="id">rewrite</span> <span class="id">addrC</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs0P</span> (<span class="id">P</span> : <span class="id">set</span> <span class="id">V</span>) <span class="id">x</span> : (\<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>) &lt;-&gt; (\<span class="kwd">forall</span> <span class="id">e</span> \<span class="id">near</span> 0, <span class="id">P</span> (<span class="id">x</span> + <span class="id">e</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">nbhsDr</span> <span class="id"><a name="analysis_struct">addr0</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">PseudoNormedZmod_numDomainType</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">normr_ge0</span> : <span class="id">core</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_dist_lt</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_distC_lt</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_dist_le</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_distC_le</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr0_norm_lt</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr0_norm_le</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|<span class="id">_</span> - ?<span class="id">x</span>| &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_dist_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span> - <span class="id">_</span>| &lt; <span class="id"><a href="mathcomp.analysis.topology.html#Uniform.Exports.UniformType">_</a></span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id"><a href="mathcomp.analysis.Rstruct.html#R_normedZmodType">exact</a></span>: <span class="id">cvgr_distC_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span>| &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id"><a href="mathcomp.analysis.Rstruct.html#R_numDomainType">_</a></span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#PseudoMetric.Exports.PseudoMetricType">cvgr0_norm_lt</a></span> <span class="kwd">end</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetric_of_normedDomain">core</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|<span class="id">_</span> - ?<span class="id">x</span>| &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_dist_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span> - <span class="id">_</span>| &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_distC_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span>| &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr0_norm_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id"><a href="mathcomp.analysis.Rstruct.html#RltP">use</a></span> `<span class="id">cvgrPdist_lt</span>` <span class="id">or</span> <span class="id">a</span> <span class="id">variation</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_distP</span> := <span class="id">fcvgrPdist_lt</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Require</span> <span class="id">Rstruct</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">analysis_struct</span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Rdefinitions</span>.<br/>
<span class="kwd">Import</span> <span class="id">Rstruct</span>.<br/>
<br/>
<span class="kwd">Canonical</span> <span class="id">R_pointedType</span> := [<span class="id">pointedType</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> <span class="id">pointed_of_zmodule</span> <span class="id">R_ringType</span>].<br/>
<span class="kwd">Canonical</span> <span class="id">R_filteredType</span> :=<br/>
&nbsp;&nbsp;[<span class="id">filteredType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> <span class="id">filtered_of_normedZmod</span> <span class="id">R_normedZmodType</span>].<br/>
<span class="kwd">Canonical</span> <span class="id">R_topologicalType</span> : <span class="id">topologicalType</span> := <span class="id">TopologicalType</span> <span class="id">R</span><br/>
&nbsp;&nbsp;(<span class="id">topologyOfEntourageMixin</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">uniformityOfBallMixin</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">nbhs_ball_normE</span> <span class="id">_</span> <span class="id">R_normedZmodType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">pseudoMetric_of_normedDomain</span> <span class="id">R_normedZmodType</span>))).<br/>
<span class="kwd">Canonical</span> <span class="id">R_uniformType</span> : <span class="id">uniformType</span> :=<br/>
&nbsp;&nbsp;<span class="id">UniformType</span> <span class="id">R</span><br/>
&nbsp;&nbsp;(<span class="id">uniformityOfBallMixin</span> (@<span class="id">nbhs_ball_normE</span> <span class="id">_</span> <span class="id">R_normedZmodType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">pseudoMetric_of_normedDomain</span> <span class="id">R_normedZmodType</span>)).<br/>
<span class="kwd">Canonical</span> <span class="id">R_pseudoMetricType</span> : <span class="id">pseudoMetricType</span> <span class="id">R_numDomainType</span> :=<br/>
&nbsp;&nbsp;<span class="id">PseudoMetricType</span> <span class="id">R</span> (<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">pseudoMetric_of_normedDomain</a></span> <span class="id">R_normedZmodType</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuity_pt_nbhs</span> (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;<span class="id">Ranalysis1.continuity_pt</span> <span class="id">f</span> <span class="id">x</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span> : {<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R">posnum</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Ranalysis1.html#continuity_pt">R</a></span>}, <span class="id">nbhs</span> <span class="id">x</span> (<span class="kwd">fun</span> <span class="id">u</span> =&gt; `|<span class="id">f</span> <span class="id">u</span> - <span class="id">f</span> <span class="id">x</span>| &lt; <span class="id">eps</span>%:<span class="id"><a href="mathcomp.analysis.topology.html#continuous">num</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">split</span>=&gt; [<span class="id">fcont</span> <span class="id">e</span>|<span class="id">fcont</span> <span class="id">_</span>/<span class="id">RltP</span>/<span class="id">posnumP</span>[<span class="id">e</span>]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">d</span>] <span class="id">xd_fxe</span>] := <span class="id">fcont</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="f:523">d</a></span>%:<span class="id">num</span>; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Ranalysis1.html#continuity_pt">split</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">RltP</span>; <span class="id">have</span> := [<span class="id">gt0</span> <span class="id">of</span> <span class="id">d</span>%:<span class="id">num</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id"><a href="mathcomp.analysis.normedtype.html#continuity_ptE">_</a></span> /<span class="id">RltP</span> <span class="id">yxd</span>]; <span class="id">apply</span>/<span class="id">RltP</span>/<span class="id">xd_fxe</span>; <span class="id">rewrite</span> /= <span class="id">distrC</span>.<br/>
<span class="id">have</span> /<span class="id">RltP</span> <span class="id">egt0</span> := [<span class="id">gt0</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Ranalysis1.html#continuity_pt">of</a></span> <span class="id">e</span>%:<span class="id">num</span>].<br/>
<span class="id">have</span> [<span class="id">_</span> [/<span class="id">RltP</span>/<span class="id">posnumP</span>[<span class="id">d</span>] <span class="id">dx_fxe</span>]] := <span class="id">fcont</span> <span class="id">e</span>%:<span class="id">num</span> <span class="id">egt0</span>.<br/>
<span class="kwd">exists</span> <span class="id">d</span>%:<span class="id">num</span> =&gt; //= <span class="id">y</span> <span class="id">xyd</span>; <span class="id">case</span>: (<span class="id">eqVneq</span> <span class="id">x</span> <span class="id">y</span>) =&gt; [-&gt;|<span class="id">xney</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">apply</span>/<span class="id">RltP</span>/<span class="id">dx_fxe</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">split</span>=&gt; //; <span class="id"><a name="P:529">apply</a></span>/<span class="id">eqP</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R">RltP</a></span> := <span class="id">xyd</span>; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R">rewrite</a></span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuity_pt_cvg</span> (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id">x</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">Ranalysis1.continuity_pt</span> <span class="id">f</span> <span class="id">x</span> &lt;-&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
<span class="id">eapply</span> <span class="id">iff_trans</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">continuity_pt_nbhs</span>.<br/>
<span class="id">apply</span> <span class="id">iff_sym</span>.<br/>
<span class="id">have</span> <span class="id">FF</span> : <span class="id">Filter</span> (<span class="id">f</span> @ <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">typeclasses</span> <span class="id">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*by&nbsp;apply&nbsp;fmap_filter;&nbsp;apply:&nbsp;@filter_filter'&nbsp;(locally_filter&nbsp;_).*)</span><br/>
<span class="id">case</span>: (@<span class="id">fcvg_ballP</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a name="y:536">f</a></span> @ <span class="id"><a href="mathcomp.analysis.normedtype.html#open_closed_sets.R">x</a></span>) <span class="id">FF</span> (<span class="id">f</span> <span class="id">x</span>)) =&gt; {<span class="id">FF</span>}<span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;in&nbsp;need&nbsp;for&nbsp;lemmas&nbsp;and/or&nbsp;refactoring&nbsp;of&nbsp;already&nbsp;existing&nbsp;lemmas&nbsp;(ball&nbsp;vs.&nbsp;Rabs)&nbsp;*)</span><br/>
<span class="id">split</span> =&gt; [{<span class="id">H2</span>} - /<span class="id">H1</span> {}<span class="id">H1</span> <span class="id">eps</span>|{<span class="id">H1</span>} <span class="id">H</span>].<br/>
- <span class="id">have</span> {<span class="id">H1</span>} [//|<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">x0</span>] <span class="id">Hx0</span>] := <span class="id">H1</span> <span class="id">eps</span>%:<span class="id">num</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.topology.html#open">x0</a></span>%:<span class="id">num</span> =&gt; //= <span class="id">Hx0</span>' /<span class="id">Hx0</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">distrC</span>; <span class="id">apply</span>.<br/>
- <span class="id">apply</span> <span class="id">H2</span> =&gt; <span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">eps</span>]; <span class="id">move</span>: (<span class="id">H</span> <span class="id">eps</span>) =&gt; {<span class="id">H</span>} [<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">x0</span>] <span class="id">Hx0</span>].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x0</span>%:<span class="id">num</span> =&gt; //= <span class="id">y</span> /<span class="id">Hx0</span> /= {}<span class="id">Hx0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_closed_sets.R">continuity_ptE</a></span> (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id">x</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">Ranalysis1.continuity_pt</span> <span class="id">f</span> <span class="id"><a name="x:542">x</a></span> &lt;-&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
 <span class="id">exact</span>: <span class="id">continuity_pt_cvg</span>. Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuity_pt_cvg</span>' <span class="id">f</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;<span class="id">Ranalysis1.continuity_pt</span> <span class="id">f</span> <span class="id">x</span> &lt;-&gt; <span class="id">f</span> @ <span class="id"><a name="a:548">x</a></span>^' --&gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">continuity_ptE</span> <span class="id">continuous_withinNx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuity_pt_dnbhs</span> <span class="id">f</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;<span class="id">Ranalysis1.continuity_pt</span> <span class="id">f</span> <span class="id">x</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; <span class="id">x</span>^' (<span class="kwd">fun</span> <span class="id">u</span> =&gt; `|<span class="id">f</span> <span class="id">x</span> - <span class="id">f</span> <span class="id">u</span>| &lt; <span class="id">eps</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="id">rewrite</span> <span class="id">continuity_pt_cvg</span>' (@<span class="id">cvgrPdist_lt</span> <span class="id">_</span> [<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">normedModType</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]).<br/>
<span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_pt_comp</span> (<span class="id">P</span> : <span class="id">R</span> -&gt; <span class="kwd">Prop</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#open_lt">R</a></span>) (<span class="id">x</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">f</a></span> <span class="id">x</span>) <span class="id">P</span> -&gt; <span class="id">Ranalysis1.continuity_pt</span> <span class="id">f</span> <span class="id">x</span> -&gt; \<span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">near</a></span> <span class="id">x</span>, <span class="id">P</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Lf</span> /<span class="id">continuity_pt_cvg</span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">analysis_struct</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">open_closed_sets</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span>.<br/>
<br/>
<div class="doc">Some open sets of <span class="bracket"><span class="id">R</span></span> </div>
<span class="kwd">Lemma</span> <span class="id">open_lt</span> (<span class="id">y</span> : <span class="id">R</span>) : <span class="id">open</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span>| <span class="id">x</span> &lt; <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id"><a href="mathcomp.analysis.normedtype.html#open_closed_sets.R">move</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> -<span class="id">subr_gt0</span> =&gt; <span class="id">yDx_gt0</span>. <span class="kwd">exists</span> (<span class="id"><a name="x:556">y</a></span> - <span class="id">x</span>) =&gt; // <span class="id">z</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">ltr_distlC</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; /<span class="id">andP</span>[].<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">open_lt</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_gt</span> (<span class="id"><a name="y:559">y</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#open_closed_sets.R">R</a></span>) : <span class="id"><a href="mathcomp.analysis.topology.html#closed">open</a></span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | <span class="id">x</span> &gt; <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
<span class="id">move</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> -<span class="id">subr_gt0</span> =&gt; <span class="id"><a name="x:561">xDy_gt0</a></span>; <span class="kwd">exists</span> (<span class="id">x</span> - <span class="id">y</span>) =&gt; // <span class="id">z</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">ltr_distlC</span> <span class="id">opprB</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; /<span class="id">andP</span>[].<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">open_gt</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_neq</span> (<span class="id">y</span> : <span class="id">R</span>) : <span class="id">open</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | <span class="id">x</span> != <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">mkset</span> <span class="id">_</span> = [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &lt; <span class="id">y</span>] `|` [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &gt; <span class="id">y</span>]); <span class="id">first</span> <span class="id">exact</span>: <span class="id">openU</span>.<br/>
<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">eq_le</span> !<span class="id">leNgt</span> <span class="id">negb_and</span> !<span class="id">negbK</span> <span class="id">orbC</span>.<br/>
<span class="kwd">by</span> <span class="id">symmetry</span>; <span class="id">apply</span> (<span class="id">rwP</span> <span class="id">orP</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_open</span> <span class="id">a</span> <span class="id">b</span> : ~~ <span class="id">bound_side</span> <span class="id">true</span> <span class="id">a</span> -&gt; ~~ <span class="id">bound_side</span> <span class="id">false</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">open</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span>^<span class="id">o</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">Interval</span> <span class="id">a</span> <span class="id">b</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> =&gt; [[]<span class="id">a</span>|[]] [[]<span class="id">b</span>|[]]// <span class="id">_</span> <span class="id">_</span>.<br/>
- <span class="id">have</span> -&gt; : [<span class="id">set</span> <span class="id">x</span> | <span class="id">a</span> &lt; <span class="id">x</span> &lt; <span class="id">b</span>] = [<span class="id">set</span> <span class="id">x</span> | <span class="id">a</span> &lt; <span class="id">x</span>] `&amp;` [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &lt; <span class="id">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a name="x:570">predeqE</a></span> =&gt; <span class="id">r</span>; <span class="id">rewrite</span> /<span class="id">mkset</span>; <span class="id">split</span> =&gt; [/<span class="id">andP</span>[? ?] //|[-&gt; -&gt;]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span> <span class="id">openI</span>; [<span class="id">exact</span>: <span class="id">open_gt</span> | <span class="id">exact</span>: <span class="id">open_lt</span>].<br/>
- <span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_set</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">itv_ge</span>// <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_le">inE</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_set</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eq_set">do</a></span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">andbT</span>/=; <span class="id">exact</span>: <span class="id">open_gt</span>.<br/>
- <span class="id">exact</span>: <span class="id">open_lt</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">mkset</span> <span class="id">_</span> = <span class="id">setT</span>); [<span class="id">exact</span>: <span class="id">openT</span> | <span class="id">rewrite</span> <span class="id">predeqE</span>].<br/>
Qed.</div>
<br/>
<div class="doc">Some closed sets of <span class="bracket"><span class="id">R</span></span> </div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_le</span> (<span class="id">y</span> : <span class="id">R</span>) : <span class="id">closed</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | <span class="id">x</span> &lt;= <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">mkset</span> <span class="id">_</span> = ~` [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &gt; <span class="id">y</span>]); <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_closedC</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed">leNgt</a></span>; <span class="id">split</span> =&gt; /<span class="id">negP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ge</span> (<span class="id">y</span> : <span class="id">R</span>) : <span class="id">closed</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | <span class="id"><a name="at_left_right.R">y</a></span> &lt;= <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">mkset</span> <span class="id">_</span> = ~` [<span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right.R">set</a></span> <span class="id">x</span> | <span class="id">x</span> &lt; <span class="id">y</span>]); <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_closedC</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">leNgt</span>; <span class="id">split</span> =&gt; /<span class="id">negP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_eq</span> (<span class="id">y</span> : <span class="id">R</span>) : <span class="id">closed</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | <span class="id">x</span> = <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
<span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">closed</span> <span class="id">X</span>](<span class="id">_</span> : (<span class="id">eq</span>^~ <span class="id">_</span>) = ~` (<span class="id">xpredC</span> (<span class="id">eq_op</span>^~ <span class="id">y</span>))).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">open_closedC</span>; <span class="id">exact</span>: <span class="id">open_neq</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> /<span class="id">setC</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> (<span class="id">rwP</span> <span class="id">eqP</span>); <span class="id">case</span>: <span class="id">eqP</span>; <span class="id">split</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_closed</span> <span class="id">a</span> <span class="id">b</span> : ~~ <span class="id">bound_side</span> <span class="id">false</span> <span class="id">a</span> -&gt; ~~ <span class="id">bound_side</span> <span class="id">true</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">closed</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span>^<span class="id">o</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">Interval</span> <span class="id">a</span> <span class="id">b</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> =&gt; [[]<span class="id">a</span>|[]] [[]<span class="id">b</span>|[]]// <span class="id">_</span> <span class="id">_</span>;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_set</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">itv_ge</span>// <span class="id">inE</span> <span class="id">falseE</span>; <span class="id"><a name="at_left_proper_filter">apply</a></span>: <span class="id">closed0</span>.<br/>
- <span class="id">have</span> -&gt; : `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span> = [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &gt;= <span class="id">a</span>] `&amp;` [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &lt;= <span class="id">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; ?; <span class="id">rewrite</span> /= <span class="id">in_itv</span>/=; <span class="id">split</span>=&gt; [/<span class="id">andP</span>[]|[-&gt;]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span> <span class="id">closedI</span>; [<span class="id">exact</span>: <span class="id">closed_ge</span> | <span class="id">exact</span>: <span class="id">closed_le</span>].<br/>
- <span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_set</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">in_itv</span> <span class="id">andbT</span>/=; <span class="id">exact</span>: <span class="id">closed_ge</span>.<br/>
- <span class="id">exact</span>: <span class="id">closed_le</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">open_closed_sets</span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">open</span> <span class="id">_</span>) =&gt; <span class="id">now</span> <span class="id">apply</span>: <span class="id">open_gt</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">open</span> <span class="id">_</span>) =&gt; <span class="id">now</span> <span class="id">apply</span>: <span class="id">open_lt</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs0P">Extern</a></span> 0 (<span class="id">open</span> <span class="id">_</span>) =&gt; <span class="id">now</span> <span class="id">apply</span>: <span class="id">open_neq</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">closed</span> <span class="id">_</span>) =&gt; <span class="id">now</span> <span class="id"><a name="nbhs_left0P">apply</a></span>: <span class="id">closed_ge</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">core</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">closed</span> <span class="id">_</span>) =&gt; <span class="id">now</span> <span class="id">apply</span>: <span class="id">closed_le</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">closed</span> <span class="id">_</span>) =&gt; <span class="id">now</span> <span class="id">apply</span>: <span class="id">closed_eq</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">at_left_right</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">numFieldType</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">at_left</span> (<span class="id">x</span> : <span class="id">R</span>) := <span class="id">within</span> (<span class="kwd">fun</span> <span class="id">u</span> =&gt; <span class="id">u</span> &lt; <span class="id">x</span>) (<span class="id">nbhs</span> <span class="id">x</span>).<br/>
<span class="kwd">Definition</span> <span class="id">at_right</span> (<span class="id">x</span> : <span class="id">R</span>) := <span class="id">within</span> (<span class="kwd">fun</span> <span class="id">u</span> =&gt; <span class="id">x</span> &lt; <span class="id">u</span>) (<span class="id">nbhs</span> <span class="id">x</span>).<br/>
<span class="id"><a href="mathcomp.analysis.topology.html#near">Local</a></span> <span class="kwd">Notation</span> "<span class="id">x</span> ^'-" := (<span class="id">at_left</span> <span class="id">x</span>) : <span class="id">classical_set_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">x</span> ^'+" := (<span class="id">at_right</span> <span class="id">x</span>) : <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id">at_right_proper_filter</span> (<span class="id">x</span> : <span class="id"><a name="x:589">R</a></span>) : <span class="id">ProperFilter</span> <span class="id">x</span>^'+.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="id">apply</span>: <span class="id">Build_ProperFilter</span>' =&gt; -[<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">d</span>] /(<span class="id">_</span> (<span class="id">x</span> + <span class="id">d</span>%:<span class="id">num</span> / 2))].<br/>
<span class="id">apply</span>; <span class="id">last</span> (<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_addl</span>); <span class="id">rewrite</span> /=.<br/>
<span class="id">rewrite</span> <span class="id">opprD</span> !<span class="id">addrA</span> <span class="id">subrr</span> <span class="id">add0r</span> <span class="id">normrN</span> <span class="id">normf_div</span> !<span class="id">ger0_norm</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // (<span class="id">_</span> : 1 = 1%:<span class="id">R</span>) // <span class="id">ltr_nat</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id">at_left_proper_filter</span> (<span class="id">x</span> : <span class="id">R</span>) : <span class="id">ProperFilter</span> <span class="id"><a name="x:595">x</a></span>^'-.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
<span class="id">apply</span>: <span class="id">Build_ProperFilter</span>' =&gt; -[<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">d</span>] /(<span class="id">_</span> (<span class="id">x</span> - <span class="id">d</span>%:<span class="id">num</span> / 2))].<br/>
<span class="id">apply</span>; <span class="id">last</span> (<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> <span class="id">ltr_addr</span>); <span class="id">rewrite</span> /=.<br/>
<span class="id">rewrite</span> <span class="id">opprD</span> !<span class="id">addrA</span> <span class="id">subrr</span> <span class="id">add0r</span> <span class="id">opprK</span> <span class="id">normf_div</span> !<span class="id">ger0_norm</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // (<span class="id">_</span> : 1 = 1%:<span class="id">R</span>) // <span class="id">ltr_nat</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_right0P</span> <span class="id">x</span> (<span class="id">P</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'+, <span class="id">P</span> <span class="id">y</span>) &lt;-&gt; \<span class="kwd">forall</span> <span class="id">e</span> \<span class="id">near</span> 0^'+, <span class="id">P</span> (<span class="id">x</span> + <span class="id">e</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="id">rewrite</span> !<span class="id">near_withinE</span> !<span class="id">near_simpl</span> <span class="id">nbhs0P</span> -<span class="id">propeqE</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id">eq_near</span> <span class="id">_</span> (<span class="id">nbhs</span> (0 : <span class="id">R</span>))) =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_left0P</span> <span class="id">x</span> (<span class="id">P</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'-, <span class="id">P</span> <span class="id">y</span>) &lt;-&gt; \<span class="kwd">forall</span> <span class="id">e</span> \<span class="id">near</span> 0^'+, <span class="id">P</span> (<span class="id">x</span> - <span class="id">e</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">rewrite</span> !<span class="id">near_withinE</span> !<span class="id">near_simpl</span> <span class="id">nbhs0P</span>; <span class="id">split</span>=&gt; <span class="id">Px</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">oppr0</span> <span class="id">nearN</span>; <span class="id">near</span>=&gt; <span class="id">e</span>; <span class="id">rewrite</span> <span class="id">ltr_opp2</span> <span class="id">opprK</span> =&gt; <span class="id">e_lt0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">near</span> <span class="id">Px</span>) =&gt; //; <span class="id">rewrite</span> <span class="id">gtr_addl</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">oppr0</span> <span class="id">nearN</span>; <span class="id">near</span>=&gt; <span class="id">e</span>; <span class="id">rewrite</span> <span class="id">gtr_addl</span> <span class="id">oppr_lt0</span>; <span class="id">apply</span>: (<span class="id">near</span> <span class="id">Px</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_right_gt</span> <span class="id">x</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'+, <span class="id">x</span> &lt; <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">near_withinE</span>; <span class="id">apply</span>: <span class="id">nearW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_left_lt</span> <span class="id">x</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'-, <span class="id">y</span> &lt; <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">near_withinE</span>; <span class="id">apply</span>: <span class="id">nearW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_right_neq</span> <span class="id">x</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'+, <span class="id">y</span> != <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">near_withinE</span>; <span class="id">apply</span>: <span class="id">nearW</span> =&gt; ? /<span class="id"><a name="open_itv_subset.A">gt_eqF</a></span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_left_neq</span> <span class="id">x</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'-, <span class="id">y</span> != <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">near_withinE</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#open_itv_subset.A">nearW</a></span> =&gt; ? /<span class="id">lt_eqF</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_right_ge</span> <span class="id">x</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'+, <span class="id">x</span> &lt;= <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">near_withinE</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvoo">nearW</a></span>; <span class="id">apply</span>/<span class="id">ltW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_left_le</span> <span class="id">x</span> : \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'-, <span class="id">y</span> &lt;= <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">near_withinE</span>; <span class="id">apply</span>: <span class="id">nearW</span> =&gt; ?; <span class="id">apply</span>/<span class="id">ltW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_right_lt</span> <span class="id">x</span> <span class="id">z</span> : <span class="id">x</span> &lt; <span class="id">z</span> -&gt; \<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_itv_subset.x">y</a></span> \<span class="id">near</span> <span class="id">x</span>^'+, <span class="id">y</span> &lt; <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
<span class="id">move</span>=&gt; <span class="id">xz</span>; <span class="kwd">exists</span> (<span class="id">z</span> - <span class="id">x</span>) =&gt; //=; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> /= + <span class="id">xy</span>; <span class="id">rewrite</span> <span class="id">distrC</span> ?<span class="id">ger0_norm</span> ?<span class="id">subr_ge0</span> 1?<span class="id">ltW</span>// <span class="id">ltr_add2r</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_right_le</span> <span class="id">x</span> <span class="id">z</span> : <span class="id">x</span> &lt; <span class="id">z</span> -&gt; \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'+, <span class="id">y</span> &lt;= <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xz</span>; <span class="id"><a href="mathcomp.classical.set_interval.html#set_itvcc">near</a></span> <span class="id">do</span> <span class="id">apply</span>/<span class="id">ltW</span>; <span class="id">apply</span>: <span class="id">nbhs_right_lt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_left_gt</span> <span class="id">x</span> <span class="id">z</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">z</a></span> &lt; <span class="id">x</span> -&gt; \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'-, <span class="id">z</span> &lt; <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="id">move</span>=&gt; <span class="id">xz</span>; <span class="id">rewrite</span> <span class="id">nbhs_left0P</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">ltr_opp2</span> <span class="id">opprB</span> <span class="id">ltr_subl_addl</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">nbhs_right_lt</span>; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_left_ge</span> <span class="id">x</span> <span class="id"><a name="at_left_right_topologicalType.f">z</a></span> : <span class="id">z</span> &lt; <span class="id">x</span> -&gt; \<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>^'-, <span class="id">z</span> &lt;= <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xz</span>; <span class="id">near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_topologicalType.f">do</a></span> <span class="id">apply</span>/<span class="id">ltW</span>; <span class="id">apply</span>: <span class="id">nbhs_left_gt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">at_left_right</span>.<br/>
#[<span class="id">global</span>] <span class="id">Typeclasses</span> <span class="kwd">Opaque</span> <span class="id">at_left</span> <span class="id">at_right</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> ^'-" := (<span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_topologicalType.x">at_left</a></span> <span class="id">x</span>) : <span class="id">classical_set_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">x</span> ^'+" := (<span class="id">at_right</span> <span class="id">x</span>) : <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">open_itv_subset</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>}.<br/>
<span class="kwd">Variables</span> (<span class="id">A</span> : <span class="id"><a name="u:626">set</a></span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_itvoo_subset</span> :<br/>
&nbsp;&nbsp;<span class="id">open</span> <span class="id">A</span> -&gt; <span class="id">A</span> <span class="id">x</span> -&gt; \<span class="kwd">forall</span> <span class="id">r</span> \<span class="id">near</span> 0^'+, `]<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>[ `&lt;=` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
<span class="id">move</span>=&gt; /[<span class="id">apply</span>] -[] <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] /<span class="id">subset_ball_prop_in_itv</span> <span class="id">xrA</span>.<br/>
<span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">num</span> =&gt; //= <span class="id">k</span>; <span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span> <span class="id">set_itvoo</span> =&gt; /<span class="id">ltr_normlW</span> <span class="id">kr</span> <span class="id">k0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">subset_trans</span> <span class="id">_</span> <span class="id">xrA</span>)/<span class="id">subset_itvW</span>;<br/>
&nbsp;&nbsp;[<span class="id">rewrite</span> <span class="id">ler_sub</span>//; <span class="id">exact</span>: <span class="id">ltW</span> | <span class="id">rewrite</span> <span class="id">ler_add</span>//; <span class="id">exact</span>: <span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_itvcc_subset</span> :<br/>
&nbsp;&nbsp;<span class="id">open</span> <span class="id">A</span> -&gt; <span class="id">A</span> <span class="id">x</span> -&gt; \<span class="kwd">forall</span> <span class="id">r</span> \<span class="id">near</span> 0^'+, `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>] `&lt;=` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">move</span>=&gt; /[<span class="id">apply</span>] -[] <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>].<br/>
<span class="id">have</span> -&gt; : <span class="id">r</span>%:<span class="id">num</span> = 2 * (<span class="id">r</span>%:<span class="id">num</span> / 2) <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrCA</span> <span class="id">divff</span>// <span class="id">mulr1</span>.<br/>
<span class="id">move</span>/<span class="id">subset_ball_prop_in_itvcc</span> =&gt; /= <span class="id">xrA</span>; <span class="kwd">exists</span> (<span class="id">r</span>%:<span class="id">num</span> / 2) =&gt; //= <span class="id">k</span>.<br/>
<span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span> <span class="id">set_itvcc</span> =&gt; /<span class="id">ltr_normlW</span> <span class="id">kr</span> <span class="id">k0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">z</span> /<span class="id"><a name="y:634">andP</a></span> [<span class="id">xkz</span> <span class="id">zxk</span>]; <span class="id">apply</span>: <span class="id">xrA</span> =&gt; //; <span class="id">rewrite</span> <span class="id">in_itv</span>/=; <span class="id"><a name="y:636">apply</a></span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">xkz</span>)// <span class="id">ler_sub</span>// <span class="id">ltW</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_norm0P">zxk</a></span>)// <span class="id">ler_add</span>// <span class="id"><a href="mathcomp.analysis.signed.html#posnumP">ltW</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">open_itv_subset</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">at_left_right_topologicalType</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">topologicalType</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">V</span>) (<span class="id">x</span> : <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_at_right_filter</span> : <span class="id">f</span> <span class="id">z</span> @[<span class="id">z</span> --&gt; <span class="id">x</span>] --&gt; <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">z</span> @[<span class="id">z</span> --&gt; <span class="id">x</span>^'+] --&gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
 <span class="id">exact</span>: (@<span class="id">cvg_within_filter</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs</span> <span class="id">x</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_at_left_filter</span> : <span class="id">f</span> <span class="id">z</span> @[<span class="id">z</span> --&gt; <span class="id">x</span>] --&gt; <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">z</span> @[<span class="id">z</span> --&gt; <span class="id">x</span>^'-] --&gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
 <span class="id">exact</span>: (@<span class="id">cvg_within_filter</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs</span> <span class="id">x</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_at_right_within</span> : <span class="id">f</span> <span class="id">x</span> @[<span class="id">x</span> --&gt; <span class="id">x</span>^'+] --&gt; <span class="id">f</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> @[<span class="id">x</span> --&gt; <span class="id">within</span> (<span class="kwd">fun</span> <span class="id"><a name="eps:642">u</a></span> =&gt; <span class="id">x</span> &lt;= <span class="id">u</span>) (<span class="id">nbhs</span> <span class="id">x</span>)] --&gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id">move</span>=&gt; <span class="id">fxr</span> <span class="id">U</span> <span class="id">Ux</span>; <span class="id">rewrite</span> ?<span class="id">near_simpl</span> ?<span class="id">near_withinE</span>; <span class="id">near</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">predU1P</span> =&gt; [&lt;-|]; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_dist_le">nbhs_singleton</a></span> | <span class="id">near</span>: <span class="id">z</span>; <span class="id">exact</span>: <span class="id">fxr</span>].<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_at_left_within</span> : <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_pmNormedZmod.R">x</a></span> @[<span class="id">x</span> --&gt; <span class="id">x</span>^'-] --&gt; <span class="id">f</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> @[<span class="id">x</span> --&gt; <span class="id">within</span> (<span class="kwd">fun</span> <span class="id">u</span> =&gt; <span class="id">u</span> &lt;= <span class="id">x</span>) (<span class="id">nbhs</span> <span class="id">x</span>)] --&gt; <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">move</span>=&gt; <span class="id">fxr</span> <span class="id">U</span> <span class="id">Ux</span>; <span class="id">rewrite</span> ?<span class="id">near_simpl</span> ?<span class="id">near_withinE</span>; <span class="id">near</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> <span class="id">le_eqVlt</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">predU1P</span> =&gt; [-&gt;|]; [<span class="id">exact</span>: <span class="id">nbhs_singleton</span> | <span class="id">near</span>: <span class="id">z</span>; <span class="id">exact</span>: <span class="id">fxr</span>].<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">at_left_right_topologicalType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">at_left_right_pmNormedZmod</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhsr0P</span> (<span class="id">P</span> : <span class="id">set</span> <span class="id">V</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">y</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">e</span> \<span class="id">near</span> 0^'+, <span class="kwd">forall</span> <span class="id">y</span>, `|<span class="id">x</span> - <span class="id">y</span>| &lt;= <span class="id">e</span> -&gt; <span class="id">P</span> <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
<span class="id">rewrite</span> <span class="id">nbhs0P</span>/= <span class="id">near_withinE</span>/= !<span class="id"><a name="F:654">near_simpl</a></span>.<br/>
<span class="id">split</span>=&gt; /<span class="id">nbhs_norm0P</span>[/= <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>] /(<span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_pmNormedZmod.V">_</a></span> <span class="id">_</span>) <span class="id">Px</span>]; <span class="id">apply</span>/<span class="id">nbhs_norm0P</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //= <span class="id">r</span> /= <span class="id">re</span> <span class="id">yr</span> <span class="id">y</span> <span class="id">xyr</span>; <span class="id">rewrite</span> -[<span class="id">y</span>](<span class="id">addrNK</span> <span class="id">x</span>) <span class="id">addrC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">Px</span>; <span class="id">rewrite</span> /= <span class="id"><a name="cvgrPdist_lep">distrC</a></span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">re</span>)// <span class="id"><a href="mathcomp.classical.classical_sets.html#set">gtr0_norm</a></span>.<br/>
<span class="kwd">exists</span> (<span class="id">e</span>%:<span class="id">num</span> / 2) =&gt; //= <span class="id"><a name="y:664">r</a></span> /= <span class="id">re</span>; <span class="id">apply</span>: (<span class="id">Px</span> (<span class="id">e</span>%:<span class="id">num</span> / 2)) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_norm</span>// <span class="id">ltr_pdivr_mulr</span>// <span class="id">ltr_pmulr</span>// ?(<span class="id">ltr_nat</span> <span class="id">_</span> 1 2).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span> <span class="id"><a name="cvgrPdistC_le">addNKr</a></span> <span class="id">normrN</span> <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgrP</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">V</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id"><a name="y:671">F</a></span>} (<span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_pmNormedZmod.V">y</a></span> : <span class="id">V</span>) : [&lt;-&gt;<br/>
&nbsp;&nbsp;<span class="id">F</span> --&gt; <span class="id">y</span>;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">t</span>| &lt;= <span class="id">eps</span>;<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">t</span>| &lt;= <span class="id">eps</span>;<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">t</span>| &lt; <span class="id">eps</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
<span class="id">tfae</span>; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">first</a></span> <span class="kwd">by</span> <span class="id"><a name="FF:677">move</a></span>=&gt; *; <span class="id">apply</span>: <span class="id">cvgr_dist_le</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>: <span class="id">Fy</span>; <span class="id">apply</span>: <span class="id">nbhs_right_gt</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">near</span>=&gt; <span class="id">e</span>; <span class="id">near</span> (0:<span class="id">R</span>)^'+ =&gt; <span class="id">d</span>; <span class="id">near</span>=&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">d</span>)//; <span class="id">first</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">near</span>: <span class="id">d</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">d</span>; <span class="id">apply</span>: <span class="id">nbhs_right_lt</span>; <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>: <span class="id">nbhs_right_gt</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span> =&gt; <span class="id">e</span> <span class="id">e_gt0</span>; <span class="id">near</span> (0:<span class="id">R</span>)^'+ =&gt; <span class="id">d</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> <span class="id">d</span>)//; <span class="id">first</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lep">near</a></span>: <span class="id">x</span>; <span class="id">near</span>: <span class="id">d</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">d</span>; <span class="id">apply</span>: <span class="id">nbhs_right_le</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdist_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id"><a name="f:692">FF</a></span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id"><a name="t:694">eps</a></span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdistC_le">f</a></span> <span class="id">t</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
 <span class="id">exact</span>: (<span class="id">cvgrP</span> <span class="id">_</span> 0 1)%<span class="id">N</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdist_ltp</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a name="FF:698">f</a></span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id"><a name="eps:700">F</a></span>, `|<span class="id">y</span> - <span class="id">f</span> <span class="id">t</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
 <span class="id">exact</span>: (<span class="id">cvgrP</span> <span class="id">_</span> 0 3)%<span class="id">N</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdist_lep</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id"><a href="mathcomp.analysis.topology.html#eq_near">Filter</a></span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
 <span class="id">exact</span>: (<span class="id">cvgrP</span> <span class="id">_</span> 0 2)%<span class="id">N</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="t:707">cvgrPdistC_le</a></span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id"><a href="mathcomp.analysis.topology.html#eq_near">y</a></span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id"><a name="F:709">t</a></span> - <span class="id"><a href="mathcomp.classical.classical_sets.html#set">y</a></span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
<span class="id">rewrite</span> <span class="id">cvgrPdist_le</span>.<br/>
<span class="kwd">by</span> <span class="id"><a name="y:712">under</a></span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt;-&gt; <span class="id">_</span>]<span class="id">eq_forall</span> <span class="id">do</span> <span class="id"><a name="u:713">under</a></span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdistC_ltp</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span> - <span class="id">y</span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrPdist_ltp</span>; <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrPdistC_lep</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> &lt;-&gt; \<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span> - <span class="id">y</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrPdist_lep</span>; <span class="id">under</span> <span class="id">eq_near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_pmNormedZmod.V">do</a></span> <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr0Pnorm_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; 0 &lt;-&gt; <span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
<span class="id">rewrite</span> <span class="id">cvgrPdistC_le</span>.<br/>
<span class="kwd">by</span> <span class="id">under</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> &lt;-&gt; <span class="id">_</span>]<span class="id">eq_forall</span> <span class="id">do</span> <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_pmNormedZmod.V">eq_near</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr0Pnorm_ltp</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; 0 &lt;-&gt; \<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_distC_lt">t</a></span>| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrPdistC_ltp</span>; <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr0Pnorm_lep</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; 0 &lt;-&gt; \<span class="kwd">forall</span> <span class="id">eps</span> \<span class="id">near</span> 0^'+, \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgrPdistC_lep</span>; <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_lt</span> {<span class="id"><a name="F:730">T</a></span>} {<span class="id"><a href="mathcomp.classical.classical_sets.html#set">F</a></span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id"><a name="f:732">F</a></span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id"><a name="y:733">V</a></span>) (<span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_right_pmNormedZmod.V">y</a></span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">u</span>, `|<span class="id">y</span>| &lt; <span class="id">u</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt; <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">move</span>=&gt; <span class="id">Fy</span> <span class="id">z</span> <span class="id">zy</span>; <span class="id">near</span> (0:<span class="id">R</span>)^'+ =&gt; <span class="id">k</span>; <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">have</span> : `|<span class="id">f</span> <span class="id">x</span> - <span class="id">y</span>| &lt; <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">cvgr_distC_lt</span> =&gt; //; <span class="id">near</span>: <span class="id">k</span>; <span class="id">apply</span>: <span class="id">nbhs_right_gt</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">le_lt_trans</span> (<span class="id">ler_dist_dist</span> <span class="id">_</span> <span class="id">_</span>)) /<span class="id">real_ltr_normlW</span>.<br/>
<span class="id">rewrite</span> <span class="id">realB</span>// <span class="id">ltr_subl_addl</span> =&gt; /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">lt_le_trans</span>; <span class="id">apply</span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_subr_addl</span>; <span class="id">near</span>: <span class="id">k</span>; <span class="id">apply</span>: <span class="id">nbhs_right_le</span>; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">u</span>, `|<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_norm_gt">y</a></span>| &lt; <span class="id">u</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &lt;= <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_norm_ge">u</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fy</span> <span class="id">u</span> <span class="id">yu</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>/<span class="id">ltW</span>; <span class="id">apply</span>: <span class="id">cvgr_norm_lt</span> <span class="id">yu</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_gt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">u</span>, `|<span class="id">y</span>| &gt; <span class="id">u</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &gt; <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
<span class="id">move</span>=&gt; <span class="id">Fy</span> <span class="id">z</span> <span class="id">zy</span>; <span class="id">near</span> (0:<span class="id">R</span>)^'+ =&gt; <span class="id">k</span>; <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">have</span>: `|<span class="id">f</span> <span class="id">x</span> - <span class="id">y</span>| &lt; <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">cvgr_distC_lt</span> =&gt; //; <span class="id">near</span>: <span class="id">k</span>; <span class="id">apply</span>: <span class="id">nbhs_right_gt</span>.<br/>
<span class="id">move</span>=&gt; /(<span class="id">le_lt_trans</span> (<span class="id">ler_dist_dist</span> <span class="id">_</span> <span class="id">_</span>)); <span class="id">rewrite</span> <span class="id">distrC</span> =&gt; /<span class="id">real_ltr_normlW</span>.<br/>
<span class="id">rewrite</span> <span class="id">realB</span>// <span class="id">ltr_subl_addl</span>  -<span class="id">ltr_subl_addr</span> =&gt; /(<span class="id">_</span> <span class="id">isT</span>); <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_subr_addl</span> -<span class="id">ler_subr_addr</span>; <span class="id">near</span>: <span class="id">k</span>; <span class="id">apply</span>: <span class="id">nbhs_right_le</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_ge</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">u</span>, `|<span class="id">y</span>| &gt; <span class="id">u</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">t</span>| &gt;= <span class="id">u</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fy</span> <span class="id">u</span> <span class="id">yu</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">apply</span>/<span class="id">ltW</span>; <span class="id">apply</span>: <span class="id">cvgr_norm_gt</span> <span class="id">yu</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_neq0</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="id">y</span> != 0 -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> != 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
<span class="id">move</span>=&gt; <span class="id">Fy</span> <span class="id">z</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">normr_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_left_lt">apply</a></span>: (@<span class="id">cvgr_norm_gt</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">y</span>); <span class="id">rewrite</span> // <span class="id">normr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">at_left_right_pmNormedZmod</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_lt</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_le</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_gt</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_ge</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_neq0</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|<span class="id">_</span> - ?<span class="id">x</span>| &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_dist_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span> - <span class="id">_</span>| &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_distC_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span>| &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_right_ge">H</a></span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr0_norm_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|<span class="id">_</span> - ?<span class="id">x</span>| &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_dist_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span> - <span class="id">_</span>| &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr_distC_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (`|?<span class="id">x</span>| &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">cvgr0_norm_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt; ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_right_gt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id">x</span> &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id"><a name="real_cvgr_lt">_</a></span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_left_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id">x</span> != <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id"><a name="z:748">x</a></span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_right_neq</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id">x</span> != <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_left_neq</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt; ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id"><a name="F:751">_</a></span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_left_gt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id">x</span> &lt; <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id"><a name="z:755">goal</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_right_lt</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt;= ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id"><a name="F:758">nbhs_right_ge</a></span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.normedtype.html#at_left_rightR.R">is_true</a></span> (?<span class="id">x</span> &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id"><a name="t:763">x</a></span>; <span class="id">exact</span>: <span class="id">nbhs_left_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">_</span> &lt;= ?<span class="id">x</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_right_ge</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (?<span class="id">x</span> &lt;= <span class="id">_</span>)) =&gt; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">H</span> : <span class="id">x</span> \<span class="id">is_near</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">near</span>: <span class="id">x</span>; <span class="id">exact</span>: <span class="id">nbhs_left_le</span> <span class="kwd">end</span> : <span class="id">core</span>.<br/>
<br/>
<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">ProperFilter</span> <span class="id">_</span>^'-) =&gt;<br/>
&nbsp;&nbsp;(<span class="id">apply</span>: <span class="id">at_left_proper_filter</span>) : <span class="id"><a name="t:770">typeclass_instances</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">ProperFilter</span> <span class="id">_</span>^'+) =&gt;<br/>
&nbsp;&nbsp;(<span class="id">apply</span>: <span class="id">at_right_proper_filter</span>) : <span class="id">typeclass_instances</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">at_left_rightR</span>.<br/>
<span class="kwd">Variable</span> (<span class="id">R</span> : <span class="id">numFieldType</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_cvgr_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#real_cvgr_lt">set</a></span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#real_cvgr_gt">f</a></span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id">z</span> &gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> \<span class="id"><a name="R:771">is</a></span> <span class="id">Num.real</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt; <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
<span class="id">move</span>=&gt; <span class="id">yr</span> <span class="id">Fy</span> <span class="id">z</span> <span class="id">zy</span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; <span class="id">fxr</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">ltr_add2r</span> (- <span class="id">y</span>)) <span class="id">real_ltr_normlW</span>// ?<span class="id">rpredB</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id"><a name="x:776">cvgr_distC_lt</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id"><a href="mathcomp.analysis.topology.html#eq_near">all</a></span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_cvgr_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt;  <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id">z</span> &gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt;= <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
<span class="id">move</span>=&gt; /<span class="id">real_cvgr_lt</span>/[<span class="id">apply</span>] + ? <span class="id">z0</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">z0</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ? /[<span class="id">apply</span>]/<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_cvgr_gt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id">y</span> &gt; <span class="id"><a name="f:789">z</a></span> -&gt; \<span class="kwd">forall</span> <span class="id"><a name="y:790">t</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">f</span> <span class="id"><a name="z:791">t</a></span> &gt; <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
<span class="id">move</span>=&gt; <span class="id">yr</span> <span class="id">Fy</span> <span class="id">z</span> <span class="id">zy</span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; <span class="id">fxr</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_lt">ltr_opp2</a></span> -(<span class="id">ltr_add2l</span> <span class="id">y</span>) <span class="id">real_ltr_normlW</span>// ?<span class="id">rpredB</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span> =&gt; //; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id"><a name="f:796">all</a></span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">real_cvgr_ge</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id"><a name="t:799">FF</a></span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">y</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id">z</span> &lt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> \<span class="id">is</span> <span class="id">Num.real</span> -&gt; <span class="id">f</span> <span class="id">t</span> &gt;= <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
<span class="id">move</span>=&gt; /<span class="id">real_cvgr_gt</span>/[<span class="id">apply</span>] + ? <span class="id">z0</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id"><a name="cvgr_ge">z0</a></span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ? /[<span class="id">apply</span>]/<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">at_left_rightR</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">real_cvgr_le</span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">real_cvgr_lt</span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_gt">real_cvgr_ge</a></span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">real_cvgr_gt</span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">realFieldType</span>.<br/>
<span class="kwd">Context</span> (<span class="id">R</span> : <span class="id">realFieldType</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">at_right_in_segment</span> (<span class="id">x</span> : <span class="id">R</span>) (<span class="id">P</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">e</span> \<span class="id">near</span> 0^'+, {<span class="kwd">in</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id">e</span>], <span class="kwd">forall</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>}) &lt;-&gt; (\<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
<span class="id">rewrite</span> <span class="id">nbhsr0P</span> -<span class="id">propeqE</span>; <span class="id">apply</span>: <span class="id">eq_near</span> =&gt; <span class="id">y</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">propeqE</span>; <span class="id">apply</span>: <span class="id">eq_forall</span> =&gt; <span class="id">z</span>; <span class="id">rewrite</span> <span class="id">ler_distlC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_lt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">z</span> &gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> &lt; <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
<span class="id">move</span>=&gt; <span class="id">Fy</span> <span class="id">z</span> <span class="id">zy</span>; <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -(<span class="id">ltr_add2r</span> (- <span class="id">y</span>)) <span class="id">ltr_normlW</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">cvgr_distC_lt</span> =&gt; //; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_le</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id"><a name="V:825">set</a></span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">z</span> &gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id"><a name="x:831">f</a></span> <span class="id">t</span> &lt;= <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgr_lt</span> + ? <span class="id">z0</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">z0</span>); <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>/<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_gt</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">T</a></span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">y</span> &gt; <span class="id">z</span> -&gt; \<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#dominated_by">t</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> &gt; <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
<span class="id">move</span>=&gt; <span class="id">Fy</span> <span class="id">z</span> <span class="id">zy</span>; <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -<span class="id">ltr_opp2</span> -(<span class="id">ltr_add2l</span> <span class="id">y</span>) <span class="id">ltr_normlW</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span> =&gt; //; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_ge</span> {<span class="id">T</span>} {<span class="id">F</span> : <span class="id"><a href="mathcomp.analysis.topology.html#Filter">set</a></span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">y</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">z</span> &lt; <span class="id"><a href="mathcomp.analysis.normedtype.html#dominated_by">y</a></span> -&gt; \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">t</span> &gt;= <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgr_gt</span> + ? <span class="id">z0</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">z0</span>); <span class="id">apply</span>: <span class="id">filterS</span> =&gt; ?; <span class="id">apply</span>/<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">realFieldType</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a name="V:852">cvgr_le</a></span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_lt</span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_ge</span> {<span class="id"><a name="f:854">R</a></span> <span class="id"><a name="F:855">T</a></span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_gt</span> {<span class="id">R</span> <span class="id">T</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">f</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">self_sub</span> (<span class="id">K</span> : <span class="id">numDomainType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">x</span> : <span class="id">V</span> * <span class="id"><a name="strictly_dominated_by1">V</a></span>) : <span class="id">W</span> := <span class="id">f</span> <span class="id">x</span>.1 - <span class="id">f</span> <span class="id">x</span>.2.<br/>
<span class="kwd">Arguments</span> <span class="id"><a name="K:858">self_sub</a></span> {<span class="id">K</span> <span class="id">V</span> <span class="id">W</span>} <span class="id">f</span> <span class="id">x</span> /.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">fun1</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} : <span class="id">T</span> -&gt; <span class="id">K</span> := <span class="kwd">fun</span>=&gt; 1.<br/>
<span class="kwd">Arguments</span> <span class="id">fun1</span> {<span class="id">T</span> <span class="id">K</span>} <span class="id">x</span> /.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">dominated_by</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">V</span> <span class="id">W</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;(<span class="id">h</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> : <span class="id"><a name="T:864">set</a></span> (<span class="id">set</span> <span class="id">T</span>)) :=<br/>
&nbsp;&nbsp;<span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">k</span> * `|<span class="id">h</span> <span class="id">x</span>|].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">strictly_dominated_by</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">V</span> <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">W</a></span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;(<span class="id">h</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#dominated_by">T</a></span> -&gt; <span class="id">V</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) :=<br/>
&nbsp;&nbsp;<span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt; <span class="id">k</span> * `|<span class="id">h</span> <span class="id">x</span>|].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub_dominatedl</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">K</span> : <span class="id">numDomainType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">h</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">F</span> <span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) : <span class="id">F</span> `=&gt;` <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;(@<span class="id">dominated_by</span> <span class="id">T</span> <span class="id">K</span> <span class="id">V</span> <span class="id">W</span> <span class="id">h</span> <span class="id">k</span>)^~ <span class="id">G</span> `&lt;=` (<span class="id">dominated_by</span> <span class="id">h</span> <span class="id">k</span>)^~ <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">FG</span> <span class="id">f</span>; <span class="id">exact</span>: <span class="id">FG</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub_dominatedr</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">K</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbK">numDomainType</a></span>) (<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">h</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) (<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>) :<br/>
&nbsp;&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">x</span>| &lt;= `|<span class="id">g</span> <span class="id">x</span>|) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">dominated_by</span> <span class="id">h</span> <span class="id">k</span> <span class="id">g</span> <span class="id">F</span> -&gt; <span class="id">dominated_by</span> <span class="id">h</span> <span class="id">k</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">le_fg</span>; <span class="id">apply</span>: <span class="id">filterS2</span> <span class="id">le_fg</span> =&gt; <span class="id">x</span>; <span class="id">apply</span>: <span class="id">le_trans</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dominated_by1</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>} :<br/>
&nbsp;&nbsp;@<span class="id">dominated_by</span> <span class="id">T</span> <span class="id">K</span> <span class="id">_</span> <span class="id">V</span> <span class="id">fun1</span> = <span class="kwd">fun</span> <span class="id">k</span> <span class="id">f</span> <span class="id">F</span> =&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">F</a></span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">k</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
<span class="id">rewrite</span> <span class="id">funeq3E</span> =&gt; <span class="id">k</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> <span class="id">F</span>; <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">normr1</span> <span class="id">mulr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">strictly_dominated_by1</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>} :<br/>
&nbsp;&nbsp;@<span class="id">strictly_dominated_by</span> <span class="id">T</span> <span class="id">K</span> <span class="id">_</span> <span class="id">V</span> <span class="id">fun1</span> = <span class="kwd">fun</span> <span class="id">k</span> <span class="id">f</span> <span class="id">F</span> =&gt; <span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt; <span class="id">k</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
<span class="id">rewrite</span> <span class="id">funeq3E</span> =&gt; <span class="id">k</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> <span class="id">F</span>; <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">normr1</span> <span class="id">mulr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ex_dom_bound</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> <span class="id">W</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">h</span> : <span class="id"><a name="V:888">T</a></span> -&gt; <span class="id">V</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">PF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>}:<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">dominated_by</span> <span class="id">h</span> <span class="id">M</span> <span class="id">f</span> <span class="id">F</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">M</span>, <span class="id">dominated_by</span> <span class="id">h</span> <span class="id">M</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="id">rewrite</span> /<span class="id">dominated_by</span>; <span class="id">split</span> =&gt; [/<span class="id">pinfty_ex_gt0</span>[<span class="id">M</span> <span class="id">M_gt0</span>]|[<span class="id">M</span>]] <span class="id">FM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a name="F:897">M</a></span>.<br/>
<span class="id">have</span> [] := <span class="id">pselect</span> (<span class="kwd">exists</span> <span class="id">x</span>, (<span class="id">h</span> <span class="id">x</span> != 0) &amp;&amp; (`|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span> * `|<span class="id">h</span> <span class="id">x</span>|)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">forallNE</span> =&gt; <span class="id">Nex</span>; <span class="kwd">exists</span> 0; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetricNormedZmodType">k</a></span> <span class="id">k_gt0</span>; <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">FM</span> =&gt; <span class="id">x</span> /= <span class="id">f_le_Mh</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">negP</span> := <span class="id">Nex</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">negb_and</span> <span class="id">negbK</span> <span class="id">f_le_Mh</span> <span class="id">orbF</span> =&gt; /<span class="id">eqP</span> <span class="id">h_eq0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">h_eq0</span> <span class="id">normr0</span> !<span class="id">mulr0</span> <span class="kwd">in</span> <span class="id">f_le_Mh</span> *.<br/>
<span class="id">case</span> =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#filterS">x0</a></span> /<span class="id">andP</span>[<span class="id">hx0_neq0</span>] /(<span class="id">le_trans</span> (<span class="id">normr_ge0</span> <span class="id">_</span>)) /<span class="id">ger0_real</span>.<br/>
<span class="id">rewrite</span> <span class="id">realrM</span> // ?<span class="id">normr_eq0</span>// =&gt; <span class="id">M_real</span>.<br/>
<span class="kwd">exists</span> <span class="id">M</span>; <span class="id">split</span> =&gt; // <span class="id">k</span> <span class="id">Mk</span>; <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">FM</span> =&gt; <span class="id">x</span> /<span class="id">le_trans</span>/= -&gt;//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_wpmul2r</span>// <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ex_strict_dom_bound</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">V</span> <span class="id">W</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">h</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">PF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">h</span> <span class="id"><a name="K:913">x</a></span> != 0) -&gt;<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">dominated_by</span> <span class="id">h</span> <span class="id">M</span> <span class="id">f</span> <span class="id">F</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">M</span>, <span class="id">strictly_dominated_by</span> <span class="id">h</span> <span class="id">M</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">move</span>=&gt; <span class="id">hN0</span>; <span class="id">rewrite</span> <span class="id">ex_dom_bound</span> /<span class="id">dominated_by</span> /<span class="id">strictly_dominated_by</span>.<br/>
<span class="id">split</span> =&gt; -[] <span class="id">M</span> <span class="id">FM</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">FM</span> =&gt; <span class="id">x</span> /<span class="id">ltW</span>.<br/>
<span class="kwd">exists</span> (<span class="id">M</span> + 1); <span class="id">apply</span>: <span class="id">filterS2</span> <span class="id"><a name="V:922">hN0</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetricNormedZmodType">FM</a></span> =&gt; <span class="id">x</span> <span class="id">hN0</span> /<span class="id">le_lt_trans</span>/= -&gt;//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pmul2r</span> ?<span class="id">normr_gt0</span>// <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">bounded_near</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) :=<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">boundedE</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>} :<br/>
&nbsp;&nbsp;@<span class="id">bounded_near</span> <span class="id">T</span> <span class="id">K</span> <span class="id">V</span> = <span class="kwd">fun</span> <span class="id">f</span> <span class="id">F</span> =&gt; \<span class="kwd">forall</span> <span class="id">M</span> \<span class="id"><a href="mathcomp.classical.classical_sets.html#set">near</a></span> +<span class="id">oo</span>, <span class="id">dominated_by</span> <span class="id">fun1</span> <span class="id">M</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_near">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">dominated_by1</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub_boundedr</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> <span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) : <span class="id">F</span> `=&gt;` <span class="id">G</span> -&gt;<br/>
&nbsp;&nbsp;(@<span class="id">bounded_near</span> <span class="id">T</span> <span class="id">K</span> <span class="id">V</span>)^~ <span class="id">G</span> `&lt;=` <span class="id">bounded_near</span>^~ <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">FG</span> <span class="id">f</span>; <span class="id">rewrite</span> /<span class="id">bounded_near</span>; <span class="id">apply</span>: <span class="id">filterS</span>=&gt; <span class="id">M</span>; <span class="id">apply</span>: <span class="id">FG</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub_boundedl</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) (<span class="id"><a name="bounded_fun_has_ubound">FF</a></span> : <span class="id">Filter</span> <span class="id">F</span>) :<br/>
&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id"><a name="R:943">F</a></span>, `|<span class="id">f</span> <span class="id">x</span>| &lt;= `|<span class="id">g</span> <span class="id">x</span>|) -&gt;  <span class="id">bounded_near</span> <span class="id">g</span> <span class="id">F</span> -&gt; <span class="id">bounded_near</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">move</span>=&gt; <span class="id">le_fg</span>; <span class="id">rewrite</span> /<span class="id">bounded_near</span>; <span class="id">apply</span>: <span class="id">filterS</span> =&gt; <span class="id">M</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS2</span> <span class="id">le_fg</span> =&gt; <span class="id">x</span>; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ex_bound</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">F</span> : <span class="id"><a name="T:945">set</a></span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">PF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>}:<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> <span class="id">F</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id">M</span>, <span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">boundedE</span> <span class="id">ex_dom_bound</span> <span class="id">dominated_by1</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ex_strict_bound</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a name="bounded_fun_has_lbound">K</a></span>}<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">PF</span> : <span class="id">ProperFilter</span> <span class="id"><a name="a:950">F</a></span>}:<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> <span class="id">F</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id">M</span>, <span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt; <span class="id">M</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">rewrite</span> <span class="id">boundedE</span> <span class="id">ex_strict_dom_bound</span> ?<span class="id">strictly_dominated_by1</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">oner_eq0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bounded_funD">ex_strict_bound_gt0</a></span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_fun">V</a></span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">PF</span> : <span class="id">Filter</span> <span class="id">F</span>}:<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> <span class="id">F</span> -&gt; <span class="kwd">exists2</span> <span class="id">M</span>, <span class="id">M</span> &gt; 0 &amp; <span class="id">F</span> [<span class="id">set</span> <span class="id">x</span> | `|<span class="id">f</span> <span class="id">x</span>| &lt; <span class="id">M</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">move</span>=&gt; /<span class="id">pinfty_ex_gt0</span>[<span class="id">M</span> <span class="id">M_gt0</span> <span class="id">FM</span>]; <span class="kwd">exists</span> (<span class="id">M</span> + 1); <span class="id">rewrite</span> ?<span class="id">addr_gt0</span>//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">FM</span> =&gt; <span class="id">x</span> /<span class="id">le_lt_trans</span>/= -&gt;//; <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Notation</span> "[ '<span class="id">bounded</span>' <span class="id">E</span> | <span class="id">x</span> '<span class="kwd">in</span>' <span class="id">A</span> ]" :=<br/>
&nbsp;&nbsp;(<span class="id">bounded_near</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">E</span>) (<span class="id">globally</span> <span class="id">A</span>)).<br/>
<span class="kwd">Notation</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">bounded_set</a></span> := [<span class="id">set</span> <span class="id">A</span> | [<span class="id">bounded</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>]].<br/>
<span class="kwd">Notation</span> <span class="id">bounded_fun</span> := [<span class="id">set</span> <span class="id">f</span> | [<span class="id">bounded</span> <span class="id">f</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">setT</span>]].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_fun_has_ubound</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">bounded_fun</span> <span class="id">a</span> -&gt; <span class="id">has_ubound</span> (<span class="id">range</span> <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
<span class="id">move</span>=&gt; [<span class="id">M</span> [<span class="id">Mreal</span>]]/(<span class="id">_</span> (`|<span class="id">M</span>| + 1)).<br/>
<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm</span> <span class="id">_</span>)) ?<span class="id">ltr_addl</span>// =&gt; /(<span class="id">_</span> <span class="id">erefl</span>) <span class="id">aM</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (`|<span class="id">M</span>| + 1) =&gt; <span class="id">_</span> [<span class="id">n</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_norm</span> <span class="id">_</span>))// <span class="id">aM</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_funN</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">bounded_fun</span> <span class="id">a</span> -&gt; <span class="id">bounded_fun</span> (- <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
<span class="id">move</span>=&gt; [<span class="id">M</span> [<span class="id">Mreal</span> <span class="id">aM</span>]]; <span class="id">rewrite</span> /<span class="id">bounded_fun</span> /<span class="id">bounded_near</span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; <span class="id">y</span> /= <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normrN</span>; <span class="id">apply</span>: <span class="id">aM</span>.<br/>
<span class="id"><a href="mathcomp.classical.classical_sets.html#set">Unshelve</a></span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_fun_has_lbound</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">a</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">bounded_fun</span> <span class="id">a</span> -&gt; <span class="id">has_lbound</span> (<span class="id">range</span> <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
<span class="id"><a name="G:980">move</a></span>=&gt; /<span class="id">bounded_funN</span>/<span class="id">bounded_fun_has_ubound</span> <span class="id">ba</span>; <span class="id">apply</span>/<span class="id">has_lb_ubN</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">subset_has_ubound</span> <span class="id">ba</span> =&gt; <span class="id">_</span> [<span class="id">_</span> [<span class="id">n</span> <span class="id">_</span>] &lt;- &lt;-]; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_funD</span> (<span class="id">T</span> : <span class="kwd">Type</span>) (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">T</span> -&gt; <span class="id"><a name="V:982">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">bounded_fun</span> <span class="id">a</span> -&gt; <span class="id"><a name="k:984">bounded_fun</a></span> <span class="id">b</span> -&gt; <span class="id">bounded_fun</span> (<span class="id">a</span> \+ <span class="id">b</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
<span class="id">move</span>=&gt; [<span class="id">M</span> [<span class="id">Mreal</span> <span class="id">Ma</span>]] [<span class="id">N</span> [<span class="id">Nreal</span> <span class="id">Nb</span>]].<br/>
<span class="id">rewrite</span> /<span class="id">bounded_fun</span>/<span class="id">bounded_near</span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; <span class="id">y</span> /= <span class="id">_</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))// [<span class="id">x</span>]<span class="id">splitr</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add</span>// (<span class="id">Ma</span>, <span class="id">Nb</span>)// <span class="id">ltr_pdivl_mulr</span>//;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">nbhs_pinfty_gt</span>; <span class="id">rewrite</span> ?<span class="id">rpredM</span> ?<span class="id">rpred_nat</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_locally</span> (<span class="id">T</span> : <span class="id">topologicalType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;[<span class="id">bounded</span> <span class="id">f</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>] -&gt; [<span class="id"><a name="x:989">locally</a></span> [<span class="id">bounded</span> <span class="id">f</span> <span class="id"><a name="lipschitz_set0">x</a></span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">sub_boundedr</span> <span class="id">AB</span> <span class="id">x</span> <span class="id">Ax</span>; <span class="id">apply</span>: <span class="id"><a name="f:993">AB</a></span>; <span class="id">apply</span>: <span class="id">within_nbhsW</span>. Qed.</div>
<br/>
<span class="kwd">Notation</span> "<span class="id">k</span> .-<span class="id">lipschitz_on</span> <span class="id">f</span>" :=<br/>
&nbsp;&nbsp;(<span class="id">dominated_by</span> (<span class="id">self_sub</span> <span class="id">id</span>) <span class="id"><a href="mathcomp.analysis.topology.html#globally0">k</a></span> (<span class="id">self_sub</span> <span class="id">f</span>)) : <span class="id">type_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">sub_klipschitz</span> (<span class="id"><a name="V:996">K</a></span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id"><a name="a:999">K</a></span>) (<span class="id">k</span> : <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> <span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> (<span class="id">V</span> * <span class="id">V</span>))) :<br/>
&nbsp;&nbsp;<span class="id">F</span> `=&gt;` <span class="id">G</span> -&gt; <span class="id">k</span>.-<span class="id">lipschitz_on</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.topology.html#globally_properfilter">G</a></span> -&gt; <span class="id">k</span>.-<span class="id">lipschitz_on</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
 <span class="id">exact</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">lipschitz_on</span> (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id"><a name="W:1003">set</a></span> (<span class="id">V</span> * <span class="id">V</span>))) :=<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">M</span>.-<span class="id">lipschitz_on</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">sub_lipschitz</span> (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.normedtype.html#sub_klipschitz">f</a></span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> <span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> (<span class="id">V</span> * <span class="id">V</span>))) :<br/>
&nbsp;&nbsp;<span class="id">F</span> `=&gt;` <span class="id"><a name="lipschitz_locally">G</a></span> -&gt; <span class="id">lipschitz_on</span> <span class="id">f</span> <span class="id">G</span> -&gt; <span class="id">lipschitz_on</span> <span class="id"><a name="V:1008">f</a></span> <span class="id"><a name="W:1009">F</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">FG</span>; <span class="id">rewrite</span> /<span class="id">lipschitz_on</span>; <span class="id">apply</span>: <span class="id">filterS</span> =&gt; <span class="id">M</span>; <span class="id">apply</span>: <span class="id">FG</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">klipschitzW</span> (<span class="id">K</span> : <span class="id"><a name="x:1013">numFieldType</a></span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">K</span>) (<span class="id">k</span> : <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> (<span class="id">V</span> * <span class="id">V</span>))) {<span class="id"><a name="lipschitz_id">PF</a></span> : <span class="id">ProperFilter</span> <span class="id">F</span>} :<br/>
&nbsp;&nbsp;<span class="id">k</span>.-<span class="id">lipschitz_on</span> <span class="id">f</span> <span class="id">F</span> -&gt; <span class="id">lipschitz_on</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_lip</span>; <span class="id">apply</span>/<span class="id">ex_dom_bound</span>; <span class="kwd">exists</span> <span class="id">k</span>. Qed.</div>
<br/>
<span class="kwd">Notation</span> "<span class="id">k</span> .-<span class="id">lipschitz_</span> <span class="id">A</span> <span class="id">f</span>" :=<br/>
&nbsp;&nbsp;(<span class="id">k</span>.-<span class="id">lipschitz_on</span> <span class="id">f</span> (<span class="id">globally</span> (<span class="id"><a name="R:1016">A</a></span> `*` <span class="id">A</span>))) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">k</span> .-<span class="id">lipschitz</span> <span class="id">f</span>" := (<span class="id"><a name="V:1020">k</a></span>.-<span class="id">lipschitz_setT</span> <span class="id">f</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">lipschitz</span>' <span class="id">E</span> | <span class="id"><a href="mathcomp.analysis.normedtype.html#contractions.U">x</a></span> '<span class="kwd">in</span>' <span class="id">A</span> ]" :=<br/>
&nbsp;&nbsp;(<span class="id">lipschitz_on</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">E</span>) (<span class="id">globally</span> (<span class="id">A</span> `*` <span class="id">A</span>))) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#contractions.U">lipschitz</a></span> <span class="id">f</span> := [<span class="id">lipschitz</span> <span class="id">f</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">setT</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lipschitz_set0</span> (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) : [<span class="id">lipschitz</span> <span class="id">f</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">set0</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">nearW</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_contraction">setM0</a></span> =&gt; ?; <span class="id">apply</span>: <span class="id">globally0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lipschitz_set1</span> (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">a</span> : <span class="id">V</span>) : [<span class="id">lipschitz</span> <span class="id">f</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id">a</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
<span class="id">apply</span>: (@<span class="id">klipschitzW</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> `|<span class="id">f</span> <span class="id">a</span>|).<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (@<span class="id">globally_properfilter</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">a</span>, <span class="id">a</span>)).<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">x</span> <span class="id">y</span>] /= [] -&gt; -&gt;; <span class="id">rewrite</span> !<span class="id">subrr</span> !<span class="id">normr0</span> <span class="id">mulr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">klipschitz_locally</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">k</span> : <span class="id">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">k</span>.-<span class="id">lipschitz_A</span> <span class="id">f</span> -&gt; [<span class="id">locally</span> <span class="id">k</span>.-<span class="id">lipschitz_A</span> <span class="id">f</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">x</span> <span class="id">Ax</span>; <span class="id">apply</span>: <span class="id">sub_klipschitz</span>; <span class="id">apply</span>: <span class="id">within_nbhsW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lipschitz_locally</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">A</span> : <span class="id">set</span> <span class="id">V</span>) (<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) :<br/>
&nbsp;&nbsp;[<span class="id">lipschitz</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a href="mathcomp.analysis.topology.html#ball_hausdorff">x</a></span> <span class="kwd">in</span> <span class="id">A</span>] -&gt; [<span class="id">locally</span> [<span class="id">lipschitz</span> <span class="id">f</span> <span class="id">x</span> | <span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">x</span> <span class="id">Ax</span>; <span class="id">apply</span>: <span class="id">sub_lipschitz</span>; <span class="id">apply</span>: <span class="id">within_nbhsW</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lipschitz_id</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;1.-<span class="id">lipschitz</span> (@<span class="id">id</span> <span class="id">V</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; [/= <span class="id">x</span> <span class="id">y</span>] <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mul1r</span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id">lipschitz_id</span> {<span class="id">R</span> <span class="id">V</span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">contractions</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} {<span class="id">X</span> <span class="id">Y</span> : <span class="id">normedModType</span> <span class="id">R</span>} {<span class="id">U</span> : <span class="id">set</span> <span class="id">X</span>} {<span class="id">V</span> : <span class="id">set</span> <span class="id">Y</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">contraction</span> (<span class="id">q</span> : {<span class="id">nonneg</span> <span class="id">R</span>}) (<span class="id">f</span> : {<span class="kwd">fun</span> <span class="id">U</span> &gt;-&gt; <span class="id">V</span>}) :=<br/>
&nbsp;&nbsp;<span class="id">q</span>%:<span class="id">num</span> &lt; 1 /\ <span class="id">q</span>%:<span class="id">num</span>.-<span class="id">lipschitz_U</span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">is_contraction</span> (<span class="id">f</span> : {<span class="kwd">fun</span> <span class="id">U</span> &gt;-&gt; <span class="id">V</span>}) := <span class="kwd">exists</span> <span class="id">q</span>, <span class="id">contraction</span> <span class="id">q</span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">contractions</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">contraction_fixpoint_unique</span> {<span class="id">R</span> : <span class="id">realDomainType</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">X</span> : <span class="id">normedModType</span> <span class="id">R</span>} (<span class="id">U</span> : <span class="id">set</span> <span class="id">X</span>) (<span class="id">f</span> : {<span class="kwd">fun</span> <span class="id">U</span> &gt;-&gt; <span class="id">U</span>}) (<span class="id">x</span> <span class="id">y</span> : <span class="id">X</span>) :<br/>
&nbsp;&nbsp;<span class="id">is_contraction</span> <span class="id">f</span> -&gt; <span class="id">U</span> <span class="id">x</span> -&gt; <span class="id">U</span> <span class="id"><a href="mathcomp.analysis.topology.html#close">y</a></span> -&gt; <span class="id">x</span> = <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id">y</span> = <span class="id">f</span> <span class="id">y</span> -&gt; <span class="id">x</span> = <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
<span class="id">case</span> =&gt; <span class="id">q</span> [<span class="id">q1</span> <span class="id">ctrfq</span>] <span class="id">Ux</span> <span class="id">Uy</span> <span class="id">fixx</span> <span class="id">fixy</span>; <span class="id">apply</span>/<span class="id">subr0_eq</span>/<span class="id">normr0_eq0</span>/<span class="id">eqP</span>.<br/>
<span class="id">have</span> [-&gt;|<span class="id">xyneq</span>] := <span class="id">eqVneq</span> <span class="id"><a name="norm_cvg_unique">x</a></span> <span class="id">y</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">have</span> <span class="id">xypos</span> : 0 &lt; `|<span class="id">x</span> - <span class="id">y</span>| <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_gt0</span> <span class="id">subr_eq0</span>.<br/>
<span class="id">suff</span> : `|<span class="id">x</span> - <span class="id">y</span>| &lt;= <span class="id">q</span>%:<span class="id">num</span> * `|<span class="id">x</span> - <span class="id">y</span>| <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pmull</span> // <span class="id">leNgt</span> <span class="id">q1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">leLHS</span>]<span class="id">fixx</span> [<span class="kwd">in</span> <span class="id">leLHS</span>]<span class="id">fixy</span>; <span class="id">exact</span>: (<span class="id">ctrfq</span> (<span class="id">_</span>, <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_id">PseudoNormedZMod_numFieldType</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">ball_norm</span> := (<span class="id">ball_</span> (@<span class="id">normr</span> <span class="id">R</span> <span class="id">V</span>)).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">nbhs_norm</span> := (@<span class="id"><a name="l:1049">nbhs_ball</a></span> <span class="id">_</span> <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_hausdorff</span> : <span class="id">hausdorff_space</span> <span class="id">V</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
<span class="id">rewrite</span> <span class="id">ball_hausdorff</span> =&gt; <span class="id">a</span> <span class="id">b</span> <span class="id">ab</span>.<br/>
<span class="id">have</span> <span class="id">ab2</span> : 0 &lt; `|<span class="id">a</span> - <span class="id">b</span>| / 2 <span class="kwd">by</span> <span class="id">apply</span> <span class="id">divr_gt0</span> =&gt; //; <span class="id">rewrite</span> <span class="id">normr_gt0</span> <span class="id">subr_eq0</span>.<br/>
<span class="id">set</span> <span class="id">r</span> := <span class="id">PosNum</span> <span class="id">ab2</span>; <span class="kwd">exists</span> (<span class="id">r</span>, <span class="id">r</span>) =&gt; /=.<br/>
<span class="id">apply</span>/<span class="id">negPn</span>/<span class="id"><a name="norm_cvgi_unique">negP</a></span> =&gt; /<span class="id">set0P</span>[<span class="id">c</span>] []; <span class="id">rewrite</span> -<span class="id">ball_normE</span> /<span class="id">ball_</span> =&gt; <span class="id">acr</span> <span class="id">bcr</span>.<br/>
<span class="id">have</span> <span class="id">r22</span> : <span class="id">r</span>%:<span class="id">num</span> * 2 = <span class="id">r</span>%:<span class="id">num</span> + <span class="id">r</span>%:<span class="id"><a href="mathcomp.classical.classical_sets.html#is_subset1">num</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> : 2 = 1 + 1) // <span class="id">mulrDr</span> <span class="id">mulr1</span>.<br/>
<span class="id">move</span>: (<span class="id">ltr_add</span> <span class="id">acr</span> <span class="id">bcr</span>); <span class="id">rewrite</span> -<span class="id">r22</span> (<span class="id">distrC</span> <span class="id"><a name="F:1062">b</a></span> <span class="id">c</span>).<br/>
<span class="id">move</span>/(<span class="id">le_lt_trans</span> (<span class="id">ler_dist_add</span> <span class="id">c</span> <span class="id">a</span> <span class="id">b</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">mulrA</span> <span class="id"><a name="x:1066">mulVr</a></span> ?<span class="id">mulr1</span> ?<span class="id">ltxx</span> // <span class="id">unitfE</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">hausdorff_space</span> <span class="id">_</span>) =&gt; <span class="id">solve</span>[<span class="id">apply</span>: <span class="id">norm_hausdorff</span>] : <span class="id">core</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_closeE</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">V</span>): <span class="id">close</span> <span class="id">x</span> <span class="id">y</span> = (<span class="id">x</span> = <span class="id">y</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
 <span class="id">exact</span>: <span class="id">closeE</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id">norm_close_eq</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">V</span>) : <span class="id">close</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> = <span class="id">y</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
 <span class="id">exact</span>: <span class="id">close_eq</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvg_unique</span> {<span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoNormedZMod_numFieldType.R">F</a></span>} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} : <span class="id">is_subset1</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">V</span> | <span class="id">F</span> --&gt; <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
 <span class="id">exact</span>: <span class="id">cvg_unique</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvg_eq</span> (<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">y</a></span> : <span class="id">V</span>) : <span class="id">x</span> --&gt; <span class="id">y</span> -&gt; <span class="id">x</span> = <span class="id"><a name="normm_leW">y</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
 <span class="id">exact</span>: (@<span class="id"><a name="e:1080">cvg_eq</a></span> <span class="id">V</span>). Qed.</div>
<span class="kwd">Lemma</span> <span class="id">norm_lim_id</span> (<span class="id">x</span> : <span class="id">V</span>) : <span class="id">lim</span> <span class="id">x</span> = <span class="id">x</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
 <span class="id">exact</span>: <span class="id">lim_id</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvg_lim</span> {<span class="id">F</span>} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} (<span class="id">l</span> : <span class="id">V</span>) : <span class="id">F</span> --&gt; <span class="id">l</span> -&gt; <span class="id">lim</span> <span class="id">F</span> = <span class="id"><a name="x:1081">l</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
 <span class="id"><a name="e:1083">exact</a></span>: (@<span class="id">cvg_lim</span> <span class="id">V</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_lim_near_cst</span> <span class="id">U</span> {<span class="id">F</span>} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} (<span class="id">l</span> : <span class="id">V</span>) (<span class="id">f</span> : <span class="id">U</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">x</span> = <span class="id">l</span>) -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) = <span class="id">l</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
 <span class="id">exact</span>: <span class="id">lim_near_cst</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_lim_cst</span> <span class="id">U</span> {<span class="id">F</span>} {<span class="id"><a name="y:1086">FF</a></span> : <span class="id">ProperFilter</span> <span class="id">F</span>} (<span class="id">k</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">lim</span> ((<span class="kwd">fun</span> <span class="id">_</span> : <span class="id">U</span> =&gt; <span class="id">k</span>) @ <span class="id">F</span>) = <span class="id">k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
 <span class="id">exact</span>: <span class="id">lim_cst</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvgi_unique</span> {<span class="id">U</span> : <span class="kwd">Type</span>} {<span class="id">F</span>} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">U</span> -&gt; <span class="id">set</span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;{<span class="id">near</span> <span class="id">F</span>, <span class="id">is_fun</span> <span class="id">f</span>} -&gt; <span class="id">is_subset1</span> [<span class="id">set</span> <span class="id">x</span> : <span class="id">V</span> | <span class="id">f</span> `@ <span class="id">F</span> --&gt; <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
 <span class="id">exact</span>: <span class="id">cvgi_unique</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvgi_lim</span> {<span class="id">U</span>} {<span class="id">F</span>} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">U</span> -&gt; <span class="id">V</span> -&gt; <span class="kwd">Prop</span>) (<span class="id">l</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">F</span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id">U</span> =&gt; <span class="id">is_subset1</span> (<span class="id">f</span> <span class="id">x</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> `@ <span class="id">F</span> --&gt; <span class="id">l</span> -&gt; <span class="id">lim</span> (<span class="id">f</span> `@ <span class="id">F</span>) = <span class="id">l</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
 <span class="id">exact</span>: <span class="id">cvgi_lim</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">distm_lt_split</span> (<span class="id">z</span> <span class="id">x</span> <span class="id"><a name="NormedModule_numFieldType.R">y</a></span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;`|<span class="id">x</span> - <span class="id">z</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">z</span> - <span class="id">y</span>| &lt; <span class="id"><a name="NormedModule_numFieldType.cvgr_norm_infty">e</a></span> / 2 -&gt; `|<span class="id">x</span> - <span class="id">y</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
 <span class="kwd">by</span> <span class="id">have</span> := @<span class="id">ball_split</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a name="NormedModule_numFieldType.cvgr_norm_infty.FF">z</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">distm_lt_splitr</span> (<span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;`|<span class="id">z</span> - <span class="id">x</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">z</span> - <span class="id">y</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">x</span> - <span class="id">y</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
 <span class="kwd">by</span> <span class="id">have</span> := @<span class="id">ball_splitr</span> <span class="id">_</span> <span class="id">_</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">distm_lt_splitl</span> (<span class="id">z</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;`|<span class="id">x</span> - <span class="id">z</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">y</span> - <span class="id">z</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">x</span> - <span class="id">y</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
 <span class="kwd">by</span> <span class="id">have</span> := @<span class="id">ball_splitl</span> <span class="id">_</span> <span class="id">_</span> <span class="id">z</span> <span class="id">x</span> <span class="id">y</span> <span class="id">e</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">normm_leW</span> (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id"><a name="cvgr_norm_gtNy">R</a></span>) : <span class="id">e</span> &gt; 0 -&gt; `|<span class="id">x</span>| &lt;= <span class="id">e</span> / 2 -&gt; `|<span class="id">x</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">posnumP</span>[{}<span class="id">e</span>] /<span class="id">le_lt_trans</span> -&gt;//; <span class="id">rewrite</span> [<span class="id">ltRHS</span>]<span class="id">splitr</span> <span class="id">ltr_spaddl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">normm_lt_split</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;`|<span class="id">x</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">y</span>| &lt; <span class="id">e</span> / 2 -&gt; `|<span class="id">x</span> + <span class="id">y</span>| &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xlt</span> <span class="id">ylt</span>; <span class="id">rewrite</span> -[<span class="id">y</span>]<span class="id">opprK</span> (@<span class="id">distm_lt_split</span> 0) ?<span class="id">subr0</span> ?<span class="id">opprK</span> ?<span class="id">add0r</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_distW</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">V</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt; \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span> - <span class="id">y</span>'| &lt;= <span class="id">eps</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">F</span> --&gt; <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgrPdist_le</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">PseudoNormedZMod_numFieldType</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id"><a name="F:1110">note</a></span>="<span class="id">use</span> `<span class="id">cvgrPdist_le</span>` <span class="id">or</span> <span class="id">a</span> <span class="id">variation</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_distW</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_near">__deprecated__cvg_distW</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_norm_lty">renamed</a></span> <span class="id">to</span> `<span class="id">norm_cvgi_lim</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">norm_cvgi_map_lim</span> := <span class="id">norm_cvgi_lim</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">NormedModule_numFieldType</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvgr_norm_infty</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">I</span>)) (<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>) (<span class="id">f</span> : <span class="id">I</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_lty</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">y</span>'| &lt; <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">exact</span>: (<span class="id">cvgr_norm_lt</span> <span class="id">y</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_ley</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">y</span>'| &lt;= <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">exact</span>: (<span class="id"><a name="hausdorff">cvgr_norm_le</a></span> <span class="id">y</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_gtNy</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id"><a name="V:1115">F</a></span> --&gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> -<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">f</span> <span class="id">y</span>'| &gt; <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">exact</span>: (<span class="id">cvgr_norm_gt</span> <span class="id">y</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_norm_geNy</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> -<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id"><a name="r:1118">F</a></span>, `|<span class="id">f</span> <span class="id">y</span>'| &gt;= <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Fy</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">exact</span>: (<span class="id">cvgr_norm_ge</span> <span class="id">y</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvgr_norm_infty</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_bounded_real</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">V</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">F</span> --&gt; <span class="id">y</span> -&gt; \<span class="kwd">forall</span> <span class="id">M</span> \<span class="id">near</span> +<span class="id">oo</span>, \<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span>, `|<span class="id">y</span>'| &lt; <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
 <span class="id">exact</span>: <span class="id">cvgr_norm_lty</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_bounded</span> {<span class="id">I</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">I</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">I</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">y</span> -&gt; <span class="id">bounded_near</span> <span class="id">f</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
 <span class="id">exact</span>: <span class="id">cvgr_norm_ley</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">NormedModule_numFieldType</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_lty</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">I</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_ley</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">I</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_gtNy</span> {<span class="id"><a name="x:1123">R</a></span> <span class="id"><a name="l:1124">V</a></span> <span class="id">I</span> <span class="id">F</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">FF</a></span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr_norm_geNy</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">I</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvg_bounded</span> {<span class="id">R</span> <span class="id">V</span> <span class="id">I</span> <span class="id">F</span> <span class="id">FF</span>}.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">hausdorff_space</span> <span class="id">_</span>) =&gt; <span class="id">solve</span>[<span class="id">apply</span>: <span class="id">norm_hausdorff</span>] : <span class="id">core</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">use</span> `<span class="id">cvgr_norm_lty</span>` <span class="id">or</span> <span class="id">a</span> <span class="id">variation</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_bounded_real</span> := <span class="id">__deprecated__cvg_bounded_real</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Export</span> <span class="id">NbhsNorm</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mx_norm.m">nbhs_simpl</a></span> := (<span class="id">nbhs_simpl</span>,@<span class="id">nbhs_nbhs_norm</span>,@<span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm.n">filter_from_norm_nbhs</a></span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm.K">NbhsNorm</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_at_rightE</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">V</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">x</span>^') -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">x</span>^') = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">x</span>^'+).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
<span class="id">move</span>=&gt; <span class="id">cvfx</span>; <span class="id">apply</span>/<span class="id">Logic.eq_sym</span>.<br/>
<span class="id">apply</span>: (@<span class="id">cvg_lim</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">at_right</span> <span class="id">_</span>)) =&gt; // <span class="id">A</span> /<span class="id">cvfx</span> /<span class="id">nbhs_ballP</span> [<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">xe_A</span>].<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //= <span class="id">y</span> <span class="id">xe_y</span>; <span class="id">rewrite</span> <span class="id">lt_def</span> =&gt; /<span class="id">andP</span> [<span class="id">xney</span> <span class="id">_</span>]; <span class="id">apply</span>: <span class="id">xe_A</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id">cvg_at_rightE</span> {<span class="id">R</span> <span class="id">V</span>} <span class="id">f</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_at_leftE</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id"><a name="mx_norm_eq0">f</a></span> : <span class="id">R</span> -&gt; <span class="id">V</span>) <span class="id"><a name="x:1139">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">x</span>^') -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">x</span>^') = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">x</span>^'-).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
<span class="id">move</span>=&gt; <span class="id">cvfx</span>; <span class="id">apply</span>/<span class="id">Logic.eq_sym</span>.<br/>
<span class="id">apply</span>: (@<span class="id">cvg_lim</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">at_left</span> <span class="id">_</span>)) =&gt; // <span class="id">A</span> /<span class="id">cvfx</span> /<span class="id">nbhs_ballP</span> [<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">xe_A</span>].<br/>
<span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //= <span class="id">y</span> <span class="id">xe_y</span>; <span class="id">rewrite</span> <span class="id">lt_def</span> =&gt; /<span class="id">andP</span> [<span class="id">xney</span> <span class="id">_</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">xe_A</span> =&gt; //; <span class="id">rewrite</span> <span class="id">eq_sym</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id">cvg_at_leftE</span> {<span class="id">R</span> <span class="id">V</span>} <span class="id">f</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">hausdorff</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">pseudoMetricNormedZModType_hausdorff</span> (<span class="id">R</span> : <span class="id">realFieldType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">hausdorff_space</span> <span class="id">V</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
<span class="id">move</span>=&gt; <span class="id">p</span> <span class="id">q</span> <span class="id">clp_q</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm">subr0_eq</a></span>/<span class="id">normr0_eq0</span>/<span class="id">Rhausdorff</span> =&gt; <span class="id">A</span> <span class="id">B</span> <span class="id">pq_A</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id">normr0</span> <span class="id">_</span> <span class="id">V</span>) -(<span class="id">subrr</span> <span class="id">p</span>) =&gt; <span class="id">pp_B</span>.<br/>
<span class="id">suff</span> <span class="id">loc_preim</span> <span class="id">r</span> <span class="id">C</span> : <span class="id">nbhs</span>`|<span class="id">p</span> - <span class="id">r</span>| <span class="id">C</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nbhs</span> <span class="id">r</span> ((<span class="kwd">fun</span> <span class="id">r</span> =&gt; `|<span class="id">p</span> - <span class="id">r</span>|) @^-1` <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r</span> []] := <span class="id">clp_q</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">loc_preim</span> <span class="id">_</span> <span class="id">_</span> <span class="id">pp_B</span>) (<span class="id">loc_preim</span> <span class="id">_</span> <span class="id">_</span> <span class="id">pq_A</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> `|<span class="id">p</span> - <span class="id">r</span>|.<br/>
<span class="id">move</span>=&gt; [<span class="id">e</span> <span class="id">egt0</span> <span class="id">pre_C</span>]; <span class="id">apply</span>: <span class="id">nbhs_le_nbhs_norm</span>; <span class="kwd">exists</span> <span class="id">e</span> =&gt; //= <span class="id">s</span> /= <span class="id">rse</span>.<br/>
<span class="id">apply</span>: <span class="id">pre_C</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> (<span class="id">ler_dist_dist</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm">_</a></span>) <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrC</span> <span class="id">subrKA</span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm0">hausdorff</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="kwd">Export</span> <span class="id">NearNorm</span>.<br/>
<span class="kwd">Definition</span> <span class="id">near_simpl</span> := (@<span class="id">near_simpl</span>, @<span class="id">nbhs_normE</span>, @<span class="id">filter_from_normE</span>,<br/>
&nbsp;&nbsp;@<span class="id">near_nbhs_norm</span>).<br/>
<span class="kwd">Ltac</span> <span class="id">near_simpl</span> := <span class="id">rewrite</span> ?<span class="id">near_simpl</span>.<br/>
<span class="kwd">End</span> <span class="id">NearNorm</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__continuous_cvg_dist</span> {<span class="id">R</span> : <span class="id">numFieldType</span>}<br/>
&nbsp;&nbsp;(<span class="id">V</span> <span class="id">W</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">R</span>) (<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.topology.html#bigmax_geP">l</a></span> :<br/>
&nbsp;&nbsp;<span class="id">continuous</span> <span class="id">f</span> -&gt; <span class="id">x</span> --&gt; <span class="id">l</span> -&gt; <span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm_neq0">e</a></span> : {<span class="id">posnum</span> <span class="id">R</span>}, `|<span class="id">f</span> <span class="id">l</span> - <span class="id">f</span> <span class="id">x</span>| &lt; <span class="id">e</span>%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">cf</span> /<span class="id">cvg_eq</span>-&gt;// <span class="id">e</span>; <span class="id">rewrite</span> <span class="id">subrr</span> <span class="id">normr0</span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">simply</span> <span class="id">use</span> <span class="id">the</span> <span class="id">fact</span> <span class="id">that</span> `(<span class="id">x</span> --&gt; <span class="id">l</span>) -&gt; (<span class="id">x</span> = <span class="id">l</span>)`")]<br/>
<span class="kwd">Notation</span> <span class="id">continuous_cvg_dist</span> := <span class="id">__deprecated__continuous_cvg_dist</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<h2> Matrices </h2>
<br/>
<span class="kwd">Section</span> <span class="id">mx_norm</span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="K:1145">K</a></span> : <span class="id">numDomainType</span>) (<span class="id">m</span> <span class="id">n</span> : <span class="id">nat</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>, <span class="id">n</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">mx_norm</span> <span class="id">x</span> : <span class="id">K</span> := (\<span class="id">big</span>[<span class="id">maxr</span>/0%:<span class="id">nng</span>]<span class="id">_i</span> `|<span class="id">x</span> <span class="id">i</span>.1 <span class="id">i</span>.2|%:<span class="id">nng</span>)%:<span class="id">num</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_normE</span> <span class="id">x</span> : <span class="id">mx_norm</span> <span class="id">x</span> = (\<span class="id">big</span>[<span class="id">maxr</span>/0%:<span class="id">nng</span>]<span class="id">_i</span> `|<span class="id">x</span> <span class="id">i</span>.1 <span class="id">i</span>.2|%:<span class="id">nng</span>)%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ler_mx_norm_add</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">mx_norm</span> (<span class="id">x</span> + <span class="id">y</span>) &lt;= <span class="id">mx_norm</span> <span class="id"><a name="K:1152">x</a></span> + <span class="id">mx_norm</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
<span class="id"><a name="n:1154">rewrite</a></span> !<span class="id">mx_normE</span> [<span class="id">_</span> &lt;= <span class="id">_</span>%:<span class="id">num</span>]<span class="id">num_le</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm">apply</a></span>/<span class="id">bigmax_leP</span>.<br/>
<span class="id">split</span>=&gt; [|<span class="id">ij</span> <span class="id">_</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id">addr_ge0</span>.<br/>
<span class="id">rewrite</span> <span class="id">mxE</span>; <span class="id">apply</span>: <span class="id">le_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_add</span>// -[<span class="id">leLHS</span>]<span class="id">nngE</span> <span class="id">num_le</span>; <span class="id">exact</span>: <span class="id">le_bigmax</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_norm_eq0</span> <span class="id">x</span> : <span class="id">mx_norm</span> <span class="id">x</span> = 0 -&gt; <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
<span class="id">move</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> -[0]<span class="id">nngE</span> <span class="id"><a name="matrix_NormedModule">mx_normE</a></span> <span class="id">num_le</span> =&gt; /<span class="id">andP</span>[/<span class="id">bigmax_leP</span>[<span class="id">_</span> <span class="id">x0</span>] <span class="id">_</span>].<br/>
<span class="id">apply</span>/<span class="id"><a name="matrix_NormedModule.n">matrixP</a></span> =&gt; <span class="id">i</span> <span class="id">j</span>; <span class="id">rewrite</span> <span class="id">mxE</span>; <span class="id">apply</span>/<span class="id"><a name="y:1162">eqP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#matrix_NormedModule.n">num_abs_eq0</a></span> <span class="id">eq_le</span> (<span class="id">x0</span> (<span class="id">i</span>, <span class="id">j</span>))//= -<span class="id">num_le</span>/=.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_norm0</span> : <span class="id">mx_norm</span> 0 = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
<span class="id">rewrite</span> /<span class="id">mx_norm</span> (<span class="id">eq_bigr</span> (<span class="kwd">fun</span>=&gt; 0%<span class="id">R</span>%:<span class="id">nng</span>)) /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_ind</span> : <span class="id">_</span> =&gt; // <span class="id">a</span> <span class="id">b</span>; <span class="id">rewrite</span> <span class="id">num_max</span> =&gt; -&gt; -&gt;; <span class="id">rewrite</span> <span class="id">maxxx</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">apply</span> <span class="id">val_inj</span> =&gt; /=; <span class="id">rewrite</span> <span class="id">mxE</span> <span class="id">normr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_norm_neq0</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#ball_gt0">mx_norm</a></span> <span class="id">x</span> != 0 -&gt; <span class="kwd">exists</span> <span class="id">i</span>, <span class="id">mx_norm</span> <span class="id">x</span> = `|<span class="id">x</span> <span class="id">i</span>.1 <span class="id"><a href="mathcomp.analysis.signed.html#nonnegP">i</a></span>.2|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
<span class="id">rewrite</span> /<span class="id">mx_norm</span>.<br/>
<span class="id">elim</span>/<span class="id">big_ind</span> : <span class="id">_</span> =&gt; [|<span class="id">a</span> <span class="id">b</span> <span class="id">Ha</span> <span class="id">Hb</span> <span class="id">H</span>|/= <span class="id">i</span> <span class="id">_</span> <span class="id">_</span>]; [<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.signed.html#num_lt">rewrite</a></span> <span class="id">eqxx</span>| |<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span>].<br/>
<span class="id">case</span>: (<span class="id">leP</span> <span class="id">a</span> <span class="id">b</span>) =&gt; <span class="id">ab</span>.<br/>
+ <span class="id">suff</span> /<span class="id">Hb</span>[<span class="id">i</span> <span class="id">xi</span>] : <span class="id">b</span>%:<span class="id">num</span> != 0 <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra</span> <span class="id">H</span> =&gt; <span class="id">b0</span>; <span class="id">rewrite</span> <span class="id">max_r</span>.<br/>
+ <span class="id">suff</span> /<span class="id">Ha</span>[<span class="id">i</span> <span class="id">xi</span>] : <span class="id">a</span>%:<span class="id">num</span> != 0 <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra</span> <span class="id">H</span> =&gt; <span class="id">a0</span>; <span class="id">rewrite</span> <span class="id">max_l</span> // <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_norm_natmul</span> <span class="id">x</span> <span class="id">k</span> : <span class="id">mx_norm</span> (<span class="id">x</span> *+ <span class="id">k</span>) = (<span class="id">mx_norm</span> <span class="id">x</span>) *+ <span class="id">k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">RHS</span>]/<span class="id">mx_norm</span>; <span class="id">elim</span>: <span class="id">k</span> =&gt; [|<span class="id">k</span> <span class="id">ih</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#mx_norm_ball">rewrite</a></span> !<span class="id">mulr0n</span> <span class="id">mx_norm0</span>.<br/>
<span class="id">rewrite</span> !<span class="id">mulrS</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ih</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#matrix_NormedModule.n">exact</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#matrix_PseudoMetricNormedZmodMixin">ler_mx_norm_add</a></span>.<br/>
<span class="id">have</span> [/<span class="id">mx_norm_eq0</span>-&gt;|<span class="id">x0</span>] := <span class="id">eqVneq</span> (<span class="id"><a name="l:1165">mx_norm</a></span> <span class="id"><a name="x:1166">x</a></span>) 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#matrix_NormedModule.m">rewrite</a></span> -/(<span class="id">mx_norm</span> 0) -/(<span class="id">mx_norm</span> 0) !(<span class="id">mul0rn</span>,<span class="id">addr0</span>,<span class="id">mx_norm0</span>).<br/>
<span class="id">rewrite</span> -/(<span class="id">mx_norm</span> <span class="id">x</span>) -<span class="id">num_abs_le</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mx_normE</span>.<br/>
<span class="id">apply</span>/<span class="id">bigmax_geP</span>; <span class="id">right</span> =&gt; /=.<br/>
<span class="id">have</span> [<span class="id">i</span> <span class="id">Hi</span>] := <span class="id">mx_norm_neq0</span> <span class="id">x0</span>.<br/>
<span class="kwd">exists</span> <span class="id">i</span> =&gt; //; <span class="id"><a href="mathcomp.analysis.signed.html#num_eq">rewrite</a></span> <span class="id">Hi</span> -!<span class="id">mulrS</span> -<span class="id">normrMn</span> <span class="id">mulmxnE</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">le_eqVlt</span>; <span class="id">apply</span>/<span class="id">orP</span>; <span class="id">left</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">val_inj</span> =&gt; /=; <span class="id">rewrite</span> <span class="id">normr_id</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_normN</span> <span class="id"><a name="matrix_NormedModMixin">x</a></span> : <span class="id">mx_norm</span> (- <span class="id">x</span>) = <span class="id">mx_norm</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
<span class="id">congr</span> (<span class="id">_</span>%:<span class="id">nngnum</span>).<br/>
<span class="kwd">by</span> <span class="id"><a name="matrix_normedModType">apply</a></span> <span class="id">eq_bigr</span> =&gt; /= ? <span class="id">_</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">mxE</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#matrix_NormedModule.m">num_eq</a></span> //= <span class="id">normrN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">mx_norm</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_normrE</span> (<span class="id">K</span> : <span class="id">realDomainType</span>) (<span class="id">m</span> <span class="id">n</span> : <span class="id">nat</span>) (<span class="id">x</span> : '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>, <span class="id">n</span>)) :<br/>
&nbsp;&nbsp;<span class="id">mx_norm</span> <span class="id">x</span> = \<span class="id">big</span>[<span class="id"><a name="K:1170">maxr</a></span>/0]<span class="id">_ij</span> `|<span class="id">x</span> <span class="id">ij</span>.1 <span class="id"><a name="U:1171">ij</a></span>.2|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
<span class="id">rewrite</span> /<span class="id">mx_norm</span>; <span class="id">apply</span>/<span class="id">esym</span>.<br/>
<span class="id"><a name="ball_prod_normE">elim</a></span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; //= <span class="id"><a href="mathcomp.analysis.topology.html#ball_">a</a></span> <span class="id">a</span>' <span class="id">b</span> <span class="id">b</span>' -&gt;{<span class="id">a</span>'} -&gt;{<span class="id">b</span>'}.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">ab</span>|<span class="id">ab</span>] := <span class="id">leP</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeq2E">a</a></span> <span class="id">b</span>; [<span class="id">rewrite</span> <span class="id">max_r</span> | <span class="id">rewrite</span> <span class="id">max_l</span> // <span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">matrix_normedZmodMixin</span> (<span class="id">K</span> : <span class="id">numDomainType</span>) (<span class="id">m</span> <span class="id">n</span> : <span class="id">nat</span>) :=<br/>
&nbsp;&nbsp;@<span class="id">Num.NormedMixin</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id">mx_norm</span> <span class="id">K</span> <span class="id">m</span>.+1 <span class="id">n</span>.+1) (@<span class="id">ler_mx_norm_add</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id">mx_norm_eq0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (@<span class="id">mx_norm_natmul</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#prod_PseudoMetricNormedZmodule.V">_</a></span> <span class="id">_</span>) (@<span class="id">mx_normN</span> <span class="id"><a name="x:1174">_</a></span> <span class="id">_</span> <span class="id">_</span>).<br/>
<br/>
<span class="kwd">Canonical</span> <span class="id">matrix_normedZmodType</span> (<span class="id">K</span> : <span class="id">numDomainType</span>) (<span class="id">m</span> <span class="id">n</span> : <span class="id">nat</span>) :=<br/>
&nbsp;&nbsp;<span class="id">NormedZmodType</span> <span class="id">K</span> '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1) (<span class="id">matrix_normedZmodMixin</span> <span class="id">K</span> <span class="id">m</span> <span class="id">n</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">matrix_NormedModule</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">m</span> <span class="id">n</span> : <span class="id">nat</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ball_gt0</span> (<span class="id">x</span> <span class="id">y</span> : '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1)) <span class="id">e</span> : <span class="id">ball</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#prod_PseudoMetricNormedZmodule">e</a></span> <span class="id">y</span> -&gt; 0 &lt; <span class="id">e</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
 <span class="kwd">by</span> <span class="id">move</span>/(<span class="id">_</span> <span class="id">ord0</span> <span class="id">ord0</span>); <span class="id">apply</span>: <span class="id">le_lt_trans</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_norm_ball</span> :<br/>
&nbsp;&nbsp;@<span class="id">ball</span> <span class="id">_</span> [<span class="id">pseudoMetricType</span> <span class="id">K</span> <span class="id">of</span> '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id"><a name="l:1178">n</a></span>.+1)] = <span class="id">ball_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; `| <span class="id">x</span> |).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
<span class="id">rewrite</span> /<span class="id">normr</span> /<span class="id">ball_</span> <span class="id">predeq3E</span> =&gt; <span class="id">x</span> <span class="id">e</span> <span class="id">y</span> /=; <span class="id">rewrite</span> <span class="id">mx_normE</span>; <span class="id">split</span> =&gt; <span class="id">xey</span>.<br/>
- <span class="id"><a name="prod_NormedModMixin">have</a></span> <span class="id">e_gt0</span> : 0 &lt; <span class="id">e</span> := <span class="id">ball_gt0</span> <span class="id">xey</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#prod_norm_scale">move</a></span>: <span class="id">e_gt0</span> (<span class="id">e_gt0</span>) <span class="id">xey</span> =&gt; /<span class="id">ltW</span>/<span class="id">nonnegP</span>[{}<span class="id">e</span>] <span class="id">e_gt0</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModType">xey</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">num_lt</span>; <span class="id">apply</span>/<span class="id">bigmax_ltP</span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">num_lt</span> /=; <span class="id">split</span> =&gt; // -[? ?] <span class="id">_</span>; <span class="id">rewrite</span> !<span class="id">mxE</span>; <span class="id">exact</span>: <span class="id">xey</span>.<br/>
- <span class="id">have</span> <span class="id">e_gt0</span> : 0 &lt; <span class="id">e</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">xey</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">e_gt0</span> (<span class="id">e_gt0</span>) <span class="id">xey</span> =&gt; /<span class="id">ltW</span>/<span class="id">nonnegP</span>[{}<span class="id">e</span>] <span class="id">e_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">bigmax_ltP</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>%:<span class="id">sgn</span>)) /= [<span class="id">e0</span> <span class="id">xey</span>] <span class="id">i</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">xey</span> (<span class="id">i</span>, <span class="id">j</span>)); <span class="id">rewrite</span> !<span class="id">mxE</span>; <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">matrix_PseudoMetricNormedZmodMixin</span> :=<br/>
&nbsp;&nbsp;<span class="id">PseudoMetricNormedZmodule.Mixin</span> <span class="id">mx_norm_ball</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">matrix_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;<span class="id">PseudoMetricNormedZmodType</span> <span class="id">K</span> '<span class="id">M</span>[<span class="id"><a href="mathcomp.analysis.normedtype.html#prod_NormedModule_lemmas.V">K</a></span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1) <span class="id">matrix_PseudoMetricNormedZmodMixin</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mx_normZ</span> (<span class="id">l</span> : <span class="id">K</span>) (<span class="id">x</span> : '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1)) : `| <span class="id">l</span> *: <span class="id">x</span> | = `| <span class="id">l</span> | * `| <span class="id"><a name="z':1199">x</a></span> |.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
<span class="id">rewrite</span> {1 3}/<span class="id">normr</span> /= !<span class="id">mx_normE</span><br/>
&nbsp;(<span class="id">eq_bigr</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; (`|<span class="id">l</span>| * `|<span class="id">x</span> <span class="id">i</span>.1 <span class="id">i</span>.2|)%:<span class="id">nng</span>)); <span class="id">last</span> <span class="id"><a name="J:1201">first</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">mxE</span> //=; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#Filter">eqP</a></span>; <span class="id">rewrite</span> -<span class="id">num_eq</span> /= <span class="id">normrM</span>.<br/>
<span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; // [|<span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span> <span class="id">bE</span> <span class="id">dE</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">num_max</span> <span class="id">bE</span> <span class="id">dE</span> <span class="id">maxr_pmulr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">matrix_NormedModMixin</span> := <span class="id">NormedModMixin</span> <span class="id">mx_normZ</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">matrix_normedModType</span> :=<br/>
&nbsp;&nbsp;<span class="id">NormedModType</span> <span class="id">K</span> '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1) <span class="id">matrix_NormedModMixin</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">matrix_NormedModule</span>.<br/>
<br/>
<h2> Pairs </h2>
<br/>
<span class="kwd">Section</span> <span class="id">prod_PseudoMetricNormedZmodule</span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">U</span> <span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id"><a name="z:1222">K</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_prod_normE</span> : <span class="id">ball</span> = <span class="id">ball_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; `| <span class="id">x</span> : <span class="id">U</span> * <span class="id">V</span> |).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
<span class="id"><a name="i:1224">rewrite</a></span> <span class="id">funeq2E</span> =&gt; - [<span class="id">xu</span> <span class="id">xv</span>] <span class="id">e</span>; <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; - [<span class="id">yu</span> <span class="id">yv</span>].<br/>
<span class="id">rewrite</span> /<span class="id">ball</span> /= /<span class="id">prod_ball</span> -!<span class="id">ball_normE</span> /<span class="id">ball_</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a name="F:1226">comparable_lt_maxl</a></span>// ?<span class="id"><a href="mathcomp.classical.classical_sets.html#set">real_comparable</a></span>//; <span class="id">split</span>=&gt; /<span class="id">andP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">prod_norm_ball</span> : @<span class="id">ball</span> <span class="id">_</span> [<span class="id">pseudoMetricType</span> <span class="id">K</span> <span class="id">of</span> <span class="id">U</span> * <span class="id">V</span>] = <span class="id">ball_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; `|<span class="id">x</span>|).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
 <span class="kwd">by</span> <span class="id"><a name="z':1234">rewrite</a></span> /= - <span class="id">ball_prod_normE</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">prod_pseudoMetricNormedZmodMixin</span> :=<br/>
&nbsp;&nbsp;<span class="id">PseudoMetricNormedZmodule.Mixin</span> <span class="id">prod_norm_ball</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">prod_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;<span class="id">PseudoMetricNormedZmodType</span> <span class="id">K</span> (<span class="id">U</span> * <span class="id">V</span>) <span class="id">prod_pseudoMetricNormedZmodMixin</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr2dist_ltP">prod_PseudoMetricNormedZmodule</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">prod_NormedModule</span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">U</span> <span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">prod_norm_scale</span> (<span class="id">l</span> : <span class="id">K</span>) (<span class="id">x</span> : <span class="id">U</span> * <span class="id">V</span>) : `| <span class="id">l</span> *: <span class="id">x</span> | = `|<span class="id">l</span>| * `| <span class="id">x</span> |.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Proof.</span></div>
<div class="proofscript" id="proof243">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">prod_normE</span> /= !<span class="id">normrZ</span> <span class="id">maxr_pmulr</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">prod_NormedModMixin</span> := <span class="id">NormedModMixin</span> <span class="id">prod_norm_scale</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">prod_normedModType</span> :=<br/>
&nbsp;&nbsp;<span class="id">NormedModType</span> <span class="id">K</span> (<span class="id">U</span> * <span class="id">V</span>) <span class="id">prod_NormedModMixin</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">prod_NormedModule</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">example_of_sharing</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">K</span> : <span class="id">numDomainType</span>).<br/>
<br/>
<span class="kwd">Example</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">matrix_triangke</a></span> <span class="id">m</span> <span class="id">n</span> (<span class="id">M</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NVS_continuity_pseudoMetricNormedZmodType.V">N</a></span> : '<span class="id">M</span>[<span class="id">K</span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1)) :<br/>
&nbsp;&nbsp;`|<span class="id">M</span> + <span class="id">N</span>| &lt;= `|<span class="id">M</span>| + `|<span class="id">N</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Proof.</span></div>
<div class="proofscript" id="proof244">
 <span class="id">apply</span> <span class="id">ler_norm_add</span>. Qed.</div>
<br/>
<span class="kwd">Example</span> <span class="id">pair_triangle</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">K</span> * <span class="id">K</span>) : `|<span class="id">x</span> + <span class="id">y</span>| &lt;= `|<span class="id">x</span>| + `|<span class="id">y</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Proof.</span></div>
<div class="proofscript" id="proof245">
 <span class="id">apply</span> <span class="id">ler_norm_add</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">example_of_sharing</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">prod_NormedModule_lemmas</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">U</span> <span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fcvgr2dist_ltP</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">U</span>)} {<span class="id">G</span> : <span class="id">set</span> (<span class="id"><a name="natmul_continuous">set</a></span> <span class="id">V</span>)}<br/>
&nbsp;&nbsp;{<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} {<span class="id">FG</span> : <span class="id">Filter</span> <span class="id">G</span>} (<span class="id">y</span> : <span class="id">U</span>) (<span class="id">z</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;(<span class="id">F</span>, <span class="id">G</span>) --&gt; (<span class="id">y</span>, <span class="id">z</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span> &amp; <span class="id">z</span>' \<span class="id">near</span> <span class="id">G</span>, `| (<span class="id">y</span>, <span class="id">z</span>) - (<span class="id">y</span>', <span class="id">z</span>') | &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Proof.</span></div>
<div class="proofscript" id="proof246">
 <span class="id">exact</span>: <span class="id">fcvgrPdist_lt</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr2dist_ltP</span> {<span class="id">I</span> <span class="id">J</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">I</span>)} {<span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">J</span>)}<br/>
&nbsp;&nbsp;{<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} {<span class="id">FG</span> : <span class="id">Filter</span> <span class="id">G</span>} (<span class="id">f</span> : <span class="id">I</span> -&gt; <span class="id">U</span>) (<span class="id">g</span> : <span class="id">J</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">U</span>) (<span class="id">z</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> @ <span class="id">F</span>, <span class="id">g</span> @ <span class="id">G</span>) --&gt; (<span class="id">y</span>, <span class="id">z</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">i</span> \<span class="id">near</span> <span class="id">F</span> &amp; <span class="id">j</span> \<span class="id">near</span> <span class="id">G</span>, `| (<span class="id">y</span>, <span class="id">z</span>) - (<span class="id">f</span> <span class="id">i</span>, <span class="id">g</span> <span class="id">j</span>) | &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Proof.</span></div>
<div class="proofscript" id="proof247">
<span class="id">rewrite</span> <span class="id">fcvgr2dist_ltP</span>; <span class="id">split</span>=&gt; + <span class="id">e</span> <span class="id">e0</span> =&gt; /(<span class="id">_</span> <span class="id">e</span> <span class="id">e0</span>);<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">near_simpl</span>// =&gt; ?; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.topology.html#continuous">near_simpl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NVS_continuity_normedModType.V">cvgr2dist_lt</a></span> {<span class="id">I</span> <span class="id">J</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">I</span>)} {<span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">J</span>)}<br/>
&nbsp;&nbsp;{<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} {<span class="id">FG</span> : <span class="id">Filter</span> <span class="id">G</span>} (<span class="id">f</span> : <span class="id">I</span> -&gt; <span class="id">U</span>) (<span class="id">g</span> : <span class="id">J</span> -&gt; <span class="id">V</span>) (<span class="id">y</span> : <span class="id">U</span>) (<span class="id">z</span> : <span class="id">V</span>) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> @ <span class="id">F</span>, <span class="id">g</span> @ <span class="id">G</span>) --&gt; (<span class="id">y</span>, <span class="id">z</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">i</span> \<span class="id">near</span> <span class="id">F</span> &amp; <span class="id">j</span> \<span class="id">near</span> <span class="id">G</span>, `| (<span class="id">y</span>, <span class="id">z</span>) - (<span class="id">f</span> <span class="id">i</span>, <span class="id">g</span> <span class="id">j</span>) | &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Proof.</span></div>
<div class="proofscript" id="proof248">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">cvgr2dist_ltP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_dist2</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">U</span>)} {<span class="id">G</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">V</span>)}<br/>
&nbsp;&nbsp;{<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} {<span class="id">FG</span> : <span class="id">Filter</span> <span class="id">G</span>} (<span class="id">y</span> : <span class="id">U</span>) (<span class="id">z</span> : <span class="id">V</span>):<br/>
&nbsp;&nbsp;(<span class="id">F</span>, <span class="id">G</span>) --&gt; (<span class="id">y</span>, <span class="id">z</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">eps</span>, 0 &lt; <span class="id">eps</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">y</span>' \<span class="id">near</span> <span class="id">F</span> &amp; <span class="id">z</span>' \<span class="id">near</span> <span class="id">G</span>, `|(<span class="id">y</span>, <span class="id">z</span>) - (<span class="id">y</span>', <span class="id">z</span>')| &lt; <span class="id">eps</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Proof.</span></div>
<div class="proofscript" id="proof249">
 <span class="id">exact</span>: <span class="id">cvgr2dist_lt</span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
<span class="id">note</span>="<span class="id">use</span> `<span class="id">cvgr2dist_lt</span>` <span class="id">or</span> <span class="id">a</span> <span class="id">variant</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_dist2</span> := <span class="id"><a href="mathcomp.analysis.normedtype.html#NVS_continuity_normedModType.V">__deprecated__cvg_dist2</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id">prod_NormedModule_lemmas</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr2dist_ltP</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">G</span> <span class="id">FF</span> <span class="id">FG</span>}.<br/>
<span class="kwd">Arguments</span> <span class="id">cvgr2dist_lt</span> {<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">F</span> <span class="id">G</span> <span class="id">FF</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NVS_continuity_normedModType.K">FG</a></span>}.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
<span class="id"><a href="mathcomp.analysis.topology.html#cvg_id">note</a></span>="<span class="id">use</span> `<span class="id">fcvgr2dist_ltP</span>` <span class="id">or</span> <span class="id">a</span> <span class="id">variant</span> <span class="id">instead</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_dist2P</span> := <span class="id">fcvgr2dist_ltP</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<div class="doc">Normed vector spaces have some continuous functions </div>
<div class="doc">that are in fact continuous on pseudoMetricNormedZmodType </div>
<span class="kwd">Section</span> <span class="id">NVS_continuity_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">opp_continuous</span> : <span class="id">continuous</span> (@<span class="id">GRing.opp</span> <span class="id"><a name="y:1256">V</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Proof.</span></div>
<div class="proofscript" id="proof250">
<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span>=&gt; <span class="id">e</span> <span class="id">e0</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">opprD</span> <span class="id">normrN</span>.<br/>
<span class="id">exact</span>: <span class="id">cvgr_dist_lt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">add_continuous</span> : <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">z</span> : <span class="id">V</span> * <span class="id">V</span> =&gt; <span class="id">z</span>.1 + <span class="id">z</span>.2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Proof.</span></div>
<div class="proofscript" id="proof251">
<span class="id">move</span>=&gt; [/= <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_ltp">y</a></span>]; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span>=&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">a</span> <span class="id">b</span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span> <span class="id">addrACA</span> <span class="id">normm_lt_split</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">natmul_continuous</span> <span class="id">n</span> : <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id">V</span> =&gt; <span class="id">x</span> *+ <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Proof.</span></div>
<div class="proofscript" id="proof252">
<span class="id">case</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span>] <span class="id">x</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
<span class="id">apply</span>/<span class="id">cvgrPdist_lt</span>=&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">a</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">mulrnBl</span> <span class="id">normrMn</span> -<span class="id">mulr_natr</span> -<span class="id">ltr_pdivl_mulr</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_continuous</span> : <span class="id">continuous</span> (<span class="id">normr</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_norm_ge">V</a></span> -&gt; <span class="id">K</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Proof.</span></div>
<div class="proofscript" id="proof253">
<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span> =&gt; <span class="id">e</span> <span class="id">e0</span>; <span class="id">apply</span>/<span class="id">nbhs_normP</span>; <span class="kwd">exists</span> <span class="id">e</span> =&gt; //= <span class="id">y</span>.<br/>
<span class="id">exact</span>/<span class="id">le_lt_trans</span>/<span class="id">ler_dist_dist</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">NVS_continuity_pseudoMetricNormedZmodType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">NVS_continuity_normedModType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">normedModType</span> <span class="id"><a name="T:1260">K</a></span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">scale_continuous</span> : <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">z</span> : <span class="id">K</span> * <span class="id">V</span> =&gt; <span class="id">z</span>.1 *: <span class="id">z</span>.2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Proof.</span></div>
<div class="proofscript" id="proof254">
<span class="id">move</span>=&gt; [/= <span class="id">k</span> <span class="id">x</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.K">cvgrPdist_lt</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.V">posnumP</a></span>[<span class="id">e</span>]; <span class="id">near</span> +<span class="id"><a name="a:1264">oo_K</a></span> =&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.F">M</a></span>.<br/>
<span class="id">near</span>=&gt; <span class="id">l</span> <span class="id">z</span> =&gt; /=; <span class="id">have</span> <span class="id">M0</span> : 0 &lt; <span class="id">M</span> <span class="kwd">by</span> [].<br/>
<span class="id">rewrite</span> (@<span class="id">distm_lt_split</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">k</span> *: <span class="id">z</span>)) // -?(<span class="id">scalerBr</span>, <span class="id">scalerBl</span>) <span class="id">normrZ</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">M</span> * `|<span class="id">x</span> - <span class="id">z</span>|)) ?<span class="id">ler_wpmul2r</span> -?<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">ltr_pdivl_mull</a></span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">z</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>; <span class="id">rewrite</span> // <span class="id">mulr_gt0</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.F">invr_gt0</a></span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (`|<span class="id">k</span> - <span class="id">l</span>| * <span class="id">M</span>)) ?<span class="id">ler_wpmul2l</span> -?<span class="id">ltr_pdivl_mulr</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">z</span>; <span class="id">near</span>: <span class="id">M</span>; <span class="id"><a href="mathcomp.classical.boolp.html#propeqE">apply</a></span>: <span class="id">cvg_bounded</span> (@<span class="id">cvg_refl</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">l</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>; <span class="id"><a name="n:1270">rewrite</a></span> // <span class="id">divr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Arguments</span> <span class="id">scale_continuous</span> <span class="id">_</span> <span class="id">_</span> : <span class="id">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">scaler_continuous</span> <span class="id">k</span> : <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id">V</span> =&gt; <span class="id">k</span> *: <span class="id"><a name="n:1273">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Proof.</span></div>
<div class="proofscript" id="proof255">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>: (<span class="id">cvg_comp2</span> (<span class="id">cvg_cst</span> <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.F">cvg_id</a></span> (<span class="id">scale_continuous</span> (<span class="id">_</span>, <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">_</a></span>))).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cvgD">scalel_continuous</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.F">x</a></span> : <span class="id">V</span>) : <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">k</span> : <span class="id">K</span> =&gt; <span class="id">k</span> *: <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Proof.</span></div>
<div class="proofscript" id="proof256">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k</span>; <span class="id">apply</span>: (<span class="id">cvg_comp2</span> <span class="id">cvg_id</span> (<span class="id">cvg_cst</span> <span class="id">_</span>) (<span class="id">scale_continuous</span> (<span class="id">_</span>, <span class="id">_</span>))).<br/>
Qed.</div>
<br/>
<div class="doc">Continuity of norm </div>
<span class="kwd">End</span> <span class="id">NVS_continuity_normedModType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">NVS_continuity_mul</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mul_continuous</span> : <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">z</span> : <span class="id">K</span> * <span class="id">K</span> =&gt; <span class="id">z</span>.1 * <span class="id">z</span>.2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Proof.</span></div>
<div class="proofscript" id="proof257">
 <span class="id">exact</span>: <span class="id">scale_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulrl_continuous</span> (<span class="id">x</span> : <span class="id">K</span>) : <span class="id">continuous</span> ( *%<span class="id">R</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
 <span class="id"><a href="mathcomp.analysis.topology.html#cvg">exact</a></span>: <span class="id">scaler_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mulrr_continuous</span> (<span class="id">y</span> : <span class="id">K</span>) : <span class="id">continuous</span> ( *%<span class="id">R</span>^~ <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
 <span class="id">exact</span>: <span class="id">scalel_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">inv_continuous</span> (<span class="id">x</span> : <span class="id">K</span>) : <span class="id">x</span> != 0 -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">GRing.inv</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
<span class="id">move</span>=&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgD">x_neq0</a></span>; <span class="id">have</span> <span class="id">nx_gt0</span> : `|<span class="id">x</span>| &gt; 0 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_gt0</span>.<br/>
<span class="id">apply</span>/(@<span class="id">cvgrPdist_ltp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs</span> <span class="id">x</span>)); <span class="id">near</span> (0 : <span class="id">K</span>)^'+ =&gt; <span class="id">d</span>. <span class="id">near</span>=&gt; <span class="id">e</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.F">have</a></span> <span class="id">y_neq0</span> : <span class="id">y</span> != 0 <span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: (<span class="id">cvgr_neq0</span> <span class="id">x</span>).<br/>
<span class="id">rewrite</span> /= -<span class="id">div1r</span> -[<span class="id">y</span>^-1]<span class="id">div1r</span> -<span class="id">mulNr</span> <span class="id">addf_div</span>// <span class="id">mul1r</span> <span class="id">mulN1r</span> <span class="id">normrM</span> <span class="id">normfV</span>.<br/>
<span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> ?<span class="id">normr_gt0</span> ?<span class="id">mulf_neq0</span>// (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">e</span> * <span class="id">d</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>;  <span class="id">apply</span>: <span class="id">cvgr_distC_lt</span> =&gt; //; <span class="id">rewrite</span> <span class="id">mulr_gt0</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_pmul2l</span> =&gt; //=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_sub0">normrM</a></span> -<span class="id">ler_pdivr_mull</span>//.<br/>
<span class="id">near</span>: <span class="id">y</span>; <span class="id">apply</span>: (<span class="id">cvgr_norm_ge</span> <span class="id">x</span>) =&gt; //; <span class="id">rewrite</span> <span class="id">ltr_pdivr_mull</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">d</span>; <span class="id">apply</span>: <span class="id">nbhs_right_lt</span>; <span class="id">rewrite</span> <span class="id">mulr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">NVS_continuity_mul</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_composition_pseudometric</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>} {<span class="id">T</span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_pseudometric.F">FF</a></span> : <span class="id">Filter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">s</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr0Pnorm_lt">V</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgN</span> <span class="id">f</span> <span class="id">a</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; - <span class="id">f</span> @ <span class="id">F</span> --&gt; - <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">continuous_cvg</span> =&gt; //; <span class="id">exact</span>: <span class="id">opp_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgNP</span> <span class="id">f</span> <span class="id">a</span> : - <span class="id">f</span> @ <span class="id">F</span> --&gt; - <span class="id">a</span> &lt;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; /<span class="id">cvgN</span>//; <span class="id">rewrite</span> !<span class="id">opprK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgN</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (- <span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgN</span> /<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgNE</span> <span class="id">f</span> : <span class="id">cvg</span> ((- <span class="id">f</span>) @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
 <span class="kwd">by</span> <span class="id"><a name="x:1309">rewrite</a></span> <span class="id">propeqE</span>; <span class="id">split</span>=&gt; /<span class="id">cvgN</span>; <span class="id">rewrite</span> ?<span class="id">opprK</span> =&gt; /<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgMn</span> <span class="id">f</span> <span class="id">n</span> <span class="id">a</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; ((@<span class="id">GRing.natmul</span> <span class="id">_</span>)^~<span class="id">n</span> \<span class="id">o</span> <span class="id">f</span>) @ <span class="id">F</span> --&gt; <span class="id">a</span> *+ <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?;  <span class="id">apply</span>: <span class="id">continuous_cvg</span> =&gt; //; <span class="id">exact</span>: <span class="id">natmul_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgMn</span> <span class="id">f</span> <span class="id">n</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (((@<span class="id">GRing.natmul</span> <span class="id">_</span>)^~<span class="id">n</span> \<span class="id">o</span> <span class="id">f</span>) @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgMn</span> /<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgD</span> <span class="id">f</span> <span class="id">g</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; (<span class="id">f</span> + <span class="id">g</span>) @ <span class="id">F</span> --&gt; <span class="id">a</span> + <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">continuous2_cvg</span> =&gt; //; <span class="id">exact</span>: <span class="id">add_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgD</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_normed.F">f</a></span> <span class="id">g</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> + <span class="id"><a name="x:1319">g</a></span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof268')">Proof.</span></div>
<div class="proofscript" id="proof268">
 <span class="kwd">by</span> <span class="id">have</span> := <span class="id">cvgP</span> <span class="id">_</span> (<span class="id">cvgD</span> <span class="id">_</span> <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgB</span> <span class="id">f</span> <span class="id">g</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; (<span class="id">f</span> - <span class="id">g</span>) @ <span class="id">F</span> --&gt; <span class="id">a</span> - <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof269')">Proof.</span></div>
<div class="proofscript" id="proof269">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">cvgD</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgB</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgZ">cvg</a></span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id"><a name="cvgZl">cvg</a></span> (<span class="id">f</span> - <span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof270')">Proof.</span></div>
<div class="proofscript" id="proof270">
 <span class="kwd">by</span> <span class="id">have</span> := <span class="id">cvgP</span> <span class="id"><a name="x:1328">_</a></span> (<span class="id">cvgB</span> <span class="id">_</span> <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgDlE</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> ((<span class="id">f</span> + <span class="id">g</span>) @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof271')">Proof.</span></div>
<div class="proofscript" id="proof271">
<span class="id">move</span>=&gt; <span class="id">g_cvg</span>; <span class="id"><a href="mathcomp.analysis.topology.html#cvg">rewrite</a></span> <span class="id">propeqE</span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">is_cvgD</span>; <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">apply</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">is_cvgB</span> /(<span class="id">_</span> <span class="id">g_cvg</span>); <span class="id"><a name="cvgZr">rewrite</a></span> <span class="id"><a name="f:1335">addrK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgDrE</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_normed.F">g</a></span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> ((<span class="id">f</span> + <span class="id">g</span>) @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof272')">Proof.</span></div>
<div class="proofscript" id="proof272">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrC</span>; <span class="id"><a name="k:1337">apply</a></span>: <span class="id">is_cvgDlE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_sub0</span> <span class="id">f</span> <span class="id">g</span> <span class="id">a</span> : (<span class="id">f</span> - <span class="id">g</span>) @ <span class="id">F</span> --&gt; (0 : <span class="id">V</span>) -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof273')">Proof.</span></div>
<div class="proofscript" id="proof273">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Cfg</span> <span class="id">Cg</span>; <span class="id">have</span> := <span class="id">cvgD</span> <span class="id">Cfg</span> <span class="id">Cg</span>; <span class="id">rewrite</span> <span class="id">subrK</span> <span class="id">add0r</span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_zero</span> <span class="id">f</span> <span class="id">a</span> : (<span class="id">f</span> - <span class="id">cst</span> <span class="id">a</span>) @ <span class="id">F</span> --&gt; (0 : <span class="id">V</span>) -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof274')">Proof.</span></div>
<div class="proofscript" id="proof274">
 <span class="kwd">by</span> <span class="id"><a href="mathcomp.classical.boolp.html#funext">move</a></span>=&gt; <span class="id">Cfa</span>; <span class="id">apply</span>: <span class="id">cvg_sub0</span> <span class="id">Cfa</span> (<span class="id">cvg_cst</span> <span class="id">_</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_norm</span> <span class="id">f</span> <span class="id">a</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; (`|<span class="id">a</span>| : <span class="id">K</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof275')">Proof.</span></div>
<div class="proofscript" id="proof275">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">continuous_cvg</span>; <span class="id">apply</span>: <span class="id">norm_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvg_norm</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_field.T">cvg</a></span> ((<span class="id">Num.norm</span> \<span class="id">o</span> <span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof276')">Proof.</span></div>
<div class="proofscript" id="proof276">
 <span class="kwd">by</span> <span class="id">have</span> := <span class="id">cvgP</span> <span class="id">_</span> (<span class="id">cvg_norm</span> <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvg0P</span> <span class="id">f</span> : `|<span class="id">f</span> <span class="id">x</span>| @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; 0 &lt;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof277')">Proof.</span></div>
<div class="proofscript" id="proof277">
<span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvg_norm</span>; <span class="id">rewrite</span> <span class="id">normr0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">f0</span>; <span class="id">apply</span>/<span class="id">cvgr0Pnorm_lt</span> =&gt; <span class="id">e</span> <span class="id">e_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">normr_id</span>; <span class="id">apply</span>: <span class="id">cvgr0_norm_lt</span>.<br/>
<span class="id">Unshelve</span>. <span class="id"><a href="mathcomp.classical.functions.html#inv_funK">all</a></span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">norm_cvg0</span> <span class="id">f</span> : `|<span class="id">f</span> <span class="id">x</span>| @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; 0 -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof278')">Proof.</span></div>
<div class="proofscript" id="proof278">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">norm_cvg0P</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_composition_pseudometric</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_dist0</span> {<span class="id">U</span>} {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgZ">K</a></span>}<br/>
&nbsp;&nbsp;{<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">U</span>)} {<span class="id"><a name="f:1354">FF</a></span> : <span class="id">Filter</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_field.F">F</a></span>} (<span class="id">f</span> : <span class="id">U</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; `|<span class="id">f</span> <span class="id">x</span>|) @ <span class="id">F</span> --&gt; (0 : <span class="id">K</span>)<br/>
&nbsp;&nbsp;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; (0 : <span class="id">V</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof279')">Proof.</span></div>
<div class="proofscript" id="proof279">
 <span class="id">exact</span>: <span class="id">norm_cvg0</span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> `<span class="id">norm_cvg0</span>` <span class="id"><a href="mathcomp.analysis.topology.html#cvg">and</a></span> <span class="id">generalized</span> <span class="id">to</span> `<span class="id">pseudoMetricNormedZmodType</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_dist0</span> := <span class="id">__deprecated__cvg_dist0</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_field.F">cvg_composition_normed</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">normedModType</span> <span class="id"><a name="g:1367">K</a></span>} {<span class="id">T</span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">s</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">x</span> : <span class="id"><a name="g:1372">T</a></span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgZ</span> <span class="id">s</span> <span class="id">f</span> <span class="id">k</span> <span class="id">a</span> : <span class="id">s</span> @ <span class="id">F</span> --&gt; <span class="id">k</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">s</span> <span class="id">x</span> *: <span class="id">f</span> <span class="id">x</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; <span class="id">k</span> *: <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof280')">Proof.</span></div>
<div class="proofscript" id="proof280">
 <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">continuous2_cvg</span> =&gt; //; <span class="id">exact</span>: <span class="id">scale_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgZ</span> <span class="id">s</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">s</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">s</span> <span class="id">x</span> *: <span class="id">f</span> <span class="id">x</span>) @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof281')">Proof.</span></div>
<div class="proofscript" id="proof281">
 <span class="kwd">by</span> <span class="id">have</span> := <span class="id">cvgP</span> <span class="id">_</span> (<span class="id">cvgZ</span> <span class="id">_</span> <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgZl</span> <span class="id">s</span> <span class="id">k</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_composition_field">a</a></span> : <span class="id">s</span> @ <span class="id">F</span> --&gt; <span class="id">k</span> -&gt; <span class="id">s</span> <span class="id">x</span> *: <span class="id">a</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; <span class="id">k</span> *: <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof282')">Proof.</span></div>
<div class="proofscript" id="proof282">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvgZ</span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetricNormedZmodType">cvg_cst</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgZl</span> <span class="id">s</span> <span class="id">a</span> : <span class="id">cvg</span> (<span class="id">s</span> @ <span class="id">F</span>) -&gt; <span class="id"><a name="F:1379">cvg</a></span> ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">s</span> <span class="id">x</span> *: <span class="id">a</span>) @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof283')">Proof.</span></div>
<div class="proofscript" id="proof283">
 <span class="kwd">by</span> <span class="id">have</span> := <span class="id">cvgP</span> <span class="id">_</span> (<span class="id">cvgZl</span>  <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgZr</span> <span class="id">k</span> <span class="id">f</span> <span class="id">a</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">k</span> \*: <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">k</span> *: <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof284')">Proof.</span></div>
<div class="proofscript" id="proof284">
 <span class="id">apply</span>: <span class="id">cvgZ</span> =&gt; //; <span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_pseudometric.F">exact</a></span>: <span class="id">cvg_cst</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgZr</span> <span class="id">k</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">k</span> *: <span class="id">f</span>  @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof285')">Proof.</span></div>
<div class="proofscript" id="proof285">
 <span class="kwd">by</span> <span class="id">have</span> := <span class="id">cvgP</span> <span class="id">_</span> (<span class="id">cvgZr</span>  <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">is_cvgZrE</a></span> <span class="id">k</span> <span class="id">f</span> : <span class="id">k</span> != 0 -&gt; <span class="id">cvg</span> (<span class="id">k</span> *: <span class="id">f</span> @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof286')">Proof.</span></div>
<div class="proofscript" id="proof286">
<span class="id">move</span>=&gt; <span class="id">k_neq0</span>; <span class="id">rewrite</span> <span class="id">propeqE</span>; <span class="id">split</span> =&gt; [/(@<span class="id">cvgZr</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_pseudometric.F">k</a></span>^-1)|/(@<span class="id">cvgZr</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_pseudometric.F">k</a></span>)/<span class="id">cvgP</span>//].<br/>
<span class="kwd">by</span> <span class="id">under</span> [<span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_pseudometric.F">_</a></span> \*: <span class="id">_</span>]<span class="id">funext</span> =&gt; <span class="id">x</span> /= <span class="id">do</span> <span class="id">rewrite</span> <span class="id">scalerK</span>//; <span class="id">apply</span>: <span class="id">cvgP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_composition_normed</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="lim_norm">cvg_composition_field</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>}  {<span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_pseudometric.K">T</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">K</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgV</span> <span class="id">f</span> <span class="id">a</span> : <span class="id">a</span> != 0 -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">f</span>\^-1 @ <span class="id">F</span> --&gt; <span class="id">a</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof287')">Proof.</span></div>
<div class="proofscript" id="proof287">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">k_neq0</span> <span class="id">f_cvg</span>; <span class="id">apply</span>: <span class="id">continuous_cvg</span> =&gt; //; <span class="id">apply</span>: <span class="id">inv_continuous</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgVP</span> <span class="id">f</span> <span class="id">a</span> : <span class="id">a</span> != 0 -&gt; <span class="id">f</span>\^-1 @ <span class="id">F</span> --&gt; <span class="id">a</span>^-1 &lt;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_normed.T">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof288')">Proof.</span></div>
<div class="proofscript" id="proof288">
<span class="id">move</span>=&gt; <span class="id">aN0</span>; <span class="id">split</span>=&gt; /(<span class="id">cvgV</span> <span class="id">_</span>); <span class="id">last</span> <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invrK</span> <span class="id">invr_eq0</span> <span class="id">inv_funK</span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgV</span> <span class="id">f</span> : <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) != 0 -&gt; <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span>\^-1 @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof289')">Proof.</span></div>
<div class="proofscript" id="proof289">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvgV</span> <span class="id">cvf</span> /<span class="id">cvf</span> /<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="a:1399">cvgM</a></span> <span class="id">f</span> <span class="id">g</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; (<span class="id">f</span> \* <span class="id">g</span>) @ <span class="id">F</span> --&gt; <span class="id">a</span> * <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof290')">Proof.</span></div>
<div class="proofscript" id="proof290">
 <span class="id">exact</span>: <span class="id">cvgZ</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgMl</span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; (<span class="id">f</span> <span class="id">x</span> * <span class="id">b</span>) @[<span class="id">x</span> --&gt; <span class="id"><a name="f:1403">F</a></span>] --&gt; <span class="id">a</span> * <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof291')">Proof.</span></div>
<div class="proofscript" id="proof291">
 <span class="id">exact</span>: <span class="id">cvgZl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgMr</span> <span class="id">g</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; (<span class="id">a</span> * <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">x</a></span>) @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; <span class="id">a</span> * <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgZr">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof292')">Proof.</span></div>
<div class="proofscript" id="proof292">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_normed">cvgZr</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgM</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof293')">Proof.</span></div>
<div class="proofscript" id="proof293">
 <span class="id">exact</span>: <span class="id">is_cvgZ</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgMr</span> <span class="id">g</span> <span class="id"><a name="FF:1407">a</a></span> (<span class="id">f</span> := <span class="kwd">fun</span>=&gt; <span class="id">a</span>) : <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> \* <span class="id"><a href="mathcomp.analysis.normedtype.html#limit_composition_field.T">g</a></span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof294')">Proof.</span></div>
<div class="proofscript" id="proof294">
 <span class="id">exact</span>: <span class="id">is_cvgZr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgMrE</span> <span class="id">g</span> <span class="id">a</span> (<span class="id">f</span> := <span class="kwd">fun</span>=&gt; <span class="id">a</span>) : <span class="id">a</span> != 0 -&gt; <span class="id">cvg</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof295')">Proof.</span></div>
<div class="proofscript" id="proof295">
 <span class="id">exact</span>: <span class="id">is_cvgZrE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgMl</span> <span class="id">f</span> <span class="id">a</span> (<span class="id">g</span> := <span class="kwd">fun</span>=&gt; <span class="id">a</span>) : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof296')">Proof.</span></div>
<div class="proofscript" id="proof296">
<span class="id">move</span>=&gt; <span class="id">f_cvg</span>; <span class="id">have</span> -&gt; : <span class="id">f</span> \* <span class="id">g</span> = <span class="id">g</span> \* <span class="id">f</span> <span class="kwd">by</span> <span class="id"><a name="T:1411">apply</a></span>/<span class="id">funeqP</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#set">mulrC</a></span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">is_cvgMr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgMlE</span> <span class="id">f</span> <span class="id">a</span> (<span class="id">g</span> := <span class="kwd">fun</span>=&gt; <span class="id">a</span>) : <span class="id">a</span> != 0 -&gt; <span class="id">cvg</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof297')">Proof.</span></div>
<div class="proofscript" id="proof297">
<span class="id">move</span>=&gt; <span class="id">a_neq0</span>; <span class="id">have</span> -&gt; : <span class="id">f</span> \* <span class="id">g</span> = <span class="id">g</span> \* <span class="id">f</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">funeqP</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= <span class="id">mulrC</span>.<br/>
<span class="id">exact</span>: <span class="id">is_cvgMrE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_composition_field</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">limit_composition_pseudometric</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">pseudoMetricNormedZmodType</span> <span class="id">K</span>} {<span class="id">T</span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id"><a href="mathcomp.classical.functions.html#inv_funK">F</a></span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">s</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id"><a name="ProperFilterRealType">x</a></span> : <span class="id">T</span>) (<span class="id">a</span> : <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">limN</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">lim</span> (- <span class="id">f</span> @ <span class="id">F</span>) = - <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">lim</a></span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof298')">Proof.</span></div>
<div class="proofscript" id="proof298">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limD</span> <span class="id">f</span> <span class="id"><a name="cvgr_to_ge">g</a></span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id"><a name="a:1421">F</a></span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> + <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) + <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof299')">Proof.</span></div>
<div class="proofscript" id="proof299">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limB</span> <span class="id"><a name="a:1427">f</a></span> <span class="id"><a name="b:1428">g</a></span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> - <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) - <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof300')">Proof.</span></div>
<div class="proofscript" id="proof300">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgB</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ProperFilterRealType.F">lim_norm</a></span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#F">cvg</a></span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">lim</span> ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; `|<span class="id">f</span> <span class="id">x</span>| : <span class="id">K</span>) @ <span class="id">F</span>) = `|<span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>)|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof301')">Proof.</span></div>
<div class="proofscript" id="proof301">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvg_norm</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">limit_composition_pseudometric</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">limit_composition_normed</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>} {<span class="id">T</span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">s</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) (<span class="id">k</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#ProperFilterRealType.R">K</a></span>) (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">a</span> : <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">limZ</span> <span class="id">s</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id"><a name="n:1449">s</a></span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">lim</span> ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">s</span> <span class="id">x</span> *: <span class="id">f</span> <span class="id">x</span>) @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#ProperFilterRealType">s</a></span> @ <span class="id">F</span>) *: <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof302')">Proof.</span></div>
<div class="proofscript" id="proof302">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgZ</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limZl</span> <span class="id">s</span> <span class="id">a</span> : <span class="id">cvg</span> (<span class="id">s</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">lim</span> ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">s</span> <span class="id"><a name="cvg_gt_ge">x</a></span> *: <span class="id">a</span>) @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">s</span> @ <span class="id">F</span>) *: <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof303')">Proof.</span></div>
<div class="proofscript" id="proof303">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgZl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limZr</span> <span class="id">k</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">lim</span> (<span class="id">k</span> *: <span class="id">f</span> @ <span class="id">F</span>) = <span class="id">k</span> *: <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof304')">Proof.</span></div>
<div class="proofscript" id="proof304">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgZr</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">limit_composition_normed</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">limit_composition_field</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id"><a href="mathcomp.analysis.normedtype.html#local_continuity.V">T</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">K</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">limM</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">cvg</span> (<span class="id"><a href="mathcomp.analysis.topology.html#continuous">f</a></span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) * <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof305')">Proof.</span></div>
<div class="proofscript" id="proof305">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgM</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">limit_composition_field</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_composition_field_proper</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>}  {<span class="id"><a name="continuousB">T</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Context</span> (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">T</a></span> -&gt; <span class="id">K</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">K</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">limV</span> <span class="id">f</span> : <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) != 0 -&gt; <span class="id">lim</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgB">f</a></span>\^-1 @ <span class="id">F</span>) = (<span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>))^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof306')">Proof.</span></div>
<div class="proofscript" id="proof306">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">apply</a></span>: <span class="id">cvgV</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgNpoint</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgVE</span> <span class="id">f</span> : <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) != 0 -&gt; <span class="id">cvg</span> (<span class="id">f</span>\^-1 @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id"><a name="continuousZr">F</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof307')">Proof.</span></div>
<div class="proofscript" id="proof307">
<span class="id">move</span>=&gt; ?; <span class="id">apply</span>/<span class="id">propeqP</span>; <span class="id">split</span>=&gt; /<span class="id">is_cvgV</span>; <span class="id">last</span> <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">inv_funK</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">limV</span> ?<span class="id">invr_eq0</span>//.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_composition_field_proper</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ProperFilterRealType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> <span class="id">h</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_to_ge</span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; (\<span class="id">near</span> <span class="id">F</span>, <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">F</span>) -&gt; <span class="id">b</span> &lt;= <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof308')">Proof.</span></div>
<div class="proofscript" id="proof308">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]/(<span class="id">closed_cvg</span> <span class="id">_</span> (@<span class="id">closed_ge</span> <span class="id">_</span> <span class="id">b</span>))/[<span class="id">apply</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgr_to_le</span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; (\<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">F</span> &lt;= <span class="id">b</span>) -&gt; <span class="id">a</span> &lt;= <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof309')">Proof.</span></div>
<div class="proofscript" id="proof309">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]/(<span class="id">closed_cvg</span> <span class="id">_</span> (@<span class="id">closed_le</span> <span class="id">_</span> <span class="id">b</span>))/[<span class="id">apply</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limr_ge</span> <span class="id">x</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id"><a name="P:1484">F</a></span>) -&gt; (\<span class="id">near</span> <span class="id">F</span>, <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">F</span>) -&gt; <span class="id">x</span> &lt;= <span class="id">lim</span> (<span class="id"><a name="x:1485">f</a></span> @ <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ereal.R">F</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof310')">Proof.</span></div>
<div class="proofscript" id="proof310">
 <span class="id">exact</span>: <span class="id">cvgr_to_ge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limr_le</span> <span class="id">x</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; (\<span class="id">near</span> <span class="id">F</span>, <span class="id">x</span> &gt;= <span class="id">f</span> <span class="id">F</span>) -&gt; <span class="id">x</span> &gt;= <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof311')">Proof.</span></div>
<div class="proofscript" id="proof311">
 <span class="id">exact</span>: <span class="id">cvgr_to_le</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_gt_ge</span> (<span class="id">u</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) <span class="id">a</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;<span class="id">u</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; <span class="id">a</span> &lt; <span class="id">b</span> -&gt; \<span class="kwd">forall</span> <span class="id">n</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">a</span> &lt;= <span class="id">u</span> <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof312')">Proof.</span></div>
<div class="proofscript" id="proof312">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvgr_ge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__cvg_lt_le</span> (<span class="id">u</span> : <span class="id">T</span> -&gt; <span class="id">R</span>) <span class="id">c</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;<span class="id">u</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; <span class="id">b</span> &lt; <span class="id">c</span> -&gt; \<span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ereal.P">n</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">u</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_ereal.P">n</a></span> &lt;= <span class="id">c</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof313')">Proof.</span></div>
<div class="proofscript" id="proof313">
 <span class="kwd">by</span> <span class="id"><a name="x:1493">move</a></span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvgr_le</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ProperFilterRealType</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> `<span class="id">cvgr_ge</span>` <span class="id">and</span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">a</span> `<span class="id">Filter</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_gt_ge</span> := <span class="id">__deprecated__cvg_gt_ge</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> `<span class="id">cvgr_le</span>` <span class="id">and</span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">a</span> `<span class="id">Filter</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">cvg_lt_le_</span>:= <span class="id">__deprecated__cvg_lt_le</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">local_continuity</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>} {<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>} {<span class="id">T</span> : <span class="id">topologicalType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) (<span class="id">s</span> <span class="id">t</span> : <span class="id">T</span> -&gt; <span class="id">K</span>) (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">k</span> : <span class="id">K</span>) (<span class="id">a</span> : <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousN</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">V</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; - <span class="id">f</span> <span class="id">x</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof314')">Proof.</span></div>
<div class="proofscript" id="proof314">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id"><a href="mathcomp.analysis.normedtype.html#F">apply</a></span>: <span class="id">cvgN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousD</span> <span class="id">f</span> <span class="id">g</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="id"><a name="cvg_fin.limit">f</a></span> + <span class="id">g</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof315')">Proof.</span></div>
<div class="proofscript" id="proof315">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_cont</span> <span class="id">g_cont</span>; <span class="id">apply</span>: <span class="id">cvgD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousB</span> <span class="id">f</span> <span class="id">g</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="id">f</span> - <span class="id">g</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof316')">Proof.</span></div>
<div class="proofscript" id="proof316">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_cont</span> <span class="id">g_cont</span>; <span class="id">apply</span>: <span class="id">cvgB</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousZ</span> <span class="id">s</span> <span class="id">f</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">s</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">s</span> <span class="id">x</span> *: <span class="id">f</span> <span class="id">x</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof317')">Proof.</span></div>
<div class="proofscript" id="proof317">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>: <span class="id">cvgZ</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_EFin">continuousZr</a></span> <span class="id">f</span> <span class="id">k</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="id">k</span> \*: <span class="id">f</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof318')">Proof.</span></div>
<div class="proofscript" id="proof318">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvgZr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousZl</span> <span class="id">s</span> <span class="id">a</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_fin.limit.F">s</a></span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; <span class="id">s</span> <span class="id">z</span> *: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_is_fine">a</a></span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof319')">Proof.</span></div>
<div class="proofscript" id="proof319">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">cvgZl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousM</span> <span class="id">s</span> <span class="id">t</span> <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">s</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">t</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="id">s</span> * <span class="id">t</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof320')">Proof.</span></div>
<div class="proofscript" id="proof320">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_cont</span> <span class="id">g_cont</span>; <span class="id">apply</span>: <span class="id">cvgM</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousV</span> <span class="id">s</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_fin.R">s</a></span> <span class="id">x</span> != 0 -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">s</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; (<span class="id">s</span> <span class="id">x</span>)^-1%<span class="id">R</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof321')">Proof.</span></div>
<div class="proofscript" id="proof321">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">cvgV</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">local_continuity</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">nbhs_ereal</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numFieldType</span>} (<span class="id">P</span> : \<span class="id">bar</span> <span class="id">R</span> -&gt; <span class="kwd">Prop</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_EFin</span> (<span class="id">x</span> : <span class="id">R</span>) : (\<span class="kwd">forall</span> <span class="id">y</span> \<span class="id">near</span> <span class="id">x</span>%:<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_fin">E</a></span>, <span class="id">P</span> <span class="id">y</span>) &lt;-&gt; \<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>%:<span class="id"><a name="T':1521">E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof322')">Proof.</span></div>
<div class="proofscript" id="proof322">
 <span class="id">done</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ereal_pinfty</span> :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> +<span class="id">oo</span>%<span class="id">E</span>, <span class="id">P</span> <span class="id">x</span>) &lt;-&gt; [/\ <span class="id">P</span> +<span class="id">oo</span>%<span class="id">E</span> &amp; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="id">P</span> <span class="id">x</span>%:<span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof323')">Proof.</span></div>
<div class="proofscript" id="proof323">
<span class="id">split</span>=&gt; [|[<span class="id">Py</span>]] [<span class="id">x</span> [<span class="id">xr</span> <span class="id">Px</span>]]; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span>=&gt; // -[<span class="id">y</span>||]//; <span class="id">apply</span>: <span class="id">Px</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [|<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span>=&gt; // <span class="id">y</span> <span class="id">xy</span>]; <span class="id">apply</span>: <span class="id">Px</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_ereal_ninfty</span> :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> -<span class="id">oo</span>%<span class="id">E</span>, <span class="id">P</span> <span class="id">x</span>) &lt;-&gt; [/\ <span class="id">P</span> -<span class="id">oo</span>%<span class="id">E</span> &amp; \<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> -<span class="id"><a name="F:1533">oo</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#set">P</a></span> <span class="id">x</span>%:<span class="id"><a href="mathcomp.classical.classical_sets.html#set">E</a></span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof324')">Proof.</span></div>
<div class="proofscript" id="proof324">
<span class="id">split</span>=&gt; [|[<span class="id">Py</span>]] [<span class="id">x</span> [<span class="id">xr</span> <span class="id">Px</span>]]; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span>=&gt; // -[<span class="id">y</span>||]//; <span class="id">apply</span>: <span class="id">Px</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [|<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span>=&gt; // <span class="id">y</span> <span class="id">xy</span>]; <span class="id"><a name="a:1538">apply</a></span>: <span class="id">Px</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id">nbhs_ereal</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_fin</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numFieldType</span>}.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">filter</span>.<br/>
<span class="kwd">Context</span> {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> \<span class="id">bar</span> <span class="id">R</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_fcvg</span> <span class="id">a</span> : <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span> -&gt; <span class="id">fine</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof325')">Proof.</span></div>
<div class="proofscript" id="proof325">
<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">_</span>)/= <span class="id">Fa</span>; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span>=&gt; // <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>]; <span class="id"><a href="mathcomp.analysis.topology.html#near">rewrite</a></span> <span class="id">near_simpl</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">Fa</span>; <span class="id">apply</span>/<span class="id">nbhs_EFin</span> =&gt; /=; <span class="id">apply</span>: (@<span class="id">cvgr_dist_lt</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs</span> <span class="id">a</span>)).<br/>
<span class="comment">(*&nbsp;BUG:&nbsp;using&nbsp;cvgr_dist_lt&nbsp;without&nbsp;(nbhs&nbsp;_)&nbsp;expands&nbsp;the&nbsp;definition&nbsp;of&nbsp;nbhs,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;recognized&nbsp;as&nbsp;a&nbsp;filter&nbsp;anymore&nbsp;*)</span><br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fcvg_is_fine</span> <span class="id">a</span> : <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span> -&gt; \<span class="id">near</span> <span class="id">F</span>, <span class="id">F</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof326')">Proof.</span></div>
<div class="proofscript" id="proof326">
 <span class="kwd">by</span> <span class="id">apply</span>; <span class="id">apply</span>/<span class="id">nbhs_EFin</span>; <span class="id">near</span>=&gt; <span class="id">x</span>. <span class="id">Unshelve</span>. <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPleNy">all</a></span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">filter</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">limit</span>.<br/>
<span class="kwd">Context</span> {<span class="id">I</span> : <span class="kwd">Type</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_subr_addr">I</a></span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_cvg</span> <span class="id">a</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span> -&gt; <span class="id">fine</span> \<span class="id">o</span> <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof327')">Proof.</span></div>
<div class="proofscript" id="proof327">
 <span class="id">exact</span>: <span class="id">fine_fcvg</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_is_fine</span> <span class="id">a</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span> -&gt; \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">F</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_dist_lt">fin_num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof328')">Proof.</span></div>
<div class="proofscript" id="proof328">
 <span class="id">exact</span>: <span class="id">fcvg_is_fine</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_EFin</span> <span class="id">a</span> : (\<span class="id">near</span> <span class="id">F</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.F">f</a></span> <span class="id">F</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt; <span class="id">fine</span> \<span class="id">o</span> <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof329')">Proof.</span></div>
<div class="proofscript" id="proof329">
<span class="id">move</span>=&gt; <span class="id">Ffin</span> <span class="id">Fa</span> <span class="id">P</span>/= /<span class="id">nbhs_EFin</span> /<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde0">Fa</a></span>; <span class="id">rewrite</span> !<span class="id">near_simpl</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS2</span> <span class="id">Ffin</span> =&gt; <span class="id">x</span> /<span class="id">fineK</span>-&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">fine_cvgP</span> <span class="id">a</span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span> &lt;-&gt; (\<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">F</span> \<span class="id">is</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPle">fin_num</a></span>) /\ <span class="id">fine</span> \<span class="id">o</span> <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof330')">Proof.</span></div>
<div class="proofscript" id="proof330">
<span class="kwd">by</span> <span class="id">split</span>;[<span class="id">split</span>;[<span class="id">exact</span>: (@<span class="id">cvg_is_fine</span> <span class="id">a</span>)|<span class="id">exact</span>: <span class="id">fine_cvg</span>]|<span class="id">case</span>; <span class="id">apply</span>: <span class="id">cvg_EFin</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">neq0_fine_cvgP</span> <span class="id">a</span> : <span class="id">a</span> != 0 -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>%:<span class="id">E</span> &lt;-&gt; <span class="id">fine</span> \<span class="id">o</span> <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof331')">Proof.</span></div>
<div class="proofscript" id="proof331">
<span class="id">move</span>=&gt; <span class="id">a_neq0</span>; <span class="id">split</span>=&gt; [|<span class="id">Fa</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id">fine_cvg</span>.<br/>
<span class="id">apply</span>: <span class="id">cvg_EFin</span>=&gt; //; <span class="id">near</span> (0 : <span class="id">R</span>)^'+ =&gt; <span class="id">e</span>.<br/>
<span class="id">have</span> <span class="id">lea</span> : <span class="id">e</span> &lt;= `|<span class="id">a</span>| <span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>: <span class="id">nbhs_right_le</span>; <span class="id">rewrite</span> <span class="id">normr_gt0</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">have</span> : `|<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinD">a</a></span> - <span class="id">fine</span> (<span class="id">f</span> <span class="id">x</span>)| &lt; <span class="id">e</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">f</span>=&gt; //=; <span class="id">rewrite</span> <span class="id">subr0</span>; <span class="id">apply</span>: <span class="id">contra_ltT</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">limit</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">cvg_fin</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_cvg</span> (<span class="id">T</span> <span class="id">T</span>' : <span class="kwd">Type</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">T</span>') (<span class="id">x</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>')) :<br/>
&nbsp;&nbsp;<span class="id">f</span> =1 <span class="id">g</span> -&gt; (<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">x</span>) = (<span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof332')">Proof.</span></div>
<div class="proofscript" id="proof332">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">funext</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eq_is_cvg</span> (<span class="id">T</span> <span class="id">T</span>' : <span class="kwd">Type</span>) (<span class="id">fT</span> : <span class="id">filteredType</span> <span class="id">T</span>') (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)) (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">T</span>') :<br/>
&nbsp;&nbsp;<span class="id">f</span> =1 <span class="id">g</span> -&gt; [<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) <span class="kwd">in</span> <span class="id">fT</span>] = [<span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) <span class="kwd">in</span> <span class="id">fT</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof333')">Proof.</span></div>
<div class="proofscript" id="proof333">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">funext</span>-&gt;. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">ecvg_realFieldType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">I</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">I</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">F</span>} {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id">u</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">v</a></span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeD</span> <span class="id">f</span> <span class="id">g</span> <span class="id">a</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;<span class="id">a</span> +? <span class="id">b</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; <span class="id">f</span> \+ <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> + <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof334')">Proof.</span></div>
<div class="proofscript" id="proof334">
<span class="id">have</span> <span class="id">yE</span> <span class="id">u</span> <span class="id">v</span> <span class="id">x</span> : <span class="id">u</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="id"><a name="cvge_sub0">v</a></span> @ <span class="id">F</span> --&gt; <span class="id"><a name="f:1562">x</a></span>%:<span class="id"><a name="k:1563">E</a></span> -&gt; <span class="id">u</span> \+ <span class="id">v</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">cvgeyPge</span>/= <span class="id">foo</span> /<span class="id">fine_cvgP</span>[<span class="id">Fg</span> <span class="id">gb</span>]; <span class="id">apply</span>/<span class="id">cvgeyPgey</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">wrap</span>[//|<span class="id">Fgn</span>] := <span class="id">near</span> <span class="id">Fg</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">lee_subl_addr</span>// (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">A</span> - (<span class="id">x</span> - 1))%:<span class="id">E</span>)//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id">EFinB</span> <span class="id">lee_sub</span>// <span class="id">lee_subl_addr</span>// -[<span class="id">v</span> <span class="id">n</span>]<span class="id">fineK</span>// -<span class="id">EFinD</span> <span class="id">lee_fin</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_distl_addr</span>// <span class="id">ltW</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>.<br/>
<span class="id">have</span> <span class="id">NyE</span> <span class="id">u</span> <span class="id">v</span> <span class="id">x</span> : <span class="id">u</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">v</span> @ <span class="id">F</span> --&gt; <span class="id">x</span>%:<span class="id">E</span> -&gt; <span class="id">u</span> \+ <span class="id">v</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">cvgeNyPle</span>/= <span class="id">foo</span> /<span class="id">fine_cvgP</span> -[<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.R">Fg</a></span> <span class="id">gb</span>]; <span class="id">apply</span>/<span class="id">cvgeNyPleNy</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">wrap</span>[//|<span class="id">Fgn</span>] := <span class="id">near</span> <span class="id">Fg</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">lee_subr_addr</span>// (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">A</span> - (<span class="id">x</span> + 1))%:<span class="id">E</span>)//; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinN">first</a></span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id">EFinB</span> ?<span class="id">EFinD</span> <span class="id">lee_sub</span>// -[<span class="id">v</span> <span class="id">n</span>]<span class="id">fineK</span>// -<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abseN">EFinD</a></span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_abs">lee_fin</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_distlC_addr</span>// <span class="id">ltW</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>.<br/>
<span class="id">have</span> <span class="id">yyE</span> <span class="id">u</span> <span class="id">v</span> : <span class="id">u</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="id">v</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="id">u</span> \+ <span class="id">v</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">cvgeyPge</span> <span class="id">foo</span> /<span class="id">cvgeyPge</span> <span class="id">goo</span>; <span class="id">apply</span>/<span class="id">cvgeyPge</span> =&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">leLHS</span>]<span class="id">adde0</span> <span class="id">lee_add</span>//; <span class="id">near</span>: <span class="id">y</span>; [<span class="id">apply</span>: <span class="id">foo</span>|<span class="id">apply</span>: <span class="id">goo</span>].<br/>
<span class="id">have</span> <span class="id">NyNyE</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg">u</a></span> <span class="id">v</span> : <span class="id">u</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">v</span> @ <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.F">F</a></span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">u</span> \+ <span class="id">v</span> @ <span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">F</a></span> --&gt; -<span class="id">oo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">cvgeNyPle</span> <span class="id">foo</span> /<span class="id">cvgeNyPle</span> <span class="id">goo</span>; <span class="id">apply</span>/<span class="id">cvgeNyPle</span> =&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">leRHS</span>]<span class="id">adde0</span> <span class="id">lee_add</span>//; <span class="id">near</span>: <span class="id">y</span>; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNP">foo</a></span>|<span class="id">apply</span>: <span class="id">goo</span>].<br/>
<span class="id">have</span> <span class="id">addfC</span> <span class="id">u</span> <span class="id">v</span> : <span class="id">u</span> \+ <span class="id">v</span> = <span class="id">v</span> \+ <span class="id">u</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">funeqP</span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /= <span class="id">addeC</span>.<br/>
<span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> =&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] //= <span class="id">_</span>; <span class="id">rewrite</span> ?(<span class="id">addey</span>, <span class="id">addye</span>, <span class="id">addeNy</span>, <span class="id">addNye</span>)//=;<br/>
&nbsp;&nbsp;<span class="id">do</span> ?<span class="kwd">by</span> [<span class="id">apply</span>: <span class="id">yE</span>|<span class="id">apply</span>: <span class="id">NyE</span>|<span class="id">apply</span>: <span class="id">yyE</span>|<span class="id">apply</span>: <span class="id">NyNyE</span>].<br/>
- <span class="id">move</span>=&gt; /<span class="id">fine_cvgP</span>[<span class="id">Ff</span> <span class="id">fa</span>] /<span class="id">fine_cvgP</span>[<span class="id">Fg</span> <span class="id">ga</span>]; <span class="id">rewrite</span> -<span class="id">EFinD</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mul0e">apply</a></span>/<span class="id">fine_cvgP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span> <span class="id">do</span> [<span class="id">rewrite</span> <span class="id">fin_numD</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funeqP">andP</a></span>; <span class="id">split</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">cvg_trans</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">_</a></span> ((<span class="id">fine</span> \<span class="id">o</span> <span class="id">f</span>) \+ (<span class="id">fine</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">g</a></span>) @ <span class="id">F</span>))%<span class="id">R</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">cvgD</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">near_eq_cvg</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">fineD</span>//.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">addfC</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_EFin">yE</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]; <span class="id">rewrite</span> <span class="id">addfC</span>; <span class="id">apply</span>: <span class="id">NyE</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeN</span> <span class="id">f</span> <span class="id">x</span> : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">x</span> -&gt; - <span class="id">f</span> <span class="id">x</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; - <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof335')">Proof.</span></div>
<div class="proofscript" id="proof335">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id">continuous_cvg</span> =&gt; //; <span class="id">exact</span>: <span class="id">oppe_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeNP</span> <span class="id">f</span> <span class="id">a</span> : - <span class="id">f</span> <span class="id">x</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; - <span class="id">a</span> &lt;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof336')">Proof.</span></div>
<div class="proofscript" id="proof336">
<span class="kwd">by</span> <span class="id">split</span>=&gt; /<span class="id">cvgeN</span>//; <span class="id">rewrite</span> <span class="id">oppeK</span>//; <span class="id">under</span> <span class="id">eq_cvg</span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">oppeK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeB</span> <span class="id">f</span> <span class="id">g</span> <span class="id">a</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;<span class="id">a</span> +? - <span class="id">b</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">b</a></span> -&gt; <span class="id">f</span> \- <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> - <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof337')">Proof.</span></div>
<div class="proofscript" id="proof337">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">ab</span> <span class="id">fa</span> <span class="id">gb</span>; <span class="id">apply</span>: <span class="id">cvgeD</span> =&gt; //; <span class="id">exact</span>: <span class="id">cvgeN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvge_sub0</span> <span class="id">f</span> (<span class="id">k</span> : \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">k</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; (<span class="kwd">fun</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#EFinM">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> - <span class="id">k</span>) @ <span class="id">F</span> --&gt; 0 &lt;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">k</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof338')">Proof.</span></div>
<div class="proofscript" id="proof338">
<span class="id">move</span>=&gt; <span class="id">kfin</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">cvgeD</span>-/(<span class="id">_</span> (<span class="id">cst</span> <span class="id">k</span>) <span class="id">_</span> <span class="id">isT</span> (<span class="id">cvg_cst</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">add0e</span>; <span class="id">under</span> <span class="id">eq_fun</span> =&gt; <span class="id">x</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">subeK</span>//.<br/>
<span class="id">move</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp">k</a></span> <span class="id">kfin</span> =&gt; [<span class="id">k</span> <span class="id">_</span> <span class="id">fk</span>| |]//; <span class="id">rewrite</span> -(@<span class="id">subee</span> <span class="id">_</span> <span class="id">k</span>%:<span class="id">E</span>)//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a name="f:1579">cvgeB</a></span> =&gt; //; <span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">abse_continuous</span> : <span class="id">continuous</span> (@<span class="id">abse</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof339')">Proof.</span></div>
<div class="proofscript" id="proof339">
<span class="id">case</span>=&gt; [<span class="id">r</span>|<span class="id">A</span> /= [<span class="id">r</span> [<span class="id">rreal</span> <span class="id">rA</span>]]|<span class="id">A</span> /= [<span class="id">r</span> [<span class="id">rreal</span> <span class="id">rA</span>]]]/=.<br/>
- <span class="id">exact</span>/(<span class="id">cvg_comp</span> (@<span class="id">norm_continuous</span> <span class="id">_</span> [<span class="id">normedModType</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.F">R</a></span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>] <span class="id">r</span>)).<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>; <span class="id">split</span> =&gt; // <span class="id">y</span> <span class="id">ry</span>; <span class="id">apply</span>: <span class="id">rA</span>; <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">ry</span>)// <span class="id">lee_abs</span>.<br/>
- <span class="kwd">exists</span> (- <span class="id">r</span>)%<span class="id">R</span>; <span class="id">rewrite</span> <span class="id">realN</span>; <span class="id">split</span> =&gt; // <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">EFinN</span> -<span class="id">lte_oppr</span> =&gt; <span class="id"><a name="n:1590">yr</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.F">rA</a></span>; <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">yr</span>)// -<span class="id">abseN</span> <span class="id">lee_abs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_abse</span> <span class="id">f</span> (<span class="id">a</span> : \<span class="id">bar</span> <span class="id">R</span>) : <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>|%<span class="id">E</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>] --&gt; `|<span class="id">a</span>|%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof340')">Proof.</span></div>
<div class="proofscript" id="proof340">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">continuous_cvg</span> =&gt; //; <span class="id">apply</span>: <span class="id">abse_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvg_abse</span> (<span class="id">f</span> : <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id"><a href="mathcomp.analysis.signed.html#gt0">R</a></span>) : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (`|<span class="id">f</span> <span class="id">x</span>|%<span class="id">E</span> @[<span class="id">x</span> --&gt; <span class="id">F</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof341')">Proof.</span></div>
<div class="proofscript" id="proof341">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id">cvg_abse</span>/<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgeN</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#contract0">cvg</a></span> (\- <span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof342')">Proof.</span></div>
<div class="proofscript" id="proof342">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvg_ex</span>[<span class="id">l</span> <span class="id">fl</span>]; <span class="id">apply</span>: (<span class="id">cvgP</span> (- <span class="id">l</span>)); <span class="id">exact</span>: <span class="id">cvgeN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgeNE</span> <span class="id">f</span> : <span class="id">cvg</span> (\- <span class="id">f</span> @ <span class="id">F</span>) = <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof343')">Proof.</span></div>
<div class="proofscript" id="proof343">
<span class="id">rewrite</span> <span class="id">propeqE</span>; <span class="id">split</span>=&gt; /<span class="id">cvgeNP</span>/<span class="id">cvgP</span>//.<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_is_cvg</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">oppeK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mule_continuous</span> (<span class="id">r</span> : <span class="id">R</span>) : <span class="id">continuous</span> (<span class="id">mule</span> <span class="id">r</span>%:<span class="id">E</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof344')">Proof.</span></div>
<div class="proofscript" id="proof344">
<span class="id">wlog</span> <span class="id">r0</span> : <span class="id">r</span> / (<span class="id">r</span> &gt; 0)%<span class="id">R</span> =&gt; [<span class="id">hwlog</span>|].<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>|-&gt;] := <span class="id">ltrgtP</span> <span class="id">r</span> 0; <span class="id">do</span> ?<span class="id">exact</span>: <span class="id">hwlog</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">mul0e</span>; <span class="id">apply</span>: <span class="id">cvg_near_cst</span>; <span class="id">near</span>=&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">mul0e</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : *%<span class="id">E</span> <span class="id">r</span>%:<span class="id">E</span> = \- ( *%<span class="id">E</span> (- <span class="id">r</span>)%:<span class="id">E</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">funeqP</span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">EFinN</span> <span class="id">mulNe</span> <span class="id">oppeK</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>: (<span class="id">continuous_comp</span> (<span class="id">hwlog</span> (- <span class="id">r</span>)%<span class="id">R</span> <span class="id">_</span> <span class="id">_</span>)); <span class="id">rewrite</span> ?<span class="id">oppr_gt0</span>//.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">oppe_continuous</span>.<br/>
<span class="id">move</span>=&gt; [<span class="id">s</span>||]/=.<br/>
- <span class="id">rewrite</span> -<span class="id">EFinM</span>; <span class="id">apply</span>: <span class="id">cvg_EFin</span> =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">nbhs_EFin</span>; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">fin_numM</span>//.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPge">move</a></span>=&gt; <span class="id">P</span> /= <span class="id">Prs</span>; <span class="id">apply</span>/<span class="id">nbhs_EFin</span>=&gt; //=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">near_fun</span> =&gt; //=; <span class="id">apply</span>: <span class="id">continuousM</span> =&gt; //=; <span class="id">apply</span>: <span class="id">cvg_cst</span>.<br/>
- <span class="id">rewrite</span> <span class="id">muleC</span> /<span class="id">mule</span>/= <span class="id">eqe</span> <span class="id">gt_eqF</span>// <span class="id">lte_fin</span> <span class="id">r0</span> =&gt; <span class="id">A</span> [<span class="id">u</span> [<span class="id">realu</span> <span class="id">uA</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">r</span>^-1 * <span class="id">u</span>)%<span class="id">R</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">realM</span>// <span class="id">realV</span> <span class="id">realE</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">rux</span>; <span class="id">apply</span>: <span class="id">uA</span>; <span class="id">move</span>: <span class="id">rux</span>; <span class="id">rewrite</span> <span class="id">EFinM</span> <span class="id">lte_pdivr_mull</span>.<br/>
- <span class="id">rewrite</span> <span class="id">muleC</span> /<span class="id">mule</span>/= <span class="id">eqe</span> <span class="id">gt_eqF</span>// <span class="id">lte_fin</span> <span class="id">r0</span> =&gt; <span class="id">A</span> [<span class="id">u</span> [<span class="id">realu</span> <span class="id">uA</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">r</span>^-1 * <span class="id">u</span>)%<span class="id">R</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">realM</span>// <span class="id">realV</span> <span class="id">realE</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">xru</span>; <span class="id">apply</span>: <span class="id">uA</span>; <span class="id">move</span>: <span class="id">xru</span>; <span class="id">rewrite</span> <span class="id">EFinM</span> <span class="id">lte_pdivl_mull</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeMl</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.F">x</a></span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">x</span> -&gt; (<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">y</span> * <span class="id">f</span> <span class="id">n</span>) @ <span class="id">F</span> --&gt; <span class="id">y</span> * <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof345')">Proof.</span></div>
<div class="proofscript" id="proof345">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id">y</span> =&gt; [<span class="id">r</span>| |]// <span class="id">_</span> /<span class="id">cvg_comp</span>; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id">mule_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgeMl</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#oppeK">y</a></span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> ((<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">y</span> * <span class="id">f</span> <span class="id">n</span>) @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof346')">Proof.</span></div>
<div class="proofscript" id="proof346">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id"><a name="f:1603">fy</a></span> /(<span class="id">cvgeMl</span> <span class="id">fy</span>)/<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeMr</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">x</span> -&gt; (<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">f</span> <span class="id">n</span> * <span class="id">y</span>) @ <span class="id">F</span> --&gt; <span class="id">x</span> * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof347')">Proof.</span></div>
<div class="proofscript" id="proof347">
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: <span class="id">cvgeMl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgeMr</span> <span class="id">f</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> ((<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">f</span> <span class="id">n</span> * <span class="id">y</span>) @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof348')">Proof.</span></div>
<div class="proofscript" id="proof348">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fy</span> /(<span class="id">cvgeMr</span> <span class="id">fy</span>)/<span class="id">cvgP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType.F">cvg_abse0P</a></span> <span class="id">f</span> : <span class="id">abse</span> \<span class="id">o</span> <span class="id">f</span> @ <span class="id">F</span> --&gt; 0 &lt;-&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof349')">Proof.</span></div>
<div class="proofscript" id="proof349">
<span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvg_abse</span>; <span class="id">rewrite</span> <span class="id">abse0</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">cvg_ballP</span> <span class="id">f0</span>; <span class="id">apply</span>/<span class="id">cvg_ballP</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>].<br/>
<span class="id">have</span> := !! <span class="id">f0</span> <span class="id">_</span> (<span class="id">gt0</span> <span class="id">e</span>); <span class="id">rewrite</span> !<span class="id">near_simpl</span> =&gt; <span class="id">absf0</span>; <span class="id">rewrite</span> <span class="id">near_simpl</span>.<br/>
<span class="id">apply</span>: <span class="id">filterS</span> <span class="id">absf0</span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> /<span class="id">ball</span>/= /<span class="id">ereal_ball</span> !<span class="id">contract0</span> !<span class="id">sub0r</span> !<span class="id">normrN</span>.<br/>
<span class="id">have</span> [<span class="id">fx0</span>|<span class="id">fx0</span>] := <span class="id">leP</span> 0 (<span class="id">f</span> <span class="id">x</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gee0_abs</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lte0_abs</span> <span class="id">fx0</span>) <span class="id">contractN</span> <span class="id">normrN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgeM_gt0_pinfty</span> <span class="id">f</span> <span class="id">g</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">b</span>)%<span class="id">R</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span>%:<span class="id">E</span> -&gt; <span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof350')">Proof.</span></div>
<div class="proofscript" id="proof350">
<span class="id">move</span>=&gt; <span class="id">b_gt0</span> /<span class="id">cvgeyPge</span> <span class="id">foo</span> /<span class="id">fine_cvgP</span>[<span class="id">gfin</span> <span class="id">gb</span>]; <span class="id">apply</span>/<span class="id">cvgeyPgey</span>.<br/>
<span class="id">near</span> (0%<span class="id">R</span> : <span class="id">R</span>)^'+ =&gt; <span class="id">e</span>; <span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulN1e">near</a></span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">n</span> * <span class="id">e</span>%:<span class="id">E</span>))// ?<span class="id">lee_pmul</span>// ?<span class="id">lee_fin</span>//.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lee_pdivr_mulr</span> ?<span class="id">divr_gt0</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">foo</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> 1) ?<span class="id">lee_fin</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">foo</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id">fineK</span> <span class="id">_</span> (<span class="id">g</span> <span class="id">n</span>)) ?<span class="id">lee_fin</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id">gfin</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: (<span class="id">cvgr_ge</span> <span class="id">b</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgeM_lt0_pinfty</span>  <span class="id">f</span> <span class="id">g</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;(<span class="id">b</span> &lt; 0)%<span class="id">R</span> -&gt; <span class="id">f</span> @ <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">F</a></span> --&gt; +<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span>%:<span class="id">E</span> -&gt; <span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof351')">Proof.</span></div>
<div class="proofscript" id="proof351">
<span class="id">move</span>=&gt; <span class="id">b0</span> /<span class="id">cvgeyPge</span> <span class="id">foo</span> /<span class="id">fine_cvgP</span> -[<span class="id">gfin</span> <span class="id">gb</span>]; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#muleC">apply</a></span>/<span class="id">cvgeNyPleNy</span>.<br/>
<span class="id">near</span> (0%<span class="id">R</span> : <span class="id">R</span>)^'+ =&gt; <span class="id">e</span>; <span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mule_def">near</a></span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> -<span class="id">leeN2</span> -<span class="id">muleN</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">n</span> * <span class="id">e</span>%:<span class="id">E</span>))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lee_pdivr_mulr</span> ?<span class="id">mulr_gt0</span> ?<span class="id">oppr_gt0</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">foo</span>.<br/>
<span class="id">rewrite</span> <span class="id">lee_pmul</span> ?<span class="id">lee_fin</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeyPge">rewrite</a></span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> 1) ?<span class="id">lee_fin</span>//; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#mulyy">near</a></span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">foo</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id">fineK</span> <span class="id">_</span> (<span class="id">g</span> <span class="id">n</span>)) ?<span class="id">lee_fin</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id">gfin</span>.<br/>
<span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_pmul">cvgr_ge</a></span> (- <span class="id">b</span>)); <span class="id">rewrite</span> 1?<span class="id">cvgNP</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>: <span class="id">nbhs_right_lt</span>; <span class="id">rewrite</span> <span class="id">oppr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgeM_gt0_ninfty</span> <span class="id">f</span> <span class="id">g</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;(0 &lt; <span class="id">b</span>)%<span class="id">R</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span>%:<span class="id">E</span> -&gt; <span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof352')">Proof.</span></div>
<div class="proofscript" id="proof352">
<span class="id">move</span>=&gt; <span class="id">b0</span> <span class="id">foo</span> <span class="id">gb</span>; <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_nemull">rewrite</a></span> -<span class="id">muleNN</span>.<br/>
<span class="id">apply</span>: (@<span class="id">cvgeM_lt0_pinfty</span> <span class="id">_</span> <span class="id">_</span> (- <span class="id">b</span>)%<span class="id">R</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppr_lt0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">oppeK</span> +<span class="id">oo</span>); <span class="id">apply</span>: <span class="id">cvgeN</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinN</span>; <span class="id">apply</span>: <span class="id">cvgeN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">cvgeM_lt0_ninfty</span> <span class="id">f</span> <span class="id">g</span> <span class="id">b</span> :<br/>
&nbsp;&nbsp;(<span class="id">b</span> &lt; 0)%<span class="id">R</span> -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span>%:<span class="id">E</span> -&gt; <span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span> --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof353')">Proof.</span></div>
<div class="proofscript" id="proof353">
<span class="id">move</span>=&gt; <span class="id">b0</span> <span class="id">foo</span> <span class="id">gb</span>; <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">muleNN</span>.<br/>
<span class="id">apply</span>: (@<span class="id">cvgeM_gt0_pinfty</span> <span class="id">_</span> <span class="id">_</span> (- <span class="id">b</span>)%<span class="id">R</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppr_gt0</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">oppeK</span> +<span class="id">oo</span>); <span class="id">apply</span>: <span class="id">cvgeN</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EFinN</span>; <span class="id">apply</span>: <span class="id">cvgeN</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgeM</span> <span class="id">f</span> <span class="id">g</span> (<span class="id">a</span> <span class="id">b</span> : \<span class="id">bar</span> <span class="id">R</span>) :<br/>
&nbsp;<span class="id">a</span> *? <span class="id">b</span> -&gt; <span class="id">f</span> @ <span class="id"><a name="T:1611">F</a></span> --&gt; <span class="id">a</span> -&gt; <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">b</span> -&gt; <span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> * <span class="id"><a name="f:1612">b</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof354')">Proof.</span></div>
<div class="proofscript" id="proof354">
<span class="id">move</span>=&gt; [:<span class="id">apoo</span>] [:<span class="id">bnoo</span>] [:<span class="id">poopoo</span>] [:<span class="id">poonoo</span>]; <span class="id">move</span>: <span class="id">a</span> <span class="id">b</span> =&gt; [<span class="id">a</span>| |] [<span class="id">b</span>| |] //.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span> /<span class="id">fine_cvgP</span>[<span class="id">finf</span> <span class="id">fa</span>] /<span class="id">fine_cvgP</span>[<span class="id">fing</span> <span class="id">gb</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">fine_cvgP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#minr_absE">near</a></span> <span class="id">do</span> <span class="id">apply</span>: <span class="id">fin_numM</span>; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">finf</a></span> | <span class="id">apply</span>: <span class="id">fing</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">cvg_trans</span> <span class="id">_</span> (((<span class="id">fine</span> \<span class="id">o</span> <span class="id">f</span>) \* (<span class="id">fine</span> \<span class="id">o</span> <span class="id">g</span>)) @ <span class="id">F</span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">near_eq_cvg</span>; <span class="id">near</span>=&gt; <span class="id">n</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id">RHS</span>](@<span class="id">fineK</span> <span class="id">_</span> (<span class="id">f</span> <span class="id">n</span>)); <span class="id">last</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id">finf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="kwd">in</span> <span class="id">RHS</span>](@<span class="id">fineK</span> <span class="id">_</span> (<span class="id">g</span> <span class="id">n</span>)) //; <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id">fing</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">exact</a></span>: <span class="id">cvgM</span>.<br/>
- <span class="id">move</span>: <span class="id">f</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#maxr_absE">g</a></span> <span class="id">a</span>; <span class="id">abstract</span>: <span class="id">apoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; {}<span class="id">f</span> {}<span class="id">g</span> {}<span class="id">a</span> + <span class="id">fa</span> <span class="id">goo</span>; <span class="id">have</span> [<span class="id">a0</span> <span class="id">_</span>|<span class="id">a0</span> <span class="id">_</span>|-&gt;] := <span class="id">ltgtP</span> <span class="id">a</span> 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">ltr0_sg</span>// ?<span class="id"><a href="mathcomp.analysis.normedtype.html#max_cts">mulN1e</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: (<span class="id">cvgeM_lt0_pinfty</span> <span class="id">a0</span>).<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">mulry</span> <span class="id">gtr0_sg</span>// ?<span class="id">mul1e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: (<span class="id">cvgeM_gt0_pinfty</span> <span class="id">a0</span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">mule_def</span> <span class="id">eqxx</span>.<br/>
- <span class="id">move</span>: <span class="id">f</span> <span class="id">g</span> <span class="id">a</span>; <span class="id">abstract</span>: <span class="id">bnoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; {}<span class="id">f</span> {}<span class="id">g</span> {}<span class="id">a</span> + <span class="id">fa</span> <span class="id">goo</span>; <span class="id">have</span> [<span class="id">a0</span> <span class="id">_</span>|<span class="id">a0</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgeN">_</a></span>|-&gt;] := <span class="id">ltgtP</span> <span class="id">a</span> 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id">ltr0_sg</span>// ?<span class="id">mulN1e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: (<span class="id">cvgeM_lt0_ninfty</span> <span class="id">a0</span>).<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">mulrNy</span> <span class="id">gtr0_sg</span>// ?<span class="id">mul1e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: (<span class="id">cvgeM_gt0_ninfty</span> <span class="id">a0</span>).<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">mule_def</span> <span class="id">eqxx</span>.<br/>
- <span class="id">rewrite</span> <span class="id"><a name="ereal_is_cvgrM">mule_defC</a></span> =&gt; ? <span class="id">foo</span> <span class="id">gb</span>; <span class="id">rewrite</span> <span class="id">muleC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: <span class="id">apoo</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">move</span>: <span class="id">f</span> <span class="id">g</span>; <span class="id">abstract</span>: <span class="id">poopoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; {}<span class="id">f</span> {}<span class="id">g</span> /<span class="id">cvgeyPge</span> <span class="id">foo</span> /<span class="id">cvgeyPge</span> <span class="id">goo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulyy</span>; <span class="id">apply</span>/<span class="id">cvgeyPgey</span>; <span class="id">near</span>=&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">A_gt0</span> : (0 &lt;= <span class="id">A</span>)%<span class="id">R</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">leLHS</span>]<span class="id">mule1</span> <span class="id">lee_pmul</span>//=; <span class="id">near</span>: <span class="id">n</span>; [<span class="id"><a href="mathcomp.analysis.normedtype.html#is_cvgeMr">apply</a></span>: <span class="id">foo</span>|<span class="id">apply</span>: <span class="id">goo</span>].<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">move</span>: <span class="id">f</span> <span class="id">g</span>; <span class="id">abstract</span>: <span class="id">poonoo</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; {}<span class="id">f</span> {}<span class="id">g</span> /<span class="id">cvgeyPge</span> <span class="id">foo</span> /<span class="id">cvgeNyPle</span> <span class="id">goo</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulyNy</span>; <span class="id"><a name="ereal_cvgM">apply</a></span>/<span class="id">cvgeNyPle</span> =&gt; <span class="id">A</span>; <span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">g</span> <span class="id">n</span>))//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id">goo</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">lee_nemull</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id"><a name="edist">n</a></span>; <span class="id">apply</span>: <span class="id">foo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (- 1)%:<span class="id">E</span>)//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">apply</span>: <span class="id">goo</span>; <span class="id">rewrite</span> <span class="id">ltrN10</span>.<br/>
- <span class="id">rewrite</span> <span class="id">mule_defC</span> =&gt; ? <span class="id">foo</span> <span class="id">gb</span>; <span class="id">rewrite</span> <span class="id">muleC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: <span class="id">bnoo</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">foo</span> <span class="id">goo</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">muleC</span>; <span class="id">exact</span>: <span class="id">poonoo</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">foo</span> <span class="id">goo</span>; <span class="id">rewrite</span> <span class="id">mulNyNy</span> -<span class="id">mulyy</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">muleNN</span>; <span class="id">apply</span>: <span class="id">poopoo</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -/(- -<span class="id">oo</span>); <span class="id">apply</span>: <span class="id">cvgeN</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetricDist.X">ecvg_realFieldType</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">max_cts</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lt">T</a></span> : <span class="id">topologicalType</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuous_min</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">R</span>^<span class="id">o</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">f</span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#pseudoMetricDist.X">continuous</a></span> (<span class="id">f</span> \<span class="id">min</span> <span class="id">g</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof355')">Proof.</span></div>
<div class="proofscript" id="proof355">
<span class="id">move</span>=&gt; <span class="id">ctsf</span> <span class="id">ctsg</span>.<br/>
<span class="id">under</span> [<span class="id">_</span> \<span class="id">min</span> <span class="id">_</span>]<span class="id">eq_fun</span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id">minr_absE</span>.<br/>
<span class="id">apply</span>: <span class="id">cvgM</span>; [|<span class="id">exact</span>: <span class="id">cvg_cst</span>]; <span class="id"><a href="mathcomp.analysis.ereal.html#le_ereal_inf">apply</a></span>:<span class="id">cvgD</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">cvgD</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cvgN</span>; <span class="id">apply</span>: <span class="id">cvg_norm</span>; <span class="id">apply</span>: <span class="id">cvgB</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuous_max</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id">T</span> -&gt; <span class="id">R</span>^<span class="id">o</span>) <span class="id">x</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id"><a name="r:1629">x</a></span>, <span class="id">continuous</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball">f</a></span>} -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> <span class="id">g</span>} -&gt;<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="id">f</span> \<span class="id">max</span> <span class="id">g</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof356')">Proof.</span></div>
<div class="proofscript" id="proof356">
<span class="id">move</span>=&gt; <span class="id">ctsf</span> <span class="id">ctsg</span>.<br/>
<span class="id">under</span> [<span class="id">_</span> \<span class="id">max</span> <span class="id">_</span>]<span class="id">eq_fun</span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id">maxr_absE</span>.<br/>
<span class="id">apply</span>: <span class="id">cvgM</span>; [|<span class="id">exact</span>: <span class="id">cvg_cst</span>]; <span class="id">apply</span>:<span class="id">cvgD</span>; <span class="id"><a name="r:1630">first</a></span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#ball">cvgD</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cvg_norm</span>; <span class="id">apply</span>: <span class="id">cvgB</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">max_cts</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">cvgeN</span>, <span class="id">and</span> <span class="id"><a name="edist_finP">generalized</a></span> <span class="id"><a name="xy:1631">to</a></span> <span class="id">filter</span> <span class="kwd">in</span> <span class="kwd">Type</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_cvgN</span> := <span class="id">cvgeN</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">is_cvgeN</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#rwP">and</a></span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">filter</span> <span class="kwd">in</span> <span class="kwd">Type</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_is_cvgN</span> := <span class="id">is_cvgeN</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">cvgeMl</span>, <span class="id">and</span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">filter</span> <span class="kwd">in</span> <span class="kwd">Type</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_cvgrM</span> := <span class="id">cvgeMl</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">is_cvgeMl</span>, <span class="id"><a href="mathcomp.analysis.topology.html#ball">and</a></span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">filter</span> <span class="kwd">in</span> <span class="kwd">Type</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_is_cvgrM</span> := <span class="id">is_cvgeMl</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">cvgeMr</span>, <span class="id">and</span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">filter</span> <span class="kwd">in</span> <span class="kwd">Type</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_cvgMr</span> := <span class="id">cvgeMr</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">is_cvgeMr</span>, <span class="id">and</span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">filter</span> <span class="kwd">in</span> <span class="kwd">Type</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_is_cvgMr</span> := <span class="id">is_cvgeMr</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> <span class="id">cvgeM</span>, <span class="id">and</span> <span class="id">generalized</span> <span class="id">to</span> <span class="id">a</span> <span class="id">realFieldType</span>")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_cvgM</span> := <span class="id">cvgeM</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">pseudoMetricDist</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">X</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">r</a></span> : <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">edist</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">X</a></span>) : \<span class="id">bar</span> <span class="id">R</span> :=<br/>
&nbsp;&nbsp;<span class="id">ereal_inf</span> (<span class="id">EFin</span> @` [<span class="id">set</span> <span class="id"><a name="edist_sym">r</a></span> | 0 &lt; <span class="id">r</span> /\ <span class="id"><a name="y:1638">ball</a></span> <span class="id">xy</span>.1 <span class="id">r</span> <span class="id">xy</span>.2]).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_ge0</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span>) : (0 &lt;= <span class="id">edist</span> <span class="id">xy</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof357')">Proof.</span></div>
<div class="proofscript" id="proof357">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">lb_ereal_inf</span> =&gt; <span class="id">z</span> [+ []] =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] <span class="id">_</span> &lt;-; <span class="id">rewrite</span> <span class="id">lee_fin</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#edist">Resolve</a></span> <span class="id">edist_ge0</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_neqNy</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span>) : (<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">edist</a></span> <span class="id">xy</span> != -<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof358')">Proof.</span></div>
<div class="proofscript" id="proof358">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lteNye</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> 0%<span class="id">E</span>). Qed.</div>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">edist_neqNy</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_lt_ball</span> <span class="id">r</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">X</a></span>) : (<span class="id">edist</span> <span class="id">xy</span> &lt; <span class="id">r</span>%:<span class="id">E</span>)%<span class="id">E</span> -&gt; <span class="id">ball</span> <span class="id">xy</span>.1 <span class="id"><a href="mathcomp.analysis.signed.html#posnumP">r</a></span> <span class="id">xy</span>.2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof359')">Proof.</span></div>
<div class="proofscript" id="proof359">
<span class="id">case</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_finP">ereal_inf_lt</a></span> =&gt; ? [+ []] =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">eps</span>] <span class="id">bxye</span> &lt;-; <span class="id">rewrite</span> <span class="id">lte_fin</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">ltW</span>/<span class="id">le_ball</span>; <span class="id">exact</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_fin</span> <span class="id">r</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span>) :<br/>
&nbsp;&nbsp;0 &lt; <span class="id">r</span> -&gt; <span class="id">ball</span> <span class="id">xy</span>.1 <span class="id">r</span> <span class="id">xy</span>.2 -&gt; (<span class="id">edist</span> <span class="id">xy</span> &lt;= <span class="id">r</span>%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof360')">Proof.</span></div>
<div class="proofscript" id="proof360">
<span class="id">move</span>: <span class="id">r</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] =&gt; ?; <span class="id">rewrite</span> -(<span class="id">ereal_inf1</span> <span class="id">r</span>%:<span class="id">num</span>%:<span class="id">E</span>) <span class="id">le_ereal_inf</span> //.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? -&gt; /=; <span class="kwd">exists</span> <span class="id">r</span>%:<span class="id">num</span>; <span class="id">split</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_pinftyP</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id">edist</span> <span class="id">xy</span> = +<span class="id">oo</span>)%<span class="id">E</span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">r</span>, 0 &lt; <span class="id">r</span> -&gt; ~ <span class="id">ball</span> <span class="id">xy</span>.1 <span class="id">r</span> <span class="id">xy</span>.2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof361')">Proof.</span></div>
<div class="proofscript" id="proof361">
<span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">ereal_inf_pinfty</span> =&gt; <span class="id">xrb</span> <span class="id">r</span> <span class="id">rpos</span> <span class="id">rb</span>; <span class="id">move</span>: (<span class="id">ltry</span> <span class="id">r</span>); <span class="id">rewrite</span> <span class="id">ltey</span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">apply</span>: <span class="id">xrb</span>; <span class="kwd">exists</span> <span class="id">r</span>.<br/>
<span class="id">rewrite</span> /<span class="id">edist</span>=&gt; <span class="id">nrb</span>; <span class="id">suff</span> -&gt; : [<span class="id">set</span> <span class="id">r</span> | 0 &lt; <span class="id">r</span> /\ <span class="id">ball</span> <span class="id">xy</span>.1 <span class="id">r</span> <span class="id">xy</span>.2] = <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">image_set0</span> <span class="id">ereal_inf0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subset0</span> =&gt; <span class="id">r</span> [?] <span class="id">rb</span>; <span class="id">apply</span>: <span class="id">nrb</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">rb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_finP</span> (<span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id">edist</span> <span class="id">xy</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>)%<span class="id">E</span> &lt;-&gt; <span class="kwd">exists2</span> <span class="id">r</span>, 0 &lt; <span class="id">r</span> &amp; <span class="id">ball</span> <span class="id">xy</span>.1 <span class="id">r</span> <span class="id">xy</span>.2.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof362')">Proof.</span></div>
<div class="proofscript" id="proof362">
<span class="id">rewrite</span> <span class="id">ge0_fin_numE</span> ?<span class="id">edist_ge0</span>// <span class="id">ltey</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">rwP</span> (<span class="id">negPP</span> <span class="id">eqP</span>)); <span class="id">apply</span>/<span class="id">iff_not2</span>; <span class="id">rewrite</span> <span class="id">notE</span>.<br/>
<span class="id">apply</span>: (<span class="id">iff_trans</span> (<span class="id">edist_pinftyP</span> <span class="id">_</span>)); <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">iff_trans</a></span> <span class="id">_</span> (<span class="id">forall2NP</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_forall</span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id">implyE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_fin_open</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span> | <span class="id">edist</span> <span class="id">xy</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof363')">Proof.</span></div>
<div class="proofscript" id="proof363">
<span class="id">move</span>=&gt; <span class="id">z</span> /= /<span class="id">edist_finP</span> [] <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] <span class="id">bzr</span>.<br/>
<span class="kwd">exists</span> (<span class="id">ball</span> <span class="id">z</span>.1 <span class="id">r</span>%:<span class="id">num</span>, <span class="id">ball</span> <span class="id">z</span>.2 <span class="id">r</span>%:<span class="id"><a href="mathcomp.analysis.topology.html#open_nbhs_nbhs">num</a></span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">split</span>; <span class="id">exact</span>: <span class="id">nbhsx_ballx</span>.<br/>
<span class="id">case</span>=&gt; <span class="id">a</span> <span class="id">b</span> [<span class="id">bza</span> <span class="id">bzb</span>]; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ltey">apply</a></span>/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#ge0_fin_numE">edist_finP</a></span>; <span class="kwd">exists</span> (<span class="id">r</span>%:<span class="id">num</span> + <span class="id">r</span>%:<span class="id">num</span> + <span class="id">r</span>%:<span class="id">num</span>) =&gt; //.<br/>
<span class="id">exact</span>/(<span class="id">ball_triangle</span> <span class="id">_</span> <span class="id">bzb</span>)/(<span class="id">ball_triangle</span> <span class="id">_</span> <span class="id">bzr</span>)/<span class="id">ball_sym</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_fin_closed</span> : <span class="id">closed</span> [<span class="id">set</span> <span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span> | <span class="id">edist</span> <span class="id">xy</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof364')">Proof.</span></div>
<div class="proofscript" id="proof364">
<span class="id">move</span>=&gt; <span class="id">z</span> /= /(<span class="id">_</span> (<span class="id">ball</span> <span class="id">z</span> 1)) []; <span class="id">first</span> <span class="id">exact</span>: <span class="id">nbhsx_ballx</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">w</span> [/<span class="id">edist_finP</span> [] <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] <span class="id">babr</span> [<span class="id">bz1w1</span> <span class="id">bz2w2</span>]]; <span class="id">apply</span>/<span class="id">edist_finP</span>.<br/>
<span class="kwd">exists</span> (1 + (<span class="id">r</span>%:<span class="id">num</span> + 1)) =&gt; //.<br/>
<span class="id">exact</span>/(<span class="id">ball_triangle</span> <span class="id">bz1w1</span>)/(<span class="id">ball_triangle</span> <span class="id">babr</span>)/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeA">ball_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_pinfty_open</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">xy</span> : <span class="id">X</span> * <span class="id">X</span> | <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_triangle">edist</a></span> <span class="id">xy</span> = +<span class="id">oo</span>]%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof365')">Proof.</span></div>
<div class="proofscript" id="proof365">
<span class="id">rewrite</span> -<span class="id">closedC</span>; <span class="id">have</span> := <span class="id">edist_fin_closed</span>; <span class="id">congr</span> (<span class="id">_</span> <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span> =&gt; <span class="id">z</span>; <span class="id">rewrite</span> /= ?<span class="id">ge0_fin_numE</span>// <span class="id">ltey</span> =&gt; /<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_sym</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">X</span>) : <span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) = <span class="id">edist</span> (<span class="id">y</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#edist">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof366')">Proof.</span></div>
<div class="proofscript" id="proof366">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">edist</span> /=; <span class="id">under</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_finP">eq_fun</a></span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">ball_symE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_triangle</span> (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id">edist</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">x</a></span>, <span class="id">z</span>) &lt;= <span class="id">edist</span> (<span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">y</a></span>) + <span class="id">edist</span> (<span class="id">y</span>, <span class="id">z</span>))%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof367')">Proof.</span></div>
<div class="proofscript" id="proof367">
<span class="id">have</span> [-&gt;|] := <span class="id">eqVneq</span> (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)) +<span class="id">oo</span>%<span class="id">E</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addye</span> ?<span class="id">leey</span>.<br/>
<span class="id">have</span> [-&gt;|] := <span class="id">eqVneq</span> (<span class="id">edist</span> (<span class="id">y</span>, <span class="id">z</span>)) +<span class="id">oo</span>%<span class="id">E</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addey</span> ?<span class="id">leey</span>.<br/>
<span class="id">rewrite</span> -?<span class="id">ltey</span> -?<span class="id">ge0_fin_numE</span>//.<br/>
<span class="id">move</span>=&gt; /<span class="id">edist_finP</span> [<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">r2</a></span>] /= <span class="id">yz</span>] /<span class="id">edist_finP</span> [<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r1</span>] /= <span class="id">xy</span>].<br/>
<span class="id">have</span> [|] := <span class="id">eqVneq</span> (<span class="id">edist</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineB">x</a></span>, <span class="id">z</span>)) +<span class="id">oo</span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">edist_pinftyP</span> /(<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#abse_fin_num">_</a></span> (<span class="id">r1</span>%:<span class="id">num</span> + <span class="id">r2</span>%:<span class="id">num</span>) <span class="id">_</span>) =&gt; -[//|].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">ball_triangle</span> <span class="id">xy</span>).<br/>
<span class="id">rewrite</span> -<span class="id">ltey</span> -<span class="id">ge0_fin_numE</span>// =&gt; /[<span class="id">dup</span>] <span class="id">xzfin</span>.<br/>
<span class="id">move</span>/<span class="id">edist_finP</span> =&gt; [<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">del</span>] /= <span class="id">xz</span>].<br/>
<span class="id">rewrite</span> /<span class="id">edist</span> /= ?<span class="id">ereal_inf_EFin</span>; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">r1</span>%:<span class="id">num</span> + <span class="id">r2</span>%:<span class="id">num</span>); <span class="id">split</span> =&gt; //; <span class="id">apply</span>: (<span class="id">ball_triangle</span> <span class="id">xy</span>).<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> 0 =&gt; ? /= [/<span class="id">ltW</span>].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#subre_ge0">r1</a></span>%:<span class="id">num</span>; <span class="id">split</span>.<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> 0 =&gt; ? /= [/<span class="id">ltW</span>].<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r2</span>%:<span class="id">num</span>; <span class="id">split</span>.<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> 0 =&gt; ? /= [/<span class="id">ltW</span>].<br/>
<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#addeC">rewrite</a></span> -<span class="id">EFinD</span> <span class="id">lee_fin</span> -<span class="id">inf_sumE</span> //; <span class="id">first</span> <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">split</span>; [<span class="kwd">exists</span> <span class="id">r2</span>%:<span class="id">num</span>; <span class="id">split</span>| <span class="kwd">exists</span> 0 =&gt; ? /= [/<span class="id">ltW</span>]].<br/>
- <span class="kwd">by</span> <span class="id">split</span>; [<span class="kwd">exists</span> <span class="id">r1</span>%:<span class="id"><a href="mathcomp.analysis.topology.html#ball_close">num</a></span>; <span class="id">split</span>| <span class="kwd">exists</span> 0 =&gt; ? /= [/<span class="id">ltW</span>]].<br/>
<span class="id">apply</span>: <span class="id">lb_le_inf</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">r1</span>%:<span class="id">num</span> + <span class="id">r2</span>%:<span class="id">num</span>); <span class="kwd">exists</span> <span class="id">r1</span>%:<span class="id">num</span> =&gt; //; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_ge0">r2</a></span>%:<span class="id">num</span>.<br/>
<span class="id">move</span>=&gt; ? [+ []] =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">p</span>] <span class="id">xpy</span> [+ []] =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">q</span>] <span class="id">yqz</span> &lt;-.<br/>
<span class="id">apply</span>: <span class="id">inf_lb</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> 0 =&gt; ? /= [/<span class="id">ltW</span>].<br/>
<span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="id">apply</span>: (<span class="id">ball_triangle</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#edist">xpy</a></span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_continuous</span> : <span class="id">continuous</span> <span class="id">edist</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof368')">Proof.</span></div>
<div class="proofscript" id="proof368">
<span class="id">move</span>=&gt; [<span class="id">x</span> <span class="id">y</span>]; <span class="id">have</span> [<span class="id">pE</span> <span class="id">U</span> /= <span class="id">Upinf</span>|] := <span class="id">eqVneq</span> (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)) +<span class="id">oo</span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">nbhs_simpl</span> /=; <span class="id">apply</span> (@<span class="id">filterS</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">set</span> <span class="id">xy</span> | <span class="id">edist</span> <span class="id">xy</span> = +<span class="id">oo</span>]%<span class="id">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span> /= -&gt;; <span class="id">apply</span>: <span class="id">nbhs_singleton</span>; <span class="id">move</span>: <span class="id">pE</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">Upinf</a></span> =&gt; -&gt;.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_pmulr">open_nbhs_nbhs</a></span>; <span class="id">split</span> =&gt; //; <span class="id">exact</span>: <span class="id">edist_pinfty_open</span>.<br/>
<span class="id">rewrite</span> -<span class="id">ltey</span> -<span class="id">ge0_fin_numE</span>// =&gt; <span class="id">efin</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)]<span class="id">fineK</span>//; <span class="id"><a href="mathcomp.analysis.topology.html#close">apply</a></span>: <span class="id">cvg_EFin</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">edist_fin_open</span> <span class="id">efin</span>; <span class="id">apply</span>: <span class="id">filter_app</span>; <span class="id">near</span>=&gt; <span class="id">w</span>.<br/>
<span class="id">apply</span>/<span class="id">cvgrPdist_le</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">eps</span>].<br/>
<span class="id">suff</span>: \<span class="kwd">forall</span> <span class="id">t</span> \<span class="id">near</span> (<span class="id">nbhs</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_triangle">nbhs</a></span> <span class="id">y</span>),<br/>
&nbsp;&nbsp;&nbsp;`|<span class="id">fine</span> (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)) - <span class="id">fine</span> (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#add0e">edist</a></span> <span class="id">t</span>)| &lt;= <span class="id">eps</span>%:<span class="id">num</span> <span class="kwd">by</span> [].<br/>
<span class="id">rewrite</span> -<span class="id">near2_pair</span>; <span class="id">near</span>=&gt; <span class="id">a</span> <span class="id">b</span> =&gt; /=.<br/>
<span class="id">have</span> <span class="id">abxy</span> : (<span class="id">edist</span> (<span class="id">a</span>, <span class="id">b</span>) &lt;= <span class="id">edist</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">x</a></span>, <span class="id">a</span>) + <span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) + <span class="id">edist</span> (<span class="id">y</span>, <span class="id">b</span>))%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">edist_sym</span> <span class="id">x</span> <span class="id">a</span>) -<span class="id">addeA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (@<span class="id">edist_triangle</span> <span class="id">_</span> <span class="id">x</span> <span class="id">_</span>)) ?<span class="id">lee_add</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_neqNy">edist_triangle</a></span>.<br/>
<span class="id">have</span> <span class="id">xyab</span> : (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) &lt;= <span class="id">edist</span> (<span class="id">x</span>, <span class="id">a</span>) + <span class="id">edist</span> (<span class="id">a</span>, <span class="id">b</span>) + <span class="id">edist</span> (<span class="id">y</span>, <span class="id">b</span>))%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#set">rewrite</a></span> (<span class="id">edist_sym</span> <span class="id">y</span> <span class="id">b</span>) -<span class="id">addeA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (@<span class="id">edist_triangle</span> <span class="id">_</span> <span class="id">a</span> <span class="id">_</span>))// ?<span class="id">lee_add</span>// ?<span class="id">edist_triangle</span>.<br/>
<span class="id">have</span> <span class="id">xafin</span> : <span class="id">edist</span> (<span class="id">x</span>, <span class="id">a</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">edist_finP</span>; <span class="kwd">exists</span> 1 =&gt;//; <span class="id">near</span>: <span class="id">a</span>; <span class="id">apply</span>: (<span class="id">nbhsx_ballx</span> <span class="id">_</span> 1%:<span class="id">pos</span>).<br/>
<span class="id">have</span> <span class="id"><a name="edist_inf_neqNy">ybfin</a></span> : <span class="id">edist</span> (<span class="id">y</span>, <span class="id">b</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">edist_finP</span>; <span class="kwd">exists</span> 1 =&gt;//; <span class="id">near</span>: <span class="id">b</span>; <span class="id">apply</span>: (<span class="id">nbhsx_ballx</span> <span class="id">_</span> 1%:<span class="id">pos</span>).<br/>
<span class="id">have</span> <span class="id">abfin</span> : <span class="id">edist</span> (<span class="id">a</span>, <span class="id">b</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_fin_numE</span>// (<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">le_lt_trans</a></span> <span class="id">abxy</span>) ?<span class="id">lte_add_pinfty</span>// -<span class="id">ge0_fin_numE</span>.<br/>
<span class="id">have</span> <span class="id">xyabfin</span>: (<span class="id">edist</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_inf.A">x</a></span>, <span class="id">y</span>) - <span class="id">edist</span> (<span class="id">a</span>, <span class="id">b</span>))%<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_inf">E</a></span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span><br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fin_numB</span> <span class="id">abfin</span> <span class="id">efin</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">fineB</a></span>// -<span class="id">fine_abse</span>// -<span class="id">lee_fin</span> <span class="id">fineK</span> ?<span class="id">abse_fin_num</span>//.<br/>
<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">a</span>) + <span class="id">edist</span> (<span class="id">y</span>, <span class="id">b</span>))%<span class="id">E</span>)//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">eps</a></span>%:<span class="id">num</span>]<span class="id">splitr</span>/= <span class="id">EFinD</span> <span class="id">lee_add</span>//; <span class="id">apply</span>: <span class="id">edist_fin</span> =&gt; //=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">near</span>: <span class="id">a</span> | <span class="id">near</span>: <span class="id">b</span>]; <span class="id">apply</span>: (<span class="id">nbhsx_ballx</span> <span class="id">_</span> (<span class="id">_</span> / <span class="id">_</span>)%:<span class="id">pos</span>).<br/>
<span class="id">have</span> [<span class="id">ab_le_xy</span>|/<span class="id">ltW</span> <span class="id">xy_le_ab</span>] := <span class="id">leP</span> (<span class="id">edist</span> (<span class="id">a</span>, <span class="id">b</span>)) (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gee0_abs</span> ?<span class="id">subre_ge0</span>// <span class="id">lee_subl_addr</span>// <span class="id">addeAC</span>.<br/>
<span class="id">rewrite</span> <span class="id">lee0_abs</span> ?<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_lb">sube_le0</a></span>// <span class="id">oppeB</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">fin_num_adde_defr</a></span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addeC</span> <span class="id">lee_subl_addr</span>// <span class="id">addeAC</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_closeP</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">close</span> <span class="id">x</span> <span class="id">y</span> &lt;-&gt; <span class="id"><a name="edist_inf_continuous">edist</a></span> (<span class="id">x</span>, <span class="id">y</span>) = 0%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof369')">Proof.</span></div>
<div class="proofscript" id="proof369">
<span class="id">rewrite</span> <span class="id">ball_close</span>; <span class="id">split</span>=&gt; [<span class="id">bxy</span>|<span class="id">edist0</span> <span class="id">eps</span>]; <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id">edist_lt_ball</span> <span class="id">_</span> (<span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_inf">y</a></span>)); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_set0">edist0</a></span>.<br/>
<span class="id">case</span>: <span class="id">ltgtP</span> (<span class="id">edist_ge0</span> (<span class="id">x</span>, <span class="id">y</span>)) =&gt; // <span class="id">dpos</span> <span class="id">_</span>.<br/>
<span class="id">have</span> <span class="id">xxfin</span> : <span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_fin_numE</span>// (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> 1%:<span class="id">E</span>) ?<span class="id">ltey</span>// <span class="id">edist_fin</span>.<br/>
<span class="id">have</span> <span class="id">dpose</span> : <span class="id">fine</span> (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)) &gt; 0 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lte_fin</span> <span class="id">fineK</span>.<br/>
<span class="id">pose</span> <span class="id">eps</span> := <span class="id">PosNum</span> <span class="id">dpose</span>.<br/>
<span class="id">have</span> : (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) &lt;= (<span class="id">eps</span>%:<span class="id">num</span> / 2)%:<span class="id">E</span>)%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">ereal_inf_lb</span>; <span class="kwd">exists</span> (<span class="id">eps</span>%:<span class="id">num</span> / 2) =&gt; //; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id"><a href="mathcomp.analysis.ereal.html#ereal_inf_pinfty">bxy</a></span> (<span class="id">eps</span>%:<span class="id">num</span> / 2)%:<span class="id">pos</span>).<br/>
<span class="id">apply</span>: <span class="id">contra_leP</span> =&gt; <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">EFinM</span> <span class="id">fineK</span>// <span class="id">lte_pdivr_mulr</span>// <span class="id">lte_pmulr</span>// <span class="id">lte1n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_refl</span> <span class="id">x</span> : <span class="id">edist</span> (<span class="id">x</span>, <span class="id">x</span>) = 0%<span class="id">E</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof370')">Proof.</span></div>
<div class="proofscript" id="proof370">
 <span class="id">exact</span>/<span class="id">edist_closeP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_closel</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id">close</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">edist</span> (<span class="id">x</span>, <span class="id">z</span>) = <span class="id">edist</span> (<span class="id">y</span>, <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof371')">Proof.</span></div>
<div class="proofscript" id="proof371">
<span class="id">move</span>=&gt; /<span class="id">edist_closeP</span> <span class="id">xy0</span>; <span class="id">apply</span>: <span class="id">le_anti</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">edist</span> (<span class="id">y</span>, <span class="id">z</span>)]<span class="id">add0e</span> -<span class="id">xy0</span> <span class="id">edist_triangle</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">edist</span> (<span class="id">x</span>, <span class="id">z</span>)]<span class="id">add0e</span> -<span class="id">xy0</span> [<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>)]<span class="id">edist_sym</span> <span class="id">edist_triangle</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">pseudoMetricDist</span>.<br/>
#[<span class="id"><a name="w:1660">global</a></span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (0 &lt;= <span class="id">edist</span> <span class="id">_</span>)%<span class="id">E</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">edist_ge0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">edist</span> <span class="id">_</span> != -<span class="id">oo</span>%<span class="id">E</span>)) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">edist_neqNy</span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">edist_inf</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">T</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>} (<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#adde_ge0">A</a></span> : <span class="id">set</span> <span class="id">T</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">edist_inf</span> <span class="id">z</span> := <span class="id">ereal_inf</span> [<span class="id">set</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">edist</a></span> (<span class="id">z</span>, <span class="id">a</span>) | <span class="id">a</span> <span class="kwd">in</span> <span class="id">A</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_inf_ge0</span> <span class="id">w</span> : (0 &lt;= <span class="id">edist_inf</span> <span class="id">w</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof372')">Proof.</span></div>
<div class="proofscript" id="proof372">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">lb_ereal_inf</span> =&gt; ? /= [? ? &lt;-]; <span class="id">exact</span>: <span class="id">edist_ge0</span>. Qed.</div>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">edist_inf_ge0</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_inf_neqNy</span> <span class="id">w</span> : (<span class="id">edist_inf</span> <span class="id">w</span> != -<span class="id">oo</span>)%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof373')">Proof.</span></div>
<div class="proofscript" id="proof373">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">lteNye</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> 0%<span class="id">E</span>). Qed.</div>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">edist_inf_neqNy</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_inf_triangle</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_fin">x</a></span> <span class="id">y</span> : (<span class="id">edist_inf</span> <span class="id">x</span> &lt;= <span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) + <span class="id">edist_inf</span> <span class="id">y</span>)%<span class="id"><a href="mathcomp.analysis.normedtype.html#edist">E</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof374')">Proof.</span></div>
<div class="proofscript" id="proof374">
<span class="id">have</span> [<span class="id">A0</span>|/<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lee_fin">set0P</a></span>[<span class="id">a0</span> <span class="id">Aa0</span>]] := <span class="id">eqVneq</span> <span class="id">A</span> <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">edist_inf</span> <span class="id">A0</span> ?<span class="id">image_set0</span> ?<span class="id">ereal_inf0</span> <span class="id">addey</span>.<br/>
<span class="id">have</span> [<span class="id">fyn</span>|] := <span class="id">boolP</span> (<span class="id">edist_inf</span> <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>); <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_fin_numE</span>// ?<span class="id">ltey</span>// <span class="id">negbK</span> =&gt; /<span class="id">eqP</span>-&gt;; <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_inf_triangle">rewrite</a></span> <span class="id">addey</span> ?<span class="id">leey</span>.<br/>
<span class="id">have</span> [<span class="id">xyfin</span>|] := <span class="id">boolP</span> (<span class="id">edist</span> (<span class="id">x</span>, <span class="id">y</span>) \<span class="id">is</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fineK">a</a></span> <span class="id">fin_num</span>); <span class="id">first</span> <span class="id">last</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_fin_numE</span>// ?<span class="id">ltey</span> // <span class="id">negbK</span> =&gt; /<span class="id">eqP</span>-&gt;; <span class="id">rewrite</span> <span class="id">addye</span> ?<span class="id">leey</span>.<br/>
<span class="id">apply</span>/<span class="id">lee_addgt0Pr</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">eps</span>].<br/>
<span class="id">have</span> [//|? [<span class="id">a</span> <span class="id">Aa</span> &lt;-] <span class="id">yaeps</span>] := @<span class="id">lb_ereal_inf_adherent</span> <span class="id">R</span> <span class="id">_</span> <span class="id">eps</span>%:<span class="id">num</span> <span class="id">_</span> <span class="id">fyn</span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id">ereal_inf_lb</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">edist</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_refl">x</a></span>, <span class="id">a</span>))); <span class="kwd">exists</span> <span class="id">a</span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">first</span> <span class="id">exact</span>: (@<span class="id">edist_triangle</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#edist_inf">y</a></span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">addeA</span> <span class="id">lee_add2lE</span> // <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_inf_continuous</span> : <span class="id">continuous</span> <span class="id">edist_inf</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof375')">Proof.</span></div>
<div class="proofscript" id="proof375">
<span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">have</span> [<span class="id">A0</span>|/= /<span class="id">set0P</span>[<span class="id">a0</span> <span class="id">Aa0</span>]] := <span class="id">eqVneq</span> <span class="id">A</span> <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a name="urysohn_separator">edist_inf</a></span> <span class="id">A0</span> <span class="id">image_set0</span> <span class="id">ereal_inf0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">under</span> <span class="id">eq_fun</span> =&gt; ? <span class="id">do</span> <span class="id">rewrite</span> <span class="id"><a name="A:1664">image_set0</a></span> <span class="id">ereal_inf0</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#urysohn_separator.T">apply</a></span>: <span class="id">cvg_cst</span>.<br/>
<span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.topology.html#entourage">eqVneq</a></span> (<span class="id">edist_inf</span> <span class="id">z</span>) +<span class="id">oo</span>%<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#urysohn_separator.A">move</a></span>=&gt; /[<span class="id">dup</span>] <span class="id">fzp</span> /<span class="id">ereal_inf_pinfty</span> =&gt; <span class="id">zAp</span> <span class="id">U</span> /= <span class="id">Ufz</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">nbhs</span> <span class="id">z</span> (<span class="id">ball</span> <span class="id">z</span> 1) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id">nbhsx_ballx</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">filter_app</span>; <span class="id">near_simpl</span>; <span class="id">near</span>=&gt; <span class="id">w</span> =&gt; <span class="id">bz1w</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> /= -&gt; : (<span class="id">edist_inf</span> <span class="id">w</span>) = +<span class="id">oo</span>%<span class="id">E</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">nbhs_singleton</span>; <span class="id">rewrite</span> -<span class="id">fzp</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">ereal_inf_pinfty</span> =&gt; <span class="id">r</span> [<span class="id">a</span> <span class="id">Aa</span>] <span class="id">war</span>; <span class="id">apply</span>/<span class="id">zAp</span>; <span class="kwd">exists</span> <span class="id">a</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">gee0P</span>[|[<span class="id">r</span>' <span class="id">r</span>'<span class="id"><a href="mathcomp.analysis.topology.html#ball">pos</a></span> <span class="id">war</span>']] := <span class="id">edist_ge0</span> (<span class="id">w</span>, <span class="id">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">war</span> =&gt; -&gt;; <span class="id">apply</span>: <span class="id">zAp</span>; <span class="kwd">exists</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> := @<span class="id">edist_triangle</span> <span class="id">_</span> <span class="id">_</span> <span class="id">z</span> <span class="id">w</span> <span class="id">a</span>; <span class="id">rewrite</span> <span class="id">war</span>'; <span class="id">apply</span>: <span class="id">contra_leP</span> =&gt; <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (@<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">_</span> (1 + <span class="id">r</span>'%:<span class="id">E</span>)%<span class="id">E</span>) ?<span class="id">lee_add2r</span> ?<span class="id">edist_fin</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">EFinD</span> [<span class="id">edist</span> (<span class="id">z</span>, <span class="id">a</span>)]<span class="id">zAp</span> ?<span class="id">ltey</span> //; <span class="kwd">exists</span> <span class="id">a</span>.<br/>
<span class="id">rewrite</span> -<span class="id">ltey</span> -<span class="id">ge0_fin_numE</span> ?<span class="id">edist_inf_ge0</span> // =&gt; <span class="id">fz_fin</span>.<br/>
<span class="id">rewrite</span> // -[<span class="id">edist_inf</span> <span class="id">z</span>]<span class="id">fineK</span> //; <span class="id">apply</span>/<span class="id">fine_cvgP</span>.<br/>
<span class="id">have</span> <span class="id">fwfin</span> : \<span class="kwd">forall</span> <span class="id">w</span> \<span class="id">near</span> <span class="id">z</span>, <span class="id">edist_inf</span> <span class="id">w</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
&nbsp;&nbsp;(<span class="id">have</span> : <span class="id">nbhs</span> <span class="id">z</span> (<span class="id">ball</span> <span class="id">z</span> 1) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id">nbhsx_ballx</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fin_num">filter_app</a></span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">t</span> =&gt; <span class="id">bz1</span>; <span class="id">rewrite</span> <span class="id">ge0_fin_numE</span> ?<span class="id">edist_inf_ge0</span> //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">edist_inf_triangle</span> <span class="id">_</span> <span class="id">z</span>))//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_ge0">ge0_fin_numE</a></span> ?<span class="id">adde_ge0</span> ?<span class="id">edist_inf_ge0</span> //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fin_numD</span> <span class="id">fz_fin</span> <span class="id">andbT</span>; <span class="id">apply</span>/<span class="id">edist_finP</span>; <span class="kwd">exists</span> 1 =&gt; //.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.constructive_ereal.html#fine">exact</a></span>/<span class="id">ball_sym</span>.<br/>
<span class="id">split</span> =&gt; //; <span class="id">apply</span>/<span class="id">cvgrPdist_le</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">eps</span>].<br/>
<span class="id">have</span> : <span class="id">nbhs</span> <span class="id">z</span> (<span class="id">ball</span> <span class="id">z</span> <span class="id">eps</span>%:<span class="id">num</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">nbhsx_ballx</span>.<br/>
<span class="id">apply</span>: <span class="id">filter_app</span>; <span class="id">near_simpl</span>; <span class="id">move</span>: <span class="id">fwfin</span>; <span class="id">apply</span>: <span class="id">filter_app</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">t</span> =&gt; <span class="id">tfin</span> /= /[<span class="id">dup</span>] ?.<br/>
<span class="id">have</span> <span class="id">ztfin</span> : <span class="id">edist</span> (<span class="id">z</span>, <span class="id">t</span>) \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">edist_finP</span>; <span class="kwd">exists</span> <span class="id">eps</span>%:<span class="id">num</span>.<br/>
<span class="id">move</span>=&gt; /(@<span class="id">edist_fin</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">z</span>, <span class="id">t</span>)) - /(<span class="id">_</span> <span class="id">trivial</span>).<br/>
<span class="id">rewrite</span> -[<span class="id">edist</span> (<span class="id">z</span>, <span class="id">t</span>)]<span class="id">fineK</span> ?<span class="id">lee_fin</span> //; <span class="id">apply</span>: <span class="id">le_trans</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_norml</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_subr_addr</span> <span class="id">addrC</span> <span class="id">ler_subl_addr</span>  <span class="id">addrC</span> -<span class="id">fineD</span> //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">lee_fin</span> ?<span class="id">fineK</span> // ?<span class="id"><a href="mathcomp.analysis.normedtype.html#edist_inf_continuous">fin_numD</a></span> ?<span class="id">ztfin</span> ?<span class="id">fz_fin</span> // <span class="id">edist_sym</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">edist_inf_triangle</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_subl_addr</span> -<span class="id">fineD</span> // -<span class="id">lee_fin</span> ?<span class="id">fineK</span> // ?<span class="id">fin_numD</span> ?<span class="id">tfin</span> ?<span class="id">ztfin</span> //.<br/>
<span class="id">exact</span>: <span class="id">edist_inf_triangle</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">edist_inf0</span> <span class="id">a</span> : <span class="id">A</span> <span class="id">a</span> -&gt; <span class="id">edist_inf</span> <span class="id">a</span> = 0%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof376')">Proof.</span></div>
<div class="proofscript" id="proof376">
<span class="id">move</span>=&gt; <span class="id">Aa</span>; <span class="id">apply</span>: <span class="id">le_anti</span>; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">edist_inf_ge0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ereal_inf_lb</span>; <span class="kwd">exists</span> <span class="id">a</span> =&gt; //; <span class="id">exact</span>: <span class="id">edist_refl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">edist_inf</span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (0 &lt;= <span class="id">edist_inf</span> <span class="id">_</span> <span class="id">_</span>)%<span class="id">E</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id">edist_inf_ge0</span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">is_true</span> (<span class="id">edist_inf</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#urysohn_separator">_</a></span> != -<span class="id">oo</span>%<span class="id">E</span>)) =&gt;<br/>
&nbsp;&nbsp;<span class="id">solve</span> [<span class="id">apply</span>: <span class="id">edist_inf_neqNy</span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">urysohn_separator</span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">T</a></span> : <span class="id">uniformType</span>} {<span class="id">R</span> : <span class="id">realType</span>}.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="A:1678">A</a></span> <span class="id"><a name="B:1679">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#topological_urysohn_separator.T">T</a></span>) (<span class="id">E</span> : <span class="id">set</span> (<span class="id">T</span> * <span class="id">T</span>)).<br/>
<span class="kwd">Hypothesis</span> <span class="id">entE</span> : <span class="id">entourage</span> <span class="id">E</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id">AB0</span> : <span class="id">A</span> `*` <span class="id">B</span> `&amp;` <span class="id">E</span> = <span class="id">set0</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id">T</span>' := (@<span class="id">gauge_pseudoMetricType</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">_</a></span> <span class="id">_</span>  <span class="id">entE</span> <span class="id">R</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">urysohn_separation</span> : <span class="kwd">exists</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>),<br/>
&nbsp;&nbsp;[/\ <span class="id">continuous</span> <span class="id">f</span>, <span class="id">range</span> <span class="id">f</span> `&lt;=` `[0, 1],<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @` <span class="id">A</span> `&lt;=` [<span class="id">set</span> 0] &amp; <span class="id">f</span> @` <span class="id">B</span> `&lt;=` [<span class="id">set</span> 1] ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof377')">Proof.</span></div>
<div class="proofscript" id="proof377">
<span class="id">have</span> [<span class="id">eps</span> <span class="id">exy</span>] : <span class="kwd">exists</span> (<span class="id">eps</span> : {<span class="id">posnum</span> <span class="id">R</span>}),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">T</span>'), <span class="id">A</span> <span class="id">x</span> -&gt; <span class="id">B</span> <span class="id">y</span> -&gt; ~ <span class="id">ball</span> <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : @<span class="id">entourage</span> <span class="id">T</span>' <span class="id">E</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">O</span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">entourage_ballE</span>; <span class="id">case</span>=&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">eps</span>] <span class="id">epsdiv</span>; <span class="kwd">exists</span> <span class="id">eps</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">Ax</span> <span class="id">By</span> <span class="id">bxy</span>; <span class="id">have</span> <span class="id">divxy</span> := <span class="id">epsdiv</span> (<span class="id">x</span>, <span class="id">y</span>) <span class="id">bxy</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> : <span class="id">set0</span> (<span class="id">x</span>, <span class="id">y</span>) <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">AB0</span>; <span class="id">split</span>.<br/>
<span class="id">have</span> [-&gt;|/<span class="id">set0P</span>[<span class="id">a</span> <span class="id">A0</span>]] := <span class="id">eqVneq</span> <span class="id">A</span> <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="kwd">fun</span>=&gt; 1); <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span> =&gt; ?; <span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? [? <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> /= <span class="id"><a href="mathcomp.analysis.normedtype.html#topological_urysohn_separator.T">in_itv</a></span> /=; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">image_set0</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id"><a name="Urysohn_continuous">move</a></span>=&gt; ? [? ? &lt;-].<br/>
<span class="id">have</span> <span class="id">dfin</span> <span class="id">x</span> : @<span class="id">edist_inf</span> <span class="id">R</span> <span class="id">T</span>' <span class="id">A</span> <span class="id">x</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ge0_fin_numE</span> ?<span class="id">edist_inf_ge0</span> //; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ereal_inf_lb</span>; <span class="kwd">exists</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ge0_fin_numE</span> ?<span class="id">edist_ge0</span> //; <span class="id">apply</span>/<span class="id">edist_finP</span> =&gt; /=; <span class="kwd">exists</span> 2 =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">countable_uniform_bounded</span>.<br/>
<span class="id">pose</span> <span class="id">f</span>' := (<span class="kwd">fun</span> <span class="id">z</span> =&gt; <span class="id">fine</span> (@<span class="id">edist_inf</span> <span class="id">R</span> <span class="id">T</span>' <span class="id">A</span> <span class="id">z</span>)) \<span class="id">min</span> (<span class="kwd">fun</span>=&gt; <span class="id">eps</span>%:<span class="id">num</span>).<br/>
<span class="id">pose</span> <span class="id">f</span> <span class="id">z</span> := (<span class="id">f</span>' <span class="id">z</span>)/<span class="id">eps</span>%:<span class="id">num</span>; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.boolp.html#cid">f</a></span>; <span class="id">split</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id">f</span>; <span class="id"><a name="Urysohn_sub1">apply</a></span>: (@<span class="id">cvgM</span> <span class="id"><a name="A:1695">R</a></span> <span class="id"><a name="B:1696">T</a></span> (<span class="id">nbhs</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#topological_urysohn_separator.T">x</a></span>)); <span class="id">last</span> <span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> : {<span class="kwd">for</span> <span class="id">x</span>, <span class="id">continuous</span> (<span class="id">f</span>' : <span class="id">T</span>' -&gt; <span class="id">R</span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Q</span> <span class="id">U</span>; <span class="id">rewrite</span> <span class="id">nbhs_simpl</span> /= =&gt; <span class="id">f</span>'<span class="id">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">J</span> /(<span class="id">gauge_ent</span> <span class="id">entE</span>) <span class="id">entJ</span>/<span class="id">filterS</span>] := <span class="id">Q</span> <span class="id">_</span> <span class="id">f</span>'<span class="id">U</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#topological_urysohn_separator.T">apply</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">nbhs_simpl</span> /= -<span class="id">nbhs_entourageE</span> /=; <span class="kwd">exists</span> <span class="id">J</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">continuous_min</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cvg_cst</span>; <span class="id">exact</span>: <span class="id">nbhs_filter</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">fine_cvg</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">nbhs_filter</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">fineK</span> //; <span class="id">first</span> <span class="id">exact</span>: <span class="id">edist_inf_continuous</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">x</span> <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> <span class="id">set_itvE</span> /=; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">apply</a></span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f</span> <span class="id">divr_ge0</span> // /<span class="id">f</span>' /= /<span class="id">minr</span>; <span class="id">case</span>: <span class="id">ltP</span>; <span class="id">rewrite</span> ?<span class="id">fine_ge0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">f</span> <span class="id">ler_pdivr_mulr</span> // <span class="id">mul1r</span> /<span class="id">f</span>' /= /<span class="id">minr</span>; <span class="id">case</span>: <span class="id">ltP</span> =&gt; // /<span class="id">ltW</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; ? [<span class="id">z</span> <span class="id">Az</span>] &lt;-; <span class="id">rewrite</span> /<span class="id">f</span>/<span class="id">f</span>' /= <span class="id">edist_inf0</span> // /<span class="id">minr</span> <span class="id">fine0</span> <span class="id">ifT</span> ?<span class="id">mul0r</span>.<br/>
- <span class="id">move</span>=&gt; ? [<span class="id">b</span> <span class="id">Bb</span>] &lt;-; <span class="id">rewrite</span> /<span class="id">f</span> /<span class="id">f</span>'/= /<span class="id">minr</span>/=.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">ltP</span> =&gt; //; <span class="id">rewrite</span> ?<span class="id">divrr</span> // ?<span class="id">unitf_gt0</span> // -<span class="id">lte_fin</span> <span class="id">fineK</span>//.<br/>
&nbsp;&nbsp;<span class="id">move</span> =&gt; /<span class="id">ereal_inf_lt</span> [<span class="id"><a href="mathcomp.analysis.topology.html#entourage">_</a></span> [<span class="id">z</span> <span class="id">Az</span> &lt;-]] <span class="id">ebz</span>; <span class="id">have</span> [] := <span class="id">exy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Az</span> <span class="id">Bb</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">ball_sym</span>/(@<span class="id">edist_lt_ball</span> <span class="id">R</span> <span class="id">T</span>' <span class="id">_</span> (<span class="id">b</span>, <span class="id">z</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">urysohn_separator</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">topological_urysohn_separator</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="id">topologicalType</span>} {<span class="id">R</span> : <span class="id">realType</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">uniform_separator</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">uT</span> : @<span class="id">Uniform.class_of</span> <span class="id">T</span>^<span class="id">o</span>) (<span class="id">E</span> : <span class="id">set</span> (<span class="id">T</span> * <span class="id">T</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">UT</span> := <span class="id">Uniform.Pack</span> <span class="id">uT</span> <span class="kwd">in</span> [/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id">entourage</span> <span class="id">UT</span> <span class="id">E</span>, <span class="id">A</span> `*` <span class="id">B</span> `&amp;` <span class="id">E</span> = <span class="id">set0</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span>, @<span class="id">nbhs</span> <span class="id">UT</span> <span class="id">UT</span> <span class="id">x</span> `&lt;=` @<span class="id">nbhs</span> <span class="id">T</span> <span class="id">T</span> <span class="id">x</span>)].<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">Urysohn</span>' (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) : <span class="kwd">exists</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="id">continuous</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">range</span> <span class="id">f</span> `&lt;=` `[0, 1]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&amp; <span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @` <span class="id">A</span> `&lt;=` [<span class="id">set</span> 0] /\ <span class="id">f</span> @` <span class="id">B</span> `&lt;=` [<span class="id">set</span> 1]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof378')">Proof.</span></div>
<div class="proofscript" id="proof378">
<span class="id">have</span> [[? [<span class="id">E</span> [<span class="id">entE</span> <span class="id">ABE0</span> <span class="id">coarseT</span>]]]|<span class="id">nP</span>] := <span class="id">pselect</span> (<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">f</span>] := @<span class="id">urysohn_separation</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">entE</span> <span class="id">ABE0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>=&gt; <span class="id">ctsf</span> ? ? ?; <span class="kwd">exists</span> <span class="id">f</span>; <span class="id">split</span> =&gt; // ? ? /= ?; <span class="id">apply</span>/<span class="id">coarseT</span>/<span class="id">ctsf</span>.<br/>
<span class="kwd">exists</span> (<span class="kwd">fun</span>=&gt;1); <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? [? <span class="id">_</span> &lt;-]; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /=; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span> =&gt; //.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">Urysohn</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) : <span class="id">T</span> -&gt; <span class="id">R</span> := <span class="id">projT1</span> (<span class="id">cid</span> (<span class="id">Urysohn</span>' <span class="id">A</span> <span class="id">B</span>)).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">urysohn_facts</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">Urysohn_continuous</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) : <span class="id">continuous</span> (<span class="id">Urysohn</span> <span class="id">A</span> <span class="id">B</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof379')">Proof.</span></div>
<div class="proofscript" id="proof379">
 <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">projT2</span> (<span class="id">cid</span> (@<span class="id">Urysohn</span>' <span class="id">A</span> <span class="id">B</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Urysohn_range</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) : <span class="id">range</span> (<span class="id">Urysohn</span> <span class="id">A</span> <span class="id">B</span>) `&lt;=` `[0, 1].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof380')">Proof.</span></div>
<div class="proofscript" id="proof380">
 <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">projT2</span> (<span class="id">cid</span> (@<span class="id">Urysohn</span>' <span class="id">A</span> <span class="id">B</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Urysohn_sub0</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span> -&gt; <span class="id">Urysohn</span> <span class="id">A</span> <span class="id">B</span> @` <span class="id">A</span> `&lt;=` [<span class="id">set</span> 0].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof381')">Proof.</span></div>
<div class="proofscript" id="proof381">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">eE</span>; <span class="id">have</span> [<span class="id">_</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">eE</span>)[]] := <span class="id">projT2</span> (<span class="id">cid</span> (@<span class="id">Urysohn</span>' <span class="id">A</span> <span class="id">B</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Urysohn_sub1</span> (<span class="id">A</span> <span class="id"><a name="Urysohn.normal_uniform_separators.apxU">B</a></span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.T">uniform_separator</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.T">A</a></span> <span class="id">B</span> -&gt; <span class="id">Urysohn</span> <span class="id">A</span> <span class="id">B</span> @` <span class="id">B</span> `&lt;=` [<span class="id">set</span> 1].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof382')">Proof.</span></div>
<div class="proofscript" id="proof382">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">eE</span>; <span class="id">have</span> [<span class="id">_</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">eE</span>)[]] := <span class="id">projT2</span> (<span class="id">cid</span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set">Urysohn</a></span>' <span class="id">A</span> <span class="id">B</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Urysohn_eq0</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span> -&gt; <span class="id">A</span> !=<span class="id">set0</span> -&gt; <span class="id">Urysohn</span> <span class="id">A</span> <span class="id">B</span> @` <span class="id">A</span> = [<span class="id">set</span> 0].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof383')">Proof.</span></div>
<div class="proofscript" id="proof383">
<span class="id">move</span>=&gt; <span class="id">eE</span> <span class="id">Aa</span>; <span class="id">have</span> [<span class="id"><a name="E:1714">_</a></span> <span class="id">_</span> /(<span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.normal_uniform_separators.ury_base">_</a></span> <span class="id">eE</span>)[<span class="id">As0</span> <span class="id">_</span>]] := <span class="id">projT2</span> (<span class="id">cid</span> (@<span class="id">Urysohn</span>' <span class="id">A</span> <span class="id">B</span>)).<br/>
<span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span> =&gt; // ? -&gt;; <span class="id">case</span>: <span class="id">Aa</span> =&gt; <span class="id">a</span> ?; <span class="kwd">exists</span> <span class="id">a</span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">As0</span>; <span class="kwd">exists</span> <span class="id">a</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Urysohn_eq1</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span> -&gt; (<span class="id">B</span> !=<span class="id">set0</span>) -&gt; (<span class="id">Urysohn</span> <span class="id">A</span> <span class="id">B</span>) @` <span class="id">B</span> = [<span class="id">set</span> 1].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof384')">Proof.</span></div>
<div class="proofscript" id="proof384">
<span class="id">move</span>=&gt; <span class="id">eE</span> <span class="id">Bb</span>; <span class="id">have</span> [<span class="id">_</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">eE</span>)[<span class="id">_</span> <span class="id">Bs0</span>]] := <span class="id">projT2</span> (<span class="id">cid</span> (@<span class="id">Urysohn</span>' <span class="id">A</span> <span class="id">B</span>)).<br/>
<span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span> =&gt; // ? -&gt;; <span class="id">case</span>: <span class="id">Bb</span> =&gt; <span class="id">b</span> ?; <span class="kwd">exists</span> <span class="id">b</span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a name="E:1717">Bs0</a></span>; <span class="kwd">exists</span> <span class="id">b</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">urysohn_facts</span>.<br/>
<span class="kwd">End</span> <span class="id">topological_urysohn_separator</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">uniform_separatorW</span> {<span class="id">T</span> : <span class="id">uniformType</span>} (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">exists2</span> <span class="id">E</span>, <span class="id">entourage</span> <span class="id">E</span> &amp; <span class="id">A</span> `*` <span class="id">B</span> `&amp;` <span class="id">E</span> = <span class="id">set0</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof385')">Proof.</span></div>
<div class="proofscript" id="proof385">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; <span class="id">E</span> <span class="id">entE</span> <span class="id">AB0</span>; <span class="kwd">exists</span> (<span class="id">Uniform.class</span> <span class="id">T</span>), <span class="id">E</span>; <span class="id">split</span> =&gt; // ?. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">Urysohn</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="id">topologicalType</span>} .<br/>
<span class="kwd">Hypothesis</span> <span class="id">normalT</span> : <span class="id">normal_space</span> <span class="id">T</span>.<br/>
<span class="kwd">Section</span> <span class="id">normal_uniform_separators</span>.<br/>
<span class="kwd">Context</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">A</span> ^-1" := [<span class="id">set</span> <span class="id">xy</span> | <span class="id">A</span> (<span class="id">xy</span>.2, <span class="id">xy</span>.1)] : <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.normal_uniform_separators.apxU">Local</a></span> <span class="kwd">Notation</span> "'<span class="id">to_set</span>' <span class="id">A</span> <span class="id">x</span>" := [<span class="id">set</span> <span class="id">y</span> | <span class="id">A</span> (<span class="id">x</span>, <span class="id">y</span>)]<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">A</span> <span class="kwd">at</span> <span class="id">level</span> 0) : <span class="id">classical_set_scope</span>.<br/>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id">apxU</span> (<span class="id">UV</span> : <span class="id">set</span> <span class="id">T</span> * <span class="id">set</span> <span class="id">T</span>) : <span class="id"><a name="K:1729">set</a></span> (<span class="id">T</span> * <span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.T">T</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id">UV</span>.2 `*` <span class="id">UV</span>.2) `|` (~` <span class="id">closure</span> <span class="id">UV</span>.1 `*` ~` <span class="id">closure</span> <span class="id">UV</span>.1).<br/>
<br/>
<span class="kwd">Let</span> <span class="id">nested</span> (<span class="id">UV</span> : <span class="id">set</span> <span class="id">T</span> * <span class="id">set</span> <span class="id">T</span>) :=<br/>
&nbsp;&nbsp;[/\ <span class="id">open</span> <span class="id">UV</span>.1, <span class="id">open</span> <span class="id">UV</span>.2, <span class="id">A</span> `&lt;=` <span class="id">UV</span>.1 &amp; <span class="id">closure</span> <span class="id">UV</span>.1 `&lt;=`<span class="id">UV</span>.2].<br/>
<br/>
<span class="kwd">Let</span> <span class="id">ury_base</span> := [<span class="id">set</span> <span class="id">apxU</span> <span class="id">UV</span> | <span class="id">UV</span> <span class="kwd">in</span> <span class="id">nested</span>].<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_base_refl</span> <span class="id">E</span> :<br/>
&nbsp;&nbsp;<span class="id">ury_base</span> <span class="id">E</span> -&gt; [<span class="id">set</span> <span class="id">fg</span> | <span class="id">fg</span>.1 = <span class="id">fg</span>.2] `&lt;=` <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof386')">Proof.</span></div>
<div class="proofscript" id="proof386">
<span class="id">case</span>; <span class="id">case</span>=&gt; <span class="id">L</span> <span class="id">R</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> /= <span class="id">LR</span>] &lt;- [? <span class="id">x</span> /= -&gt;].<br/>
<span class="id">case</span>: (<span class="id">pselect</span> (<span class="id">R</span> <span class="id">x</span>)); <span class="id">first</span> <span class="kwd">by</span> <span class="id">left</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">subsetC</span>: <span class="id">LR</span> =&gt; /[<span class="id">apply</span>] =&gt; ?; <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_base_inv</span> <span class="id">E</span> : <span class="id">ury_base</span> <span class="id">E</span> -&gt; <span class="id">ury_base</span> (<span class="id">E</span>^-1)%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof387')">Proof.</span></div>
<div class="proofscript" id="proof387">
<span class="id">case</span>; <span class="id">case</span>=&gt; <span class="id">L</span> <span class="id">R</span> ? &lt;-; <span class="kwd">exists</span> (<span class="id">L</span>, <span class="id">R</span>) =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span> =&gt; //; (<span class="id">case</span>=&gt; <span class="id">x</span> <span class="id">y</span> [] [? ?]; [<span class="id">left</span>| <span class="id">right</span>]).<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_base_split</span> <span class="id">E</span> : <span class="id">ury_base</span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">E1</span> <span class="id">E2</span>, [/\ <span class="id">ury_base</span> <span class="id">E1</span>, <span class="id">ury_base</span> <span class="id">E2</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">E1</span> `&amp;` <span class="id">E2</span>) \; (<span class="id">E1</span> `&amp;` <span class="id">E2</span>) `&lt;=` <span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof388')">Proof.</span></div>
<div class="proofscript" id="proof388">
<span class="id">case</span>; <span class="id">case</span> =&gt; <span class="id">L</span> <span class="id">R</span> [/= <span class="id">oL</span> <span class="id">oR</span> <span class="id">AL</span> <span class="id">cLR</span> &lt;-].<br/>
<span class="id">have</span> [<span class="id">R</span>' []] : <span class="kwd">exists</span> <span class="id">R</span>', [/\ <span class="id">open</span> <span class="id">R</span>', <span class="id">closure</span> <span class="id">L</span> `&lt;=` <span class="id">R</span>' &amp; <span class="id">closure</span> <span class="id">R</span>' `&lt;=` <span class="id">R</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> := @<span class="id">normalT</span> (<span class="id">closure</span> <span class="id">L</span>) (@<span class="id">closed_closure</span> <span class="id">T</span> <span class="id">L</span>).<br/>
&nbsp;&nbsp;<span class="id">case</span>/(<span class="id">_</span> <span class="id">R</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id">cLR</span> ?; <span class="id">apply</span>: <span class="id">open_nbhs_nbhs</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">V</span> /<span class="id">set_nbhsP</span> [<span class="id">U</span>] [? ? ? <span class="id">cVR</span>]; <span class="kwd">exists</span> <span class="id">U</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">subset_trans</span> <span class="id">_</span> <span class="id">cVR</span>); <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#subset_closure">closure_subset</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">oR</span>' <span class="id">cLR</span>' <span class="id">cR</span>'<span class="id">R</span>; <span class="kwd">exists</span> (<span class="id">apxU</span> (<span class="id">L</span>, <span class="id">R</span>')), (<span class="id">apxU</span> (<span class="id">R</span>', <span class="id">R</span>)).<br/>
<span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">L</span>, <span class="id">R</span>').<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">R</span>', <span class="id">R</span>) =&gt; //; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: (<span class="id">subset_trans</span> <span class="id">AL</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">subset_trans</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ury_unif_inv">_</a></span> <span class="id">cLR</span>'); <span class="id">exact</span>: <span class="id">subset_closure</span>.<br/>
<span class="id">case</span>=&gt; <span class="id">x</span> <span class="id">z</span> /= [<span class="id">y</span> [+ +] []].<br/>
(<span class="id">do</span> 4 (<span class="id">case</span>; <span class="id">case</span>=&gt; /= ? ?)); <span class="id">try</span> (<span class="kwd">by</span> <span class="id">left</span>); <span class="id">try</span> (<span class="kwd">by</span> <span class="id">right</span>);<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">nG</span> : (~ <span class="id">closure</span> ?<span class="id">S</span> ?<span class="id">y</span>), <span class="id">G</span> : ?<span class="id">S</span> ?<span class="id">y</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">subset_closure</span>: <span class="id">G</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">ury_unif</span> := <span class="id">smallest</span> <span class="id">Filter</span> <span class="id">ury_base</span>.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">ury_unif_filter</span> : <span class="id">Filter</span> <span class="id">ury_unif</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof389')">Proof.</span></div>
<div class="proofscript" id="proof389">
 <span class="id">exact</span>: <span class="id">smallest_filter_filter</span>. Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_unif_refl</span> <span class="id"><a name="normal_uniform_separator">E</a></span> : <span class="id">ury_unif</span> <span class="id">E</span> -&gt; [<span class="id">set</span> <span class="id">fg</span> | <span class="id">fg</span>.1 = <span class="id">fg</span>.2] `&lt;=` <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof390')">Proof.</span></div>
<div class="proofscript" id="proof390">
<span class="id">move</span>/(<span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.normal_uniform_separators.A">globally</a></span> [<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set</a></span> <span class="id">fg</span> | <span class="id">fg</span>.1 = <span class="id">fg</span>.2])); <span class="id">apply</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">globally_filter</span>.<br/>
<span class="id">exact</span>: <span class="id">ury_base_refl</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">set_prod_invK</span> (<span class="id">K</span> : <span class="id">set</span> (<span class="id">T</span> * <span class="id">T</span>)) : (<span class="id">K</span>^-1^-1)%<span class="id">classic</span> = <span class="id">K</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof391')">Proof.</span></div>
<div class="proofscript" id="proof391">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>; <span class="id">case</span>. Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_unif_inv</span> <span class="id">E</span> : <span class="id">ury_unif</span> <span class="id">E</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#Uniform.class">ury_unif</a></span> (<span class="id">E</span>^-1)%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof392')">Proof.</span></div>
<div class="proofscript" id="proof392">
<span class="id">move</span>=&gt; <span class="id">ufE</span> <span class="id">F</span> [/<span class="id">filter_inv</span> <span class="id">FF</span> <span class="id">urF</span>]; <span class="id">have</span> [] := <span class="id">ufE</span> [<span class="id">set</span> (<span class="id">V</span>^-1)%<span class="id">classic</span> | <span class="id">V</span> <span class="kwd">in</span> <span class="id">F</span>].<br/>
&nbsp;&nbsp;<span class="id">split</span> =&gt; // <span class="id">K</span> /<span class="id">ury_base_inv</span>/<span class="id">urF</span> /= ?; <span class="kwd">exists</span> (<span class="id">K</span>^-1)%<span class="id">classic</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">set_prod_invK</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">R</span> <span class="id">FR</span> &lt;-; <span class="id">rewrite</span> <span class="id">set_prod_invK</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_unif_split_iter</span> <span class="id">E</span> <span class="id"><a href="mathcomp.analysis.topology.html#subset_closure">n</a></span> :<br/>
&nbsp;&nbsp;<span class="id">filterI_iter</span> <span class="id">ury_base</span> <span class="id">n</span> <span class="id">E</span> -&gt; <span class="kwd">exists2</span> <span class="id">K</span> : <span class="id">set</span> (<span class="id">T</span> * <span class="id"><a href="mathcomp.analysis.topology.html#filterS">T</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#Urysohn.T">filterI_iter</a></span> <span class="id">ury_base</span> <span class="id">n</span>.+1 <span class="id">K</span> &amp; <span class="id">K</span>\;<span class="id">K</span> `&lt;=` <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof393')">Proof.</span></div>
<div class="proofscript" id="proof393">
<span class="id">elim</span>: <span class="id">n</span> <span class="id">E</span>; <span class="id">first</span> <span class="id">move</span>=&gt; <span class="id">E</span> [].<br/>
- <span class="id">move</span>=&gt; -&gt;; <span class="kwd">exists</span> <span class="id">setT</span> =&gt; //; <span class="kwd">exists</span> <span class="id">setT</span>; <span class="id"><a href="mathcomp.analysis.topology.html#filterS">first</a></span> <span class="kwd">by</span> <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">setT</span>; <span class="id">rewrite</span> ?<span class="id">setIT</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">left</span>.<br/>
- <span class="id">move</span>=&gt; /[<span class="id">dup</span>] /<span class="id">ury_base_split</span> [<span class="id">E1</span> [<span class="id">E2</span>] [? ? ? ?]]; <span class="kwd">exists</span> (<span class="id">E1</span> `&amp;` <span class="id">E2</span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> (<span class="kwd">exists</span> <span class="id">E1</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">right</span>); <span class="kwd">exists</span> <span class="id">E2</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">right</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">IH</span> <span class="id">E</span> /= [<span class="id">E1</span> /<span class="id">IH</span> [<span class="id">F1</span> <span class="id">F1n1</span> <span class="id">F1E1</span>]] [<span class="id">E2</span> /<span class="id">IH</span> [<span class="id">F2</span> <span class="id">F2n1</span> <span class="id">F2E2</span>]] <span class="id">E12E</span>.<br/>
<span class="kwd">exists</span> (<span class="id">F1</span> `&amp;` <span class="id">F2</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">F1</span> =&gt; //; <span class="kwd">exists</span> <span class="id">F2</span>.<br/>
<span class="id">move</span>=&gt; /= [<span class="id">x</span> <span class="id">z</span> ] [<span class="id">y</span> /= [<span class="id">K1xy</span> <span class="id">K2xy</span>] [<span class="id">K1yz</span> <span class="id">K2yz</span>]]; <span class="id">rewrite</span> -<span class="id">E12E</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">F1E1</span>; <span class="kwd">exists</span> <span class="id">y</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">F2E2</span>; <span class="kwd">exists</span> <span class="id">y</span>.<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_unif_split</span> <span class="id">E</span> : <span class="id">ury_unif</span> <span class="id">E</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">K</span>, <span class="id">ury_unif</span> <span class="id">K</span> &amp; <span class="id">K</span> \; <span class="id">K</span> `&lt;=` <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof394')">Proof.</span></div>
<div class="proofscript" id="proof394">
<span class="id">rewrite</span> /<span class="id">ury_unif</span> <span class="id">filterI_iterE</span>; <span class="id">case</span>=&gt; <span class="id">G</span> [<span class="id">n</span> <span class="id">_</span>] /<span class="id">ury_unif_split_iter</span> [].<br/>
<span class="id">move</span>=&gt; <span class="id">K</span> <span class="id">SnK</span> <span class="id">KG</span> <span class="id">GE</span>; <span class="kwd">exists</span> <span class="id">K</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">K</span> =&gt; //; <span class="kwd">exists</span> <span class="id">n</span>.+1.<br/>
<span class="id">exact</span>: (<span class="id">subset_trans</span> <span class="id">_</span> <span class="id">GE</span>).<br/>
Qed.</div>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id">ury_unif_covA</span> <span class="id">E</span> : <span class="id">ury_unif</span> <span class="id">E</span> -&gt; <span class="id">A</span> `*` <span class="id">A</span> `&lt;=` <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof395')">Proof.</span></div>
<div class="proofscript" id="proof395">
<span class="id">rewrite</span> /<span class="id">ury_unif</span> <span class="id">filterI_iterE</span>; <span class="id">case</span>=&gt; <span class="id">G</span> [<span class="id">n</span> <span class="id">_</span>] <span class="id">sG</span> /(<span class="id">subset_trans</span> <span class="id">_</span>); <span class="id">apply</span>.<br/>
<span class="id">elim</span>: <span class="id">n</span> <span class="id">G</span> <span class="id">sG</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="R:1740">move</a></span>=&gt; <span class="id">g</span> [-&gt; //| [[<span class="id">P</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set">Q</a></span>]]] [/= <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#uniform_separator">_</a></span> <span class="id">AP</span> <span class="id">cPQ</span> &lt;-] [<span class="id">x</span> <span class="id">y</span>] [/= /<span class="id">AP</span> ? ?].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">left</span>; <span class="id">split</span> =&gt; //=; <span class="id">apply</span>/<span class="id">cPQ</span>/<span class="id">subset_closure</span> =&gt; //; <span class="id">exact</span>: <span class="id">AP</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">IH</span> <span class="id">G</span> [<span class="id">R</span>] /<span class="id">IH</span> <span class="id">AAR</span> [<span class="id">M</span>] /<span class="id">IH</span> <span class="id">AAM</span> &lt;- <span class="id">z</span>; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">AAR</span> | <span class="id">exact</span>: <span class="id">AAM</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">urysohn_uniformType_mixin</span> :=<br/>
&nbsp;&nbsp;<span class="id">UniformMixin</span> <span class="id">ury_unif_filter</span> <span class="id">ury_unif_refl</span> <span class="id">ury_unif_inv</span> <span class="id">ury_unif_split</span> <span class="id">erefl</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">urysohn_topologicalTypeMixin</span> :=<br/>
&nbsp;&nbsp;<span class="id">topologyOfEntourageMixin</span> <span class="id">urysohn_uniformType_mixin</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">urysohn_filtered</span> := <span class="id">FilteredType</span> <span class="id">T</span> <span class="id">T</span> (<span class="id">nbhs_</span> <span class="id">ury_unif</span>).<br/>
<span class="kwd">Let</span> <span class="id">urysohn_topologicalType</span> :=<br/>
&nbsp;&nbsp;<span class="id">TopologicalType</span> <span class="id">urysohn_filtered</span> <span class="id">urysohn_topologicalTypeMixin</span>.<br/>
<span class="kwd">Let</span> <span class="id">urysohn_uniformType</span> := <span class="id">UniformType</span><br/>
&nbsp;&nbsp;<span class="id">urysohn_topologicalType</span> <span class="id">urysohn_uniformType_mixin</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">normal_uniform_separator</span> (<span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">closed</span> <span class="id">B</span> -&gt; <span class="id">A</span> `&amp;` <span class="id">B</span> = <span class="id">set0</span> -&gt; <span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof396')">Proof.</span></div>
<div class="proofscript" id="proof396">
<span class="id">move</span>=&gt; <span class="id">clA</span> <span class="id">clB</span> <span class="id">AB0</span>; <span class="id">have</span> /(<span class="id">_</span> (~`<span class="id">B</span>))[<span class="id">x</span> <span class="id">Ax</span>|] := <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">normalT</a></span> <span class="id">clA</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">open_nbhs_nbhs</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>/<span class="id">closed_openC</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>: <span class="id"><a name="A:1749">x</a></span> <span class="id"><a name="B:1750">Ax</a></span>; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">apply</a></span>/ <span class="id">disjoints_subset</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">V</span> /<span class="id">set_nbhsP</span> [<span class="id">U</span> [<span class="id">oU</span> <span class="id">AU</span> <span class="id">UV</span>]] <span class="id">cVcb</span>. <br/>
<span class="kwd">exists</span> (<span class="id">Uniform.class</span> <span class="id">urysohn_uniformType</span>), (<span class="id">apxU</span> (<span class="id">U</span>, ~` <span class="id">B</span>)); <span class="id">split</span> =&gt; //.<br/>
- <span class="id">move</span>=&gt; ?; <span class="id">apply</span>:<span class="id">sub_gen_smallest</span>; <span class="kwd">exists</span> (<span class="id">U</span>, ~`<span class="id">B</span>) =&gt; //; <span class="id">split</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">closed_openC</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.Rstruct.html#real_realType">move</a></span>: <span class="id">UV</span> =&gt; /<span class="id">closure_subset</span>/<span class="id">subset_trans</span>; <span class="id">apply</span>.<br/>
- <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>; <span class="id">case</span>=&gt; // <span class="id">a</span> <span class="id">b</span> [/=[<span class="id">Aa</span> <span class="id">Bb</span>] [[//]|]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id">subset_closure</span> ? := <span class="id">AU</span> <span class="id">_</span> <span class="id">Aa</span>; <span class="id">case</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> ? [<span class="id">E</span> <span class="id">gE</span>] /(@<span class="id">filterS</span> <span class="id">T</span>); <span class="id">apply</span>; <span class="id">move</span>: <span class="id">gE</span>.<br/>
<span class="id">rewrite</span> /<span class="id">ury_unif</span> <span class="id">filterI_iterE</span>; <span class="id">case</span> =&gt; <span class="id">K</span> /= [<span class="id">i</span> <span class="id">_</span>] /= <span class="id">uiK</span> <span class="id">KE</span>.<br/>
<span class="id">suff</span> : @<span class="id">nbhs</span> <span class="id">T</span> <span class="id">T</span> <span class="id">x</span> <span class="id">to_set</span> <span class="id">K</span> (<span class="id">x</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> =&gt; <span class="id">y</span> /<span class="id">KE</span>.<br/>
<span class="id">elim</span>: <span class="id">i</span> <span class="id">K</span> <span class="id">uiK</span> {<span class="id">E</span> <span class="id">KE</span>}; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">H</span> ? [<span class="id"><a href="mathcomp.analysis.normedtype.html#interval_open">N</a></span>] /<span class="id">H</span> ? [<span class="id">M</span>] /<span class="id">H</span> ? &lt;-; <span class="id">apply</span>: <span class="id">filterI</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">K</span> [-&gt;|]; <span class="id">first</span> <span class="id">exact</span>: <span class="id">filterT</span>.<br/>
<span class="id">move</span>=&gt; [[/= <span class="id">P</span> <span class="id">Q</span>] [/= <span class="id">oP</span> <span class="id">oQ</span> <span class="id">AP</span> <span class="id">cPQ</span> &lt;-]]; <span class="id">rewrite</span> /<span class="id">apxU</span> /=.<br/>
<span class="id">set</span> <span class="id">M</span> := [<span class="id">set</span> <span class="id">y</span> | <span class="id">_</span> \/ <span class="id">_</span>].<br/>
<span class="id">have</span> [<span class="id">Qx</span>|<span class="id">nQx</span>] := <span class="id">pselect</span> (<span class="id">Q</span> <span class="id">x</span>); <span class="id">first</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#preimage_setI">last</a></span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> -&gt; : <span class="id">M</span> = ~` <span class="id">closure</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">open_nbhs_nbhs</span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id">closed_openC</span>/<span class="id">closed_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">cPQ</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eqEsubset</span> /<span class="id">M</span>; <span class="id">split</span> =&gt; <span class="id">z</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">do</span> 2!<span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">right</span>; <span class="id">split</span> =&gt; // /<span class="id">cPQ</span>.<br/>
<span class="id">have</span> [<span class="id">nPx</span>|<span class="id">cPx</span>] := <span class="id">pselect</span> (<span class="id">closure</span> <span class="id">P</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">suff</span> -&gt; : <span class="id">M</span> = <span class="id">Q</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">open_nbhs_nbhs</span>; <span class="id"><a href="mathcomp.analysis.topology.html#closure">split</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">eqEsubset</span> /<span class="id">M</span>; <span class="id">split</span> =&gt; <span class="id">z</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">do</span> 2!<span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">left</span>; <span class="id">split</span>.<br/>
<span class="id">suff</span> -&gt; : <span class="id">M</span> = <span class="id"><a href="mathcomp.analysis.topology.html#closure_id">setT</a></span> <span class="kwd">by</span> <span class="id">exact</span>: <span class="id">filterT</span>.<br/>
<span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span> =&gt; // <span class="id">z</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">Qz</span>|/(<span class="id">subsetC</span> <span class="id">cPQ</span>)] := <span class="id">pselect</span> (<span class="id">Q</span> <span class="id">z</span>); <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">normal_uniform_separators</span>.<br/>
<span class="kwd">End</span> <span class="id">Urysohn</span>.<br/>
<span class="kwd">Lemma</span> <span class="id">uniform_separatorP</span> {<span class="id">T</span> : <span class="id">topologicalType</span>} {<span class="id">R</span> : <span class="id">realType</span>} (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">f</span> : <span class="id">T</span> -&gt; <span class="id">R</span>), [/\ <span class="id">continuous</span> <span class="id">f</span>, <span class="id">range</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed">f</a></span> `&lt;=` `[0, 1],<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> @` <span class="id">A</span> `&lt;=` [<span class="id">set</span> 0] &amp; <span class="id">f</span> @` <span class="id">B</span> `&lt;=` [<span class="id">set</span> 1]].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof397')">Proof.</span></div>
<div class="proofscript" id="proof397">
<span class="id">split</span>; <span class="id">first</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">do</a></span> [<span class="id">move</span>=&gt; ?; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#normalP.normal_spaceP">Urysohn</a></span> <span class="id">A</span> <span class="id">B</span>); <span class="id">split</span>].<br/>
- <span class="id">exact</span>: <span class="id">Urysohn_continuous</span>.<br/>
- <span class="id">exact</span>: <span class="id">Urysohn_range</span>.<br/>
- <span class="id">exact</span>: <span class="id">Urysohn_sub0</span>.<br/>
- <span class="id">exact</span>: <span class="id">Urysohn_sub1</span>.<br/>
<span class="id">case</span>=&gt; <span class="id">f</span> [<span class="id">ctsf</span> <span class="id">f01</span> <span class="id">fA0</span> <span class="id">fB1</span>]; <span class="id">pose</span> <span class="id">T</span>' := <span class="id">weak_pseudoMetricType</span> <span class="id">f</span>.<br/>
<span class="kwd">exists</span> (<span class="id">Uniform.class</span> <span class="id">T</span>'), ([<span class="id"><a href="mathcomp.analysis.normedtype.html#normalP">set</a></span> <span class="id">xy</span> | <span class="id">ball</span> (<span class="id">f</span> <span class="id">xy</span>.1) 1 (<span class="id">f</span> <span class="id">xy</span>.2)]); <span class="id">split</span>.<br/>
- <span class="kwd">exists</span> [<span class="id">set</span> <span class="id">xy</span> | <span class="id"><a name="X:1761">ball</a></span> <span class="id">xy</span>.1 1 <span class="id">xy</span>.2]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">entourage_ballE</span>; <span class="kwd">exists</span> 1 =&gt; //=.<br/>
- <span class="id">rewrite</span> -<span class="id">subset0</span> =&gt; -[<span class="id">a</span> <span class="id">b</span> [[/= <span class="id">Aa</span> <span class="id">Bb</span>]]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">imsub1</span> <span class="id">fA0</span>)// (<span class="id">imsub1</span> <span class="id"><a name="y:1762">fB1</a></span>)// /<span class="id">ball</span>/= <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">normr1</span> <span class="id">ltxx</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">U</span> [<span class="id">V</span> [[<span class="id">W</span> <span class="id">oW</span> &lt;- /=]]] ? /<span class="id">filterS</span>; <span class="id">apply</span>; <span class="id">apply</span>: <span class="id">ctsf</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">open_nbhs_nbhs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">normalP</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="id">topologicalType</span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">normal_spaceP</span> : [&lt;-&gt;<br/>
 <span class="id">normal_space</span> <span class="id">T</span>;<br/>
 <span class="kwd">forall</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>), <span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">closed</span> <span class="id">B</span> -&gt; <span class="id">A</span> `&amp;` <span class="id">B</span> = <span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id">A</span> <span class="id">B</span>;<br/>
 <span class="kwd">forall</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>), <span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">closed</span> <span class="id">B</span> -&gt; <span class="id">A</span> `&amp;` <span class="id">B</span> = <span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">U</span> <span class="id">V</span>, [/\ <span class="id">open</span> <span class="id">U</span>, <span class="id">open</span> <span class="id">V</span>, <span class="id">A</span> `&lt;=` <span class="id">U</span>, <span class="id">B</span> `&lt;=` <span class="id">V</span> &amp; <span class="id">U</span> `&amp;` <span class="id">V</span> = <span class="id">set0</span>] ].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof398')">Proof.</span></div>
<div class="proofscript" id="proof398">
<span class="id">pose</span> <span class="id">R</span> := <span class="id">Rstruct.real_realType</span>.<br/>
<span class="id">tfae</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id"><a href="mathcomp.classical.classical_sets.html#disjoints_subset">exact</a></span>: <span class="id">normal_uniform_separator</span>.<br/>
- <span class="id">move</span>=&gt; + <span class="id">A</span> <span class="id">B</span> <span class="id">clA</span> <span class="id">clB</span> <span class="id">AB0</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">clA</span> <span class="id">clB</span> <span class="id">AB0</span>) /(@<span class="id">uniform_separatorP</span> <span class="id">_</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">case</span>=&gt; <span class="id">f</span> [<span class="id">cf</span> <span class="id">f01</span> /<span class="id">imsub1P</span>/<span class="id">subset_trans</span> <span class="id">fa0</span> /<span class="id">imsub1P</span>/<span class="id">subset_trans</span> <span class="id">fb1</span>].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">f</span>@^-1` `]-1, 1/2[), (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetC">f</a></span> @^-1` `]1/2, 2[); <span class="id">split</span>.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">open_comp</span>; [|<span class="id">exact</span>: <span class="id">interval_open</span>].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#closure_subset">open_comp</a></span>; [|<span class="id">exact</span>: <span class="id">interval_open</span>].<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fa0</span> =&gt; <span class="id">x</span>/= -&gt;; <span class="id">rewrite</span> (@<span class="id">in_itv</span> <span class="id">_</span> <span class="id">R</span>)/=; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id">apply</span>: <span class="id">fb1</span> =&gt; <span class="id">x</span>/= -&gt;; <span class="id">rewrite</span> (@<span class="id">in_itv</span> <span class="id">_</span> <span class="id">R</span>)/= <span class="id">ltr_pdivr_mulr</span>// <span class="id">mul1r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr1n</span>.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> -<span class="id">preimage_setI</span> ?<span class="id">set_itvoo</span> -<span class="id">subset0</span> =&gt; <span class="id">t</span> [] /<span class="id">andP</span> [<span class="id">_</span> +] /<span class="id">andP</span> [+ <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">lt_trans</span> /[<span class="id">apply</span>]; <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
<span class="id">move</span>=&gt; + <span class="id">A</span> <span class="id">clA</span> <span class="id">B</span> /<span class="id">set_nbhsP</span> [<span class="id">C</span> [<span class="id">oC</span> <span class="id">AC</span> <span class="id">CB</span>]].<br/>
<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">have</a></span> <span class="id">AC0</span> : <span class="id">A</span> `&amp;` ~` <span class="id">C</span> = <span class="id">set0</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#pselect">disjoints_subset</a></span>; <span class="id">rewrite</span> <span class="id">setCK</span>.<br/>
<span class="id">case</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">clA</span> (<span class="id">open_closedC</span> <span class="id">oC</span>) <span class="id">AC0</span>) =&gt; <span class="id">U</span> [<span class="id">V</span>] [<span class="id"><a href="mathcomp.analysis.normedtype.html#uniform_regular">oU</a></span> <span class="id">oV</span> <span class="id">AU</span> <span class="id">nCV</span> <span class="id">UV0</span>].<br/>
<span class="kwd">exists</span> (~` <span class="id">closure</span> <span class="id">V</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">set_nbhsP</span>; <span class="kwd">exists</span> <span class="id">U</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">subsetCr</span>; <span class="id">have</span> := <span class="id">open_closedC</span> <span class="id">oU</span>; <span class="id">rewrite</span> <span class="id">closure_id</span> =&gt; -&gt;.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">closure_subset</span>/<span class="id">disjoints_subset</span>; <span class="id">rewrite</span> <span class="id">setIC</span>.<br/>
<span class="id">apply</span>/(<span class="id">subset_trans</span> <span class="id">_</span> <span class="id">CB</span>)/<span class="id">subsetCP</span>; <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">apply</a></span>: (<span class="id">subset_trans</span> <span class="id">nCV</span>).<br/>
<span class="id">apply</span>/<span class="id">subsetCr</span>; <span class="id">have</span> := <span class="id">open_closedC</span> <span class="id">oV</span>; <span class="id">rewrite</span> <span class="id"><a name="x:1775">closure_id</a></span> =&gt; -&gt;.<br/>
<span class="id">exact</span>/<span class="id">closure_subset</span>/<span class="id">subsetC</span>/<span class="id">subset_closure</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">normal_openP</span> : <span class="id">normal_space</span> <span class="id">T</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>), <span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">closed</span> <span class="id">B</span> -&gt; <span class="id">A</span> `&amp;` <span class="id">B</span> = <span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">U</span> <span class="id">V</span>, [/\ <span class="id">open</span> <span class="id">U</span>, <span class="id">open</span> <span class="id">V</span>, <span class="id">A</span> `&lt;=` <span class="id">U</span>, <span class="id">B</span> `&lt;=` <span class="id">V</span> &amp; <span class="id"><a href="mathcomp.analysis.topology.html#open_interior">U</a></span> `&amp;` <span class="id">V</span> = <span class="id">set0</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof399')">Proof.</span></div>
<div class="proofscript" id="proof399">
 <span class="id">exact</span>: (<span class="id">normal_spaceP</span> 0%<span class="id">N</span> 2%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">normal_separatorP</span> : <span class="id">normal_space</span> <span class="id">T</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span> <span class="id">B</span> : <span class="id">set</span> <span class="id">T</span>), <span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">closed</span> <span class="id">B</span> -&gt; <span class="id">A</span> `&amp;` <span class="id">B</span> = <span class="id">set0</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">uniform_separator</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">A</a></span> <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof400')">Proof.</span></div>
<div class="proofscript" id="proof400">
 <span class="id">exact</span>: (<span class="id">normal_spaceP</span> 0%<span class="id">N</span> 1%<span class="id">N</span>). Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">normalP</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">pseudometric_normal</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">uniform_regular</span> {<span class="id">X</span> : <span class="id">uniformType</span>} : @<span class="id">regular_space</span> <span class="id">X</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof401')">Proof.</span></div>
<div class="proofscript" id="proof401">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">A</span>; <span class="id">rewrite</span> /= -<span class="id">nbhs_entourageE</span> =&gt; -[<span class="id">E</span> <span class="id">entE</span>].<br/>
<span class="id">move</span>/(<span class="id">subset_trans</span> (<span class="id">ent_closure</span> <span class="id">entE</span>)) =&gt; <span class="id">ExA</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">set</span> <span class="id">y</span> | <span class="id">split_ent</span> <span class="id">E</span> (<span class="id"><a href="mathcomp.analysis.topology.html#ball_sym">x</a></span>, <span class="id">y</span>)]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">split_ent</span> <span class="id">E</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">regular_openP</span> {<span class="id">T</span> : <span class="id">topologicalType</span>} (<span class="id">x</span> : <span class="id">T</span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">x</span>, @<span class="id">regular_space</span> <span class="id">T</span>} &lt;-&gt; <span class="kwd">forall</span> <span class="id">A</span>, <span class="id">closed</span> <span class="id">A</span> -&gt; ~ <span class="id">A</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">U</span> <span class="id">V</span> : <span class="id">set</span> <span class="id">T</span>, [/\ <span class="id">open</span> <span class="id">U</span>, <span class="id">open</span> <span class="id">V</span>, <span class="id">U</span> <span class="id">x</span>, <span class="id">A</span> `&lt;=` <span class="id">V</span> &amp; <span class="id">U</span> `&amp;` <span class="id">V</span> = <span class="id">set0</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof402')">Proof.</span></div>
<div class="proofscript" id="proof402">
<span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; + <span class="id">A</span> <span class="id">clA</span> <span class="id">nAx</span> =&gt; /(<span class="id">_</span> (~` <span class="id">A</span>)) [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">open_nbhs_nbhs</span>; <span class="id">split</span> =&gt; //; <span class="id">exact</span>: <span class="id">closed_openC</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">U</span> <span class="id">Ux</span> /<span class="id">subsetC</span>; <span class="id">rewrite</span> <span class="id">setCK</span> =&gt; <span class="id">AclU</span>; <span class="kwd">exists</span> (<span class="id">interior</span> <span class="id">U</span>).<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (~` <span class="id">closure</span> <span class="id">U</span>) ; <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_interior</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">closed_openC</span>/<span class="id">closed_closure</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">disjoints_subset</span>; <span class="id">rewrite</span> <span class="id">setCK</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">subset_trans</span> (@<span class="id">interior_subset</span> <span class="id">_</span> <span class="id">_</span>) (@<span class="id"><a href="mathcomp.analysis.topology.html#open">subset_closure</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">move</span>=&gt; + <span class="id">A</span> <span class="id">Ax</span> =&gt; /(<span class="id">_</span> (~` <span class="id">interior</span> <span class="id">A</span>)) []; [|<span class="id">exact</span>|].<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">open_closedC</span>/<span class="id">open_interior</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">U</span> [<span class="id">V</span>] [<span class="id">oU</span> <span class="id"><a href="mathcomp.analysis.topology.html#openT">oV</a></span> <span class="id">Ux</span> /<span class="id">subsetC</span> <span class="id">cAV</span> /<span class="id"><a href="mathcomp.classical.boolp.html#funeqE">disjoints_subset</a></span> <span class="id">UV</span>]; <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.boolp.html#trueE">U</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">open_nbhs_nbhs</span>.<br/>
<span class="id">apply</span>: (<span class="id">subset_trans</span> (<span class="id">closure_subset</span> <span class="id">UV</span>)).<br/>
<span class="id">move</span>/<span class="id">open_closedC</span>/<span class="id">closure_id</span> : <span class="id">oV</span> =&gt; &lt;-.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">subset_trans</span> <span class="id">cAV</span>); <span class="id">rewrite</span> <span class="id">setCK</span>; <span class="id">exact</span>: <span class="id">interior_subset</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">pseudometric_normal</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">X</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>} :<br/>
&nbsp;&nbsp;<span class="id">normal_space</span> <span class="id">X</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof403')">Proof.</span></div>
<div class="proofscript" id="proof403">
<span class="id">apply</span>/<span class="id">normal_openP</span> =&gt; <span class="id">A</span> <span class="id">B</span> <span class="id">clA</span> <span class="id">clB</span> <span class="id">AB0</span>.<br/>
<span class="id">have</span> <span class="id">eps</span>' (<span class="id">D</span> : <span class="id">set</span> <span class="id">X</span>) : <span class="id">closed</span> <span class="id">D</span> -&gt; <span class="kwd">forall</span> <span class="id">x</span>, <span class="kwd">exists</span> <span class="id">eps</span> : {<span class="id">posnum</span> <span class="id">R</span>}, ~ <span class="id">D</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ball</span> <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span> `&amp;` <span class="id">D</span> = <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">clD</span> <span class="id">x</span>; <span class="id">have</span> [<span class="id">nDx</span>|?] := <span class="id">pselect</span> (~ <span class="id">D</span> <span class="id">x</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> 1%:<span class="id">pos</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">regular_openP</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">clD</span>) [//|] := @<span class="id">uniform_regular</span> <span class="id">X</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">U</span> [<span class="id">V</span>] [+ <span class="id">oV</span>] <span class="id">Ux</span> /<span class="id">subsetC</span> <span class="id">BV</span> /<span class="id">disjoints_subset</span> <span class="id">UV0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">openE</span> /<span class="id">interior</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">Ux</span>); <span class="id">rewrite</span> -<span class="id">nbhs_ballE</span> =&gt; -[].<br/>
&nbsp;&nbsp;<span class="id">move</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">eps</span>] <span class="id">beU</span>; <span class="kwd">exists</span> <span class="id">eps</span> =&gt; <span class="id">_</span>; <span class="id">apply</span>/<span class="id">disjoints_subset</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">subset_trans</span> <span class="id">beU</span> (<span class="id">subset_trans</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#leey">UV0</a></span> <span class="id">_</span>)).<br/>
<span class="id">pose</span> <span class="id">epsA</span> <span class="id">x</span> := <span class="id">projT1</span> (<span class="id">cid</span> (<span class="id">eps</span>' <span class="id">_</span> <span class="id">clB</span> <span class="id"><a href="mathcomp.analysis.ereal.html#ereal_nbhs">x</a></span>)).<br/>
<span class="id">pose</span> <span class="id">epsB</span> <span class="id">x</span> := <span class="id">projT1</span> (<span class="id">cid</span> (<span class="id">eps</span>' <span class="id">_</span> <span class="id">clA</span> <span class="id">x</span>)).<br/>
<span class="kwd">exists</span> (\<span class="id">bigcup_</span>(<span class="id">x</span> <span class="kwd">in</span> <span class="id">A</span>) <span class="id">interior</span> (<span class="id">ball</span> <span class="id">x</span> ((<span class="id">epsA</span> <span class="id">x</span>)%:<span class="id">num</span> / 2)%:<span class="id">pos</span>%:<span class="id">num</span>)).<br/>
<span class="kwd">exists</span> (\<span class="id">bigcup_</span>(<span class="id">x</span> <span class="kwd">in</span> <span class="id">B</span>) <span class="id">interior</span> (<span class="id">ball</span> <span class="id">x</span> ((<span class="id">epsB</span> <span class="id">x</span>)%:<span class="id">num</span> / 2)%:<span class="id">pos</span>%:<span class="id">num</span>)).<br/>
<span class="id">split</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">bigcup_open</span> =&gt; ? ?; <span class="id">exact</span>: <span class="id">open_interior</span>.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">bigcup_open</span> =&gt; ? ?; <span class="id">exact</span>: <span class="id">open_interior</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> ?; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">exact</span>: <span class="id">nbhsx_ballx</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">y</a></span> ?; <span class="kwd">exists</span> <span class="id">y</span> =&gt; //; <span class="id">exact</span>: <span class="id">nbhsx_ballx</span>.<br/>
- <span class="id"><a href="mathcomp.analysis.normedtype.html#open_ereal_lt">apply</a></span>/<span class="id">eqP</span>/<span class="id">negPn</span>/<span class="id">negP</span>/<span class="id">set0P</span> =&gt; -[<span class="id">z</span> [[<span class="id">x</span> <span class="id">Ax</span> /<span class="id">interior_subset</span> <span class="id">Axe</span>]]].<br/>
&nbsp;&nbsp;<span class="id">case</span>=&gt; <span class="id">y</span> <span class="id">By</span> /<span class="id">interior_subset</span> <span class="id">Bye</span>; <span class="id">have</span> <span class="id"><a name="y:1795">nAy</a></span> : ~ <span class="id">A</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">AB0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_closed_sets_ereal.R">setIC</a></span> =&gt; /<span class="id">disjoints_subset</span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">nBx</span> : ~ <span class="id">B</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">move</span>/<span class="id">disjoints_subset</span>: <span class="id">AB0</span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [|/<span class="id">ltW</span>] := <span class="id">leP</span> ((<span class="id">epsA</span> <span class="id">x</span>)%:<span class="id">num</span> / 2) ((<span class="id">epsB</span> <span class="id">y</span>)%:<span class="id">num</span> / 2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id">ball_sym</span>: <span class="id">Axe</span> =&gt; /[<span class="id">swap</span>] /<span class="id">le_ball</span> /[<span class="id">apply</span>] /(<span class="id">ball_triangle</span> <span class="id">Bye</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">splitr</span> =&gt; <span class="id">byx</span>; <span class="id">have</span> := <span class="id">projT2</span> (<span class="id">cid</span> (<span class="id">eps</span>' <span class="id">_</span> <span class="id">clA</span> <span class="id">y</span>)) <span class="id">nAy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subset0</span>; <span class="id">apply</span>; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">byx</span>|].<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">ball_sym</span>: <span class="id">Bye</span> =&gt;/[<span class="id">swap</span>] /<span class="id">le_ball</span> /[<span class="id">apply</span>] /(<span class="id">ball_triangle</span> <span class="id">Axe</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">splitr</span> =&gt; <span class="id">byx</span>; <span class="id">have</span> := <span class="id">projT2</span> (<span class="id">cid</span> (<span class="id">eps</span>' <span class="id">_</span> <span class="id">clB</span> <span class="id">x</span>)) <span class="id">nBx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">subset0</span>; <span class="id">apply</span>; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">byx</span>|].<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">pseudometric_normal</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">open_closed_sets_ereal</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span> .<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">r</span> : <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_ereal_lt</span> <span class="id">y</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">r</span> : <span class="id">R</span> | <span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof404')">Proof.</span></div>
<div class="proofscript" id="proof404">
<span class="id">case</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>||] /=; <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_lt</span>.<br/>
- <span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span>] = <span class="id">setT</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id">openT</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; ? /=; <span class="id">rewrite</span> <span class="id">ltry</span> <span class="id">trueE</span>.<br/>
- <span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span>] = <span class="id">set0</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id">open0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; ? /=; <span class="id">rewrite</span> <span class="id">falseE</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_ereal_gt</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_ereal_lt_ereal">y</a></span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">r</span> : <span class="id">R</span> | <span class="id">y</span> &lt; <span class="id">r</span>%:<span class="id">E</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof405')">Proof.</span></div>
<div class="proofscript" id="proof405">
<span class="id">case</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>||] /=; <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_gt</span>.<br/>
- <span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span>] = <span class="id">set0</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id">open0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; ? /=; <span class="id">rewrite</span> <span class="id">falseE</span>.<br/>
- <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negP">_</a></span> : [<span class="id">set</span> <span class="id">_</span> | <span class="id">_</span>] = <span class="id">setT</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id">openT</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; ? /=; <span class="id">rewrite</span> <span class="id">ltNyr</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_closed_sets_ereal">trueE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_ereal_lt</span>' <span class="id">x</span> <span class="id">y</span> : <span class="id">x</span> &lt; <span class="id">y</span> -&gt; <span class="id">ereal_nbhs</span> <span class="id">x</span> (<span class="kwd">fun</span> <span class="id"><a name="closure_left_right_open.R">u</a></span> =&gt; <span class="id">u</span> &lt; <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof406')">Proof.</span></div>
<div class="proofscript" id="proof406">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>|//|] <span class="id">xy</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_ereal_lt</span>.<br/>
- <span class="id">case</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>||//] /= <span class="kwd">in</span> <span class="id">xy</span> *; <span class="id"><a name="x:1824">last</a></span> <span class="kwd">by</span> <span class="kwd">exists</span> 0%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span> =&gt; //= <span class="id">x</span> ?.<br/>
- <span class="id">case</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>||//] /= <span class="kwd">in</span> <span class="id">xy</span> *.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">num_real</span>; <span class="id">split</span> =&gt; //= <span class="id">x</span> ?.<br/>
&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="kwd">exists</span> 0%<span class="id">R</span>; <span class="id">split</span> =&gt; // <span class="id">x</span> /<span class="id">lt_le_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">leey</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_ereal_gt</span>' <span class="id">x</span> <span class="id">y</span> : <span class="id">y</span> &lt; <span class="id">x</span> -&gt; <span class="id">ereal_nbhs</span> <span class="id">x</span> (<span class="kwd">fun</span> <span class="id">u</span> =&gt; <span class="id">y</span> &lt; <span class="id">u</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof407')">Proof.</span></div>
<div class="proofscript" id="proof407">
<span class="id">case</span>: <span class="id">x</span> =&gt; [<span class="id">x</span>||] //=; <span class="id">do</span> ?[<span class="id">exact</span>: <span class="id">open_ereal_gt</span>];<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">y</span> =&gt; [<span class="id">y</span>||] //=; <span class="id">do</span> ?<span class="kwd">by</span> <span class="kwd">exists</span> 0.<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">num_real</span>.<br/>
- <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#closure_left_right_open.R">move</a></span>=&gt; <span class="id">_</span>; <span class="kwd">exists</span> 0%<span class="id"><a name="x:1827">R</a></span>; <span class="id">split</span> =&gt; // <span class="id">x</span>; <span class="id">apply</span>/<span class="id">le_lt_trans</span>; <span class="id">rewrite</span> <span class="id">leNye</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_ereal_lt_ereal</span> <span class="id">x</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">y</span> | <span class="id">y</span> &lt; <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof408')">Proof.</span></div>
<div class="proofscript" id="proof408">
<span class="id">have</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">openr</a></span> <span class="id">r</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &lt; <span class="id">r</span>%:<span class="id">E</span>].<br/>
&nbsp;&nbsp;<span class="id">case</span> =&gt; [? | // | ?]; [<span class="id">rewrite</span> /= <span class="id">lte_fin</span> =&gt; <span class="id">xy</span> | <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (@<span class="id">open_ereal_lt</span> <span class="id">r</span>%:<span class="id">E</span>); <span class="id">rewrite</span> <span class="id">openE</span>; <span class="id">apply</span>; <span class="id">rewrite</span> /= <span class="id">lte_fin</span>.<br/>
<span class="id">case</span>: <span class="id">x</span> =&gt; [ // | | [] // ].<br/>
<span class="id">suff</span> -&gt; : [<span class="id">set</span> <span class="id">y</span> | <span class="id">y</span> &lt; +<span class="id">oo</span>] = \<span class="id">bigcup_r</span> [<span class="id">set</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span> | <span class="id">y</span> &lt; <span class="id">r</span>%:<span class="id">E</span>].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">bigcup_open</span>.<br/>
<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; -[<span class="id">r</span> | | ]/=.<br/>
- <span class="id">rewrite</span> <span class="id">ltry</span>; <span class="id">split</span> =&gt; // <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">r</span> + 1)%<span class="id">R</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">ltr_addl</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltxx</span>; <span class="id">split</span> =&gt; // -[] <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">leey</span>.<br/>
- <span class="kwd">by</span> <span class="id">split</span> =&gt; // <span class="id">_</span>; <span class="kwd">exists</span> 0%<span class="id">R</span> =&gt; //=.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_ereal_gt_ereal</span> <span class="id">x</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">y</span> | <span class="id">x</span> &lt; <span class="id">y</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof409')">Proof.</span></div>
<div class="proofscript" id="proof409">
<span class="id">have</span> <span class="id">openr</span> <span class="id">r</span> : <span class="id">open</span> [<span class="id">set</span> <span class="id">x</span> | <span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">x</span>].<br/>
&nbsp;&nbsp;<span class="id">case</span> =&gt; [? | ? | //]; [<span class="id">rewrite</span> /= <span class="id">lte_fin</span> =&gt; <span class="id">xy</span> | <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (@<span class="id">open_ereal_gt</span> <span class="id">r</span>%:<span class="id">E</span>); <span class="id">rewrite</span> <span class="id">openE</span>; <span class="id">apply</span>; <span class="id">rewrite</span> /= <span class="id">lte_fin</span>.<br/>
<span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.base2">case</a></span>: <span class="id">x</span> =&gt; [ // | [] // | ].<br/>
<span class="id">suff</span> -&gt; : [<span class="id">set</span> <span class="id">y</span> | -<span class="id">oo</span> &lt; <span class="id">y</span>] = \<span class="id">bigcup_r</span> [<span class="id">set</span> <span class="id">y</span> : \<span class="id">bar</span> <span class="id">R</span> | <span class="id">r</span>%:<span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.ClassDef.K">E</a></span> &lt; <span class="id">y</span>].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">bigcup_open</span>.<br/>
<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; -[<span class="id">r</span> | | ]/=.<br/>
- <span class="id">rewrite</span> <span class="id">ltNyr</span>; <span class="id">split</span> =&gt; // <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">r</span> - 1)%<span class="id">R</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
- <span class="kwd">by</span> <span class="id">split</span> =&gt; // <span class="id">_</span>; <span class="kwd">exists</span> 0%<span class="id">R</span> =&gt; //=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltxx</span>; <span class="id">split</span> =&gt; // -[] <span class="id">x</span> <span class="id">_</span> /=; <span class="id">rewrite</span> <span class="id">ltNge</span> <span class="id">leNye</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ereal_le_ereal</span> <span class="id">y</span> : <span class="id">closed</span> [<span class="id">set</span> <span class="id"><a name="mT:1844">x</a></span> | <span class="id">y</span> &lt;= <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof410')">Proof.</span></div>
<div class="proofscript" id="proof410">
<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">x</span> | <span class="id">y</span> &lt;= <span class="id">x</span>] = ~` [<span class="id">set</span> <span class="id">x</span> | <span class="id">y</span> &gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.Pack">x</a></span>]); <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.ClassDef.phK">last</a></span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span>=&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.Pack">x</a></span>; <span class="id">split</span>=&gt; [<span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.ClassDef.cT">rx</a></span>|/<span class="id">negP</span>]; [<span class="id">apply</span>/<span class="id"><a name="CompleteNormedModule.xclass">negP</a></span>|]; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
<span class="id">exact</span>/<span class="id">open_closedC</span>/<span class="id">open_ereal_lt_ereal</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ereal_ge_ereal</span> <span class="id">y</span> : <span class="id">closed</span> [<span class="id">set</span> <span class="id">x</span> | <span class="id">y</span> &gt;= <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof411')">Proof.</span></div>
<div class="proofscript" id="proof411">
<span class="id">rewrite</span> (<span class="id">_</span> : [<span class="id">set</span> <span class="id">x</span> | <span class="id">y</span> &gt;= <span class="id">x</span>] = ~` [<span class="id">set</span> <span class="id">x</span> | <span class="id">y</span> &lt; <span class="id">x</span>]); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span>=&gt; <span class="id">x</span>; <span class="id">split</span>=&gt; [<span class="id">rx</span>|/<span class="id">negP</span>]; [<span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.xclass">apply</a></span>/<span class="id">negP</span>|]; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
<span class="id">exact</span>/<span class="id">open_closedC</span>/<span class="id">open_ereal_gt_ereal</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">open_closed_sets_ereal</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">closure_left_right_open</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filtered.Pack">R</a></span> : <span class="id">realFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">z</span> : <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">closure_gt</span> <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Pack">z</a></span> : <span class="id">closure</span> ([<span class="id">set</span> <span class="id">x</span> | <span class="id">z</span> &lt; <span class="id">x</span>] : <span class="id">set</span> <span class="id">R</span>) = [<span class="id">set</span> <span class="id">x</span> | <span class="id">z</span> &lt;= <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof412')">Proof.</span></div>
<div class="proofscript" id="proof412">
<span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">closureE</span>; <span class="id">apply</span>: <span class="id">smallest_sub</span> =&gt; // ? /<span class="id">ltW</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">v</span>; <span class="id">rewrite</span> /<span class="id">mkset</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.Pack">predU1P</a></span>[&lt;-{<span class="id">v</span>}|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">exact</span>: <span class="id">subset_closure</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">B</span> [<span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Pack">e</a></span> /= <span class="id">e0</span> <span class="id">zB</span>]; <span class="id">near</span> (0 : <span class="id">R</span>)^'+ =&gt; <span class="id">d</span>.<br/>
<span class="kwd">exists</span> (<span class="id">z</span> + <span class="id">d</span>); <span class="id">split</span>; <span class="id">rewrite</span> /= ?<span class="id">ltr_addl</span>//; <span class="id">apply</span>: <span class="id">zB</span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span> <span class="id">addNKr</span> <span class="id">normrN</span> <span class="id">gtr0_norm</span>//.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closure_lt</span> <span class="id">z</span> : <span class="id">closure</span> ([<span class="id">set</span> <span class="id">x</span> : <span class="id">R</span> | <span class="id">x</span> &lt; <span class="id">z</span>]) = [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &lt;= <span class="id">z</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof413')">Proof.</span></div>
<div class="proofscript" id="proof413">
<span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.ClassDef.phK">closureE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.xclass">smallest_sub</a></span> =&gt; // ? /<span class="id">ltW</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">v</span>; <span class="id">rewrite</span> /<span class="id">mkset</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-{<span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.completeType">z</a></span>}|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">exact</span>: <span class="id">subset_closure</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">B</span> [<span class="id">e</span> /= <span class="id">e0</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#PseudoMetricNormedZmodule.Pack">vB</a></span>]; <span class="id">near</span> (0 : <span class="id">R</span>)^'+ =&gt; <span class="id">d</span>.<br/>
<span class="kwd">exists</span> (<span class="id">v</span> - <span class="id">d</span>); <span class="id">split</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.xclass">rewrite</a></span> /= ?<span class="id">gtr_addl</span> ?<span class="id">oppr_lt0</span>//; <span class="id">apply</span>: <span class="id">vB</span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrC</span> <span class="id">addrNK</span> <span class="id">gtr0_norm</span>//; <span class="id">near</span>: <span class="id">d</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">closure_left_right_open</span>.<br/>
<br/>
<h2> Complete Normed Modules </h2>
<br/>
<span class="kwd">Module</span> <span class="id">CompleteNormedModule</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ClassDef</span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id">K</span> : <span class="id">numFieldType</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id">class_of</span> (<span class="id">T</span> : <span class="kwd">Type</span>) := <span class="kwd">Class</span> {<br/>
&nbsp;&nbsp;<span class="id">base</span> : <span class="id">NormedModule.class_of</span> <span class="id">K</span> <span class="id">T</span> ;<br/>
&nbsp;&nbsp;<span class="id">mixin</span> : <span class="id">Complete.axiom</span> (<span class="id">PseudoMetric.Pack</span> <span class="id">base</span>)<br/>
}.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">NormedModule.class_of</span>.<br/>
<span class="kwd">Definition</span> <span class="id">base2</span> <span class="id">T</span> (<span class="id">cT</span> : <span class="id">class_of</span> <span class="id">T</span>) : <span class="id">CompletePseudoMetric.class_of</span> <span class="id">K</span> <span class="id">T</span> :=<br/>
&nbsp;&nbsp;@<span class="id">CompletePseudoMetric.Class</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id">base</span> <span class="id">T</span> <span class="id">cT</span>) (@<span class="id">mixin</span> <span class="id">T</span> <span class="id">cT</span>).<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">base2</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">CompletePseudoMetric.class_of</span>.<br/>
<br/>
<span class="kwd">Structure</span> <span class="id">type</span> (<span class="id">phK</span> : <span class="id">phant</span> <span class="id">K</span>) := <span class="id">Pack</span> { <span class="id">sort</span>; <span class="id">_</span> : <span class="id">class_of</span> <span class="id">sort</span> }.<br/>
<span class="id">Local</span> <span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id">phK</span> : <span class="id">phant</span> <span class="id">K</span>) (<span class="id">cT</span> : <span class="id">type</span> <span class="id">phK</span>) (<span class="id">T</span> : <span class="kwd">Type</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">class</span> := <span class="kwd">let</span>: <span class="id">Pack</span> <span class="id">_</span> <span class="id">c</span> := <span class="id">cT</span> <span class="kwd">return</span> <span class="id">class_of</span> <span class="id">cT</span> <span class="kwd">in</span> <span class="id">c</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">pack</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">bT</span> (<span class="id">b</span> : <span class="id">NormedModule.class_of</span> <span class="id">K</span> <span class="id">T</span>) &amp; <span class="id">phant_id</span> (@<span class="id">NormedModule.class</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">bT</span>) <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">mT</span> <span class="id">m</span> &amp; <span class="id">phant_id</span> (@<span class="id">Complete.class</span> <span class="id">mT</span>) (@<span class="id">Complete.Class</span> <span class="id">T</span> <span class="id">b</span> <span class="id">m</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Pack</span> <span class="id">phK</span> (@<span class="kwd">Class</span> <span class="id">T</span> <span class="id">b</span> <span class="id">m</span>).<br/>
<span class="kwd">Let</span> <span class="id">xT</span> := <span class="kwd">let</span>: <span class="id">Pack</span> <span class="id">T</span> <span class="id">_</span> := <span class="id">cT</span> <span class="kwd">in</span> <span class="id">T</span>.<br/>
<span class="kwd">Notation</span> <span class="id">xclass</span> := (<span class="id">class</span> : <span class="id">class_of</span> <span class="id">xT</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">eqType</span> := @<span class="id">Equality.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">choiceType</span> := @<span class="id">Choice.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">zmodType</span> := @<span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.zmodType">GRing.Zmodule.Pack</a></span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pointedType</span> := @<span class="id">Pointed.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">filteredType</span> := @<span class="id">Filtered.Pack</span> <span class="id">cT</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">topologicalType</span> := @<span class="id">Topological.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.pointedType">uniformType</a></span> := @<span class="id">Uniform.Pack</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricType</span> := @<span class="id">PseudoMetric.Pack</span> <span class="id">K</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;@<span class="id">PseudoMetricNormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">normedModType</span> := @<span class="id">NormedModule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completeType</span> := @<span class="id">Complete.Pack</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#CompleteNormedModule.pseudoMetricType">cT</a></span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completePseudoMetricType</span> := @<span class="id">CompletePseudoMetric.Pack</span> <span class="id">K</span> <span class="id">cT</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">complete_zmodType</span> := @<span class="id">GRing.Zmodule.Pack</span> <span class="id">completeType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">complete_lmodType</span> := @<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">completeType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">complete_normedZmodType</span> := @<span class="id">Num.NormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">completeType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">complete_pseudoMetricNormedZmodType</span> :=<br/>
&nbsp;&nbsp;@<span class="id">PseudoMetricNormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">completeType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">complete_normedModType</span> := @<span class="id">NormedModule.Pack</span> <span class="id">K</span> <span class="id">phK</span> <span class="id">completeType</span> <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completePseudoMetric_lmodType</span> : <span class="id">GRing.Lmodule.type</span> <span class="id">phK</span> :=<br/>
&nbsp;&nbsp;@<span class="id">GRing.Lmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span> (<span class="id">CompletePseudoMetric.sort</span> <span class="id">completePseudoMetricType</span>)<br/>
&nbsp;&nbsp;<span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completePseudoMetric_zmodType</span> : <span class="id">GRing.Zmodule.type</span> :=<br/>
&nbsp;&nbsp;@<span class="id">GRing.Zmodule.Pack</span> (<span class="id">CompletePseudoMetric.sort</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phant">completePseudoMetricType</a></span>)<br/>
&nbsp;&nbsp;<span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completePseudoMetric_normedModType</span> : <span class="id">NormedModule.type</span> <span class="id">phK</span> :=<br/>
&nbsp;&nbsp;@<span class="id">NormedModule.Pack</span> <span class="id">K</span> <span class="id">phK</span> (<span class="id">CompletePseudoMetric.sort</span> <span class="id">completePseudoMetricType</span>)<br/>
&nbsp;&nbsp;<span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completePseudoMetric_normedZmodType</span> : <span class="id">Num.NormedZmodule.type</span> <span class="id">phK</span> :=<br/>
&nbsp;&nbsp;@<span class="id">Num.NormedZmodule.Pack</span> <span class="id">K</span> <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">phK</a></span><br/>
&nbsp;&nbsp;(<span class="id">CompletePseudoMetric.sort</span> <span class="id">completePseudoMetricType</span>) <span class="id">xclass</span>.<br/>
<span class="kwd">Definition</span> <span class="id">completePseudoMetric_pseudoMetricNormedZmodType</span> :<br/>
&nbsp;&nbsp;<span class="id">PseudoMetricNormedZmodule.type</span> <span class="id">phK</span> :=<br/>
&nbsp;&nbsp;@<span class="id">PseudoMetricNormedZmodule.Pack</span> <span class="id">K</span> <span class="id">phK</span><br/>
&nbsp;&nbsp;(<span class="id">CompletePseudoMetric.sort</span> <span class="id">completePseudoMetricType</span>) <span class="id">xclass</span>.<br/>
<span class="kwd">End</span> <span class="id">ClassDef</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">Coercion</span> <span class="id">base</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">NormedModule.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">base2</span> : <span class="id">class_of</span> &gt;-&gt; <span class="id">CompletePseudoMetric.class_of</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">sort</span> : <span class="id"><a href="mathcomp.analysis.topology.html#ball">type</a></span> &gt;-&gt; <span class="id">Sortclass</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">eqType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Equality.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">eqType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">choiceType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Choice.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">choiceType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">zmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Zmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">zmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pseudoMetricNormedZmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">PseudoMetricNormedZmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">normedZmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Num.NormedZmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedZmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">lmodType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">GRing.Lmodule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">lmodType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pointedType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Pointed.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pointedType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">filteredType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Filtered.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">filteredType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">topologicalType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Topological.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">topologicalType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">uniformType</span> : <span class="id">type</span> &gt;-&gt; <span class="id"><a href="mathcomp.analysis.topology.html#nearP_dep">Uniform.type</a></span>.<br/>
<span class="kwd">Canonical</span> <span class="id">uniformType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">pseudoMetricType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">PseudoMetric.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">pseudoMetricType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">normedModType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">NormedModule.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">normedModType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">completeType</span> : <span class="id">type</span> &gt;-&gt; <span class="id">Complete.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completeType</span>.<br/>
<span class="kwd">Coercion</span> <span class="id">completePseudoMetricType</span> : <span class="id"><a name="R:1852">type</a></span> &gt;-&gt; <span class="id">CompletePseudoMetric.type</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completePseudoMetricType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">complete_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">complete_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">complete_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">complete_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">complete_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completePseudoMetric_lmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completePseudoMetric_zmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completePseudoMetric_normedModType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completePseudoMetric_normedZmodType</span>.<br/>
<span class="kwd">Canonical</span> <span class="id">completePseudoMetric_pseudoMetricNormedZmodType</span>.<br/>
<span class="kwd">Notation</span> <span class="id">completeNormedModType</span> <span class="id">K</span> := (<span class="id">type</span> (<span class="id">Phant</span> <span class="id">K</span>)).<br/>
<span class="kwd">Notation</span> "[ '<span class="id">completeNormedModType</span>' <span class="id">K</span> '<span class="id">of</span>' <span class="id">T</span> ]" := (@<span class="id">pack</span> <span class="id">_</span> (<span class="id">Phant</span> <span class="id">K</span>) <span class="id">T</span> <span class="id">_</span> <span class="id">_</span> <span class="id">idfun</span> <span class="id">_</span> <span class="id">_</span> <span class="id">idfun</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">format</span> "[ '<span class="id">completeNormedModType</span>'  <span class="id">K</span>  '<span class="id">of</span>'  <span class="id">T</span> ]") : <span class="id">form_scope</span>.<br/>
<span class="kwd">End</span> <span class="id">Exports</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id">CompleteNormedModule</span>.<br/>
<br/>
<span class="kwd">Export</span> <span class="id">CompleteNormedModule.Exports</span>.<br/>
<br/>
<h1> Extended Types </h1>
<br/>
<h1> The topology on real numbers </h1>
<br/>
<span class="kwd">Lemma</span> <span class="id">R_complete</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">R</span>)) : <span class="id">ProperFilter</span> <span class="id">F</span> -&gt; <span class="id">cauchy</span> <span class="id">F</span> -&gt; <span class="id">cvg</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof414')">Proof.</span></div>
<div class="proofscript" id="proof414">
<span class="id">move</span>=&gt; <span class="id">FF</span> /<span class="id">cauchy_ballP</span> <span class="id">F_cauchy</span>; <span class="id">apply</span>/<span class="id">cvg_ex</span>.<br/>
<span class="id">pose</span> <span class="id">D</span> := \<span class="id">bigcap_</span>(<span class="id">A</span> <span class="kwd">in</span> <span class="id">F</span>) (<span class="id">down</span> <span class="id">A</span>).<br/>
<span class="id">have</span> /<span class="id">cauchy_ballP</span> /<span class="id">cauchyP</span> /(<span class="id">_</span> 1) [//|<span class="id">x0</span> <span class="id">x01</span>] := <span class="id">F_cauchy</span>.<br/>
<span class="id">have</span> <span class="id">D_has_sup</span> : <span class="id">has_sup</span> <span class="id">D</span>; <span class="id">first</span> <span class="id">split</span>.<br/>
- <span class="kwd">exists</span> (<span class="id">x0</span> - 1) =&gt; <span class="id">A</span> <span class="id">FA</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span> <span class="id">F</span> =&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">downP</span>; <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_distl_subl</span> // <span class="id">ltW</span> //; <span class="id">near</span>: <span class="id">x</span>.<br/>
- <span class="kwd">exists</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">x0</a></span> + 1); <span class="id">apply</span>/<span class="id">ubP</span> =&gt; <span class="id">x</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">x01</span>) /<span class="id">downP</span> [<span class="id">y</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">ball</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]/(<span class="id">_</span> (<span class="id">_</span> &lt; <span class="id">_</span>)) <span class="id">ltr_distl</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_le_ub">ltr_subl_addr</a></span> =&gt; /<span class="id">andP</span>[/<span class="id">ltW</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">le_trans</span> <span class="id">_</span>) <span class="id">yx01</span> <span class="id">_</span> /<span class="id">yx01</span>.<br/>
<span class="kwd">exists</span> (<span class="id">sup</span> <span class="id">D</span>).<br/>
<span class="id">apply</span>/<span class="id">cvgrPdist_le</span> =&gt; /= <span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">eps</span>]; <span class="id">near</span>=&gt; <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_distl</span>; <span class="id">move</span>/<span class="id">ubP</span>: (<span class="id">sup_upper_bound</span> <span class="id">D_has_sup</span>) =&gt; -&gt; //=.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">sup_le_ub</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">case</span>: <span class="id">D_has_sup</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Fxeps</span> : <span class="id">F</span> (<span class="id">ball_</span> [<span class="id">eta</span> <span class="id">normr</span>] <span class="id">x</span> <span class="id">eps</span>%:<span class="id">num</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">nearP_dep</span>; <span class="id">apply</span>: <span class="id">F_cauchy</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">ubP</span> =&gt; <span class="id">y</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">Fxeps</span>) /<span class="id">downP</span>[<span class="id">z</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">ball_</span>/= <span class="id">ltr_distl</span> <span class="id">ltr_subl_addr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">andP</span> [/<span class="id">ltW</span> /(<span class="id">le_trans</span> <span class="id">_</span>) <span class="id">le_xeps</span> <span class="id">_</span> /<span class="id">le_xeps</span>].<br/>
<span class="id">rewrite</span> /<span class="id">D</span> /= =&gt; <span class="id">A</span> <span class="id">FA</span>; <span class="id">near</span> <span class="id">F</span> =&gt; <span class="id">y</span>.<br/>
<span class="id">apply</span>/<span class="id">downP</span>; <span class="kwd">exists</span> <span class="id">y</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_subl_addl</span> -<span class="id">ler_subl_addr</span> <span class="id">ltW</span> //.<br/>
<span class="id">suff</span>: `|<span class="id">x</span> - <span class="id">y</span>| &lt; <span class="id">eps</span>%:<span class="id">num</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_norml</span> =&gt; /<span class="id">andP</span>[<span class="id">_</span>].<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">y</span>; <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id">nearP_dep</span>; <span class="id">apply</span>: <span class="id">F_cauchy</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Canonical</span> <span class="id">R_regular_completeType</span> (<span class="id">R</span> : <span class="id">realType</span>) :=<br/>
&nbsp;&nbsp;<span class="id">CompleteType</span> <span class="id">R</span>^<span class="id">o</span> (@<span class="id">R_complete</span> <span class="id">R</span>). <br/>
<span class="kwd">Canonical</span> <span class="id">R_regular_CompleteNormedModule</span> (<span class="id">R</span> : <span class="id">realType</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">completeNormedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]. <br/>
<br/>
<span class="kwd">Canonical</span> <span class="id">R_completeType</span> (<span class="id">R</span> : <span class="id">realType</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">completeType</span> <span class="id">of</span> <span class="id">R</span> <span class="kwd">for</span> [<span class="id">completeType</span> <span class="id">of</span> <span class="id">R</span>^<span class="id">o</span>]].<br/>
<span class="kwd">Canonical</span> <span class="id">R_CompleteNormedModule</span> (<span class="id">R</span> : <span class="id">realType</span>) :=<br/>
&nbsp;&nbsp;[<span class="id">completeNormedModType</span> <span class="id">R</span> <span class="id">of</span> <span class="id">R</span>].<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_seq_bounded</span>.<br/>
<span class="kwd">Context</span> {<span class="id">K</span> : <span class="id">numFieldType</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "'+<span class="id">oo</span>'" := (@<span class="id">pinfty_nbhs</span> <span class="id">K</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_seq_bounded</span> {<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>} (<span class="id">a</span> : <span class="id">nat</span> -&gt; <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id">cvg</span> <span class="id">a</span> -&gt; <span class="id">bounded_fun</span> <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof415')">Proof.</span></div>
<div class="proofscript" id="proof415">
<span class="id">move</span>=&gt; /<span class="id">cvg_bounded</span>/<span class="id">ex_bound</span> =&gt; -[/= <span class="id">Moo</span>] =&gt; -[<span class="id">N</span> <span class="id">_</span> /(<span class="id">_</span> <span class="id">_</span>) <span class="id">aM</span>].<br/>
<span class="id">have</span> <span class="id">Moo_real</span> : <span class="id">Moo</span> \<span class="id">is</span> <span class="id">Num.real</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ger0_real</span> ?(<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">aM</span> <span class="id">N</span> <span class="id">_</span>))/=.<br/>
<span class="id">rewrite</span> /<span class="id">bounded_near</span> /=; <span class="id">near</span>=&gt; <span class="id">M</span> =&gt; <span class="id">n</span> <span class="id">_</span>.<br/>
<span class="id">have</span> [<span class="id">nN</span>|<span class="id">nN</span>]/= := <span class="id">leqP</span> <span class="id">N</span> <span class="id">n</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">le_trans</span> (<span class="id">aM</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">move</span>: <span class="id">n</span> <span class="id"><a name="a:1875">nN</a></span>; <span class="id">suff</span> /(<span class="id">_</span> (<span class="id">Ordinal</span> <span class="id">_</span>)) : <span class="kwd">forall</span> <span class="id">n</span> : '<span class="id">I_N</span>, `|<span class="id">a</span> <span class="id">n</span>| &lt;= <span class="id">M</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">M</span>; <span class="id">apply</span>: <span class="id">filter_forall</span> =&gt; <span class="id">i</span>; <span class="id">apply</span>: <span class="id">nbhs_pinfty_ge</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_seq_bounded</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">closure_sup</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">A</span> !=<span class="id">set0</span> -&gt; <span class="id">has_ubound</span> <span class="id">A</span> -&gt; <span class="id">closure</span> <span class="id">A</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#near_infty_natSinv_lt">sup</a></span> <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof416')">Proof.</span></div>
<div class="proofscript" id="proof416">
<span class="id">move</span>=&gt; <span class="id">A0</span> ?; <span class="id">have</span> [|<span class="id">AsupA</span>] := <span class="id">pselect</span> (<span class="id">A</span> (<span class="id">sup</span> <span class="id">A</span>)); <span class="id">first</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">exact</a></span>: <span class="id">subset_closure</span>.<br/>
<span class="id">rewrite</span> <span class="id">closure_limit_point</span>; <span class="id">right</span> =&gt; <span class="id">U</span> /<span class="id">nbhs_ballP</span>[<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">e</span>]] <span class="id">supAeU</span>.<br/>
<span class="id">suff</span> [<span class="id">x</span> [<span class="id">Ax</span> /<span class="id">andP</span>[<span class="id">sAex</span> <span class="id">xsA</span>]]] : <span class="kwd">exists</span> <span class="id">x</span>, <span class="id">A</span> <span class="id">x</span> /\ <span class="id">sup</span> <span class="id">A</span> - <span class="id">e</span>%:<span class="id">num</span> &lt; <span class="id">x</span> &lt; <span class="id">sup</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id"><a name="interval.R">x</a></span>; <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_eqF</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">supAeU</span>; <span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id">ltr_distl</span> (<span class="id">addrC</span> <span class="id">x</span> <span class="id"><a name="z:1880">e</a></span>%:<span class="id">num</span>) -<span class="id">ltr_subl_addl</span> <span class="id">sAex</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">andbT</span> (<span class="id">le_lt_trans</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_interval">_</a></span> <span class="id">xsA</span>) // <span class="id">ler_subl_addl</span> <span class="id">ler_addr</span>.<br/>
<span class="id">apply</span>: <span class="id">contrapT</span> =&gt; /<span class="id">forallNP</span> <span class="id">Ax</span>.<br/>
<span class="id">suff</span> /(<span class="id">sup_le_ub</span> <span class="id">A0</span>) : <span class="id">ubound</span> <span class="id">A</span> (<span class="id">sup</span> <span class="id">A</span> - <span class="id">e</span>%:<span class="id">num</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">leNgt</span> =&gt; /<span class="id">negP</span>; <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> <span class="id">ltr_addr</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">Ay</span>; <span class="id">have</span> /<span class="id">not_andP</span>[//|/<span class="id">negP</span>] := <span class="id">Ax</span> <span class="id">y</span>.<br/>
<span class="id">rewrite</span> <span class="id">negb_and</span> <span class="id">leNgt</span> =&gt; /<span class="id">orP</span>[//|]; <span class="id">apply</span>: <span class="id">contra</span> =&gt; <span class="id"><a name="i:1885">sAey</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">lt_neqAle</span> <span class="id">sup_upper_bound</span> // <span class="id">andbT</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">contra_not_neq</span> <span class="id">AsupA</span> =&gt; &lt;-.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">near_infty_natSinv_lt</span> (<span class="id">R</span> : <span class="id">archiFieldType</span>) (<span class="id">e</span> : {<span class="id">posnum</span> <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">n</span> \<span class="id">near</span> \<span class="id">oo</span>, <span class="id">n</span>.+1%:<span class="id">R</span>^-1 &lt; <span class="id">e</span>%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof417')">Proof.</span></div>
<div class="proofscript" id="proof417">
<span class="id">near</span>=&gt; <span class="id">n</span>; <span class="id">rewrite</span> -(@<span class="id">ltr_pmul2r</span> <span class="id">_</span> <span class="id">n</span>.+1%:<span class="id"><a href="mathcomp.analysis.normedtype.html#interval">R</a></span>) // <span class="id">mulVr</span> ?<span class="id">unitfE</span> //.<br/>
<span class="id">rewrite</span> -(@<span class="id">ltr_pmul2l</span> <span class="id">_</span> <span class="id"><a name="ereal_is_hausdorff.R">e</a></span>%:<span class="id">num</span>^-1) // <span class="id">mulr1</span> <span class="id">mulrA</span> <span class="id">mulVr</span> ?<span class="id">unitfE</span> // <span class="id">mul1r</span>.<br/>
<span class="id">rewrite</span> (<span class="id">lt_trans</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#ereal_is_hausdorff.R">archi_boundP</a></span> <span class="id">_</span>)) // <span class="id">ltr_nat</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> (<span class="id">Num.bound</span> <span class="id">e</span>%:<span class="id">num</span>^-1).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">near_infty_natSinv_expn_lt</span> (<span class="id">R</span> : <span class="id">archiFieldType</span>) (<span class="id">e</span> : {<span class="id">posnum</span> <span class="id">R</span>}) :<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">n</span> \<span class="id">near</span> \<span class="id">oo</span>, 1 / 2 ^+ <span class="id">n</span> &lt; <span class="id">e</span>%:<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">num</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof418')">Proof.</span></div>
<div class="proofscript" id="proof418">
<span class="id">near</span>=&gt; <span class="id">n</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id">ltr_pmul2r</span> <span class="id">_</span> (2 ^+ <span class="id">n</span>)) // -?<span class="id">natrX</span> ?<span class="id">ltr0n</span> ?<span class="id">expn_gt0</span>//.<br/>
<span class="id">rewrite</span> <span class="id">mul1r</span> <span class="id">mulVr</span> ?<span class="id">unitfE</span> ?<span class="id">gt_eqF</span>// ?<span class="id">ltr0n</span> ?<span class="id">expn_gt0</span>//.<br/>
<span class="id">rewrite</span> -(@<span class="id">ltr_pmul2l</span> <span class="id">_</span> <span class="id">e</span>%:<span class="id">num</span>^-1) // <span class="id">mulr1</span> <span class="id">mulrA</span> <span class="id">mulVr</span> ?<span class="id">unitfE</span> // <span class="id">mul1r</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">lt_trans</a></span> (<span class="id">archi_boundP</span> <span class="id">_</span>)) // <span class="id">natrX</span> <span class="id">upper_nthrootP</span> //.<br/>
<span class="id">near</span>: <span class="id">n</span>; <span class="id">eexists</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span>; <span class="id">exact</span>.<br/>
<span class="kwd">by</span> [].<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limit_pointP</span> (<span class="id">T</span> : <span class="id">archiFieldType</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">T</span>) (<span class="id">x</span> : <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">limit_point</span> <span class="id">A</span> <span class="id">x</span> &lt;-&gt; <span class="kwd">exists</span> <span class="id">a_</span> : <span class="id">nat</span> -&gt; <span class="id">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[/\ <span class="id">a_</span> @` <span class="id">setT</span> `&lt;=` <span class="id">A</span>, <span class="kwd">forall</span> <span class="id">n</span>, <span class="id">a_</span> <span class="id">n</span> != <span class="id">x</span> &amp; <span class="id">a_</span> --&gt; <span class="id">x</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof419')">Proof.</span></div>
<div class="proofscript" id="proof419">
<span class="id">split</span>=&gt; [<span class="id">Ax</span>|[<span class="id">a_</span> [<span class="id">aTA</span> <span class="id">a_x</span>] <span class="id">ax</span>]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">U</span> /<span class="id">ax</span>[<span class="id">m</span> <span class="id">_</span> <span class="id">a_U</span>]; <span class="id">near</span> \<span class="id">oo</span> =&gt; <span class="id">n</span>; <span class="kwd">exists</span> (<span class="id">a_</span> <span class="id">n</span>); <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span> <span class="id">aTA</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span> <span class="id">a_U</span>; <span class="id">near</span>: <span class="id">n</span>; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
<span class="id">pose</span> <span class="id">U</span> := <span class="kwd">fun</span> <span class="id">n</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#open_ereal_lt_ereal">nat</a></span> =&gt; [<span class="id">set</span> <span class="id">z</span> : <span class="id">T</span> | `|<span class="id">x</span> - <span class="id">z</span>| &lt; <span class="id">n</span>.+1%:<span class="id">R</span>^-1].<br/>
<span class="id">suff</span> /(<span class="id">_</span> <span class="id"><a name="ereal_hausdorff">_</a></span>)/<span class="id">cid</span>-/<span class="id">all_sig</span>[<span class="id">a_</span> <span class="id">anx</span>] : <span class="kwd">forall</span> <span class="id">n</span>, <span class="kwd">exists</span> <span class="id">a</span>, <span class="id">a</span> != <span class="id">x</span> /\ (<span class="id"><a href="mathcomp.analysis.normedtype.html#ereal_is_hausdorff.R">U</a></span> <span class="id">n</span> `&amp;` <span class="id">A</span>) <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">a_</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a</span> [<span class="id">n</span> <span class="id">_</span> &lt;-]; <span class="id">have</span> [? []] := <span class="id">anx</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> [] := <span class="id">anx</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;- <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">n</span>;  <span class="id">have</span> [? [] <span class="id">Uan</span> <span class="id">Aan</span>] := <span class="id">anx</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">Uan</span>)// <span class="id">ltW</span>//; <span class="id">near</span>: <span class="id">n</span>; <span class="id">exact</span>: <span class="id">near_infty_natSinv_lt</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">n</span>; <span class="id">have</span> : <span class="id">nbhs</span> (<span class="id">x</span> : <span class="id">T</span>) (<span class="id">U</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">nbhs_ballP</span> (<span class="id">x</span>:<span class="id">T</span>) (<span class="id">U</span> <span class="id">n</span>)); <span class="id">rewrite</span> <span class="id">nbhs_ballE</span>; <span class="kwd">exists</span> <span class="id">n</span>.+1%:<span class="id">R</span>^-1 =&gt; //=.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">Ax</span>/<span class="id">cid</span> =&gt; [/= <span class="id">an</span> [<span class="id">anx</span> <span class="id">Aan</span> <span class="id">Uan</span>]]; <span class="kwd">exists</span> <span class="id">an</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#lte_fin">end_near</a></span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_open_ereal_gt">interval</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">numDomainType</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">is_interval</span> (<span class="id">E</span> : <span class="id">set</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id">E</span> <span class="id">x</span> -&gt; <span class="id">E</span> <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">x</span> &lt;= <span class="id">z</span> &lt;= <span class="id">y</span> -&gt; <span class="id">E</span> <span class="id">z</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_intervalPlt</span> (<span class="id">E</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">is_interval</span> <span class="id">E</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id">E</span> <span class="id">x</span> -&gt; <span class="id">E</span> <span class="id">y</span> -&gt; <span class="kwd">forall</span> <span class="id">z</span>, <span class="id">x</span> &lt; <span class="id">z</span> &lt; <span class="id">y</span> -&gt; <span class="id">E</span> <span class="id">z</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof420')">Proof.</span></div>
<div class="proofscript" id="proof420">
<span class="id">split</span>=&gt; <span class="id">iE</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Ex</span> <span class="id">Ey</span> <span class="id">z</span> /<span class="id">andP</span>[].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xz</span> <span class="id">zy</span>; <span class="id">apply</span>: (<span class="id">iE</span> <span class="id">x</span> <span class="id">y</span>); <span class="id">rewrite</span> ?<span class="id">ltW</span>.<br/>
<span class="id">rewrite</span> !<span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-//|<span class="id">xz</span>] /<span class="id">predU1P</span>[-&gt;//|<span class="id">zy</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">iE</span> <span class="id">x</span> <span class="id">y</span>); <span class="id">rewrite</span> ?<span class="id">xz</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_is_interval</span> (<span class="id">i</span> : <span class="id">interval</span> <span class="id">R</span>) : <span class="id">is_interval</span> [<span class="id">set</span>` <span class="id">i</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof421')">Proof.</span></div>
<div class="proofscript" id="proof421">
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">i</span> =&gt; -[[]<span class="id">a</span>|[]] [[]<span class="id">b</span>|[]] // <span class="id">x</span> <span class="id">y</span> /=; <span class="id">do</span> ?[<span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id">itv_ge</span>//];<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">xi</span> <span class="id">yi</span> <span class="id">z</span>; <span class="id">rewrite</span> -[<span class="id">x</span> &lt;= <span class="id">z</span> &lt;= <span class="id">y</span>]/(<span class="id">z</span> \<span class="kwd">in</span> `[<span class="id">x</span>, <span class="id">y</span>]); <span class="id">apply</span>/<span class="id">subitvP</span>;<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">subitvE</span> /<span class="id">Order.le</span>/= ?(<span class="id">itvP</span> <span class="id">xi</span>, <span class="id">itvP</span> <span class="id">yi</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">interval</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ereal_is_hausdorff</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">r</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_open_ereal_ninfty">R</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_image_EFin</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_open_ereal_pinfty">x</a></span> : <span class="id">R</span>) (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> <span class="id">x</span> <span class="id">X</span> -&gt; <span class="id">nbhs</span> <span class="id">x</span>%:<span class="id">E</span> ((<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id">r</span>%:<span class="id">E</span>) @` <span class="id">X</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof422')">Proof.</span></div>
<div class="proofscript" id="proof422">
<span class="id">case</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">xeX</span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //= <span class="id">r</span> <span class="id">xer</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">r</span> =&gt; //; <span class="id">apply</span> <span class="id">xeX</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_open_ereal_lt</span> <span class="id">r</span> (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>) : <span class="id">r</span> &lt; <span class="id">f</span> <span class="id">r</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> <span class="id">r</span>%:<span class="id">E</span> [<span class="id">set</span> <span class="id">y</span> | <span class="id">y</span> &lt; (<span class="id">f</span> <span class="id">r</span>)%:<span class="id">E</span>]%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof423')">Proof.</span></div>
<div class="proofscript" id="proof423">
<span class="id">move</span>=&gt; <span class="id">xfx</span>; <span class="id">rewrite</span> <span class="id">nbhsE</span> /=; <span class="id">eexists</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span> <span class="id">open_ereal_lt_ereal</span> | <span class="id">rewrite</span> /= <span class="id"><a name="f:1905">lte_fin</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_open_ereal_gt</span> <span class="id">r</span> (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>) : <span class="id">f</span> <span class="id">r</span> &lt; <span class="id">r</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> <span class="id">r</span>%:<span class="id">E</span> [<span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">set</a></span> <span class="id">y</span> | (<span class="id">f</span> <span class="id">r</span>)%:<span class="id">E</span> &lt; <span class="id">y</span>]%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof424')">Proof.</span></div>
<div class="proofscript" id="proof424">
<span class="id">move</span>=&gt; <span class="id">xfx</span>; <span class="id">rewrite</span> <span class="id">nbhsE</span> /=; <span class="id">eexists</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span> <span class="id">open_ereal_gt_ereal</span> | <span class="id">rewrite</span> /= <span class="id">lte_fin</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_open_ereal_pinfty</span> <span class="id">r</span> : (<span class="id">nbhs</span> +<span class="id">oo</span> [<span class="id">set</span> <span class="id">y</span> | <span class="id">r</span>%:<span class="id">E</span> &lt; <span class="id">y</span>])%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof425')">Proof.</span></div>
<div class="proofscript" id="proof425">
<span class="id">rewrite</span> <span class="id">nbhsE</span> /=; <span class="id">eexists</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#ProperFilterERealType.T">last</a></span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span> <span class="id">open_ereal_gt_ereal</span> | <span class="id">rewrite</span> /= <span class="id">ltry</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_open_ereal_ninfty</span> <span class="id">r</span> : (<span class="id">nbhs</span> -<span class="id">oo</span> [<span class="id">set</span> <span class="id">y</span> | <span class="id">y</span> &lt; <span class="id">r</span>%:<span class="id">E</span>])%<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof426')">Proof.</span></div>
<div class="proofscript" id="proof426">
<span class="id">rewrite</span> <span class="id">nbhsE</span> /=; <span class="id">eexists</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span> <span class="id">open_ereal_lt_ereal</span> | <span class="id">rewrite</span> /= <span class="id">ltNyr</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ereal_hausdorff</span> : <span class="id">hausdorff_space</span> (<span class="id">ereal_topologicalType</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof427')">Proof.</span></div>
<div class="proofscript" id="proof427">
<span class="id">move</span>=&gt; -[<span class="id">r</span>| |] // [<span class="id">r</span>' | |] //=.<br/>
- <span class="id">move</span>=&gt; <span class="id">rr</span>'; <span class="id"><a href="mathcomp.analysis.normedtype.html#ProperFilterERealType.a">congr</a></span> (<span class="id">_</span>%:<span class="id">E</span>); <span class="id">apply</span> <span class="id">Rhausdorff</span> =&gt; /= <span class="id">A</span> <span class="id">B</span> <span class="id">rA</span> <span class="id">r</span>'<span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [/= <span class="id">z</span> [[<span class="id">r0</span> ? <span class="id">r0z</span>] [<span class="id">r1</span> ?]]] :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span>' <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">nbhs_image_EFin</a></span> <span class="id">rA</span>) (<span class="id">nbhs_image_EFin</span> <span class="id">r</span>'<span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">r0z</span> =&gt; -[<span class="id">r1r0</span>]; <span class="kwd">exists</span> <span class="id">r0</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> -<span class="id">r1r0</span>.<br/>
- <span class="id">have</span> /(@<span class="id">nbhs_open_ereal_lt</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">x</span> + 1)) <span class="id"><a name="R:1935">loc_r</a></span> : <span class="id">r</span> &lt; <span class="id">r</span> + 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.R">_</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">loc_r</span> (<span class="id">nbhs_open_ereal_pinfty</span> (<span class="id">r</span> + 1))) =&gt; -[<span class="id">z</span> [<span class="id">zr</span> <span class="id">rz</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">lt_trans</span> <span class="id">rz</span> <span class="id">zr</span>); <span class="id">rewrite</span> <span class="id">lte_fin</span> <span class="id">ltxx</span>.<br/>
- <span class="id">have</span> /(@<span class="id"><a href="mathcomp.analysis.topology.html#cvg">nbhs_open_ereal_gt</a></span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">x</span> - 1)) <span class="id">loc_r</span> : <span class="id">r</span> - 1 &lt; <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">ltr_addl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">loc_r</span> (<span class="id">nbhs_open_ereal_ninfty</span> (<span class="id">r</span> - 1))) =&gt; -[<span class="id">z</span> [<span class="id">rz</span> <span class="id">zr</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">lt_trans</span> <span class="id">zr</span> <span class="id">rz</span>); <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
- <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">have</a></span> /(@<span class="id">nbhs_open_ereal_lt</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">x</span> + 1)) <span class="id">loc_r</span>' : <span class="id">r</span>' &lt; <span class="id">r</span>' + 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id"><a name="limeMl">_</a></span> (<span class="id">nbhs_open_ereal_pinfty</span> (<span class="id">r</span>' + 1)) <span class="id">loc_r</span>') =&gt; -[<span class="id"><a href="mathcomp.analysis.topology.html#lim">z</a></span> [<span class="id">r</span>'<span class="id">z</span> <span class="id">zr</span>']].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">lt_trans</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">zr</a></span>' <span class="id">r</span>'<span class="id">z</span>); <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
- <span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs_open_ereal_pinfty</span> 0) (<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeMl">nbhs_open_ereal_ninfty</a></span> 0)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; -[<span class="id">z</span> [<span class="id">zx</span> <span class="id">xz</span>]]; <span class="id">move</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">lt_trans</a></span> <span class="id">xz</span> <span class="id">zx</span>); <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
- <span class="id">have</span> /(@<span class="id">nbhs_open_ereal_gt</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">x</span> - 1)) <span class="id">yB</span> : <span class="id">r</span>' - 1 &lt; <span class="id">r</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs_open_ereal_ninfty</span> (<span class="id"><a href="mathcomp.analysis.topology.html#cvg">r</a></span>' - 1)) <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">yB</a></span>) =&gt; -[<span class="id">z</span> [<span class="id">zr</span>' <span class="id">r</span>'<span class="id">z</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">lt_trans</a></span> <span class="id">r</span>'<span class="id">z</span> <span class="id">zr</span>'); <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
- <span class="id">move</span>/(<span class="id">_</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">_</a></span> <span class="id">_</span> (<span class="id">nbhs_open_ereal_ninfty</span> 0) (<span class="id">nbhs_open_ereal_pinfty</span> 0)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.topology.html#cvg">move</a></span>=&gt; -[<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">z</a></span> [<span class="id">zO</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim">Oz</a></span>]]; <span class="id">move</span>: (<span class="id">lt_trans</span> <span class="id">Oz</span> <span class="id">zO</span>); <span class="id">rewrite</span> <span class="id">ltxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ereal_is_hausdorff</span>.<br/>
<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">hausdorff_space</span> <span class="id">_</span>) =&gt; <span class="id">solve</span>[<span class="id">apply</span>: <span class="id">ereal_hausdorff</span>] : <span class="id">core</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">renamed</span> <span class="id">to</span> `<span class="id">nbhs_image_EFin</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">nbhs_image_ERFin</span> := <span class="id">nbhs_image_EFin</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">EFin_lim</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">f</span> : <span class="id">nat</span> -&gt; <span class="id">R</span>) : <span class="id">cvg</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">EFin</span> \<span class="id">o</span> <span class="id">f</span>) = (<span class="id">lim</span> <span class="id">f</span>)%:<span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof428')">Proof.</span></div>
<div class="proofscript" id="proof428">
<span class="id">move</span>=&gt; <span class="id"><a href="mathcomp.analysis.topology.html#cvgP">cf</a></span>; <span class="id">apply</span>: <span class="id">cvg_lim</span> =&gt; //; <span class="id">move</span>/<span class="id"><a name="a:1958">cvg_ex</a></span> : <span class="id">cf</span> =&gt; [<span class="id">l</span> <span class="id">fl</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">cvg_comp</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">fl</a></span>); <span class="id">rewrite</span> (<span class="id">cvg_lim</span> <span class="id">_</span> <span class="id">fl</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">ProperFilterERealType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id"><a href="mathcomp.analysis.topology.html#cvgP">a</a></span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">Fa</span> : <span class="id">ProperFilter</span> <span class="id">a</span>} {<span class="id">R</span> : <span class="id"><a name="r:1962">realFieldType</a></span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvge_to_ge</span> <span class="id">f</span> <span class="id">b</span> <span class="id">c</span> : <span class="id">f</span> @ <span class="id">a</span> --&gt; <span class="id">c</span> -&gt; (\<span class="id">near</span> <span class="id">a</span>, <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">a</a></span>) -&gt; <span class="id">b</span> &lt;= <span class="id">c</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof429')">Proof.</span></div>
<div class="proofscript" id="proof429">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /[<span class="id">swap</span>]/(<span class="id">closed_cvg</span> <span class="id">_</span> (@<span class="id">closed_ereal_le_ereal</span> <span class="id">_</span> <span class="id">b</span>)) /[<span class="id">apply</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvge_to_le</span> <span class="id">f</span> <span class="id">b</span> <span class="id">c</span> : <span class="id">f</span> @ <span class="id">a</span> --&gt; <span class="id">c</span> -&gt; (\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">b</span>) -&gt; <span class="id">c</span> &lt;= <span class="id">b</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof430')">Proof.</span></div>
<div class="proofscript" id="proof430">
<span class="kwd">by</span> <span class="id"><a href="mathcomp.classical.boolp.html#eq_fun">move</a></span>=&gt; /[<span class="id">swap</span>]/(<span class="id">closed_cvg</span> <span class="id">_</span> (@<span class="id">closed_ereal_ge_ereal</span> <span class="id">_</span> <span class="id">b</span>))/[<span class="id">apply</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lime_ge</span> <span class="id">x</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">a</span>) -&gt; (\<span class="id">near</span> <span class="id">a</span>, <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">a</span>) -&gt; <span class="id">x</span> &lt;= <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof431')">Proof.</span></div>
<div class="proofscript" id="proof431">
 <span class="id"><a href="mathcomp.analysis.constructive_ereal.html#sume_ge0">exact</a></span>: <span class="id">cvge_to_ge</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lime_le</span> <span class="id">x</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">a</span>) -&gt; (\<span class="id">near</span> <span class="id">a</span>, <span class="id">x</span> &gt;= <span class="id">f</span> <span class="id">a</span>) -&gt; <span class="id">x</span> &gt;= <span class="id">lim</span> (<span class="id"><a name="J:1978">f</a></span> @ <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof432')">Proof.</span></div>
<div class="proofscript" id="proof432">
 <span class="id">exact</span>: <span class="id">cvge_to_le</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ProperFilterERealType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ecvg_realFieldType_proper</span>.<br/>
<span class="kwd">Context</span> {<span class="id">I</span>} {<span class="id">F</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">I</span>)} {<span class="id">FF</span> : <span class="id">ProperFilter</span> <span class="id">F</span>} {<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">R</a></span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> <span class="id">g</span> : <span class="id"><a name="i:1988">I</a></span> -&gt; \<span class="id"><a href="mathcomp.analysis.normedtype.html#ecvg_realFieldType_proper.F">bar</a></span> <span class="id">R</span>) (<span class="id">u</span> <span class="id">v</span> : <span class="id">I</span> -&gt; <span class="id">R</span>) (<span class="id">x</span> : \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">r</span> : <span class="id">R</span>).<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgeD</span> <span class="id">f</span> <span class="id">g</span> :<br/>
&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) +? <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> \+ <span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof433')">Proof.</span></div>
<div class="proofscript" id="proof433">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fg</span> <span class="id">fc</span> <span class="id">gc</span>; <span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">cvgP</span> := <span class="id">cvgeD</span> <span class="id">fg</span> <span class="id">fc</span> <span class="id">gc</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limeD</span> <span class="id">f</span> <span class="id">g</span> :<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) +? <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> \+ <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) + <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof434')">Proof.</span></div>
<div class="proofscript" id="proof434">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">cf</span> <span class="id">cg</span> <span class="id">fg</span>; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id">exact</span>: <span class="id">cvgeD</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limeMl</span> <span class="id">f</span> <span class="id">y</span> : <span class="id">y</span> \<span class="id">is</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limeN">a</a></span> <span class="id">fin_num</span> -&gt; <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">lim</span> ((<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">y</span> * <span class="id">f</span> <span class="id">n</span>) @ <span class="id">F</span>) = <span class="id">y</span> * <span class="id">lim</span> (<span class="id"><a name="a:2001">f</a></span> @ <span class="id"><a href="mathcomp.classical.classical_sets.html#set">F</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof435')">Proof.</span></div>
<div class="proofscript" id="proof435">
 <span class="kwd">by</span> <span class="id"><a name="FF:2002">move</a></span>=&gt; <span class="id">yfn</span> <span class="id">cf</span>; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id">exact</span>: <span class="id">cvgeMl</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limeMr</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#a">y</a></span> : <span class="id">y</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span> -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_0_pinfty.a">cvg</a></span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">lim</span> ((<span class="kwd">fun</span> <span class="id">n</span> =&gt; <span class="id">f</span> <span class="id">n</span> * <span class="id">y</span>) @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) * <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof436')">Proof.</span></div>
<div class="proofscript" id="proof436">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">yfn</span> <span class="id">cf</span>; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvgeMr</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_cvgeM</span> <span class="id">f</span> <span class="id">g</span> :<br/>
&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) *? <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof437')">Proof.</span></div>
<div class="proofscript" id="proof437">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fg</span> <span class="id">fc</span> <span class="id">gc</span>; <span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">cvgP</span> := <span class="id">cvgeM</span> <span class="id">fg</span> <span class="id">fc</span> <span class="id">gc</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limeM</span> <span class="id">f</span> <span class="id">g</span> :<br/>
&nbsp;&nbsp;<span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) *? <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">lim</span> (<span class="id">f</span> \* <span class="id">g</span> @ <span class="id">F</span>) = <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>) * <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof438')">Proof.</span></div>
<div class="proofscript" id="proof438">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">cf</span> <span class="id">cg</span> <span class="id">fg</span>; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id">exact</span>: <span class="id">cvgeM</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">limeN</span> <span class="id">f</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id">lim</span> (\- <span class="id">f</span> @ <span class="id">F</span>) = - <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof439')">Proof.</span></div>
<div class="proofscript" id="proof439">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">cf</span>; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id"><a href="mathcomp.classical.functions.html#inv_funK">apply</a></span>: <span class="id">cvgeN</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvge_ge</span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> : (\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">b</span> &lt;= <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof440')">Proof.</span></div>
<div class="proofscript" id="proof440">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">fa</span>; <span class="id">rewrite</span> -(<span class="id">cvg_lim</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_0_pinfty.a">_</a></span> <span class="id">fa</span>) ?<span class="id">lime_ge</span>//=; <span class="id">apply</span>: <span class="id">cvgP</span> <span class="id">fa</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvge_le</span> <span class="id">f</span> <span class="id">a</span> <span class="id">b</span> : (\<span class="kwd">forall</span> <span class="id">x</span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">b</span> &gt;= <span class="id">f</span> <span class="id">x</span>) -&gt; <span class="id">f</span> @ <span class="id">F</span> --&gt; <span class="id">a</span> -&gt; <span class="id">b</span> &gt;= <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof441')">Proof.</span></div>
<div class="proofscript" id="proof441">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">fa</span>; <span class="id">rewrite</span> -(<span class="id">cvg_lim</span> <span class="id">_</span> <span class="id">fa</span>) ?<span class="id">lime_le</span>//=; <span class="id">apply</span>: <span class="id">cvgP</span> <span class="id">fa</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_nnesum</span> (<span class="id">J</span> : <span class="kwd">Type</span>) (<span class="id">r</span> : <span class="id">seq</span> <span class="id">J</span>) (<span class="id">f</span> : <span class="id">J</span> -&gt; <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">l</span> : <span class="id">J</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">J</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">j</span>, <span class="id">P</span> <span class="id">j</span> -&gt; \<span class="id">near</span> <span class="id">F</span>, 0 &lt;= <span class="id">f</span> <span class="id">j</span> <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">j</span>, <span class="id">P</span> <span class="id">j</span> -&gt; <span class="id">f</span> <span class="id">j</span> @ <span class="id">F</span> --&gt; <span class="id">l</span> <span class="id">j</span>) -&gt;<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">j</span>) <span class="id">f</span> <span class="id">j</span> <span class="id">i</span> @[<span class="id">i</span> --&gt; <span class="id">F</span>] --&gt; \<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">j</span>) <span class="id">l</span> <span class="id">j</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof442')">Proof.</span></div>
<div class="proofscript" id="proof442">
<span class="id">pose</span> <span class="id">bigsimp</span> := (<span class="id">big_nil</span>, <span class="id">big_cons</span>);<br/>
<span class="id">elim</span>: <span class="id">r</span> =&gt; [|<span class="id">x</span> <span class="id">r</span> <span class="id"><a href="mathcomp.analysis.topology.html#Filter">IHr</a></span>]/= <span class="id">f0</span> <span class="id">fl</span>; <span class="id">rewrite</span> <span class="id">bigsimp</span>; <span class="id">under</span> <span class="id">eq_fun</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">bigsimp</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">cvg_cst</span>.<br/>
<span class="id"><a name="f:2023">case</a></span>: <span class="id">ifPn</span> =&gt; [<span class="id"><a href="mathcomp.analysis.normedtype.html#a">Px</a></span>|<span class="id">Pnx</span>]; <span class="id">last</span> <span class="id">exact</span>: <span class="id">IHr</span>.<br/>
<span class="id">apply</span>: <span class="id">cvgeD</span>; [|<span class="id">exact</span>: <span class="id">fl</span>|<span class="id">exact</span>: <span class="id">IHr</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ge0_adde_def</span> ?<span class="id">inE</span>// ?<span class="id">sume_ge0</span>// =&gt; [|<span class="id">j</span> <span class="id">Pj</span>];<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">cvge_ge</span> <span class="id">_</span> (<span class="id">fl</span> <span class="id">_</span> <span class="id">_</span>))//; <span class="id">apply</span>: <span class="id">f0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lim_nnesum</span> (<span class="id">J</span> : <span class="kwd">Type</span>) (<span class="id">r</span> : <span class="id">seq</span> <span class="id">J</span>) (<span class="id">f</span> : <span class="id">J</span> -&gt; <span class="id">I</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id">l</span> : <span class="id">J</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>) (<span class="id">P</span> : <span class="id">pred</span> <span class="id">J</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">j</span>, <span class="id">P</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_lt">j</a></span> -&gt; \<span class="id">near</span> <span class="id">F</span>, 0 &lt;= <span class="id">f</span> <span class="id">j</span> <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">j</span>, <span class="id">P</span> <span class="id">j</span> -&gt; <span class="id">cvg</span> (<span class="id">f</span> <span class="id">j</span> @ <span class="id">F</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">lim</span> (\<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">j</span>) <span class="id">f</span> <span class="id">j</span> <span class="id">i</span> @[<span class="id">i</span> --&gt; <span class="id">F</span>]) = \<span class="id">sum_</span>(<span class="id">j</span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">j</span>) (<span class="id">lim</span> (<span class="id">f</span> <span class="id">j</span> @ <span class="id">F</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof443')">Proof.</span></div>
<div class="proofscript" id="proof443">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">apply</span>/<span class="id">cvg_lim</span> =&gt; //; <span class="id">apply</span>: <span class="id">cvg_nnesum</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ecvg_realFieldType_proper</span>.<br/>
<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">generalized</span> <span class="id">to</span> `<span class="id">limeMl</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_limrM</span> := <span class="id">limeMl</span> (<span class="id"><a name="g:2036">only</a></span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id"><a href="mathcomp.analysis.normedtype.html#FilterRealType.a">mathcomp</a></span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">generalized</span> <span class="id">to</span> `<span class="id">limeMr</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrNyPle">ereal_limMr</a></span> := <span class="id">limeMr</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0", <span class="id">note</span>="<span class="id">generalized</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#FilterRealType">to</a></span> `<span class="id">limeN</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">ereal_limN</span> := <span class="id">limeN</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">cvg_0_pinfty</span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a href="mathcomp.classical.classical_sets.html#set">R</a></span> : <span class="id">realFieldType</span>} {<span class="id">I</span> : <span class="kwd">Type</span>} {<span class="id">a</span> : <span class="id">set</span> (<span class="id"><a name="R:2043">set</a></span> <span class="id">I</span>)} {<span class="id">FF</span> : <span class="id">Filter</span> <span class="id">a</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> : <span class="id">I</span> -&gt; <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">gtr0_cvgV0</span> <span class="id">f</span> : (\<span class="id">near</span> <span class="id">a</span>, 0 &lt; <span class="id">f</span> <span class="id">a</span>) -&gt; <span class="id">f</span>\^-1 @ <span class="id">a</span> --&gt; 0 &lt;-&gt; <span class="id">f</span> @ <span class="id"><a href="mathcomp.analysis.normedtype.html#a">a</a></span> --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof444')">Proof.</span></div>
<div class="proofscript" id="proof444">
<span class="id">move</span>=&gt; <span class="id">f_gt0</span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">cvgryPgt</span> <span class="id">cvg_f_oo</span>; <span class="id">apply</span>/<span class="id">cvgr0Pnorm_lt</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgr_to_ge">e</a></span>].<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">gtr0_norm</span> ?<span class="id">invr_gt0</span>//; <span class="id"><a name="g:2052">last</a></span> <span class="kwd">by</span> <span class="id">near</span>: <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ltf_pinv</span> ?<span class="id">qualifE</span> ?<span class="id">invr_gt0</span> ?<span class="id">invrK</span>//=; <span class="id"><a href="mathcomp.analysis.normedtype.html#TopoProperFilterRealType.a">near</a></span>: <span class="id"><a href="mathcomp.analysis.topology.html#lim">i</a></span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">cvgr0Pnorm_lt</span> <span class="id">uB</span>; <span class="id">apply</span>/<span class="id">cvgryPgty</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">M</span>; <span class="id">near</span>=&gt; <span class="id">i</span>; <span class="id">suff</span>: `|(<span class="id">f</span> <span class="id">i</span>)^-1| &lt; <span class="id">M</span>^-1.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_norm</span> ?<span class="id">ltf_pinv</span> ?<span class="id">qualifE</span> ?<span class="id">invr_gt0</span>//; <span class="id">near</span>: <span class="id">i</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">i</span>; <span class="id">apply</span>: <span class="id">uB</span>; <span class="id">rewrite</span> ?<span class="id">invr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#FilterERealType.R">cvgrVy</a></span> <span class="id">f</span> : (\<span class="id">near</span> <span class="id">a</span>, 0 &lt; <span class="id">f</span> <span class="id">a</span>) -&gt; <span class="id">f</span>\^-1 @ <span class="id">a</span> --&gt; +<span class="id">oo</span> &lt;-&gt; <span class="id">f</span> @ <span class="id">a</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof445')">Proof.</span></div>
<div class="proofscript" id="proof445">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_gt0</span>; <span class="id">rewrite</span> -<span class="id">gtr0_cvgV0</span> ?<span class="id">inv_funK</span>//; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">invr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ltr0_cvgV0</span> <span class="id">f</span> : (\<span class="id">near</span> <span class="id">a</span>, 0 &gt; <span class="id">f</span> <span class="id">a</span>) -&gt; <span class="id">f</span>\^-1 @ <span class="id">a</span> --&gt; 0 &lt;-&gt; <span class="id">f</span> @ <span class="id"><a href="mathcomp.analysis.normedtype.html#a">a</a></span> --&gt; -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof446')">Proof.</span></div>
<div class="proofscript" id="proof446">
<span class="id">move</span>=&gt; <span class="id">fL0</span>; <span class="id">rewrite</span> -<span class="id">cvgNP</span> <span class="id">oppr0</span> (<span class="id">_</span> : - <span class="id">f</span>\^-1 =  (- <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgeNyPle">f</a></span>)\^-1); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">funeqP</span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">opprfctE</span>/= <span class="id">invrN</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_cvgV0</span> ?<span class="id">cvgNry</span>//; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">oppr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id"><a name="g:2071">all</a></span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvgrVNy</span> <span class="id">f</span> : (\<span class="id">near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#a">a</a></span>, 0 &gt; <span class="id">f</span> <span class="id">a</span>) -&gt; <span class="id">f</span>\^-1 @ <span class="id">a</span> --&gt; -<span class="id">oo</span> &lt;-&gt; <span class="id">f</span> @ <span class="id">a</span> --&gt; 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof447')">Proof.</span></div>
<div class="proofscript" id="proof447">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_lt0</span>; <span class="id">rewrite</span> -<span class="id">ltr0_cvgV0</span> ?<span class="id">inv_funK</span>//; <span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">invr_lt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">cvg_0_pinfty</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">FilterRealType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">a</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">Fa</span> : <span class="id">Filter</span> <span class="id">a</span>} {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span> : <span class="id">T</span> -&gt; <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">squeeze_cvgr</span> <span class="id">f</span> <span class="id">h</span> <span class="id">g</span> : (\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span> &lt;= <span class="id">h</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">l</span> : <span class="id">R</span>), <span class="id">f</span> @ <span class="id">a</span> --&gt; <span class="id">l</span> -&gt; <span class="id">h</span> @ <span class="id">a</span> --&gt; <span class="id">l</span> -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#gee_cvgy">g</a></span> @ <span class="id">a</span> --&gt; <span class="id">l</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof448')">Proof.</span></div>
<div class="proofscript" id="proof448">
<span class="id">move</span>=&gt; <span class="id">fgh</span> <span class="id">l</span> <span class="id">lfa</span> <span class="id">lga</span>; <span class="id">apply</span>/<span class="id">cvgrPdist_lt</span> =&gt; <span class="id">e</span> <span class="id">e_gt0</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id"><a href="mathcomp.analysis.topology.html#filterS">have</a></span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">andP</span>[//|<span class="id">fg</span> <span class="id">gh</span>] := <span class="id">near</span> <span class="id">fgh</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">ltr_distl</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">fg</span>) ?(<span class="id">le_lt_trans</span> <span class="id">gh</span>)//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: (<span class="id">cvgr_lt</span> <span class="id">l</span>); <span class="id">rewrite</span> // <span class="id">ltr_addl</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: (<span class="id">cvgr_gt</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">l</a></span>); <span class="id">rewrite</span> // <span class="id">gtr_addl</span> <span class="id">oppr_lt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ger_cvgy</span> <span class="id">f</span> <span class="id">g</span> : (\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">a</span> --&gt; +<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">a</span> --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof449')">Proof.</span></div>
<div class="proofscript" id="proof449">
<span class="id">move</span>=&gt; <span class="id">uv</span> /<span class="id">cvgryPge</span> <span class="id">ucvg</span>; <span class="id">apply</span>/<span class="id">cvgryPge</span> =&gt; <span class="id">A</span>.<br/>
<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">near</a></span>=&gt; <span class="id">x</span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">near</span> <span class="id">uv</span> <span class="id">x</span> <span class="id">_</span>))//.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ler_cvgNy</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#TopoProperFilterERealType.T">g</a></span> : (\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">g</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a name="f:2096">f</a></span> @ <span class="id"><a name="l:2098">a</a></span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">a</span> --&gt; -<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof450')">Proof.</span></div>
<div class="proofscript" id="proof450">
<span class="id">move</span>=&gt; <span class="id">uv</span> /<span class="id">cvgrNyPle</span> <span class="id">ucvg</span>; <span class="id">apply</span>/<span class="id">cvgrNyPle</span> =&gt; <span class="id">A</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>=&gt; <span class="id">x</span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">near</span> <span class="id">uv</span> <span class="id">x</span> <span class="id">_</span>))//.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">FilterRealType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">TopoProperFilterRealType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="id">topologicalType</span>} {<span class="id">a</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">Fa</span> : <span class="id">ProperFilter</span> <span class="id">a</span>}.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#fine_cvgP">h</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ler_cvg_to</span> <span class="id">f</span> <span class="id">g</span> <span class="id">l</span> <span class="id">l</span>' : <span class="id">f</span> @ <span class="id">a</span> --&gt; <span class="id">l</span> -&gt; <span class="id">g</span> @ <span class="id">a</span> --&gt; <span class="id">l</span>' -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span>) -&gt; <span class="id"><a href="mathcomp.analysis.normedtype.html#ler_lim">l</a></span> &lt;= <span class="id">l</span>'.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof451')">Proof.</span></div>
<div class="proofscript" id="proof451">
<span class="id">move</span>=&gt; <span class="id">fl</span> <span class="id">gl</span>; <span class="id">under</span> <span class="id">eq_near</span> <span class="id">do</span> <span class="id">rewrite</span> -<span class="id">subr_ge0</span>; <span class="id">rewrite</span> -<span class="id">subr_ge0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cvgr_to_ge</span>; <span class="id">apply</span>: <span class="id">cvgB</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ler_lim</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#TopoProperFilterERealType.a">f</a></span> <span class="id">g</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id"><a href="mathcomp.analysis.normedtype.html#a">a</a></span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">a</span>, <span class="id"><a href="mathcomp.analysis.topology.html#lim">f</a></span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#TopoProperFilterERealType.a">a</a></span>) -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">a</span>) &lt;= <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof452')">Proof.</span></div>
<div class="proofscript" id="proof452">
 <span class="id">exact</span>: <span class="id">ler_cvg_to</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">TopoProperFilterRealType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">FilterERealType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">a</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">Fa</span> : <span class="id">Filter</span> <span class="id">a</span>} {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Implicit</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#open_union_rat.ointsub">Types</a></span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">gee_cvgy</span> <span class="id">f</span> <span class="id">g</span> : (\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">a</span> --&gt; +<span class="id">oo</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">g</a></span> @ <span class="id">a</span> --&gt; +<span class="id">oo</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof453')">Proof.</span></div>
<div class="proofscript" id="proof453">
<span class="id">move</span>=&gt; <span class="id">uv</span> /<span class="id">cvgeyPge</span> <span class="id">uecvg</span>; <span class="id">apply</span>/<span class="id">cvgeyPge</span> =&gt; <span class="id">A</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>=&gt; <span class="id">x</span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">near</span> <span class="id">uv</span> <span class="id">x</span> <span class="id">_</span>))//.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_cvgNy</span> <span class="id">f</span> <span class="id">g</span> : (\<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">near</a></span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">g</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#bigcup_ointsub">f</a></span> @ <span class="id">a</span> --&gt; -<span class="id">oo</span> -&gt; <span class="id">g</span> @ <span class="id">a</span> --&gt; -<span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_set0">oo</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof454')">Proof.</span></div>
<div class="proofscript" id="proof454">
<span class="id">move</span>=&gt; <span class="id">uv</span> /<span class="id">cvgeNyPle</span> <span class="id">uecvg</span>; <span class="id">apply</span>/<span class="id"><a name="U:2119">cvgeNyPle</a></span> =&gt; <span class="id">A</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>=&gt; <span class="id">x</span> <span class="id">do</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id"><a href="mathcomp.analysis.topology.html#bigcup_open">near</a></span> <span class="id">uv</span> <span class="id">x</span> <span class="id">_</span>))//.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">squeeze_fin</span> <span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#is_interval">g</a></span> <span class="id">h</span> : (\<span class="id">near</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#bigcup_ointsub">a</a></span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span> &lt;= <span class="id">h</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt; (\<span class="id">near</span> <span class="id">a</span>, <span class="id">h</span> <span class="id">a</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">a</span>, <span class="id">g</span> <span class="id">a</span> \<span class="id">is</span> <span class="id">a</span> <span class="id">fin_num</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof455')">Proof.</span></div>
<div class="proofscript" id="proof455">
<span class="id">apply</span>: <span class="id">filterS3</span> =&gt; <span class="id">x</span> /<span class="id">andP</span>[<span class="id">fg</span> <span class="id">gh</span>].<br/>
<span class="id">rewrite</span> !<span class="id">fin_numElt</span> =&gt; /<span class="id">andP</span>[<span class="id">oof</span> <span class="id">_</span>] /<span class="id">andP</span>[<span class="id">_</span> <span class="id">hoo</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">oof</span>) ?(<span class="id">le_lt_trans</span> <span class="id">gh</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">squeeze_cvge</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span> : (\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id"><a name="bigcup_ointsub_sub">g</a></span> <span class="id">a</span> &lt;= <span class="id">h</span> <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#bigcup_ointsub">l</a></span> : \<span class="id">bar</span> <span class="id">R</span>), <span class="id">f</span> @ <span class="id">a</span> --&gt; <span class="id">l</span> -&gt; <span class="id">h</span> @ <span class="id">a</span> --&gt; <span class="id">l</span> -&gt; <span class="id">g</span> @ <span class="id">a</span> --&gt; <span class="id">l</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof456')">Proof.</span></div>
<div class="proofscript" id="proof456">
<span class="id">move</span>=&gt; <span class="id">fgh</span> [<span class="id">l</span>||]; <span class="id">last</span> 2 <span class="id">first</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; + <span class="id">_</span>; <span class="id">apply</span>: <span class="id">gee_cvgy</span>; <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">fgh</span> =&gt; ? /<span class="id">andP</span>[].<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">apply</span>: <span class="id">lee_cvgNy</span>; <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">fgh</span> =&gt; ? /<span class="id">andP</span>[].<br/>
<span class="id">move</span>=&gt; /<span class="id">fine_cvgP</span>[<span class="id">Ff</span> <span class="id">fl</span>] /<span class="id">fine_cvgP</span>[<span class="id">Fh</span> <span class="id">hl</span>]; <span class="id">apply</span>/<span class="id">fine_cvgP</span>.<br/>
<span class="id">have</span> <span class="id">Fg</span> := <span class="id">squeeze_fin</span> <span class="id">fgh</span> <span class="id">Ff</span> <span class="id">Fh</span>; <span class="id">split</span>=&gt; //.<br/>
<span class="id">apply</span>: <span class="id">squeeze_cvgr</span> <span class="id">fl</span> <span class="id">hl</span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; /=.<br/>
<span class="kwd">by</span> <span class="id">have</span> /(<span class="id"><a href="mathcomp.analysis.normedtype.html#bigcup_ointsub">_</a></span> <span class="id">_</span>)/<span class="id">andP</span>[//|<span class="id">fg</span> <span class="id">gh</span>] := <span class="id">near</span> <span class="id">fgh</span> <span class="id">x</span>; <span class="id">rewrite</span> !<span class="id">fine_le</span>//=; <span class="id">near</span>: <span class="id">x</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">FilterERealType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">TopoProperFilterERealType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">T</span> : <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ball">topologicalType</a></span>} {<span class="id">a</span> : <span class="id">set</span> (<span class="id">set</span> <span class="id">T</span>)} {<span class="id">Fa</span> : <span class="id">ProperFilter</span> <span class="id">a</span>}.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ereal_scope</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span> : <span class="id">T</span> -&gt; \<span class="id">bar</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_cvg_to</span> <span class="id">f</span> <span class="id">g</span> <span class="id">l</span> <span class="id">l</span>' : <span class="id">f</span> @ <span class="id">a</span> --&gt; <span class="id">l</span> -&gt; <span class="id">g</span> @ <span class="id">a</span> --&gt; <span class="id">l</span>' -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span>) -&gt; <span class="id">l</span> &lt;= <span class="id">l</span>'.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof457')">Proof.</span></div>
<div class="proofscript" id="proof457">
<span class="id">move</span>=&gt; + + <span class="id">fg</span>; <span class="id">move</span>: <span class="id">l</span>' <span class="id">l</span>.<br/>
<span class="id">move</span>=&gt; /= [<span class="id">l</span>'||] [<span class="id">l</span>||]//=; <span class="id">rewrite</span> ?<span class="id">leNye</span> ?<span class="id">leey</span>//=; <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_is_interval">first</a></span> 1 <span class="id">last</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">gee_cvgy</span> <span class="id">fg</span>) /<span class="id">cvg_lim</span>&lt;-// /<span class="id">cvg_lim</span>&lt;-.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">cvg_lim</span> &lt;-// /(<span class="id">lee_cvgNy</span> <span class="id">fg</span>) /<span class="id">cvg_lim</span>&lt;-.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">gee_cvgy</span> <span class="id">fg</span>) /<span class="id">cvg_lim</span>&lt;-// /<span class="id">cvg_lim</span>&lt;-.<br/>
<span class="id">move</span>=&gt; /<span class="id">fine_cvgP</span>[<span class="id">Ff</span> <span class="id">fl</span>] /<span class="id">fine_cvgP</span>[<span class="id">Fg</span> <span class="id">gl</span>].<br/>
<span class="id">rewrite</span> <span class="id">lee_fin</span> -(<span class="id">cvg_lim</span> <span class="id">_</span> <span class="id">fl</span>)// -(<span class="id">cvg_lim</span> <span class="id">_</span> <span class="id">gl</span>)//.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ler_lim</span>; [<span class="id">apply</span>: <span class="id">cvgP</span> <span class="id">fl</span>|<span class="id">apply</span>: <span class="id">cvgP</span> <span class="id">gl</span>|<span class="id">near</span> <span class="id">do</span> <span class="id"><a name="R:2129">apply</a></span>: <span class="id">fine_le</span>].<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">lee_lim</span> <span class="id">f</span> <span class="id">g</span> : <span class="id">cvg</span> (<span class="id">f</span> @ <span class="id">a</span>) -&gt; <span class="id">cvg</span> (<span class="id">g</span> @ <span class="id">a</span>) -&gt;<br/>
&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">g</span> <span class="id">a</span>) -&gt; <span class="id">lim</span> (<span class="id">f</span> @ <span class="id">a</span>) &lt;= <span class="id">lim</span> (<span class="id">g</span> @ <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof458')">Proof.</span></div>
<div class="proofscript" id="proof458">
 <span class="id">exact</span>: <span class="id">lee_cvg_to</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">TopoProperFilterERealType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">open_union_rat</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> <span class="id">U</span> : <span class="id">set</span> <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">ointsub</a></span> <span class="id">A</span> <span class="id">U</span> := [/\ <span class="id">open</span> <span class="id">A</span>, <span class="id">is_interval</span> <span class="id">A</span> &amp; <span class="id">A</span> `&lt;=` <span class="id">U</span>].<br/>
<br/>
<span class="kwd">Let</span> <span class="id">ointsub_rat</span> <span class="id">U</span> <span class="id">q</span> := [<span class="id"><a href="mathcomp.analysis.reals.html#sup">set</a></span> <span class="id">A</span> | <span class="id">ointsub</span> <span class="id">A</span> <span class="id">U</span> /\ <span class="id">A</span> (<span class="id">ratr</span> <span class="id">q</span>)].<br/>
<br/>
<span class="kwd">Let</span> <span class="id">ointsub_rat0</span> <span class="id">q</span> : <span class="id">ointsub_rat</span> <span class="id">set0</span> <span class="id">q</span> = <span class="id">set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof459')">Proof.</span></div>
<div class="proofscript" id="proof459">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">A</span> [[<span class="id">_</span> <span class="id">_</span>]]; <span class="id">rewrite</span> <span class="id">subset0</span> =&gt; -&gt;. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span> := \<span class="id">bigcup_</span>(<span class="id">A</span> <span class="kwd">in</span> <span class="id">ointsub_rat</span> <span class="id">U</span> <span class="id">q</span>) <span class="id">A</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigcup_ointsub0</span> <span class="id">q</span> : <span class="id">bigcup_ointsub</span> <span class="id">set0</span> <span class="id">q</span> = <span class="id">set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof460')">Proof.</span></div>
<div class="proofscript" id="proof460">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a name="R:2133">bigcup_ointsub</a></span> <span class="id"><a name="X:2134">ointsub_rat0</a></span> <span class="id">bigcup_set0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span> : <span class="id">open</span> (<span class="id">bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof461')">Proof.</span></div>
<div class="proofscript" id="proof461">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">bigcup_open</span> =&gt; <span class="id">i</span> [[]]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_interval_bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span> : <span class="id">is_interval</span> (<span class="id">bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof462')">Proof.</span></div>
<div class="proofscript" id="proof462">
<span class="id">move</span>=&gt; /= <span class="id">a</span> <span class="id">b</span> [<span class="id">A</span> [[<span class="id">oA</span> <span class="id">iA</span> <span class="id">AU</span>] <span class="id">Aq</span>] <span class="id">Aa</span>] [<span class="id">B</span> [[<span class="id">oB</span> <span class="id">iB</span> <span class="id">BU</span>] <span class="id">Bq</span>] <span class="id">Bb</span>] <span class="id">c</span> /<span class="id">andP</span>[<span class="id">ac</span> <span class="id">cb</span>].<br/>
<span class="id">have</span> [<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">cq</a></span>|<span class="id">cq</span>|-&gt;] := <span class="id">ltgtP</span> <span class="id">c</span> (<span class="id">ratr</span> <span class="id">q</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">A</span>.<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">A</span> =&gt; //; <span class="id">apply</span>: (<span class="id">iA</span> <span class="id">a</span> (<span class="id">ratr</span> <span class="id">q</span>)) =&gt; //; <span class="id">rewrite</span> <span class="id">ac</span> (<span class="id">ltW</span> <span class="id">cq</span>).<br/>
- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">B</span> =&gt; //; <span class="id">apply</span>: (<span class="id">iB</span> (<span class="id">ratr</span> <span class="id">q</span>) <span class="id">b</span>) =&gt; //; <span class="id">rewrite</span> <span class="id">cb</span> (<span class="id">ltW</span> <span class="id">cq</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bigcup_ointsub_sub</span> <span class="id">U</span> <span class="id">q</span> : <span class="id">bigcup_ointsub</span> <span class="id"><a href="mathcomp.analysis.reals.html#inf">U</a></span> <span class="id">q</span> `&lt;=` <span class="id">U</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof463')">Proof.</span></div>
<div class="proofscript" id="proof463">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [<span class="id">A</span> [[<span class="id">oA</span> <span class="id">_</span> +] <span class="id">_</span> <span class="id">Ay</span>]]; <span class="id">exact</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_bigcup_rat</span> <span class="id">U</span> : <span class="id">open</span> <span class="id">U</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">U</span> = \<span class="id">bigcup_</span>(<span class="id">q</span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id">q</span> | <span class="id">ratr</span> <span class="id">q</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">U</a></span>]) <span class="id">bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof464')">Proof.</span></div>
<div class="proofscript" id="proof464">
<span class="id">move</span>=&gt; <span class="id">oU</span>; <span class="id"><a name="X:2138">have</a></span> [-&gt;|<span class="id">U0</span>] := <span class="id">eqVneq</span> <span class="id">U</span> <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">bigcup0</span>// =&gt; <span class="id">q</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">bigcup_ointsub0</span>.<br/>
<span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span>=&gt; [<span class="id"><a href="mathcomp.classical.boolp.html#predeqE">x</a></span> <span class="id">Ux</span>|<span class="id">x</span> [<span class="id">p</span> <span class="id">_</span> <span class="id">Ipx</span>]]; <span class="id">last</span> <span class="id">exact</span>: <span class="id">bigcup_ointsub_sub</span> <span class="id">Ipx</span>.<br/>
<span class="id">suff</span> [<span class="id">q</span> <span class="id">Iqx</span>] : <span class="kwd">exists</span> <span class="id">q</span>, <span class="id">bigcup_ointsub</span> <span class="id">U</span> <span class="id">q</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">q</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_setE</span>; <span class="id">case</span>: <span class="id">Iqx</span> =&gt; <span class="id">A</span> [[<span class="id">_</span> <span class="id">_</span> +] ? <span class="id">_</span>]; <span class="id">exact</span>.<br/>
<span class="id">have</span> : <span class="id">nbhs</span> <span class="id">x</span> <span class="id">U</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_realType.R">rewrite</a></span> <span class="id">nbhsE</span> /=; <span class="kwd">exists</span> <span class="id">U</span>.<br/>
<span class="id">rewrite</span> -<span class="id">nbhs_ballE</span> /<span class="id">nbhs_ball</span> /<span class="id">nbhs_ball_</span> =&gt; -[<span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.reals.html#sup">posnumP</a></span>[<span class="id">r</span>] <span class="id">xrU</span>].<br/>
<span class="id">have</span> /<span class="id">rat_in_itvoo</span>[<span class="id">q</span> <span class="id">qxxr</span>] : (<span class="id">x</span> - <span class="id">r</span>%:<span class="id">num</span> &lt; <span class="id">x</span> + <span class="id">r</span>%:<span class="id">num</span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> -<span class="id">addrA</span> <span class="id">ltr_addl</span>.<br/>
<span class="kwd">exists</span> <span class="id">q</span>, `](<span class="id">x</span> - <span class="id">r</span>%:<span class="id">num</span>)%<span class="id">R</span>, (<span class="id">x</span> + <span class="id">r</span>%:<span class="id">num</span>)%<span class="id">R</span>[%<span class="id">classic</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= <span class="id">ltr_subl_addl</span> <span class="id">ltr_addr</span>// <span class="id">ltr_addl</span>//; <span class="id">apply</span>/<span class="id">andP</span>.<br/>
<span class="id">split</span>=&gt; //; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">interval_open</span>|<span class="id">exact</span>: <span class="id">interval_is_interval</span>|].<br/>
<span class="id">move</span>=&gt; <span class="id">y</span> /=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id">andP</span>[<span class="id">xy</span> <span class="id">yxr</span>]; <span class="id">apply</span> <span class="id">xrU</span> =&gt; /=.<br/>
<span class="id">rewrite</span> /<span class="id">ball</span> /= /<span class="id">ball_</span> /= <span class="kwd">in</span> <span class="id"><a name="X:2141">xrU</a></span> *; <span class="id">have</span> [<span class="id"><a href="mathcomp.analysis.normedtype.html#is_interval">yx</a></span>|<span class="id">yx</span>] := <span class="id">leP</span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler0_norm</span> ?<span class="id">subr_le0</span>// <span class="id">opprB</span> <span class="id">ltr_subl_addl</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_norm</span> ?<span class="id">subr_gt0</span>// <span class="id">ltr_subl_addr</span> -<span class="id">ltr_subl_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">open_union_rat</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">right_bounded_interior</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.set_interval.html#has_ubPn">has_ubound</a></span> <span class="id">X</span> -&gt; <span class="id">X</span>^° `&lt;=` [<span class="id">set</span> <span class="id">r</span> | <span class="id">r</span> &lt; <span class="id">sup</span> <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof465')">Proof.</span></div>
<div class="proofscript" id="proof465">
<span class="id">move</span>=&gt; <span class="id">uX</span> <span class="id">r</span> <span class="id">Xr</span>; <span class="id">rewrite</span> /<span class="id">mkset</span> <span class="id">ltNge</span>; <span class="id">apply</span>/<span class="id">negP</span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> <span class="id">supXr</span>|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id">sup_ub</span> //; <span class="id">exact</span>: <span class="id">interior_subset</span>.<br/>
<span class="id">suff</span> : ~ <span class="id"><a name="interval_bounded_interior">X</a></span>^° (<span class="id">sup</span> <span class="id">X</span>) <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">supXr</span>.<br/>
<span class="id"><a href="mathcomp.classical.classical_sets.html#set">case</a></span>/<span class="id">nbhs_ballP</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">supXeX</span>.<br/>
<span class="id">have</span> [<span class="id">f</span> <span class="id">XsupXf</span>] : <span class="kwd">exists</span> <span class="id">f</span> : {<span class="id">posnum</span> <span class="id">R</span>}, <span class="id">X</span> (<span class="id">sup</span> <span class="id"><a href="mathcomp.analysis.reals.html#sup">X</a></span> + <span class="id">f</span>%:<span class="id">num</span>).<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">e</span>%:<span class="id">num</span> / 2)%:<span class="id">pos</span>; <span class="id">apply</span> <span class="id">supXeX</span>; <span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">subrr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">gtr0_norm</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#right_bounded_interior">ltr_pdivr_mulr</a></span> // <span class="id">ltr_pmulr</span> // <span class="id">ltr1n</span>.<br/>
<span class="id">have</span> : <span class="id">sup</span> <span class="id">X</span> + <span class="id">f</span>%:<span class="id">num</span> &lt;= <span class="id">sup</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id">apply</span> <span class="id">sup_ub</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">ltNge</span>; <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">left_bounded_interior</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">has_lbound</span> <span class="id">X</span> -&gt; <span class="id">X</span>^° `&lt;=` [<span class="id">set</span> <span class="id">r</span> | <span class="id">inf</span> <span class="id">X</span> &lt; <span class="id">r</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof466')">Proof.</span></div>
<div class="proofscript" id="proof466">
<span class="id"><a href="mathcomp.classical.classical_sets.html#has_inf">move</a></span>=&gt; <span class="id">lX</span> <span class="id">r</span> <span class="id">Xr</span>; <span class="id">rewrite</span> /<span class="id">mkset</span> <span class="id">ltNge</span>; <span class="id">apply</span>/<span class="id">negP</span>.<br/>
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> <span class="id">rinfX</span>|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span> <span class="id">inf_lb</span> //; <span class="id">exact</span>: <span class="id">interior_subset</span>.<br/>
<span class="id">suff</span> : ~ <span class="id">X</span>^° (<span class="id">inf</span> <span class="id">X</span>) <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">rinfX</span>.<br/>
<span class="id">case</span>/<span class="id">nbhs_ballP</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">supXeX</span>.<br/>
<span class="id">have</span> [<span class="id">f</span> <span class="id">XsupXf</span>] : <span class="kwd">exists</span> <span class="id">f</span> : {<span class="id">posnum</span> <span class="id">R</span>}, <span class="id">X</span> (<span class="id">inf</span> <span class="id">X</span> - <span class="id">f</span>%:<span class="id">num</span>).<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">e</span>%:<span class="id"><a name="X:2145">num</a></span> / 2)%:<span class="id">pos</span>; <span class="id">apply</span> <span class="id">supXeX</span>; <span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">opprB</a></span> <span class="id">addrCA</span> <span class="id">subrr</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addr0</span> <span class="id">gtr0_norm</span> // <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // <span class="id">ltr1n</span>.<br/>
<span class="id">have</span> : <span class="id">inf</span> <span class="id">X</span> &lt;= <span class="id">inf</span> <span class="id">X</span> - <span class="id">f</span>%:<span class="id">num</span> <span class="kwd">by</span> <span class="id">apply</span> <span class="id">inf_lb</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">ltNge</span>; <span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">interval_realType</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realType</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_unbounded_setT</span> (<span class="id"><a href="mathcomp.classical.boolp.html#asboolT">X</a></span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">is_interval</span> <span class="id">X</span> -&gt;<br/>
&nbsp;&nbsp;~ <span class="id">has_lbound</span> <span class="id">X</span> -&gt; ~ <span class="id">has_ubound</span> <span class="id">X</span> -&gt; <span class="id">X</span> = <span class="id">setT</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof467')">Proof.</span></div>
<div class="proofscript" id="proof467">
<span class="id">move</span>=&gt; <span class="id">iX</span> <span class="id">lX</span> <span class="id">uX</span>; <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">x</span>; <span class="id">split</span> =&gt; // <span class="id">_</span>.<br/>
<span class="id">move</span>/<span class="id">has_lbPn</span> : <span class="id">lX</span> =&gt; /(<span class="id">_</span> <span class="id">x</span>) [<span class="id">y</span> <span class="id">Xy</span> <span class="id">xy</span>].<br/>
<span class="id">move</span>/<span class="id">has_ubPn</span> : <span class="id">uX</span> =&gt; /(<span class="id">_</span> <span class="id">x</span>) [<span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">z</a></span> <span class="id">Xz</span> <span class="id">xz</span>].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id">iX</span> <span class="id">y</span> <span class="id">z</span>); <span class="id">rewrite</span> ?<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_left_unbounded_interior</span> (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">is_interval</span> <span class="id">X</span> -&gt;<br/>
&nbsp;&nbsp;~ <span class="id">has_lbound</span> <span class="id">X</span> -&gt; <span class="id">has_ubound</span> <span class="id">X</span> -&gt; <span class="id">X</span>^° = [<span class="id">set</span> <span class="id">r</span> | <span class="id">r</span> &lt; <span class="id">sup</span> <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof468')">Proof.</span></div>
<div class="proofscript" id="proof468">
<span class="id">move</span>=&gt; <span class="id">iX</span> <span class="id">lX</span> <span class="id">uX</span>; <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">right_bounded_interior</span>.<br/>
<span class="id">rewrite</span> -(<span class="id">open_subsetE</span> <span class="id">_</span> (@<span class="id">open_lt</span> <span class="id">_</span> <span class="id">_</span>)) =&gt; <span class="id">r</span> <span class="id">rsupX</span>.<br/>
<span class="id">move</span>/<span class="id">has_lbPn</span> : <span class="id">lX</span> =&gt; /(<span class="id">_</span> <span class="id">r</span>)[<span class="id">y</span> <span class="id">Xy</span> <span class="id">yr</span>].<br/>
<span class="id">have</span> <span class="id">hsX</span> : <span class="id">has_sup</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id"><a name="is_intervalP">y</a></span>.<br/>
<span class="id">have</span> /<span class="id">sup_adherent</span>/(<span class="id">_</span> <span class="id">hsX</span>)[<span class="id">e</span> <span class="id">Xe</span>] : 0 &lt; <span class="id">sup</span> <span class="id">X</span> - <span class="id">r</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; <span class="id">re</span>; <span class="id">apply</span>: (<span class="id">iX</span> <span class="id">y</span> <span class="id">e</span>); <span class="id">rewrite</span> ?<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_right_unbounded_interior</span> (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">is_interval</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#has_lbound">X</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">has_lbound</span> <span class="id">X</span> -&gt; ~ <span class="id">has_ubound</span> <span class="id">X</span> -&gt; <span class="id">X</span>^° = [<span class="id">set</span> <span class="id">r</span> | <span class="id">inf</span> <span class="id">X</span> &lt; <span class="id">r</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof469')">Proof.</span></div>
<div class="proofscript" id="proof469">
<span class="id">move</span>=&gt; <span class="id">iX</span> <span class="id">lX</span> <span class="id">uX</span>; <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">left_bounded_interior</span>.<br/>
<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">rewrite</a></span> -(<span class="id">open_subsetE</span> <span class="id">_</span> (@<span class="id">open_gt</span> <span class="id">_</span> <span class="id">_</span>)) =&gt; <span class="id">r</span> <span class="id">infXr</span>.<br/>
<span class="id">move</span>/<span class="id">has_ubPn</span> : <span class="id">uX</span> =&gt; /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">_</a></span> <span class="id">r</span>)[<span class="id">y</span> <span class="id">Xy</span> <span class="id">yr</span>].<br/>
<span class="id">have</span> <span class="id">hiX</span> : <span class="id">has_inf</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="kwd">exists</span> <span class="id">y</span>.<br/>
<span class="id">have</span> /<span class="id">inf_adherent</span>/(<span class="id">_</span> <span class="id">hiX</span>)[<span class="id">e</span> <span class="id">Xe</span>] : 0 &lt; <span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">r</a></span> - <span class="id">inf</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; <span class="id">er</span>; <span class="id">apply</span>: (<span class="id">iX</span> <span class="id">e</span> <span class="id">y</span>); <span class="id">rewrite</span> ?<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">interval_bounded_interior</span> (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">is_interval</span> <span class="id">X</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">has_lbound</span> <span class="id">X</span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">has_ubound</a></span> <span class="id">X</span> -&gt; <span class="id">X</span>^° = [<span class="id">set</span> <span class="id">r</span> | <span class="id">inf</span> <span class="id">X</span> &lt; <span class="id">r</span> &lt; <span class="id">sup</span> <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof470')">Proof.</span></div>
<div class="proofscript" id="proof470">
<span class="id">move</span>=&gt; <span class="id">iX</span> <span class="id">bX</span> <span class="id">aX</span>; <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>=&gt; [<span class="id">r</span> <span class="id">Xr</span>|].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id">left_bounded_interior</span>|<span class="id">exact</span>: <span class="id">right_bounded_interior</span>].<br/>
<span class="id">rewrite</span> -<span class="id">open_subsetE</span>; <span class="id">last</span> <span class="id">exact</span>: (@<span class="id"><a href="mathcomp.classical.classical_sets.html#mkset">interval_open</a></span> <span class="id">_</span> (<span class="id">BRight</span> <span class="id">_</span>) (<span class="id">BLeft</span> <span class="id">_</span>)).<br/>
<span class="id">move</span>=&gt; <span class="id">r</span> /<span class="id">andP</span>[<span class="id">iXr</span> <span class="id">rsX</span>].<br/>
<span class="id">have</span> [<span class="id">X0</span>|/<span class="id">set0P</span> <span class="id">X0</span>] := <span class="id">eqVneq</span> <span class="id">X</span> <span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">lt_trans</span> <span class="id">iXr</span> <span class="id">rsX</span>); <span class="id">rewrite</span> <span class="id">X0</span> <span class="id">inf_out</span> ?<span class="id">sup_out</span> ?<span class="id">ltxx</span> // =&gt; - [[]].<br/>
<span class="id">have</span> <span class="id">hiX</span> : <span class="id">has_inf</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id">split</span>.<br/>
<span class="id">have</span> /<span class="id">inf_adherent</span>/(<span class="id">_</span> <span class="id">hiX</span>)[<span class="id">e</span> <span class="id">Xe</span>] : 0 &lt; <span class="id">r</span> - <span class="id">inf</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#interval_right_unbounded_interior">rewrite</a></span> <span class="id">subr_gt0</span>.<br/>
<span class="id">rewrite</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; <span class="id">er</span>.<br/>
<span class="id">have</span> <span class="id">hsX</span> : <span class="id">has_sup</span> <span class="id">X</span> <span class="kwd">by</span> <span class="id">split</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orP">sup_adherent</a></span>/(<span class="id">_</span> <span class="id">hsX</span>)[<span class="id">f</span> <span class="id">Xf</span>] : 0 &lt; <span class="id">sup</span> <span class="id">X</span> - <span class="id">r</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprB</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span> =&gt; <span class="id">rf</span>; <span class="id">apply</span>: (<span class="id">iX</span> <span class="id">e</span> <span class="id">f</span>); <span class="id">rewrite</span> ?<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">Rhull</span> (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">interval</span> <span class="id">R</span> := <span class="id">Interval</span><br/>
&nbsp;&nbsp;(<span class="kwd">if</span> `[&lt; <span class="id">has_lbound</span> <span class="id">X</span> &gt;] <span class="kwd">then</span> <span class="id">BSide</span> `[&lt; <span class="id">X</span> (<span class="id">inf</span> <span class="id">X</span>) &gt;] (<span class="id">inf</span> <span class="id">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">BInfty</span> <span class="id"><a href="mathcomp.analysis.topology.html#connected">_</a></span> <span class="id">true</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">if</span> `[&lt; <span class="id">has_ubound</span> <span class="id">X</span> &gt;] <span class="kwd">then</span> <span class="id">BSide</span> (~~ `[&lt; <span class="id">X</span> (<span class="id">sup</span> <span class="id">X</span>) &gt;]) (<span class="id">sup</span> <span class="id">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">BInfty</span> <span class="id">_</span> <span class="id">false</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">Rhull0</span> : <span class="id">Rhull</span> <span class="id">set0</span> = `]0, 0[ :&gt; <span class="id">interval</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof471')">Proof.</span></div>
<div class="proofscript" id="proof471">
<span class="id"><a href="mathcomp.analysis.topology.html#connectedPn">rewrite</a></span> /<span class="id">Rhull</span>  (<span class="id">asboolT</span> (<span class="id">has_lbound0</span> <span class="id">R</span>)) (<span class="id">asboolT</span> (<span class="id">has_ubound0</span> <span class="id">R</span>)) <span class="id">asboolF</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sup0</span> <span class="id">inf0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub_Rhull</span> (<span class="id">X</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">X</span> `&lt;=` [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">Rhull</span> <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof472')">Proof.</span></div>
<div class="proofscript" id="proof472">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Xx</span>/=; <span class="id">rewrite</span> <span class="id">in_itv</span>/=.<br/>
<span class="id">case</span>: (<span class="id">asboolP</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#setIidPl">has_lbound</a></span> <span class="id">_</span>)) =&gt; ?; <span class="id">case</span>: (<span class="id">asboolP</span> (<span class="id">has_ubound</span> <span class="id">_</span>)) =&gt; ? //=.<br/>
+ <span class="kwd">by</span> <span class="id">case</span>: <span class="id">asboolP</span> =&gt; ?; <span class="id">case</span>: <span class="id">asboolP</span> =&gt; ? //=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !(<span class="id">lteifF</span>, <span class="id">lteifT</span>, <span class="id">sup_ub</span>, <span class="id">inf_lb</span>, <span class="id">sup_ub_strict</span>, <span class="id">inf_lb_strict</span>).<br/>
+ <span class="kwd">by</span> <span class="id">case</span>: <span class="id">asboolP</span> =&gt; <span class="id">XinfX</span>; <span class="id">rewrite</span> !(<span class="id">lteifF</span>, <span class="id">lteifT</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">rewrite</span> <span class="id">inf_lb</span> | <span class="id">rewrite</span> <span class="id">inf_lb_strict</span>].<br/>
+ <span class="kwd">by</span> <span class="id">case</span>: <span class="id">asboolP</span> =&gt; <span class="id">XsupX</span>; <span class="id">rewrite</span> !(<span class="id">lteifF</span>, <span class="id">lteifT</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">rewrite</span> <span class="id">sup_ub</span> | <span class="id">rewrite</span> <span class="id">sup_ub_strict</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_intervalP</span> (<span class="id">X</span> : <span class="id">set</span> <span class="id"><a href="mathcomp.analysis.topology.html#connectedPn">R</a></span>) : <span class="id">is_interval</span> <span class="id">X</span> &lt;-&gt; <span class="id">X</span> = [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> \<span class="kwd">in</span> <span class="id">Rhull</span> <span class="id">X</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof473')">Proof.</span></div>
<div class="proofscript" id="proof473">
<span class="id">split</span>=&gt; [<span class="id">iX</span>|-&gt;]; <span class="id">last</span> <span class="id">exact</span>: <span class="id">interval_is_interval</span>.<br/>
<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">x</span> /=; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">sub_Rhull</span> | <span class="id">rewrite</span> <span class="id">in_itv</span>/=].<br/>
<span class="id">case</span>: (<span class="id">asboolP</span> (<span class="id">has_lbound</span> <span class="id">_</span>)) =&gt; ?; <span class="id">case</span>: (<span class="id">asboolP</span> (<span class="id">has_ubound</span> <span class="id">_</span>)) =&gt; ? //=.<br/>
- <span class="id">case</span>: <span class="id">asboolP</span> =&gt; <span class="id">XinfX</span>; <span class="id">case</span>: <span class="id">asboolP</span> =&gt; <span class="id">XsupX</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !(<span class="id">lteifF</span>, <span class="id">lteifT</span>).<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; /<span class="id">andP</span>[]; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> &lt;- //|<span class="id">infXx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> -&gt; //|<span class="id">xsupX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_bounded_interior</span> // /<span class="id">mkset</span> <span class="id">infXx</span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; /<span class="id">andP</span>[]; <span class="id"><a href="mathcomp.analysis.topology.html#closure">rewrite</a></span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> &lt;- //|<span class="id">infXx</span> <span class="id">supXx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_bounded_interior</span> // /<span class="id">mkset</span> <span class="id">infXx</span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; /<span class="id">andP</span>[<span class="id">infXx</span>]; <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> -&gt; //|<span class="id">xsupX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_bounded_interior</span> // /<span class="id">mkset</span> <span class="id">infXx</span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_bounded_interior</span> // /<span class="id">mkset</span> <span class="id">infXx</span>.<br/>
- <span class="id">case</span>: <span class="id">asboolP</span> =&gt; <span class="id">XinfX</span>; <span class="id">rewrite</span> !(<span class="id">lteifF</span>, <span class="id">lteifT</span>, <span class="id">andbT</span>).<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span>&lt;-//|<span class="id">infXx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_right_unbounded_interior</span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; <span class="id">infXx</span>; <span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_right_unbounded_interior</span>.<br/>
- <span class="id">case</span>: <span class="id">asboolP</span> =&gt; <span class="id">XsupX</span> /=.<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span>-&gt;//|<span class="id">xsupX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_left_unbounded_interior</span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>=&gt; <span class="id">xsupX</span>; <span class="id">apply</span>: (@<span class="id">interior_subset</span> <span class="id">R</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interval_left_unbounded_interior</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">rewrite</span> (<span class="id">interval_unbounded_setT</span> <span class="id">iX</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">connected_intervalP</span> (<span class="id">E</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">connected</span> <span class="id">E</span> &lt;-&gt; <span class="id">is_interval</span> <span class="id">E</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof474')">Proof.</span></div>
<div class="proofscript" id="proof474">
<span class="id">split</span> =&gt; [<span class="id">cE</span> <span class="id">x</span> <span class="id">y</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">Ex</a></span> <span class="id">Ey</span> <span class="id">z</span> /<span class="id">andP</span>[<span class="id">xz</span> <span class="id">zy</span>]|].<br/>
- <span class="id">apply</span>: <span class="id">contrapT</span> =&gt; <span class="id">Ez</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">Az</span> := <span class="id">E</span> `&amp;` [<span class="id">set</span> <span class="id"><a href="mathcomp.analysis.topology.html#separated">x</a></span> | <span class="id">x</span> &lt; <span class="id">z</span>]; <span class="id">pose</span> <span class="id">Bz</span> := <span class="id">E</span> `&amp;` [<span class="id">set</span> <span class="id">x</span> | <span class="id">z</span> &lt; <span class="id">x</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">connectedPn</span> : <span class="id">cE</span>; <span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">then</span> <span class="id">Az</span> <span class="kwd">else</span> <span class="id"><a href="mathcomp.analysis.topology.html#closed_closure">Bz</a></span>); <span class="id">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id">move</span>: <span class="id">xz</span> <span class="id">zy</span> <span class="id">Ez</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">le_eqVlt</span> =&gt; /<span class="id">predU1P</span>[&lt;-//|<span class="id">xz</span>] /<span class="id">predU1P</span>[-&gt;//|<span class="id">zy</span>] <span class="id">Ez</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>; [<span class="kwd">exists</span> <span class="id">x</span> | <span class="kwd">exists</span> <span class="id">y</span>].<br/>
&nbsp;&nbsp;+ <span class="id">rewrite</span> /<span class="id">Az</span> /<span class="id">Bz</span> -<span class="id">setIUr</span>; <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">setIidPl</span> =&gt; <span class="id">u</span> <span class="id">Eu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">orP</span>; <span class="id"><a href="mathcomp.analysis.topology.html#subset_closure">rewrite</a></span> -<span class="id">neq_lt</span>; <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">apply</span>: <span class="id">contraPnot</span> <span class="id">Eu</span> =&gt; /<span class="id">eqP</span> &lt;-.<br/>
&nbsp;&nbsp;+ <span class="id">split</span>; [|<span class="id">rewrite</span> <span class="id">setIC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span>/<span class="id">disjoints_subset</span> =&gt; /= <span class="id">u</span> /<span class="id">closureI</span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id">closure_gt</span> =&gt; <span class="id">zu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">Az</span> <span class="id">setCI</span>; <span class="id">right</span>; <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span>/<span class="id">disjoints_subset</span> =&gt; /= <span class="id">u</span> /<span class="id">closureI</span>[<span class="id">_</span>]; <span class="id">rewrite</span> <span class="id">closure_lt</span> =&gt; <span class="id">zu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">Bz</span> <span class="id">setCI</span>; <span class="id">right</span>; <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
- <span class="id">apply</span>: <span class="id">contraPP</span> =&gt; /<span class="id">connectedPn</span>[<span class="id">A</span> [<span class="id">A0</span> <span class="id">EU</span> <span class="id">sepA</span>]] <span class="id">intE</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [/= <span class="id">x</span> <span class="id">A0x</span>] := <span class="id">A0</span> <span class="id">false</span>; <span class="id">have</span> [/= <span class="id">y</span> <span class="id">A1y</span>] := <span class="id">A0</span> <span class="id">true</span>.<br/>
&nbsp;&nbsp;<span class="id">wlog</span> <span class="id">xy</span> : <span class="id">A</span> <span class="id">A0</span> <span class="id">EU</span> <span class="id">sepA</span> <span class="id">x</span> <span class="id">A0x</span> <span class="id">y</span> <span class="id">A1y</span> / <span class="id">x</span> &lt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; /= <span class="id">wlog_hypo</span>; <span class="id">have</span> [<span class="id">xy</span>|<span class="id">yx</span>|{<span class="id">wlog_hypo</span>}<span class="id">yx</span>] := <span class="id">ltgtP</span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exact</span>: (<span class="id">wlog_hypo</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A0x</span> <span class="id">_</span> <span class="id">A1y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">apply</span>: (<span class="id">wlog_hypo</span> (<span class="id">A</span> \<span class="id">o</span> <span class="id">negb</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">y</span> <span class="id">_</span> <span class="id">x</span>) =&gt; //=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> [<span class="id">rewrite</span> <span class="id">setUC</span> | <span class="id">rewrite</span> <span class="id">separatedC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">move</span>/<span class="id">separated_disjoint</span> : <span class="id">sepA</span>; <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; /(<span class="id">_</span> <span class="id">x</span>)[] + <span class="id">_</span>; <span class="id"><a name="segment.R">apply</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id">yx</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">z</span> := <span class="id">sup</span> (<span class="id">A</span> <span class="id">false</span> `&amp;` [<span class="id">set</span> <span class="id">z</span> | <span class="id">x</span> &lt;= <span class="id"><a href="mathcomp.analysis.normedtype.html#segment.R">z</a></span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#connected">y</a></span>]).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">A1z</span> : ~ (<span class="id">A</span> <span class="id">true</span>) <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">cA0z</span> : <span class="id">closure</span> (<span class="id">A</span> <span class="id">false</span>) <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> : <span class="id">closure</span> (<span class="id">A</span> <span class="id">false</span> `&amp;` [<span class="id">set</span> <span class="id">z</span> | <span class="id">x</span> &lt;= <span class="id">z</span> &lt;= <span class="id">y</span>]) <span class="id">z</span> <span class="kwd">by</span> <span class="id">case</span>/<span class="id">closureI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">closure_sup</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span> =&gt; <span class="id">u</span> [<span class="id">_</span>] /<span class="id">andP</span>[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> /<span class="id">mkset</span> <span class="id">lexx</span> /= (<span class="id">ltW</span> <span class="id">xy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">sepA</span>; <span class="id">rewrite</span> /<span class="id">separated</span> =&gt; -[] /<span class="id">disjoints_subset</span> + <span class="id">_</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">andP</span>[<span class="id">xz</span> <span class="id">zy</span>] : <span class="id">x</span> &lt;= <span class="id">z</span> &lt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">sup_ub</span> //=; [|<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span> =&gt; <span class="id">u</span> [<span class="id">_</span>] /<span class="id">andP</span>[]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">rewrite</span> <span class="id">lt_neqAle</span> <span class="id">sup_le_ub</span> ?<span class="id">andbT</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">u</span> [<span class="id">_</span>] /<span class="id">andP</span>[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">negP</span>; <span class="id">apply</span>: <span class="id">contraPnot</span> <span class="id">A1y</span> =&gt; /<span class="id">eqP</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> /<span class="id">mkset</span> /= <span class="id">lexx</span> /= (<span class="id">ltW</span> <span class="id">xy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">split</span>=&gt; //; <span class="id">rewrite</span> /<span class="id">mkset</span> <span class="id">lexx</span> (<span class="id">ltW</span> <span class="id">xy</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">A0z</span>|<span class="id">A0z</span>] := <span class="id">pselect</span> ((<span class="id">A</span> <span class="id">false</span>) <span class="id">z</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> {}<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">xzy</a></span> : <span class="id">x</span> &lt;= <span class="id">z</span> &lt;= <span class="id">y</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">xz</span> <span class="id">ltW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> : ~ <span class="id">E</span> <span class="id">z</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EU</span> =&gt; -[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">apply</span> (<span class="id">intE</span> <span class="id">x</span> <span class="id">y</span>) =&gt; //; <span class="id">rewrite</span> <span class="id">EU</span>; [<span class="id">left</span>|<span class="id">right</span>].<br/>
&nbsp;&nbsp;<span class="id">suff</span> [<span class="id">z1</span> [/<span class="id">andP</span>[<span class="id">zz1</span> <span class="id">z1y</span>] <span class="id">Ez1</span>]] : <span class="kwd">exists</span> <span class="id">z1</span> : <span class="id">R</span>, <span class="id">z</span> &lt;= <span class="id">z1</span> &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#openE">y</a></span> /\ ~ <span class="id">E</span> <span class="id">z1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">Ez1</span>; <span class="id">apply</span> (<span class="id">intE</span> <span class="id">x</span> <span class="id">y</span>) =&gt; //; <span class="id">rewrite</span> ?<span class="id">EU</span>; [<span class="kwd">by</span> <span class="id">left</span>|<span class="kwd">by</span> <span class="id">right</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">z1y</span> (<span class="id">le_trans</span> <span class="id">_</span> <span class="id">zz1</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">r</span> <span class="id">zcA1</span>] : {<span class="id">r</span>:{<span class="id">posnum</span> <span class="id">R</span>}| <span class="id">ball</span> <span class="id">z</span> <span class="id">r</span>%:<span class="id">num</span> `&lt;=` ~` <span class="id">closure</span> (<span class="id">A</span> <span class="id">true</span>)}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> ? : ~ <span class="id">closure</span> (<span class="id">A</span> <span class="id">true</span>) <span class="id">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">sepA</span>; <span class="id">rewrite</span> /<span class="id">separated</span> =&gt; -[] <span class="id">_</span> /<span class="id">disjoints_subset</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> ? : <span class="id">open</span> (~` <span class="id">closure</span> (<span class="id">A</span> <span class="id">true</span>)) <span class="kwd">by</span> <span class="id">exact</span>/<span class="id">closed_openC</span>/<span class="id">closed_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">nbhsC_ball</span>/<span class="id">open_nbhs_nbhs</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">z1</span> : <span class="id">R</span> := <span class="id">z</span> + <span class="id">r</span>%:<span class="id">num</span> / 2; <span class="kwd">exists</span> <span class="id">z1</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">z1y</span> : <span class="id">z1</span> &lt;= <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id">negP</span> =&gt; <span class="id">yz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">suff</span> : (~` <span class="id">closure</span> (<span class="id">A</span> <span class="id">true</span>)) <span class="id">y</span> <span class="kwd">by</span> <span class="id">apply</span>; <span class="id">exact</span>: <span class="id">subset_closure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">zcA1</span>; <span class="id">rewrite</span> /<span class="id">ball</span> /= <span class="id">ltr_distl</span> (<span class="id">lt_le_trans</span> <span class="id">zy</span>) // ?<span class="id">ler_addl</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">andbT</span> <span class="id">ltr_subl_addl</span> <span class="id">addrC</span> (<span class="id">lt_trans</span> <span class="id">yz1</span>) // <span class="id">ltr_add2l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // <span class="id">ltr1n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">z1y</span> <span class="id">andbT</span> <span class="id">ler_addl</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">ncA1z1</span> : (~` <span class="id">closure</span> (<span class="id">A</span> <span class="id">true</span>)) <span class="id">z1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">zcA1</span>; <span class="id">rewrite</span> /<span class="id">ball</span> /= /<span class="id">z1</span> <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">subrr</span> <span class="id">add0r</span> <span class="id">normrN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ger0_norm</span> // <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // <span class="id">ltr1n</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">have</a></span> <span class="id">nA0z1</span> : ~ (<span class="id">A</span> <span class="id">false</span>) <span class="id">z1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">A0z1</span>; <span class="id">have</span> : <span class="id">z</span> &lt; <span class="id">z1</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">z1</span> <span class="id">ltr_addl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">negP</span>; <span class="id">rewrite</span> -<span class="id">leNgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">sup_ub</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">y</span> =&gt; <span class="id">u</span> [<span class="id">_</span>] /<span class="id">andP</span>[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> /<span class="id">mkset</span> /<span class="id">z1</span> (<span class="id">le_trans</span> <span class="id">xz</span>) /= ?<span class="id">ler_addl</span> // (<span class="id">ltW</span> <span class="id">z1y</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">EU</span> =&gt; -[//|]; <span class="id">apply</span>: <span class="id">contra_not</span> <span class="id">ncA1z1</span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">subset_closure</a></span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id">interval_realType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">segment</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realType</span>.<br/>
<br/>
<div class="doc">properties of segments in <span class="bracket"><span class="id">R</span></span> </div>
<br/>
<span class="kwd">Lemma</span> <span class="id">segment_connected</span> (<span class="id">a</span> <span class="id">b</span> : <span class="id">R</span>) : <span class="id">connected</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof475')">Proof.</span></div>
<div class="proofscript" id="proof475">
 <span class="id">exact</span>/<span class="id">connected_intervalP</span>/<span class="id">interval_is_interval</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">segment_compact</span> (<span class="id">a</span> <span class="id">b</span> : <span class="id">R</span>) : <span class="id">compact</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof476')">Proof.</span></div>
<div class="proofscript" id="proof476">
<span class="id">have</span> [<span class="id">leab</span>|<span class="id">ltba</span>] := <span class="id">lerP</span> <span class="id">a</span> <span class="id">b</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">F</span> <span class="id">FF</span> /<span class="id">filter_ex</span> [<span class="id">x</span> <span class="id">abx</span>]; <span class="id">move</span>: <span class="id">ltba</span>; <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">abx</span>).<br/>
<span class="id">rewrite</span> <span class="id">compact_cover</span> =&gt; <span class="id">I</span> <span class="id">D</span> <span class="id">f</span> <span class="id">fop</span> <span class="id">sabUf</span>.<br/>
<span class="id">set</span> <span class="id">B</span> := [<span class="id">set</span> <span class="id">x</span> | <span class="kwd">exists2</span> <span class="id">E</span> : {<span class="id">fset</span> <span class="id">I</span>}, {<span class="id">subset</span> <span class="id">E</span> &lt;= <span class="id">D</span>} &amp;<br/>
&nbsp;&nbsp;`[<span class="id">a</span>, <span class="id">x</span>] `&lt;=` \<span class="id">bigcup_</span>(<span class="id">i</span> <span class="kwd">in</span> [<span class="id">set</span>` <span class="id">E</span>]) <span class="id">f</span> <span class="id">i</span> /\ (\<span class="id">bigcup_</span>(<span class="id"><a name="a:2184">i</a></span> <span class="kwd">in</span> [<span class="id">set</span>` <span class="id">E</span>]) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span>].<br/>
<span class="id">set</span> <span class="id">A</span> := `[<span class="id">a</span>, <span class="id">b</span>] `&amp;` <span class="id">B</span>.<br/>
<span class="id">suff</span> <span class="id">Aeab</span> : <span class="id">A</span> = `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> [<span class="id">_</span> [<span class="id">E</span> ? []]] : <span class="id">A</span> <span class="id">b</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">Aeab</span>/= <span class="id">inE</span>/=; <span class="id">apply</span>/<span class="id">andP</span>.<br/>
<span class="id">apply</span>: <span class="id">segment_connected</span>.<br/>
- <span class="id">have</span> <span class="id">aba</span> : <span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id">lexx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">a</span>; <span class="id">split</span>=&gt; //; <span class="id">have</span> /<span class="id">sabUf</span> [<span class="id">i</span> /= <span class="id">Di</span> <span class="id">fia</span>] := <span class="id">aba</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> [<span class="id">fset</span> <span class="id">i</span>]%<span class="id">fset</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">inE</span> <span class="id">inE</span> =&gt; /<span class="id">eqP</span>-&gt;.<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">inE</span>.<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">move</a></span>=&gt; <span class="id">x</span> /= <span class="id">aex</span>; <span class="kwd">exists</span> <span class="id">i</span>; [<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">inE</span>|<span class="id">suff</span> /<span class="id">eqP</span>-&gt; : <span class="id">x</span> == <span class="id">a</span> <span class="kwd">by</span> []].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_le</span> !(<span class="id">itvP</span> <span class="id">aex</span>).<br/>
- <span class="kwd">exists</span> <span class="id">B</span> =&gt; //; <span class="id">rewrite</span> <span class="id">openE</span> =&gt; <span class="id">x</span> [<span class="id">E</span> <span class="id">sD</span> [<span class="id">saxUf</span> [<span class="id">i</span> <span class="id">Di</span> <span class="id">fx</span>]]].<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">open</span> (<span class="id">f</span> <span class="id">i</span>) <span class="kwd">by</span> <span class="id">have</span> /<span class="id">sD</span> := <span class="id">Di</span>; <span class="id">rewrite</span> <span class="id">inE</span> =&gt; /<span class="id">fop</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">openE</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">fx</span>) [<span class="id"><a href="mathcomp.analysis.normedtype.html#connected_intervalP">e</a></span> <span class="id">egt0</span> <span class="id">xe_fi</span>]; <span class="kwd">exists</span> <span class="id">e</span> =&gt; // <span class="id">y</span> <span class="id">xe_y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">E</span> =&gt; //; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">i</span> =&gt; //; <span class="id">apply</span>/<span class="id">xe_fi</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">z</span> /= <span class="id">ayz</span>; <span class="id">have</span> [<span class="id">lezx</span>|<span class="id">ltxz</span>] := <span class="id">lerP</span> <span class="id">z</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">saxUf</span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span>/= (<span class="id">itvP</span> <span class="id">ayz</span>) <span class="id">lezx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">i</span> =&gt; //; <span class="id">apply</span>/<span class="id">xe_fi</span>; <span class="id">rewrite</span> /<span class="id">ball_</span>/= <span class="id">distrC</span> <span class="id">ger0_norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">lezy</span> : <span class="id">z</span> &lt;= <span class="id">y</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">ayz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_subl_addl</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">lezy</span> <span class="id">_</span>; <span class="id">rewrite</span> -<span class="id">ltr_subl_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">xe_y</span>; <span class="id">rewrite</span> /<span class="id">ball_</span> =&gt; /<span class="id">ltr_distlC_subl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_ge0</span>; <span class="id">apply</span>/<span class="id">ltW</span>.<br/>
<span class="kwd">exists</span> <span class="id">A</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">x</span>; <span class="id">split</span>=&gt; [[] | []].<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">clAx</span>; <span class="id">have</span> <span class="id">abx</span> : <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">interval_closed</span>; <span class="id">have</span> /<span class="id">closureI</span> [] := <span class="id">clAx</span>.<br/>
<span class="id">split</span>=&gt; //; <span class="id">have</span> /<span class="id">sabUf</span> [<span class="id">i</span> <span class="id">Di</span> <span class="id">fx</span>] := <span class="id">abx</span>.<br/>
<span class="id">have</span> /<span class="id">fop</span> := <span class="id">Di</span>; <span class="id">rewrite</span> <span class="id">openE</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">fx</span>) [<span class="id">_</span> /<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">xe_fi</span>].<br/>
<span class="id">have</span> /<span class="id">clAx</span> [<span class="id">y</span> [[<span class="id">aby</span> [<span class="id">E</span> <span class="id">sD</span> [<span class="id">sayUf</span> <span class="id">_</span>]]] <span class="id">xe_y</span>]] := <span class="id">nbhsx_ballx</span> <span class="id">x</span> <span class="id">e</span>.<br/>
<span class="kwd">exists</span> (<span class="id">i</span> |` <span class="id">E</span>)%<span class="id">fset</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span> /<span class="id">fset1UP</span>[-&gt;|/<span class="id">sD</span>] //; <span class="id">rewrite</span> <span class="id">inE</span>.<br/>
<span class="id">split</span>=&gt; [<span class="id">z</span> <span class="id">axz</span>|]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">i</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= !<span class="id">inE</span> <span class="id">eq_refl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">xe_fi</span>; <span class="id">rewrite</span> /<span class="id">ball_</span>/= <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">have</span> [<span class="id">lezy</span>|<span class="id">ltyz</span>] := <span class="id">lerP</span> <span class="id">z</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">sayUf</span> [<span class="id">j</span> <span class="id">Dj</span> <span class="id">fjz</span>] : <span class="id">z</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">y</span>] <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= (<span class="id">itvP</span> <span class="id">axz</span>) <span class="id">lezy</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">j</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">inE</span> <span class="id">orbC</span> <span class="id">Dj</span>.<br/>
<span class="kwd">exists</span> <span class="id">i</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= !<span class="id">inE</span> <span class="id">eq_refl</span>.<br/>
<span class="id">apply</span>/<span class="id">xe_fi</span>; <span class="id">rewrite</span> /<span class="id">ball_</span>/= <span class="id">ger0_norm</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_ge0</span> (<span class="id">itvP</span> <span class="id">axz</span>).<br/>
<span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> -<span class="id">ltr_subl_addr</span>; <span class="id">apply</span>: <span class="id">lt_trans</span> <span class="id">ltyz</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">ltr_distlC_subl</span>; <span class="id">rewrite</span> <span class="id">distrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">segment</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__ler0_addgt0P</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">x</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">reflect</span> (<span class="kwd">forall</span> <span class="id">e</span>, <span class="id">e</span> &gt; 0 -&gt; <span class="id">x</span> &lt;= <span class="id">e</span>) (<span class="id">x</span> &lt;= 0).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof477')">Proof.</span></div>
<div class="proofscript" id="proof477">
 <span class="id">exact</span>: <span class="id">ler_gtP</span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">use</span> `<span class="id">ler_gtP</span>` <span class="id">instead</span> <span class="id">which</span> <span class="id">generalizes</span> <span class="id">it</span> <span class="id">to</span> <span class="id">any</span> <span class="id">upper</span> <span class="id">bound</span>.")]<br/>
<span class="kwd">Notation</span> <span class="id">ler0_addgt0P</span> := <span class="id">__deprecated__ler0_addgt0P</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">IVT</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id">a</span> <span class="id">b</span> <span class="id">v</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id">minr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>) &lt;= <span class="id">v</span> &lt;= <span class="id">maxr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">c</span>, <span class="id">c</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">c</span> = <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof478')">Proof.</span></div>
<div class="proofscript" id="proof478">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fcont</span>; <span class="id">gen</span> <span class="id">have</span> <span class="id">ivt</span> : <span class="id">f</span> <span class="id">v</span> <span class="id">fcont</span> / <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">v</span> &lt;= <span class="id">f</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id">c</span>, <span class="id">c</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">c</span> = <span class="id">v</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: (<span class="id">leP</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)) =&gt; [] <span class="id">_</span> <span class="id">fabv</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">ivt</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [| |<span class="id">c</span> <span class="id">cab</span> /<span class="id">oppr_inj</span>] := <span class="id">ivt</span> (- <span class="id">f</span>) (- <span class="id">v</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>: <span class="id">continuousN</span>; <span class="id">apply</span>: <span class="id">fcont</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_oppr</span> <span class="id">opprK</span> <span class="id">ler_oppr</span> <span class="id">opprK</span> <span class="id">andbC</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">favfb</span>; <span class="id">suff</span>: <span class="id">is_interval</span> (<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>]).<br/>
&nbsp;&nbsp;<span class="id">apply</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">favfb</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">lexx</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">b</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">in_itv</span>/= <span class="id">leab</span> <span class="id">lexx</span>.<br/>
<span class="id">apply</span>/<span class="id">connected_intervalP</span>/<span class="id">connected_continuous_connected</span> =&gt; //.<br/>
<span class="id">exact</span>: <span class="id">segment_connected</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Local properties in <span class="bracket"><span class="id">R</span></span> </div>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">compact_bounded</span> (<span class="id">K</span> : <span class="id">realType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>) (<span class="id">A</span> : <span class="id">set</span> <span class="id">V</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#nbhsE">compact</a></span> <span class="id">A</span> -&gt; <span class="id">bounded_set</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof479')">Proof.</span></div>
<div class="proofscript" id="proof479">
<span class="id">rewrite</span> <span class="id">compact_cover</span> =&gt; <span class="id">Aco</span>.<br/>
<span class="id">have</span> <span class="id">covA</span> : <span class="id">A</span> `&lt;=` \<span class="id">bigcup_</span>(<span class="id">n</span> : <span class="id">int</span>) [<span class="id">set</span> <span class="id">p</span> | `|<span class="id">p</span>| &lt; <span class="id">n</span>%:~<span class="id">R</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">p</span> <span class="id">_</span>; <span class="kwd">exists</span> (<span class="id">floor</span> `|<span class="id">p</span>| + 1) =&gt; //; <span class="id">rewrite</span> <span class="id">rmorphD</span>/= <span class="id">lt_succ_floor</span>.<br/>
<span class="id">have</span> /<span class="id">Aco</span> [] := <span class="id">covA</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">openE</span> =&gt; <span class="id">p</span>; <span class="id">rewrite</span> /= -<span class="id">subr_gt0</span> =&gt; <span class="id">ltpn</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a name="g:2249">nbhs_ballP</a></span>; <span class="kwd">exists</span> (<span class="id">n</span>%:~<span class="id">R</span> - `|<span class="id">p</span>|) =&gt; // <span class="id">q</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ball_normE</span> /= <span class="id">ltr_subr_addr</span> <span class="id">distrC</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -{1}(<span class="id">subrK</span> <span class="id">p</span> <span class="id">q</span>) <span class="id">ler_norm_add</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">D</span> <span class="id">_</span> <span class="id">DcovA</span>.<br/>
<span class="kwd">exists</span> (\<span class="id">big</span>[<span class="id">maxr</span>/0]<span class="id">_</span>(<span class="id">i</span> : <span class="id">D</span>) (<span class="id">fsval</span> <span class="id">i</span>)%:~<span class="id">R</span>).<br/>
<span class="id">rewrite</span> <span class="id">bigmax_real</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">realz</span>.<br/>
<span class="id">split</span> =&gt; // <span class="id">x</span> <span class="id">ltmaxx</span> <span class="id">p</span> /<span class="id">DcovA</span> [<span class="id">n</span> <span class="id">Dn</span> /<span class="id">lt_trans</span> /(<span class="id">_</span> <span class="id">_</span>)/<span class="id">ltW</span>].<br/>
<span class="id">apply</span>; <span class="id">apply</span>: <span class="id">le_lt_trans</span> <span class="id">ltmaxx</span>.<br/>
<span class="id">have</span> : <span class="id">n</span> \<span class="kwd">in</span> <span class="id">enum_fset</span> <span class="id">D</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">enum_fsetE</span> =&gt; /<span class="id">mapP</span>[/= <span class="id">i</span> <span class="id">iD</span> -&gt;]; <span class="id">exact</span>/<span class="id">le_bigmax</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">rV_compact</span> (<span class="id">T</span> : <span class="id">topologicalType</span>) <span class="id">n</span> (<span class="id">A</span> : '<span class="id">I_n</span>.+1 -&gt; <span class="id">set</span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">compact</span> (<span class="id">A</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#get">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">compact</span> [ <span class="id">set</span> <span class="id">v</span> : '<span class="id">rV</span>[<span class="id">T</span>]<span class="id">_n</span>.+1 | <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">A</span> <span class="id">i</span> (<span class="id">v</span> <span class="id">ord0</span> <span class="id">i</span>)].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof480')">Proof.</span></div>
<div class="proofscript" id="proof480">
<span class="id">move</span>=&gt; <span class="id">Aico</span>.<br/>
<span class="id">have</span> : @<span class="id">compact</span> (<span class="id">product_topologicalType</span> <span class="id">_</span>) [<span class="id">set</span> <span class="id">f</span> | <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">A</span> <span class="id">i</span> (<span class="id">f</span> <span class="id">i</span>)].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">tychonoff</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">Aco</span> <span class="id">F</span> <span class="id">FF</span> <span class="id">FA</span>.<br/>
<span class="id">set</span> <span class="id">G</span> := [<span class="id">set</span> [<span class="id">set</span> <span class="id">f</span> : '<span class="id">I_n</span>.+1 -&gt; <span class="id"><a name="j:2279">T</a></span> | <span class="id">B</span> (\<span class="id">row_j</span> <span class="id">f</span> <span class="id">j</span>)] | <span class="id">B</span> <span class="kwd">in</span> <span class="id">F</span>].<br/>
<span class="id">have</span> <span class="id">row_simpl</span> (<span class="id">v</span> : '<span class="id">rV</span>[<span class="id">T</span>]<span class="id">_n</span>.+1) : \<span class="id"><a name="A:2283">row_j</a></span> (<span class="id">v</span> <span class="id">ord0</span> <span class="id">j</span>) = <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">rowP</span> =&gt; ?; <span class="id">rewrite</span> <span class="id">mxE</span>.<br/>
<span class="id">have</span> <span class="id">row_simpl</span>' (<span class="id">f</span> : '<span class="id">I_n</span>.+1 -&gt; <span class="id">T</span>) : (\<span class="id">row_j</span> <span class="id">f</span> <span class="id">j</span>) <span class="id">ord0</span> = <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span>=&gt; ?; <span class="id">rewrite</span> <span class="id">mxE</span>.<br/>
<span class="id">have</span> [<span class="id">f</span> [<span class="id">Af</span> <span class="id">clGf</span>]] : [<span class="id">set</span> <span class="id">f</span> | <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">A</span> <span class="id">i</span> (<span class="id">f</span> <span class="id">i</span>)] `&amp;`<br/>
&nbsp;&nbsp;@<span class="id">cluster</span> (<span class="id">product_topologicalType</span> <span class="id">_</span>) <span class="id">G</span> !=<span class="id">set0</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span> <span class="id">GF</span> : <span class="id">ProperFilter</span> <span class="id">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">Aco</span>; <span class="kwd">exists</span> [<span class="id">set</span> <span class="id">v</span> : '<span class="id">rV</span>[<span class="id">T</span>]<span class="id">_n</span>.+1 | <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">A</span> <span class="id">i</span> (<span class="id">v</span> <span class="id">ord0</span> <span class="id">i</span>)] =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">f</span>; <span class="id">split</span> =&gt; <span class="id">Af</span> <span class="id">i</span>; [<span class="id">have</span> := <span class="id">Af</span> <span class="id">i</span>|]; <span class="id">rewrite</span> <span class="id">row_simpl</span>'.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">Build_ProperFilter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">C</span> <span class="id">FC</span> &lt;-]; <span class="id">have</span> /<span class="id">filter_ex</span> [<span class="id">v</span> <span class="id">Cv</span>] := <span class="id">FC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">v</span> <span class="id">ord0</span>); <span class="id">rewrite</span> /= <span class="id">row_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">setT</span> =&gt; //; <span class="id">apply</span>: <span class="id">filterT</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">_</span> [<span class="id">C</span> <span class="id">FC</span> &lt;-] [<span class="id">D</span> <span class="id">FD</span> &lt;-]; <span class="kwd">exists</span> (<span class="id">C</span> `&amp;` <span class="id">D</span>) =&gt; //; <span class="id">apply</span>: <span class="id">filterI</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">C</span> <span class="id">D</span> <span class="id">sCD</span> [<span class="id">E</span> <span class="id">FE</span> <span class="id">EeqC</span>]; <span class="kwd">exists</span> [<span class="id">set</span> <span class="id">v</span> : '<span class="id">rV</span>[<span class="id">T</span>]<span class="id">_n</span>.+1 | <span class="id">D</span> (<span class="id">v</span> <span class="id">ord0</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">filterS</span> <span class="id">FE</span> =&gt; <span class="id">v</span> <span class="id">Ev</span>; <span class="id">apply</span>/<span class="id">sCD</span>; <span class="id"><a name="y:2293">rewrite</a></span> -<span class="id">EeqC</span>/= <span class="id">row_simpl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; ? /=; <span class="id">rewrite</span> <span class="id">row_simpl</span>'.<br/>
<span class="kwd">exists</span> (\<span class="id">row_j</span> <span class="id">f</span> <span class="id">j</span>); <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">rewrite</a></span> <span class="id">mxE</span>; <span class="id">apply</span>: <span class="id">Af</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">C</span> <span class="id">D</span> <span class="id">FC</span> <span class="id">f_D</span>; <span class="id">have</span> {}<span class="id">f_D</span> :<br/>
&nbsp;&nbsp;<span class="id">nbhs</span> (<span class="id">f</span> : <span class="id">product_topologicalType</span> <span class="id">_</span>) [<span class="id">set</span> <span class="id">g</span> | <span class="id">D</span> (\<span class="id">row_j</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#Shift.R">g</a></span> <span class="id">j</span>)].<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">E</span> <span class="id">f_E</span> <span class="id">sED</span>] := <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">f_D</a></span>; <span class="id">rewrite</span> <span class="id">nbhsE</span>.<br/>
&nbsp;&nbsp;<span class="id">set</span> <span class="id">Pj</span> := <span class="kwd">fun</span> <span class="id">j</span> <span class="id">Bj</span> =&gt; <span class="id">open_nbhs</span> (<span class="id">f</span> <span class="id">j</span>) <span class="id">Bj</span> /\ <span class="id">Bj</span> `&lt;=` <span class="id"><a name="shift0">E</a></span> <span class="id">ord0</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">exPj</span> : <span class="kwd">forall</span> <span class="id">j</span>, <span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">Bj</a></span>, <span class="id">open_nbhs</span> (<span class="id">f</span> <span class="id">j</span>) <span class="id">Bj</span> /\ <span class="id">Bj</span> `&lt;=` <span class="id">E</span> <span class="id">ord0</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">j</span>; <span class="id">have</span> := <span class="id">f_E</span> <span class="id">ord0</span> <span class="id">j</span>; <span class="id">rewrite</span> <span class="id">nbhsE</span> =&gt; - [<span class="id">Bj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#Shift">rewrite</a></span> <span class="id">row_simpl</span>'; <span class="kwd">exists</span> <span class="id">Bj</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> [<span class="id">set</span> <span class="id">g</span> | <span class="kwd">forall</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">j</a></span>, (<span class="id">get</span> (<span class="id">Pj</span> <span class="id">j</span>)) (<span class="id">g</span> <span class="id">j</span>)]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">g</span> <span class="id">Pg</span>; <span class="id"><a name="R:2299">apply</a></span>: <span class="id">sED</span> =&gt; <span class="id">i</span> <span class="id">j</span>; <span class="id">rewrite</span> <span class="id"><a name="x:2301">ord1</a></span> <span class="id">row_simpl</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id">getPex</span> [<span class="id">_</span> /(<span class="id">_</span> <span class="id">_</span> (<span class="id">Pg</span> <span class="id"><a name="z:2306">j</a></span>))] := <span class="id">exPj</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">j</span>; <span class="id">have</span> /<span class="id">getPex</span> [[]] := <span class="id">exPj</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> [<span class="id">set</span> [<span class="id">set</span> <span class="id">g</span> | <span class="kwd">forall</span> <span class="id">j</span>, <span class="id">get</span> (<span class="id">Pj</span> <span class="id">j</span>) (<span class="id">g</span> <span class="id">j</span>)] | <span class="id">k</span> <span class="kwd">in</span> [<span class="id">set</span> <span class="id">x</span> | '<span class="id">I_n</span>.+1 <span class="id">x</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">g</span>; <span class="id"><a name="T:2308">split</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">_</span> [<span class="id">_</span> <span class="id">_</span> &lt;-]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">Pg</span>; <span class="kwd">exists</span> [<span class="id">set</span> <span class="id">g</span> | <span class="kwd">forall</span> <span class="id">j</span>, <span class="id">get</span> (<span class="id">Pj</span> <span class="id">j</span>) (<span class="id">g</span> <span class="id">j</span>)] =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">ord0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> [<span class="id">_</span> <span class="id">_</span> &lt;-]; <span class="id">set</span> <span class="id">s</span> := [<span class="id">seq</span> (@^~ <span class="id">j</span>) @^-1` (<span class="id">get</span> (<span class="id">Pj</span> <span class="id">j</span>)) | <span class="id">j</span> : '<span class="id">I_n</span>.+1].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> [<span class="id">fset</span> <span class="id">x</span> <span class="kwd">in</span> <span class="id">s</span>]%<span class="id"><a href="mathcomp.classical.boolp.html#funeqE">fset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">B</span>'; <span class="id">rewrite</span> <span class="id">in_fset</span> =&gt; /<span class="id">mapP</span> [<span class="id">j</span> <span class="id">_</span> -&gt;]; <span class="id">rewrite</span> <span class="id">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">j</span> =&gt; //; <span class="kwd">exists</span> (<span class="id">get</span> (<span class="id"><a name="continuous.V">Pj</a></span> <span class="id">j</span>)) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id">getPex</span> [[]] := <span class="id">exPj</span> <span class="id"><a name="f:2317">j</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">predeqE</span> =&gt; <span class="id">g</span>; <span class="id">split</span>=&gt; [<span class="id">Ig</span> <span class="id">j</span>|<span class="id">Ig</span> <span class="id">B</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id">Ig</span> ((@^~ <span class="id">j</span>) @^-1` (<span class="id">get</span> (<span class="id">Pj</span> <span class="id">j</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">in_fset</span>; <span class="id">apply</span>/<span class="id">mapP</span>; <span class="kwd">exists</span> <span class="id">j</span> =&gt; //; <span class="id">rewrite</span> <span class="id">mem_enum</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">in_fset</span> =&gt; /<span class="id">mapP</span> [<span class="id">j</span> <span class="id">_</span> -&gt;]; <span class="id">apply</span>: <span class="id">Ig</span>.<br/>
<span class="id">have</span> <span class="id">GC</span> : <span class="id">G</span> [<span class="id"><a href="mathcomp.analysis.topology.html#continuous">set</a></span> <span class="id">g</span> | <span class="id">C</span> (\<span class="id">row_j</span> <span class="id">g</span> <span class="id">j</span>)] <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">C</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">g</span> []] := <span class="id">clGf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">GC</span> <span class="id">f_D</span>; <span class="kwd">exists</span> (\<span class="id">row_j</span> (<span class="id">g</span> <span class="id">j</span> : <span class="id">T</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_closed_compact</span> (<span class="id">R</span> : <span class="id">realType</span>) <span class="id">n</span> (<span class="id">A</span> : <span class="id">set</span> '<span class="id">rV</span>[<span class="id">R</span>]<span class="id">_n</span>.+1) :<br/>
&nbsp;&nbsp;<span class="id">bounded_set</span> <span class="id">A</span> -&gt; <span class="id">closed</span> <span class="id">A</span> -&gt; <span class="id">compact</span> <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof481')">Proof.</span></div>
<div class="proofscript" id="proof481">
<span class="id">move</span>=&gt; [<span class="id">M</span> [<span class="id">Mreal</span> <span class="id"><a name="Closed_Ball">normAltM</a></span>]] <span class="id">Acl</span>.<br/>
<span class="id">have</span> <span class="id">Mnco</span> : <span class="id">compact</span><br/>
&nbsp;&nbsp;[<span class="id">set</span> <span class="id">v</span> : '<span class="id">rV</span>[<span class="id"><a name="V:2322">R</a></span>]<span class="id">_n</span>.+1 | <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">v</span> <span class="id"><a name="x:2323">ord0</a></span> <span class="id">i</span> \<span class="kwd">in</span> `[(- (<span class="id">M</span> + 1)), (<span class="id">M</span> + 1)]].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">rV_compact</span> <span class="id">_</span>  <span class="id">_</span> (<span class="kwd">fun</span> <span class="id">_</span> =&gt; `[(- (<span class="id">M</span> + 1)), (<span class="id">M</span> + 1)]%<span class="id">classic</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">_</span>; <span class="id">apply</span>: <span class="id">segment_compact</span>.<br/>
<span class="id">apply</span>: <span class="id">subclosed_compact</span> <span class="id">Acl</span> <span class="id">Mnco</span> <span class="id">_</span> =&gt; <span class="id">v</span> /<span class="id">normAltM</span> <span class="id">normvleM</span> <span class="id">i</span>.<br/>
<span class="id">suff</span> : `|<span class="id">v</span> <span class="id">ord0</span> <span class="id">i</span> : <span class="id">R</span>| &lt;= <span class="id">M</span> + 1 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_norml</span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span> (<span class="id">normvleM</span> <span class="id">_</span> <span class="id">_</span>); <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> /<span class="id">mapP</span>[<span class="id">j</span> <span class="id">Hj</span> -&gt;] : `|<span class="id">v</span> <span class="id">ord0</span> <span class="id">i</span>| \<span class="kwd">in</span> [<span class="id">seq</span> `|<span class="id">v</span> <span class="id">x</span>.1 <span class="id"><a name="y:2330">x</a></span>.2| | <span class="id">x</span> : '<span class="id">I_1</span> * '<span class="id">I_n</span>.+1].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">mapP</span>; <span class="kwd">exists</span> (<span class="id">ord0</span>, <span class="id">i</span>) =&gt; //=; <span class="id">rewrite</span> <span class="id">mem_enum</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">leRHS</span>]/<span class="id">normr</span> /= <span class="id">mx_normrE</span>; <span class="id">apply</span>/<span class="id">bigmax_geP</span>; <span class="id">right</span> =&gt; /=; <span class="kwd">exists</span> <span class="id">j</span>.<br/>
Qed.</div>
<br/>
<br/>
<h1> Some limits on real functions </h1>
<br/>
<span class="kwd">Section</span> <span class="id">Shift</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">zmodType</span>} {<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_le">T</a></span> : <span class="kwd">Type</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">shift</span> (<span class="id">x</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">y</a></span> : <span class="id">R</span>) := <span class="id">y</span> + <span class="id">x</span>.<br/>
<span class="kwd">Notation</span> <span class="id">center</span> <span class="id">c</span> := (<span class="id">shift</span> (- <span class="id">c</span>)).<br/>
<span class="kwd">Arguments</span> <span class="id">shift</span> <span class="id">x</span> / <span class="id">y</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">comp_shiftK</span> (<span class="id">x</span> : <span class="id">R</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">T</span>) : (<span class="id">f</span> \<span class="id">o</span> <span class="id">shift</span> <span class="id">x</span>) \<span class="id">o</span> <span class="id">center</span> <span class="id"><a name="V:2342">x</a></span> = <span class="id"><a href="mathcomp.analysis.topology.html#PseudoMetric.Exports.pseudoMetricType">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof482')">Proof.</span></div>
<div class="proofscript" id="proof482">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; <span class="id"><a name="e:2344">y</a></span> /=; <span class="id">rewrite</span> <span class="id">addrNK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">comp_centerK</span> (<span class="id">x</span> : <span class="id"><a name="R:2345">R</a></span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">T</span>) : (<span class="id"><a name="V:2346">f</a></span> \<span class="id">o</span> <span class="id">center</span> <span class="id">x</span>) \<span class="id">o</span> <span class="id">shift</span> <span class="id">x</span> = <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof483')">Proof.</span></div>
<div class="proofscript" id="proof483">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; <span class="id">y</span> /=; <span class="id">rewrite</span> <span class="id">addrK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">shift0</span> : <span class="id">shift</span> 0 = <span class="id">id</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof484')">Proof.</span></div>
<div class="proofscript" id="proof484">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a name="closed_ballE">funeqE</a></span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">addr0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">center0</span> : <span class="id">center</span> 0 = <span class="id">id</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof485')">Proof.</span></div>
<div class="proofscript" id="proof485">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppr0</span> <span class="id">shift0</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">Shift</span>.<br/>
<span class="kwd">Arguments</span> <span class="id">shift</span> {<span class="id">R</span>} <span class="id">x</span> / <span class="id"><a href="mathcomp.analysis.signed.html#posnumP">y</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id">center</span> <span class="id">c</span> := (<span class="id">shift</span> (- <span class="id">c</span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">near_shift</span> {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">R</span> : <span class="id">normedModType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_closed_ball_">y</a></span> <span class="id">x</span> : <span class="id">R</span>) (<span class="id">P</span> : <span class="id">set</span> <span class="id">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;(\<span class="id">near</span> <span class="id">x</span>, <span class="id">P</span> <span class="id">x</span>) = (\<span class="kwd">forall</span> <span class="id">z</span> \<span class="id">near</span> <span class="id">y</span>, (<span class="id">P</span> \<span class="id">o</span> <span class="id">shift</span> (<span class="id">x</span> - <span class="id">y</span>)) <span class="id">z</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof486')">Proof.</span></div>
<div class="proofscript" id="proof486">
<span class="id">rewrite</span> <span class="id">propeqE</span> <span class="id">nbhs0P</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> &lt;-&gt; <span class="id">X</span>]<span class="id">nbhs0P</span>/= -<span class="id">propeqE</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">eq_near</span> =&gt; <span class="id">e</span>; <span class="id">rewrite</span> ![<span class="id">_</span> + <span class="id">e</span>]<span class="id">addrC</span> <span class="id">addrACA</span> <span class="id">subrr</span> <span class="id">addr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cvg_comp_shift</span> {<span class="id">T</span> : <span class="kwd">Type</span>} {<span class="id">K</span> : <span class="id">numDomainType</span>} {<span class="id">R</span> : <span class="id">normedModType</span> <span class="id">K</span>}<br/>
&nbsp;&nbsp;(<span class="id">x</span> <span class="id">y</span> : <span class="id">R</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> \<span class="id">o</span> <span class="id">shift</span> <span class="id">x</span>) @ <span class="id">y</span> = <span class="id">f</span> @ (<span class="id">y</span> + <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof487')">Proof.</span></div>
<div class="proofscript" id="proof487">
<span class="id">rewrite</span> <span class="id">funeqE</span> =&gt; <span class="id">A</span>; <span class="id">rewrite</span> /= !<span class="id">near_simpl</span> (<span class="id">near_shift</span> (<span class="id">y</span> + <span class="id">x</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.topology.html#ball_">_</a></span> = <span class="id">A</span> \<span class="id">o</span> <span class="id">f</span>) // <span class="id">funeqE</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> /= <span class="id">opprD</span> <span class="id">addNKr</span> <span class="id">addrNK</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">continuous</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">K</span> : <span class="id">numFieldType</span>) (<span class="id">U</span> <span class="id">V</span> : <span class="id">normedModType</span> <span class="id">K</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuous_shift</span> (<span class="id">f</span> : <span class="id">U</span> -&gt; <span class="id">V</span>) <span class="id">u</span> :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> <span class="id">u</span>, <span class="id">continuous</span> <span class="id">f</span>} = {<span class="kwd">for</span> 0, <span class="id">continuous</span> (<span class="id">f</span> \<span class="id">o</span> <span class="id">shift</span> <span class="id">u</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof488')">Proof.</span></div>
<div class="proofscript" id="proof488">
 <span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">RHS</span>]<span class="id">forE</span> /= <span class="id">add0r</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">cvg_comp_shift</a></span> <span class="id">add0r</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuous_withinNshiftx</span> (<span class="id">f</span> : <span class="id">U</span> -&gt; <span class="id">V</span>) <span class="id">u</span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> \<span class="id">o</span> <span class="id">shift</span> <span class="id">u</span> @ 0^' --&gt; <span class="id">f</span> <span class="id">u</span> &lt;-&gt; {<span class="kwd">for</span> <span class="id">u</span>, <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof489')">Proof.</span></div>
<div class="proofscript" id="proof489">
<span class="id">rewrite</span> <span class="id">continuous_shift</span>; <span class="id">split</span>=&gt; [<span class="id">cfu</span>|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">continuous_withinNx</span> <span class="id">_</span> <span class="id">_</span>).2/(<span class="id">cvg_trans</span> <span class="id">cfu</span>); <span class="id">rewrite</span> /= <span class="id">add0r</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/(<span class="id">continuous_withinNx</span> <span class="id">_</span> <span class="id">_</span>).1/<span class="id">cvg_trans</span>; <span class="id">apply</span>; <span class="id">rewrite</span> /= <span class="id">add0r</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">continuous</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">ball_realFieldType</span>.<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">realFieldType</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball0</span> (<span class="id">a</span> <span class="id">r</span> : <span class="id">R</span>) : <span class="id">ball</span> <span class="id">a</span> <span class="id">r</span> = <span class="id">set0</span> &lt;-&gt; <span class="id">r</span> &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof490')">Proof.</span></div>
<div class="proofscript" id="proof490">
<span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">seteqP</span>[+ <span class="id">_</span>] =&gt; <span class="id">H</span>; <span class="id">rewrite</span> <span class="id">leNgt</span>; <span class="id">apply</span>/<span class="id">negP</span> =&gt; <span class="id">r0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /(<span class="id">_</span> (<span class="id">ballxx</span> <span class="id">_</span> <span class="id">r0</span>)) := <span class="id">H</span> <span class="id"><a name="x:2360">a</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">y</span>; <span class="id">rewrite</span> /<span class="id">ball</span>/=.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">lt_le_trans</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">r0</span>); <span class="id">rewrite</span> <span class="id">normr_lt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_itv</span> (<span class="id">x</span> <span class="id">r</span> : <span class="id">R</span>) : (<span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> = `]<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>[%<span class="id">classic</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof491')">Proof.</span></div>
<div class="proofscript" id="proof491">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> /<span class="id"><a name="R:2362">ball</a></span>/= <span class="id">in_itv</span>/= <span class="id">ltr_distlC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">ball_realFieldType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">Closed_Ball</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_open</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">r</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;0 &lt; <span class="id">r</span> -&gt; <span class="id">open</span> (<span class="id">ball</span> <span class="id">x</span> <span class="id">r</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof492')">Proof.</span></div>
<div class="proofscript" id="proof492">
<span class="id">rewrite</span> <span class="id">openE</span> -<span class="id">ball_normE</span> /<span class="id">interior</span> =&gt; <span class="id">r0</span> <span class="id">y</span> /= <span class="id">Bxy</span>; <span class="id">near</span>=&gt; <span class="id">z</span>.<br/>
<span class="id">rewrite</span> /= (<span class="id">le_lt_trans</span> (<span class="id">ler_dist_add</span> <span class="id">y</span> <span class="id">_</span> <span class="id"><a name="R:2367">_</a></span>)) // <span class="id">addrC</span> -<span class="id">ltr_subr_addr</span>.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">z</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span>; <span class="id">rewrite</span> // <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">closed_ball_</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">V</a></span> : <span class="id">zmodType</span>) (<span class="id">norm</span> : <span class="id">V</span> -&gt; <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id">x</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) := [<span class="id">set</span> <span class="id">y</span> | <span class="id">norm</span> (<span class="id">x</span> - <span class="id">y</span>) &lt;= <span class="id">e</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_closed_ball_</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id">x</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) : <span class="id">closed</span> (<span class="id">closed_ball_</span> <span class="id">normr</span> <span class="id">x</span> <span class="id">e</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof493')">Proof.</span></div>
<div class="proofscript" id="proof493">
<span class="id">rewrite</span> /<span class="id">closed_ball_</span> -/((<span class="id">normr</span> \<span class="id">o</span> (<span class="kwd">fun</span> <span class="id">y</span> =&gt; <span class="id">x</span> - <span class="id">y</span>)) @^-1` [<span class="id">set</span> <span class="id">x</span> | <span class="id">x</span> &lt;= <span class="id">e</span>]).<br/>
<span class="id">apply</span>: (<span class="id">closed_comp</span> <span class="id">_</span> (@<span class="id">closed_le</span> <span class="id">_</span> <span class="id">_</span>)) =&gt; <span class="id">y</span> <span class="id">_</span>.<br/>
<span class="id">apply</span>: (<span class="id"><a name="x:2374">continuous_comp</a></span> <span class="id">_</span> (@<span class="id">norm_continuous</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="id">exact</span>: (<span class="id">continuousB</span> (@<span class="id">cst_continuous</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="R:2376">closed_ball</a></span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;(<span class="id">x</span> : <span class="id">V</span>) (<span class="id">e</span> : <span class="id">R</span>) := <span class="id">closure</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">ball</a></span> <span class="id">x</span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ball0</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">a</span> <span class="id">r</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">r</span> &lt;= 0 -&gt; <span class="id">closed_ball</span> <span class="id">a</span> <span class="id">r</span> = <span class="id">set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof494')">Proof.</span></div>
<div class="proofscript" id="proof494">
<span class="id">move</span>=&gt; /<span class="id">ball0</span> <span class="id">r0</span>; <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">y</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">closed_ball</span> <span class="id">r0</span> <span class="id">closure0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ballxx</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">V</a></span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>) (<span class="id"><a href="mathcomp.analysis.topology.html#ball">x</a></span> : <span class="id">V</span>)<br/>
&nbsp;&nbsp;(<span class="id">e</span> : <span class="id">R</span>) : 0 &lt; <span class="id">e</span> -&gt; <span class="id">closed_ball</span> <span class="id">x</span> <span class="id">e</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof495')">Proof.</span></div>
<div class="proofscript" id="proof495">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">exact</span>/<span class="id">subset_closure</span>/<span class="id">ballxx</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ballE</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">V</span>)<br/>
&nbsp;&nbsp;(<span class="id">r</span> : <span class="id">R</span>) : 0 &lt; <span class="id">r</span> -&gt; <span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span> = <span class="id">closed_ball_</span> <span class="id">normr</span> <span class="id">x</span> <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof496')">Proof.</span></div>
<div class="proofscript" id="proof496">
<span class="id">move</span>=&gt; /<span class="id">posnumP</span>[<span class="id">e</span>]; <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span> =&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a name="x:2384">closed_ball</a></span> <span class="id">closureE</span>; <span class="id">apply</span>; <span class="id"><a href="mathcomp.analysis.normedtype.html#closed_ball">split</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">closed_closed_ball_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span>; <span class="id">exact</span>: <span class="id">ltW</span>.<br/>
<span class="id">have</span> [-&gt; <span class="id">_</span>|<span class="id">xy</span>] := <span class="id">eqVneq</span> <span class="id">x</span> <span class="id">y</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">closed_ballxx</span>.<br/>
<span class="id">rewrite</span> /<span class="id">closed_ball</span> <span class="id">closureE</span> -<span class="id">ball_normE</span>.<br/>
<span class="id">rewrite</span> /<span class="id">closed_ball_</span> /= <span class="id">le_eqVlt</span>.<br/>
<span class="id">move</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> <span class="id">xye</span> <span class="id">B</span> [<span class="id">Bc</span> <span class="id">Be</span>]|<span class="id">xye</span> <span class="id">_</span> [<span class="id">_</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">xye</span>)]//].<br/>
<span class="id">apply</span>: <span class="id">Bc</span> =&gt; <span class="id">B0</span> /<span class="id">nbhs_ballP</span>[<span class="id">s</span> <span class="id">s0</span>] <span class="id">B0y</span>.<br/>
<span class="id">have</span> [<span class="id">es</span>|<span class="id">se</span>] := <span class="id">leP</span> <span class="id">s</span> <span class="id">e</span>%:<span class="id">num</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">Be</span>; <span class="id">rewrite</span> <span class="id">ball_normE</span>; <span class="id">apply</span>: <span class="id">ballxx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">B0y</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span> /<span class="id">ball_</span> /= <span class="id">distrC</span> <span class="id">xye</span>.<br/>
<span class="kwd">exists</span> (<span class="id">y</span> + (<span class="id">s</span> / 2) *: (`|<span class="id">x</span> - <span class="id">y</span>|^-1 *: (<span class="id">x</span> - <span class="id">y</span>))); <span class="id">split</span>; [<span class="id">apply</span>: <span class="id">Be</span>|<span class="id">apply</span>: <span class="id">B0y</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /= <span class="id">opprD</span> <span class="id">addrA</span> -[<span class="id">X</span> <span class="kwd">in</span> `|<span class="id">X</span> - <span class="id">_</span>|](<span class="id">scale1r</span> (<span class="id">x</span> - <span class="id">y</span>)) <span class="id">scalerA</span> -<span class="id">scalerBl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> - <span class="id">_</span>](@<span class="id">divrr</span> <span class="id">_</span> `|<span class="id">x</span> - <span class="id">y</span>|) ?<span class="id">unitfE</span> ?<span class="id">normr_eq0</span> ?<span class="id">subr_eq0</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">mulrBl</span> -<span class="id">scalerA</span> <span class="id">normrZ</span> <span class="id">normfZV</span> ?<span class="id">subr_eq0</span>// <span class="id">mulr1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">gtr0_norm</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> <span class="id">xye</span> <span class="id">ltr_addr</span> <span class="id">mulr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span> <span class="id">xye</span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">mulr_natr</span> <span class="id">mulr2n</span> <span class="id">ltr_spaddl</span>.<br/>
<span class="id">rewrite</span> -<span class="id">ball_normE</span> /<span class="id">ball_</span> /= <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">addrN</span> <span class="id">add0r</span> <span class="id">normrN</span> <span class="id">normrZ</span>.<br/>
<span class="id">rewrite</span> <span class="id">normfZV</span> ?<span class="id">subr_eq0</span>// <span class="id">mulr1</span> <span class="id">normrM</span> (<span class="id">gtr0_norm</span> <span class="id">s0</span>) <span class="id">gtr0_norm</span> //.<br/>
<span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.topology.html#ballxx">rewrite</a></span> <span class="id">ltr_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // <span class="id">ltr1n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ball_closed</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">V</span>)<br/>
&nbsp;&nbsp;(<span class="id">r</span> : <span class="id">R</span>) : <span class="id">closed</span> (<span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof497')">Proof.</span></div>
<div class="proofscript" id="proof497">
 <span class="id">exact</span>: <span class="id">closed_closure</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ball_itv</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">x</span> <span class="id">r</span> : <span class="id">R</span>) : 0 &lt; <span class="id"><a name="b:2392">r</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span> = `[<span class="id">x</span> - <span class="id">r</span>, <span class="id">x</span> + <span class="id">r</span>]%<span class="id">classic</span>)%<span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof498')">Proof.</span></div>
<div class="proofscript" id="proof498">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; <span class="id">y</span>;<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">closed_ballE</span>// /<span class="id">closed_ball_</span> /= <span class="id">in_itv</span>/= <span class="id">ler_distlC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ballR_compact</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">x</span> <span class="id">e</span> : <span class="id">R</span>) : 0 &lt; <span class="id">e</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">compact</span> (<span class="id">closed_ball</span> <span class="id">x</span> <span class="id"><a name="R:2393">e</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof499')">Proof.</span></div>
<div class="proofscript" id="proof499">
<span class="id">move</span>=&gt; <span class="id">e_gt0</span>; <span class="id">have</span> : <span class="id">compact</span> `[<span class="id">x</span> - <span class="id">e</span>, <span class="id">x</span> + <span class="id"><a name="y:2396">e</a></span>] <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">segment_compact</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">closed_ballE</span>//; <span class="id">under</span> <span class="id">eq_set</span> <span class="id">do</span> <span class="id">rewrite</span> <span class="id">in_itv</span> -<span class="id">ler_distlC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_ball_subset</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">M</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">M</span>)<br/>
&nbsp;&nbsp;(<span class="id">r0</span> <span class="id">r1</span> : <span class="id">R</span>) : 0 &lt; <span class="id">r0</span> -&gt; <span class="id">r0</span> &lt; <span class="id">r1</span> -&gt; <span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r0</span> `&lt;=` <span class="id">ball</span> <span class="id">x</span> <span class="id">r1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof500')">Proof.</span></div>
<div class="proofscript" id="proof500">
<span class="id">move</span>=&gt; <span class="id">r00</span> <span class="id">r01</span>; <span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">r0</span> = (<span class="id">PosNum</span> <span class="id">r00</span>)%:<span class="id">num</span>) // <span class="id">closed_ballE</span> //.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">m</span> <span class="id">xm</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span> /<span class="id">ball_</span> /= (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">r01</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">nbhs_closedballP</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">M</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">B</span> : <span class="id">set</span> <span class="id">M</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="image_interval.R">x</a></span> : <span class="id">M</span>) : <span class="id">nbhs</span> <span class="id">x</span> <span class="id">B</span> &lt;-&gt; <span class="kwd">exists</span> (<span class="id">r</span> : {<span class="id">posnum</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#image_interval.R">R</a></span>}), <span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span>%:<span class="id">num</span> `&lt;=` <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof501')">Proof.</span></div>
<div class="proofscript" id="proof501">
<span class="id">split</span>=&gt; [/<span class="id"><a name="f:2401">nbhs_ballP</a></span>[<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] <span class="id">xrB</span>]|[<span class="id">e</span> <span class="id">xeB</span>]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">nbhs_ballP</span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">subset_trans</span> (@<span class="id">subset_closure</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">xeB</span>).<br/>
<span class="kwd">exists</span> (<span class="id">r</span>%:<span class="id">num</span> / 2)%:<span class="id">sgn</span>.<br/>
<span class="id">apply</span>: (<span class="id">subset_trans</span> (<span class="id">closed_ball_subset</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">xrB</span>) =&gt; //=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lter_pdivr_mulr</span> // <span class="id">ltr_pmulr</span> // <span class="id">ltr1n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">subset_closed_ball</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">V</span>)<br/>
&nbsp;&nbsp;(<span class="id">r</span> : <span class="id">R</span>) : <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> `&lt;=` <span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof502')">Proof.</span></div>
<div class="proofscript" id="proof502">
 <span class="id"><a href="mathcomp.analysis.topology.html#monotonous">exact</a></span>: <span class="id">subset_closure</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_subball</span> {<span class="id">R</span> : <span class="id">realFieldType</span>} {<span class="id">M</span> : <span class="id">normedModType</span> <span class="id">R</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">x</span> : <span class="id">M</span>) : <span class="id">open</span> <span class="id">A</span> -&gt; <span class="id">A</span> <span class="id">x</span> -&gt; \<span class="kwd">forall</span> <span class="id">e</span> \<span class="id">near</span> 0^'+, <span class="id">ball</span> <span class="id">x</span> <span class="id">e</span> `&lt;=` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof503')">Proof.</span></div>
<div class="proofscript" id="proof503">
<span class="id">move</span>=&gt; <span class="id">aA</span> <span class="id">Ax</span>.<br/>
<span class="id">have</span> /(@<span class="id">nbhs_closedballP</span> <span class="id">R</span> <span class="id">M</span> <span class="id">_</span> <span class="id">x</span>)[<span class="id">r</span> <span class="id">xrA</span>]: <span class="id">nbhs</span> <span class="id">x</span> <span class="id">A</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">nbhsE</span>/=; <span class="kwd">exists</span> <span class="id">A</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">e</span>.<br/>
<span class="id">apply</span>/(<span class="id">subset_trans</span> <span class="id">_</span> <span class="id">xrA</span>)/(<span class="id">subset_trans</span> <span class="id">_</span> (@<span class="id">subset_closed_ball</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_ball</span>; <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>: <span class="id">nbhs_right_le</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closed_disjoint_closed_ball</span> {<span class="id">R</span> : <span class="id">realFieldType</span>} {<span class="id">M</span> : <span class="id">normedModType</span> <span class="id">R</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">K</span> : <span class="id">set</span> <span class="id">M</span>) <span class="id">z</span> : <span class="id">closed</span> <span class="id">K</span> -&gt; ~ <span class="id">K</span> <span class="id">z</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">d</span> \<span class="id">near</span> 0^'+, <span class="id">closed_ball</span> <span class="id">z</span> <span class="id">d</span> `&amp;` <span class="id">K</span> = <span class="id">set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof504')">Proof.</span></div>
<div class="proofscript" id="proof504">
<span class="id">rewrite</span> -<span class="id">openC</span> =&gt; /<span class="id">open_subball</span> /[<span class="id">apply</span>]; <span class="id">move</span>=&gt; [<span class="id">e</span> /= <span class="id">e0</span>].<br/>
<span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">e</span> / 2)) /= ; <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">gtr0_norm</span> ?<span class="id">divr_gt0</span>//.<br/>
<span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span>// <span class="id">ltr_pmulr</span>// <span class="id">ltr1n</span> =&gt; /(<span class="id">_</span> <span class="id">erefl</span> <span class="id">isT</span>).<br/>
<span class="id">move</span>/<span class="id">subsets_disjoint</span>; <span class="id">rewrite</span> <span class="id">setCK</span> =&gt; <span class="id">ze2K0</span>.<br/>
<span class="kwd">exists</span> (<span class="id">e</span> / 2); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">divr_gt0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> /= + <span class="id">x0</span>; <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id">gtr0_norm</span>// =&gt; <span class="id">xe</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">ze2K0</span>; <span class="id">apply</span>: <span class="id">subsetI_eq0</span> =&gt; //=; <span class="id">exact</span>: <span class="id">closed_ball_subset</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">locally_compactR</span> (<span class="id">R</span> : <span class="id">realType</span>) : <span class="id">locally_compact</span> [<span class="id">set</span>: <span class="id">R</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof505')">Proof.</span></div>
<div class="proofscript" id="proof505">
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">withinET</span>; <span class="kwd">exists</span> (<span class="id">closed_ball</span> <span class="id">x</span> 1).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">nbhs_closedballP</span>; <span class="kwd">exists</span> 1%:<span class="id">pos</span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span>: <span class="id">closed_ballR_compact</span> | <span class="id">apply</span>: <span class="id">closed_ball_closed</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">subset_closure_half</span> (<span class="id">R</span> : <span class="id">realFieldType</span>) (<span class="id">V</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">V</span>)<br/>
&nbsp;&nbsp;(<span class="id">r</span> : <span class="id">R</span>) : 0 &lt; <span class="id">r</span> -&gt; <span class="id">closed_ball</span> <span class="id">x</span> (<span class="id">r</span> / 2) `&lt;=` <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof506')">Proof.</span></div>
<div class="proofscript" id="proof506">
<span class="id">move</span>:<span class="id">r</span> =&gt; <span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">r</span>] <span class="id">z</span> /(<span class="id">_</span> (<span class="id">ball</span> <span class="id">z</span> ((<span class="id">r</span>%:<span class="id">num</span>/2)%:<span class="id">pos</span>)%:<span class="id">num</span>)) [].<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">nbhsx_ballx</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">y</span> [+/<span class="id">ball_sym</span>]; <span class="id">rewrite</span> [<span class="id">t</span> <span class="kwd">in</span> <span class="id">ball</span> <span class="id">x</span> <span class="id">t</span> <span class="id">z</span>]<span class="id">splitr</span>; <span class="id">apply</span>: <span class="id">ball_triangle</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">interior_closed_ballE</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id">V</span>)<br/>
&nbsp;&nbsp;(<span class="id">r</span> : <span class="id">R</span>) : 0 &lt; <span class="id">r</span> -&gt; (<span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span>)^° = <span class="id">ball</span> <span class="id">x</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#inc_surj_image_segment">r</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof507')">Proof.</span></div>
<div class="proofscript" id="proof507">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> <span class="id">eqEsubset</span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">open_subsetE</span>; [<span class="id">exact</span>: <span class="id">subset_closure</span> | <span class="id">exact</span>: <span class="id">ball_open</span>].<br/>
<span class="id">move</span>=&gt; /= <span class="id">t</span>; <span class="id">rewrite</span> <span class="id">closed_ballE</span> // /<span class="id">interior</span> /= -<span class="id"><a name="x:2446">nbhs_ballE</a></span> =&gt; [[]] <span class="id">s</span> <span class="id">s0</span>.<br/>
<span class="id">have</span> [-&gt; <span class="id">_</span>|<span class="id">nxt</span>] := <span class="id">eqVneq</span> <span class="id">t</span> <span class="id">x</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#reflect">ballxx</a></span>.<br/>
<span class="id">near</span> ((0 : <span class="id">R</span>^<span class="id">o</span>)^') =&gt; <span class="id">e</span>; <span class="id">rewrite</span> -<span class="id">ball_normE</span> /<span class="id">closed_ball_</span> =&gt; <span class="id">tsxr</span>.<br/>
<span class="id">pose</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#dec_surj_image_segment">z</a></span> := <span class="id">t</span> + `|<span class="id">e</span>| *: (<span class="id">t</span> - <span class="id">x</span>); <span class="id">have</span> /<span class="id">tsxr</span> /= : `|<span class="id">t</span> - <span class="id">z</span>| &lt; <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">addrAC</span> <span class="id">subrr</span> <span class="id">add0r</span> <span class="id">normrZ</span> <span class="id">normr_id</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="mono_surj_image_segmentP">rewrite</a></span> -<span class="id">ltr_pdivl_mulr</span> ?(<span class="id">normr_gt0</span>, <span class="id">subr_eq0</span>) //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">near</span>: <span class="id">e</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#set_surj">dnbhs0_lt</a></span>; <span class="id">rewrite</span> <span class="id">divr_gt0</span> // <span class="id">normr_gt0</span> <span class="id">subr_eq0</span>.<br/>
<span class="id">rewrite</span> /<span class="id">z</span> <span class="id">opprD</span> <span class="id">addrA</span> -<span class="id">scalerN</span> -{1}(<span class="id">scale1r</span> (<span class="id">x</span> - <span class="id">t</span>)) <span class="id">opprB</span> -<span class="id">scalerDl</span> <span class="id">normrZ</span>.<br/>
<span class="id">apply</span> <span class="id">lt_le_trans</span>; <span class="id">rewrite</span> <span class="id">ltr_pmull</span>; <span class="id"><a href="mathcomp.classical.boolp.html#predeqP">last</a></span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_gt0</span> <span class="id">subr_eq0</span> <span class="id">eq_sym</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ger0_norm</span> // <span class="id">ltr_addl</span> <span class="id">normr_gt0</span>; <span class="id">near</span>: <span class="id">e</span>; <span class="kwd">exists</span> 1 =&gt; /=.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">open_nbhs_closed_ball</span> (<span class="id">R</span> : <span class="id">realType</span>) (<span class="id">V</span> : <span class="id">normedModType</span> <span class="id">R</span>) (<span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.W">V</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_near">r</a></span> : <span class="id">R</span>) : 0 &lt; <span class="id">r</span> -&gt; <span class="id">open_nbhs</span> <span class="id">x</span> (<span class="id">closed_ball</span> <span class="id">x</span> <span class="id">r</span>)^°.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof508')">Proof.</span></div>
<div class="proofscript" id="proof508">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">open_interior</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">interior_closed_ballE</span> //; <span class="id">exact</span>: <span class="id">ballxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">Closed_Ball</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bound_itvE</span> (<span class="id">R</span> : <span class="id">numDomainType</span>) (<span class="id">a</span> <span class="id">b</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;((<span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]) = (<span class="id">a</span> &lt;= <span class="id">b</span>)) *<br/>
&nbsp;&nbsp;((<span class="id">b</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]) = (<span class="id">a</span> &lt;= <span class="id">b</span>)) *<br/>
&nbsp;&nbsp;((<span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>[) = (<span class="id">a</span> &lt; <span class="id">b</span>)) *<br/>
&nbsp;&nbsp;((<span class="id">b</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>]) = (<span class="id">a</span> &lt; <span class="id">b</span>)) *<br/>
&nbsp;&nbsp;(<span class="id">a</span> \<span class="kwd">in</span> `[<span class="id">a</span>, +<span class="id">oo</span>[) *<br/>
&nbsp;&nbsp;(<span class="id">a</span> \<span class="kwd">in</span> `]-<span class="id">oo</span>, <span class="id">a</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof509')">Proof.</span></div>
<div class="proofscript" id="proof509">
 <span class="kwd">by</span> <span class="id">rewrite</span> !(<span class="id">boundr_in_itv</span>, <span class="id">boundl_in_itv</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">near_in_itv</span> {<span class="id">R</span> : <span class="id">realFieldType</span>} (<span class="id">a</span> <span class="id">b</span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[, <span class="kwd">forall</span> <span class="id">y</span>, \<span class="kwd">forall</span> <span class="id">z</span> \<span class="id">near</span> <span class="id">y</span>, <span class="id">z</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof510')">Proof.</span></div>
<div class="proofscript" id="proof510">
 <span class="id">exact</span>: <span class="id">interval_open</span>. Qed.</div>
<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> @`[ <span class="id">a</span> , <span class="id">b</span> ]" :=<br/>
&nbsp;&nbsp;(`[<span class="id">minr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>), <span class="id">maxr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)]) : <span class="id">ring_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> @`[ <span class="id">a</span> , <span class="id">b</span> ]" :=<br/>
&nbsp;&nbsp;(`[<span class="id">minr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_near">f</a></span> <span class="id">b</span>), <span class="id">maxr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)]%<span class="id">classic</span>) : <span class="id">classical_set_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> @`] <span class="id">a</span> , <span class="id">b</span> [" :=<br/>
&nbsp;&nbsp;(`](<span class="id">minr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)), (<span class="id">maxr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>))[) : <span class="id">ring_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> @`] <span class="id">a</span> , <span class="id">b</span> [" :=<br/>
&nbsp;&nbsp;(`](<span class="id">minr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>)), (<span class="id">maxr</span> (<span class="id">f</span> <span class="id">a</span>) (<span class="id">f</span> <span class="id">b</span>))[%<span class="id">classic</span>) : <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">image_interval</span>.<br/>
<span class="kwd">Variable</span> <span class="id">R</span> : <span class="id">realDomainType</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">a</span> <span class="id">b</span> : <span class="id">R</span>) (<span class="id">f</span> : <span class="id">R</span> -&gt; <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mono_mem_image_segment</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.V">b</a></span> <span class="id">f</span> : <span class="id">monotonous</span> `[<span class="id"><a href="mathcomp.analysis.normedtype.html#continuous_linear_bounded">a</a></span>, <span class="id">b</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> <span class="id">f</span> : <span class="id">x</span> / <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &gt;-&gt; <span class="id">x</span> \<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof511')">Proof.</span></div>
<div class="proofscript" id="proof511">
<span class="id">move</span>=&gt; [<span class="id">fle</span>|<span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.W">fge</a></span>] <span class="id">x</span> <span class="id">xab</span>; <span class="id">have</span> <span class="id">leab</span> : <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">a</a></span> &lt;= <span class="id">b</span> <span class="kwd">by</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.V">rewrite</a></span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span>: <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> ?<span class="id">bound_itvE</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id">leP</span> =&gt; // <span class="id">fafb</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= !<span class="id">fle</span> ?(<span class="id">itvP</span> <span class="id">xab</span>).<br/>
<span class="id">have</span>: <span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fge</span> ?<span class="id">bound_itvE</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">leP</span> =&gt; // <span class="id">fafb</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= !<span class="id">fge</span> ?(<span class="id">itvP</span> <span class="id">xab</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mono_mem_image_itvoo</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">monotonous</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id">homo</span> <span class="id">f</span> : <span class="id">x</span> / <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[ &gt;-&gt; <span class="id">x</span> \<span class="kwd">in</span> <span class="id">f</span> @`]<span class="id">a</span>, <span class="id">b</span>[}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof512')">Proof.</span></div>
<div class="proofscript" id="proof512">
<span class="id">move</span>=&gt; []/[<span class="id">dup</span>] =&gt; [/<span class="id">leW_mono_in</span>|/<span class="id">leW_nmono_in</span>] <span class="id">flt</span> <span class="id">fle</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous">x</a></span> <span class="id">xab</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">ltab</span> : <span class="id">a</span> &lt; <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">xab</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span>: <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> ?<span class="id"><a name="continuousfor0_continuous">fle</a></span> ?<span class="id">bound_itvE</span> ?<span class="id">ltW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id"><a name="f:2469">case</a></span>: <span class="id">leP</span> =&gt; // <span class="id">fafb</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= ?<span class="id">flt</span> ?<span class="id">in_itv</span>/= ?(<span class="id">itvP</span> <span class="id">xab</span>, <span class="id">lexx</span>).<br/>
<span class="id">have</span>: <span class="id">f</span> <span class="id">a</span> &gt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> ?<span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_linear_continuous">bound_itvE</a></span> ?<span class="id">ltW</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id">leP</span> =&gt; // <span class="id">fafb</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= ?<span class="id">flt</span> ?<span class="id">in_itv</span>/= ?(<span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.V">itvP</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.W">xab</a></span>, <span class="id">lexx</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a href="mathcomp.analysis.topology.html#nbhs">mono_surj_image_segment</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monotonous</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span> -&gt; <span class="id">set_surj</span> `[<span class="id">a</span>, <span class="id">b</span>] (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof513')">Proof.</span></div>
<div class="proofscript" id="proof513">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fmono</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.W">surj_image_eq</a></span> =&gt; <span class="id">_</span> /= [<span class="id">x</span> <span class="id">xab</span> &lt;-];<br/>
<span class="id">exact</span>: <span class="id">mono_mem_image_segment</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">inc_segment_image</span> <span class="id">a</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#LinearContinuousBounded.V">b</a></span> <span class="id">f</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> -&gt; <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>] = `[<span class="id">f</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#linear_boundedP">a</a></span>, <span class="id">f</span> <span class="id">b</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof514')">Proof.</span></div>
<div class="proofscript" id="proof514">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dec_segment_image</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> -&gt; <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>] = `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>].<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof515')">Proof.</span></div>
<div class="proofscript" id="proof515">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">ltrP</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">inc_surj_image_segment</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_surj</span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof516')">Proof.</span></div>
<div class="proofscript" id="proof516">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fle</span> <span class="id">f_surj</span>; <span class="id">have</span> <span class="id">fafb</span> : <span class="id">f</span> <span class="id">a</span> &lt;= <span class="id">f</span> <span class="id">b</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fle</span> ?<span class="id">bound_itvE</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mono_surj_image_segment</span> ?<span class="id">inc_segment_image</span>//; <span class="id">left</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dec_surj_image_segment</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_surj</span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>] = `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id"><a name="linear_bounded0">a</a></span>]%<span class="id">classic</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof517')">Proof.</span></div>
<div class="proofscript" id="proof517">
<span class="id"><a href="mathcomp.analysis.normedtype.html#__deprecated__linear_bounded0">move</a></span>=&gt; <span class="id">leab</span> <span class="id">fge</span> <span class="id">f_surj</span>; <span class="id">have</span> <span class="id">fafb</span> : <span class="id">f</span> <span class="id">b</span> &lt;= <span class="id">f</span> <span class="id">a</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fge</span> ?<span class="id">bound_itvE</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mono_surj_image_segment</span> ?<span class="id">dec_segment_image</span>//; <span class="id">right</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">inc_surj_image_segmentP</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> / <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_surj</span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span>, <span class="id">reflect</span> (<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">x</span> = <span class="id">y</span>) (<span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">a</span>, <span class="id">f</span> <span class="id">b</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof518')">Proof.</span></div>
<div class="proofscript" id="proof518">
<span class="id">move</span>=&gt; /<span class="id">inc_surj_image_segment</span>/[<span class="id">apply</span>]/[<span class="id">apply</span>]/<span class="id">predeqP</span> + <span class="id">y</span> =&gt; /(<span class="id">_</span> <span class="id">y</span>) <span class="id">fab</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">equivP</span> <span class="id">idP</span>); <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">dec_surj_image_segmentP</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp;, {<span class="id">mono</span> <span class="id">f</span> : <span class="id">x</span> <span class="id">y</span> /~ <span class="id">x</span> &lt;= <span class="id">y</span>}} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">set_surj</span> `[<span class="id">a</span>, <span class="id">b</span>] `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>] <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span>, <span class="id">reflect</span> (<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">x</span> = <span class="id">y</span>) (<span class="id">y</span> \<span class="kwd">in</span> `[<span class="id">f</span> <span class="id">b</span>, <span class="id">f</span> <span class="id">a</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof519')">Proof.</span></div>
<div class="proofscript" id="proof519">
<span class="id">move</span>=&gt; /<span class="id">dec_surj_image_segment</span>/[<span class="id">apply</span>]/[<span class="id">apply</span>]/<span class="id">predeqP</span> + <span class="id">y</span> =&gt; /(<span class="id">_</span> <span class="id">y</span>) <span class="id">fab</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">equivP</span> <span class="id">idP</span>); <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mono_surj_image_segmentP</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> : <span class="id">a</span> &lt;= <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monotonous</span> `[<span class="id">a</span>, <span class="id">b</span>] <span class="id">f</span> -&gt; <span class="id">set_surj</span> `[<span class="id">a</span>, <span class="id">b</span>] (<span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]) <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span>, <span class="id">reflect</span> (<span class="kwd">exists2</span> <span class="id">x</span>, <span class="id">x</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>] &amp; <span class="id">f</span> <span class="id">x</span> = <span class="id">y</span>) (<span class="id">y</span> \<span class="kwd">in</span> <span class="id">f</span> @`[<span class="id">a</span>, <span class="id">b</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof520')">Proof.</span></div>
<div class="proofscript" id="proof520">
<span class="id">move</span>=&gt; /<span class="id">mono_surj_image_segment</span>/[<span class="id">apply</span>]/[<span class="id">apply</span>]/<span class="id">predeqP</span> + <span class="id">y</span> =&gt; /(<span class="id">_</span> <span class="id">y</span>) <span class="id">fab</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/(<span class="id">equivP</span> <span class="id">idP</span>); <span class="id">symmetry</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">image_interval</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">LinearContinuousBounded</span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id">R</span> : <span class="id">numFieldType</span>) (<span class="id">V</span> <span class="id">W</span> : <span class="id">normedModType</span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">linear_boundedP</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) : <span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> 0) &lt;-&gt;<br/>
&nbsp;&nbsp;\<span class="kwd">forall</span> <span class="id">r</span> \<span class="id">near</span> +<span class="id">oo</span>, <span class="kwd">forall</span> <span class="id">x</span>, `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">r</span> * `|<span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof521')">Proof.</span></div>
<div class="proofscript" id="proof521">
<span class="id">split</span>=&gt; [|/<span class="id">pinfty_ex_gt0</span> [<span class="id">r</span> <span class="id">r0</span> <span class="id">Bf</span>]]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">ex_bound</span>; <span class="kwd">exists</span> <span class="id">r</span>; <span class="id">apply</span>/<span class="id">nbhs_norm0P</span>; <span class="kwd">exists</span> 1 =&gt; //= <span class="id">x</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">gtr_pmulr</span> <span class="id">_</span> <span class="id">r0</span>) =&gt; /<span class="id">ltW</span>; <span class="id">exact</span>/<span class="id">le_trans</span>/<span class="id">Bf</span>.<br/>
<span class="id">rewrite</span> /<span class="id">bounded_near</span> =&gt; /<span class="id">pinfty_ex_gt0</span> [<span class="id">M</span> <span class="id">M0</span> /<span class="id">nbhs_norm0P</span> [<span class="id">_</span>/<span class="id">posnumP</span>[<span class="id">e</span>] <span class="id">efM</span>]].<br/>
<span class="id">near</span> (0 : <span class="id">R</span>)^'+ =&gt; <span class="id">d</span>; <span class="id">near</span>=&gt; <span class="id">r</span> =&gt; <span class="id">x</span>.<br/>
<span class="id">have</span>[-&gt;|<span class="id">x0</span>] := <span class="id">eqVneq</span> <span class="id">x</span> 0; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">raddf0</span> !<span class="id">normr0</span> <span class="id">mulr0</span>.<br/>
<span class="id">have</span> <span class="id">nd0</span> : <span class="id">d</span> / `|<span class="id">x</span>| &gt; 0 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span> ?<span class="id">normr_gt0</span>.<br/>
<span class="id">have</span>: `|<span class="id">f</span> (<span class="id">d</span> / `|<span class="id">x</span>| *: <span class="id">x</span>)| &lt;= <span class="id">M</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">efM</span> =&gt; /=; <span class="id">rewrite</span> <span class="id">normrZ</span> <span class="id">gtr0_norm</span>// <span class="id">divfK</span> ?<span class="id">normr_eq0</span>//.<br/>
<span class="id">rewrite</span> <span class="id">linearZ</span>/= <span class="id">normrZ</span> <span class="id">gtr0_norm</span>// -<span class="id">ler_pdivl_mull</span>//; <span class="id">move</span>/<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
<span class="id">rewrite</span> <span class="id">invfM</span> <span class="id">invrK</span> <span class="id">mulrAC</span> <span class="id">ler_wpmul2r</span>//; <span class="id">near</span>: <span class="id">r</span>; <span class="id">apply</span>: <span class="id">nbhs_pinfty_ge</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">rpredM</span>// ?<span class="id">rpredV</span> ?<span class="id">gtr0_real</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuous_linear_bounded</span> (<span class="id">x</span> : <span class="id">V</span>) (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> 0, <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof522')">Proof.</span></div>
<div class="proofscript" id="proof522">
<span class="id">rewrite</span> /<span class="id">prop_for</span> <span class="id">linear0</span> /<span class="id">bounded_near</span> =&gt; <span class="id">f0</span>; <span class="id">near</span>=&gt; <span class="id">M</span>; <span class="id">apply</span>/<span class="id">nbhs0P</span>.<br/>
<span class="id">near</span> <span class="id">do</span> <span class="id">rewrite</span> /= <span class="id">linearD</span> (<span class="id">le_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))// -<span class="id">ler_subr_addl</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">cvgr0_norm_le</span>; <span class="id">rewrite</span> // <span class="id">subr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__linear_continuous0</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> 0, <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> (0 : <span class="id">V</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof523')">Proof.</span></div>
<div class="proofscript" id="proof523">
 <span class="id">exact</span>: <span class="id">continuous_linear_bounded</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_linear_continuous</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> (0 : <span class="id">V</span>)) -&gt; <span class="id">continuous</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof524')">Proof.</span></div>
<div class="proofscript" id="proof524">
<span class="id">move</span>=&gt; /<span class="id">linear_boundedP</span> [<span class="id">y</span> [<span class="id">yreal</span> <span class="id">fr</span>]] <span class="id">x</span>; <span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">r</span>.<br/>
<span class="id">apply</span>/(@<span class="id">cvgrPdist_lt</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">nbhs</span> <span class="id">x</span>)) =&gt; <span class="id">e</span> <span class="id">e_gt0</span>; <span class="id">near</span>=&gt; <span class="id">z</span>; <span class="id">rewrite</span> -<span class="id">linearB</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">fr</span> <span class="id">r</span> <span class="id">_</span> <span class="id">_</span>))// -?<span class="id">ltr_pdivl_mull</span>//.<br/>
<span class="kwd">by</span> <span class="id">near</span>: <span class="id">z</span>; <span class="id">apply</span>: <span class="id">cvgr_dist_lt</span> =&gt; //; <span class="id">rewrite</span> <span class="id">mulrC</span> <span class="id">divr_gt0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">__deprecated__linear_bounded0</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> (0 : <span class="id">V</span>)) -&gt; {<span class="kwd">for</span> 0, <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof525')">Proof.</span></div>
<div class="proofscript" id="proof525">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">exact</span>: <span class="id">bounded_linear_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">continuousfor0_continuous</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;{<span class="kwd">for</span> 0, <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id">continuous</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof526')">Proof.</span></div>
<div class="proofscript" id="proof526">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">continuous_linear_bounded</span>/<span class="id">bounded_linear_continuous</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">linear_bounded_continuous</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> 0) &lt;-&gt; <span class="id">continuous</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof527')">Proof.</span></div>
<div class="proofscript" id="proof527">
<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">bounded_linear_continuous</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> 0); <span class="id">apply</span>: <span class="id">continuous_linear_bounded</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bounded_funP</span> (<span class="id">f</span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">r</span>, <span class="kwd">exists</span> <span class="id">M</span>, <span class="kwd">forall</span> <span class="id">x</span>, `|<span class="id">x</span>| &lt;= <span class="id">r</span> -&gt; `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">M</span>) &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="id">bounded_near</span> <span class="id">f</span> (<span class="id">nbhs</span> (0 : <span class="id">V</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof528')">Proof.</span></div>
<div class="proofscript" id="proof528">
<span class="id">split</span> =&gt; [/(<span class="id">_</span> 1) [<span class="id">M</span> <span class="id">Bf</span>]|/<span class="id">linear_boundedP</span> <span class="id">fr</span> <span class="id">y</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">ex_bound</span>; <span class="kwd">exists</span> <span class="id">M</span>; <span class="id">apply</span>/<span class="id">nbhs_normP</span> =&gt; /=; <span class="kwd">exists</span> 1 =&gt; //= <span class="id">x</span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sub0r</span> <span class="id">normrN</span> =&gt; <span class="id">x1</span>; <span class="id">exact</span>/<span class="id">Bf</span>/<span class="id">ltW</span>.<br/>
<span class="id">near</span> +<span class="id">oo_R</span> =&gt; <span class="id">r</span>; <span class="kwd">exists</span> (<span class="id">r</span> * <span class="id">y</span>) =&gt; <span class="id">x</span> <span class="id">xe</span>.<br/>
<span class="id">rewrite</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">r</span> * `|<span class="id">x</span>|)) //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>: {<span class="id">xe</span>} <span class="id">x</span>; <span class="id">near</span>: <span class="id">r</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pmul</span> //.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">LinearContinuousBounded</span>.<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">generalized</span> <span class="id">to</span> `<span class="id">continuous_linear_bounded</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">linear_continuous0</span> := <span class="id">__deprecated__linear_continuous0</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">generalized</span> <span class="id">to</span> `<span class="id">bounded_linear_continuous</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id">linear_bounded0</span> := <span class="id">__deprecated__linear_bounded0</span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id">center_radius</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">numDomainType</span>} {<span class="id">M</span> : <span class="id">pseudoMetricType</span> <span class="id">R</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">A</span> : <span class="id">set</span> <span class="id">M</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">cpoint</span> <span class="id">A</span> := <span class="id">get</span> [<span class="id">set</span> <span class="id">c</span> | <span class="kwd">exists</span> <span class="id">r</span>, <span class="id">A</span> = <span class="id">ball</span> <span class="id">c</span> <span class="id">r</span>].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">radius</span> <span class="id">A</span> : {<span class="id">nonneg</span> <span class="id">R</span>} :=<br/>
&nbsp;&nbsp;<span class="id">xget</span> 0%:<span class="id">nng</span> [<span class="id">set</span> <span class="id">r</span> | <span class="id">A</span> = <span class="id">ball</span> (<span class="id">cpoint</span> <span class="id">A</span>) <span class="id">r</span>%:<span class="id">num</span>].<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">is_ball</span> <span class="id">A</span> := <span class="id">A</span> == <span class="id">ball</span> (<span class="id">cpoint</span> <span class="id">A</span>) (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">scale_ball</span> (<span class="id">k</span> : <span class="id">R</span>) <span class="id">A</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">is_ball</span> <span class="id">A</span> <span class="kwd">then</span> <span class="id">ball</span> (<span class="id">cpoint</span> <span class="id">A</span>) (<span class="id">k</span> * (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>) <span class="kwd">else</span> <span class="id">set0</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">k</span> *` <span class="id">B</span>" := (<span class="id">scale_ball</span> <span class="id">k</span> <span class="id">B</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub_scale_ball</span> <span class="id">A</span> <span class="id">k</span> <span class="id">l</span> : <span class="id">k</span> &lt;= <span class="id">l</span> -&gt; <span class="id">k</span> *` <span class="id">A</span> `&lt;=` <span class="id">l</span> *` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof529')">Proof.</span></div>
<div class="proofscript" id="proof529">
<span class="id">move</span>=&gt; <span class="id">kl</span>; <span class="id">rewrite</span> /<span class="id">scale_ball</span>; <span class="id">case</span>: <span class="id">ifPn</span>=&gt; [<span class="id">Aball</span>|<span class="id">_</span>]; <span class="id">last</span> <span class="id">exact</span>: <span class="id">subset_refl</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_ball</span>; <span class="id">rewrite</span> <span class="id">ler_wpmul2r</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">scale_ball1</span> <span class="id">A</span> : <span class="id">is_ball</span> <span class="id">A</span> -&gt; 1 *` <span class="id">A</span> = <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof530')">Proof.</span></div>
<div class="proofscript" id="proof530">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Aball</span>; <span class="id">rewrite</span> /<span class="id">scale_ball</span> <span class="id">Aball</span> <span class="id">mul1r</span>; <span class="id">move</span>/<span class="id">eqP</span> <span class="kwd">in</span> <span class="id">Aball</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">sub1_scale_ball</span> <span class="id">A</span> <span class="id">l</span> : <span class="id">is_ball</span> <span class="id">A</span> -&gt; <span class="id">A</span> `&lt;=` <span class="id">l</span>.+1%:<span class="id">R</span> *` <span class="id">A</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof531')">Proof.</span></div>
<div class="proofscript" id="proof531">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id">scale_ball1</span> =&gt; {1}&lt;-; <span class="id">apply</span>: <span class="id">sub_scale_ball</span>; <span class="id">rewrite</span> <span class="id">ler1n</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">center_radius</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">k</span> *` <span class="id">B</span>" := (<span class="id">scale_ball</span> <span class="id">k</span> <span class="id">B</span>) : <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">scale_ball0</span> {<span class="id">R</span> : <span class="id">realFieldType</span>} (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) <span class="id">r</span> : (<span class="id">r</span> &lt;= 0)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">r</span> *` <span class="id">A</span> = <span class="id">set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof532')">Proof.</span></div>
<div class="proofscript" id="proof532">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">x</span>.<br/>
<span class="id">rewrite</span> /<span class="id">scale_ball</span>; <span class="id">case</span>: <span class="id">ifPn</span> =&gt; // <span class="id">ballA</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> ((<span class="id">ball0</span> <span class="id">_</span> <span class="id">_</span>).2 <span class="id">_</span>)// <span class="id">mulr_le0_ge0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">center_radius_realFieldType</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realFieldType</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> <span class="id">s</span> : <span class="id">R</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">ball_inj_radius_gt0</span> <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> <span class="id">s</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> = <span class="id">ball</span> <span class="id">y</span> <span class="id">s</span> -&gt; 0 &lt; <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof533')">Proof.</span></div>
<div class="proofscript" id="proof533">
<span class="id">move</span>=&gt; <span class="id">r0</span> <span class="id">xrys</span>; <span class="id">rewrite</span> <span class="id">ltNge</span>; <span class="id">apply</span>/<span class="id">negP</span> =&gt; /<span class="id">ball0</span> <span class="id">s0</span>; <span class="id">move</span>: <span class="id">xrys</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">s0</span> =&gt; /<span class="id">seteqP</span>[+ <span class="id">_</span>] =&gt; /(<span class="id">_</span> <span class="id">x</span>); <span class="id">apply</span>; <span class="id">exact</span>: <span class="id">ballxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">ball_inj_center</span> <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> <span class="id">s</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> = <span class="id">ball</span> <span class="id">y</span> <span class="id">s</span> -&gt; <span class="id">x</span> = <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof534')">Proof.</span></div>
<div class="proofscript" id="proof534">
<span class="id">move</span>=&gt; <span class="id">r0</span> <span class="id">xrys</span>; <span class="id">have</span> <span class="id">s0</span> := <span class="id">ball_inj_radius_gt0</span> <span class="id">r0</span> <span class="id">xrys</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">negPn</span>/<span class="id">negP</span> =&gt; <span class="id">xy</span>.<br/>
<span class="id">wlog</span> : <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> <span class="id">s</span> <span class="id">xrys</span> <span class="id">r0</span> <span class="id">s0</span> <span class="id">xy</span> / <span class="id">x</span> &lt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>: <span class="id">xy</span>; <span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id">orP</span>[<span class="id">xy</span>|<span class="id">yx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">xrys</span>); <span class="id">apply</span> =&gt; //; <span class="id">rewrite</span> <span class="id">lt_eqF</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">esym</span> : <span class="id">xrys</span> =&gt; /[<span class="id">swap</span>] /[<span class="id">apply</span>]; <span class="id">apply</span> =&gt; //; <span class="id">rewrite</span> <span class="id">lt_eqF</span>.<br/>
<span class="id">move</span>=&gt; {}<span class="id">xy</span>; <span class="id">have</span> [<span class="id">rs</span>|<span class="id">sr</span>] := <span class="id">ltP</span> <span class="id">r</span> <span class="id">s</span>.<br/>
- <span class="id">suff</span> : ~ <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> (<span class="id">y</span> + <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>; <span class="id">rewrite</span> <span class="id">xrys</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> !<span class="id">ltr_add2l</span> -<span class="id">ltr_norml</span> <span class="id">gtr0_norm</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> <span class="id">ltr_add2r</span> (<span class="id">ltNge</span> <span class="id">y</span>) (<span class="id">ltW</span> <span class="id">xy</span>) <span class="id">andbF</span>.<br/>
- <span class="id">suff</span> : ~ <span class="id">ball</span> <span class="id">y</span> <span class="id">s</span> (<span class="id">x</span> - <span class="id">r</span> + <span class="id">minr</span> ((<span class="id">y</span> - <span class="id">x</span>) / 2) <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>; <span class="id">rewrite</span> -<span class="id">xrys</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> <span class="id">ltr_addl</span> <span class="id">lt_minr</span> <span class="id">r0</span> <span class="id">andbT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">divr_gt0</span> ?<span class="id">subr_gt0</span>//= <span class="id">addrAC</span> <span class="id">ltr_subl_addl</span> <span class="id">addrCA</span> <span class="id">ler_lt_add</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lt_minl</span> <span class="id">ltr_addl</span> <span class="id">r0</span> <span class="id">orbT</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">yx2r</span>|<span class="id">ryx2</span>] := <span class="id">ltP</span> ((<span class="id">y</span> - <span class="id">x</span>) / 2) <span class="id">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> =&gt; /<span class="id">andP</span>[+ <span class="id">_</span>]; <span class="id">rewrite</span> -(@<span class="id">ltr_pmul2l</span> <span class="id">_</span> 2)//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">mulrDr</span> <span class="id">mulrCA</span> <span class="id">divff</span>// <span class="id">mulr1</span> <span class="id">ltNge</span> =&gt; /<span class="id">negP</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">addrAC</span> !<span class="id">addrA</span> (<span class="id">addrC</span> <span class="id">_</span> <span class="id">y</span>) <span class="id">mulr_natl</span> <span class="id">mulr2n</span> <span class="id">addrA</span> <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">mulr_natl</span> <span class="id">y</span>) <span class="id">mulr2n</span> -!<span class="id">addrA</span> <span class="id">ler_add2l</span> (<span class="id">ler_add</span> (<span class="id">ltW</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_wpmul2l</span>// <span class="id">ler_oppl</span> <span class="id">opprK</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">subrK</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> =&gt; /<span class="id">andP</span>[].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_subl_addl</span> <span class="id">addrC</span> -<span class="id">ltr_subl_addl</span> -(@<span class="id">ltr_pmul2r</span> <span class="id">_</span> (2^-1))//.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">le_lt_trans</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">ryx2</span>) /<span class="id">le_lt_trans</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">sr</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pmulr</span>// <span class="id">invf_gt1</span>// <span class="id">ltNge</span> <span class="id">ler1n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id">ball_inj_radius</span> <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> <span class="id">s</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> = <span class="id">ball</span> <span class="id">y</span> <span class="id">s</span> -&gt; <span class="id">r</span> = <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof535')">Proof.</span></div>
<div class="proofscript" id="proof535">
<span class="id">move</span>=&gt; <span class="id">r0</span> <span class="id">xrys</span>; <span class="id">have</span> <span class="id">s0</span> := <span class="id">ball_inj_radius_gt0</span> <span class="id">r0</span> <span class="id">xrys</span>.<br/>
<span class="id">move</span>: (<span class="id">xrys</span>); <span class="id">rewrite</span> (<span class="id">ball_inj_center</span> <span class="id">r0</span> <span class="id">xrys</span>) =&gt; {}<span class="id">xrys</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">negPn</span>/<span class="id">negP</span>; <span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id">orP</span>[<span class="id">rs</span>|<span class="id">sr</span>].<br/>
- <span class="id">suff</span> : <span class="id">ball</span> <span class="id">y</span> <span class="id">s</span> (<span class="id">y</span> + <span class="id">r</span>) <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">xrys</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> <span class="id">ltxx</span> <span class="id">andbF</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> !<span class="id">ltr_add2l</span> <span class="id">rs</span> <span class="id">andbT</span> (<span class="id">lt_trans</span> <span class="id">_</span> <span class="id">r0</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_oppl</span> <span class="id">oppr0</span> (<span class="id">lt_trans</span> <span class="id">r0</span>).<br/>
- <span class="id">suff</span> : <span class="id">ball</span> <span class="id">y</span> <span class="id">r</span> (<span class="id">y</span> + <span class="id">s</span>) <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">xrys</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> <span class="id">ltxx</span> <span class="id">andbF</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">ball</span>/= <span class="id">ltr_distlC</span> !<span class="id">ltr_add2l</span> <span class="id">sr</span> <span class="id">andbT</span> (<span class="id">lt_trans</span> <span class="id">_</span> <span class="id">s0</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_oppl</span> <span class="id">oppr0</span> (<span class="id">lt_trans</span> <span class="id">s0</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ball_inj</span> <span class="id">x</span> <span class="id">y</span> <span class="id">r</span> <span class="id">s</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> = <span class="id">ball</span> <span class="id">y</span> <span class="id">s</span> -&gt; <span class="id">x</span> = <span class="id">y</span> /\ <span class="id">r</span> = <span class="id">s</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof536')">Proof.</span></div>
<div class="proofscript" id="proof536">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">r0</span> <span class="id">xrys</span>; <span class="id">split</span>; [<span class="id">exact</span>: (<span class="id">ball_inj_center</span> <span class="id">r0</span> <span class="id">xrys</span>)|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: (<span class="id">ball_inj_radius</span> <span class="id">r0</span> <span class="id">xrys</span>)].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">radius0</span> : <span class="id">radius</span> (@<span class="id">set0</span> <span class="id">R</span>) = 0%:<span class="id">nng</span> :&gt; {<span class="id">nonneg</span> <span class="id">R</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof537')">Proof.</span></div>
<div class="proofscript" id="proof537">
<span class="id">rewrite</span> /<span class="id">radius</span>/=; <span class="id">case</span>: <span class="id">xgetP</span> =&gt; [<span class="id">r</span> <span class="id">_</span> /= /<span class="id">esym</span>/<span class="id">ball0</span> <span class="id">r0</span>|]/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">val_inj</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> /= <span class="id">eq_le</span> <span class="id">r0</span>/=.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> 0%:<span class="id">nng</span>) /<span class="id">nesym</span> /<span class="id">ball0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_ball0</span> : <span class="id">is_ball</span> (@<span class="id">set0</span> <span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof538')">Proof.</span></div>
<div class="proofscript" id="proof538">
<span class="id">rewrite</span> /<span class="id">is_ball</span>; <span class="id">apply</span>/<span class="id">eqP</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">radius0</span>/=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ball0</span> <span class="id">_</span> <span class="id">_</span>).2.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cpoint_ball</span> <span class="id">x</span> <span class="id">r</span> : 0 &lt; <span class="id">r</span> -&gt; <span class="id">cpoint</span> (<span class="id">ball</span> <span class="id">x</span> <span class="id">r</span>) = <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof539')">Proof.</span></div>
<div class="proofscript" id="proof539">
<span class="id">move</span>=&gt; <span class="id">r0</span>; <span class="id">rewrite</span> /<span class="id">cpoint</span>; <span class="id">case</span>: <span class="id">xgetP</span> =&gt; [<span class="id">y</span> <span class="id">_</span> [<span class="id">s</span>] /(<span class="id">ball_inj</span> <span class="id">r0</span>)[]//|].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">x</span>)/<span class="id">forallNP</span>/(<span class="id">_</span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">radius_ball_num</span> <span class="id">x</span> <span class="id">r</span> : 0 &lt;= <span class="id">r</span> -&gt; (<span class="id">radius</span> (<span class="id">ball</span> <span class="id">x</span> <span class="id">r</span>))%:<span class="id">num</span> = <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof540')">Proof.</span></div>
<div class="proofscript" id="proof540">
<span class="id">rewrite</span> <span class="id">le_eqVlt</span> =&gt; /<span class="id">orP</span>[/<span class="id">eqP</span> &lt;-|<span class="id">r0</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ball0</span> <span class="id">_</span> <span class="id">_</span>).2// <span class="id">radius0</span>.<br/>
<span class="id">rewrite</span> /<span class="id">radius</span>; <span class="id">case</span>: <span class="id">xgetP</span> =&gt; [<span class="id">y</span> <span class="id">_</span> /(<span class="id">ball_inj</span> <span class="id">r0</span>)[]//|].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /(<span class="id">_</span> (<span class="id">NngNum</span> (<span class="id">ltW</span> <span class="id">r0</span>)))/=; <span class="id">rewrite</span> <span class="id">cpoint_ball</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">radius_ball</span> <span class="id">x</span> <span class="id">r</span> (<span class="id">r0</span> : 0 &lt;= <span class="id">r</span>) : <span class="id">radius</span> (<span class="id">ball</span> <span class="id">x</span> <span class="id">r</span>) = <span class="id">NngNum</span> <span class="id">r0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof541')">Proof.</span></div>
<div class="proofscript" id="proof541">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id">val_inj</span> =&gt; //=; <span class="id">rewrite</span> <span class="id">radius_ball_num</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_ballP</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) <span class="id">x</span> : <span class="id">is_ball</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">A</span> <span class="id">x</span> -&gt; `|<span class="id">cpoint</span> <span class="id">A</span> - <span class="id">x</span>| &lt; (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof542')">Proof.</span></div>
<div class="proofscript" id="proof542">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">is_ball</span> =&gt; /<span class="id">eqP</span> {1}-&gt; /<span class="id">lt_le_trans</span>; <span class="id">exact</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_ball_ball</span> <span class="id">x</span> <span class="id">r</span> : <span class="id">is_ball</span> (<span class="id">ball</span> <span class="id">x</span> <span class="id">r</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof543')">Proof.</span></div>
<div class="proofscript" id="proof543">
<span class="id">have</span> [<span class="id">r0</span>|/<span class="id">ball0</span> -&gt;] := <span class="id">ltP</span> 0 <span class="id">r</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">is_ball0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">cpoint_ball</span>// (<span class="id">radius_ball</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">r0</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">scale_ball_set0</span> (<span class="id">k</span> : <span class="id">R</span>) : <span class="id">k</span> *` <span class="id">set0</span> = <span class="id">set0</span> :&gt; <span class="id">set</span> <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof544')">Proof.</span></div>
<div class="proofscript" id="proof544">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">scale_ball</span> <span class="id">is_ball0</span>// <span class="id">radius0</span>/= <span class="id">mulr0</span> <span class="id">ball0</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ballE</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">is_ball</span> <span class="id">A</span> -&gt; <span class="id">A</span> = <span class="id">ball</span> (<span class="id">cpoint</span> <span class="id">A</span>) (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof545')">Proof.</span></div>
<div class="proofscript" id="proof545">
<span class="id">move</span>=&gt; <span class="id">ballA</span>; <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; [<span class="id">x</span> /<span class="id">is_ballP</span>|<span class="id">x</span> <span class="id">Ax</span>]; <span class="id">first</span> <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">ballA</span> =&gt; /<span class="id">eqP</span> -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_ball_closureP</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) <span class="id">x</span> : <span class="id">is_ball</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">closure</span> <span class="id">A</span> <span class="id">x</span> -&gt; `|<span class="id">cpoint</span> <span class="id">A</span> - <span class="id">x</span>| &lt;= (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof546')">Proof.</span></div>
<div class="proofscript" id="proof546">
<span class="id">move</span>=&gt; <span class="id">ballP</span> <span class="id">cAx</span>.<br/>
<span class="id">have</span> : <span class="id">closed_ball</span> (<span class="id">cpoint</span> <span class="id">A</span>) (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span> <span class="id">x</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">closed_ball</span> -<span class="id">ballE</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">ltP</span> 0 (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>; [<span class="id">rewrite</span> <span class="id">closed_ballE</span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">closed_ball0</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_ball_closure</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) : <span class="id">is_ball</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">closure</span> <span class="id">A</span> = <span class="id">closed_ball</span> (<span class="id">cpoint</span> <span class="id">A</span>) (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof547')">Proof.</span></div>
<div class="proofscript" id="proof547">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">ballA</span>; <span class="id">rewrite</span> /<span class="id">closed_ball</span> -<span class="id">ballE</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">closure_ball</span> (<span class="id">c</span> <span class="id">r</span> : <span class="id">R</span>) : <span class="id">closure</span> (<span class="id">ball</span> <span class="id">c</span> <span class="id">r</span>) = <span class="id">closed_ball</span> <span class="id">c</span> <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof548')">Proof.</span></div>
<div class="proofscript" id="proof548">
<span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">leP</span> <span class="id">r</span> 0.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">closed_ball0</span>// ((<span class="id">ball0</span> <span class="id">_</span> <span class="id">_</span>).2 <span class="id">r0</span>) <span class="id">closure0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">is_ball_closure</span> (<span class="id">is_ball_ball</span> <span class="id">_</span> <span class="id">_</span>)) <span class="id">cpoint_ball</span>// <span class="id">radius_ball</span> ?<span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">scale_ballE</span> <span class="id">k</span> <span class="id">x</span> <span class="id">r</span> : 0 &lt;= <span class="id">k</span> -&gt; <span class="id">k</span> *` <span class="id">ball</span> <span class="id">x</span> <span class="id">r</span> = <span class="id">ball</span> <span class="id">x</span> (<span class="id">k</span> * <span class="id">r</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof549')">Proof.</span></div>
<div class="proofscript" id="proof549">
<span class="id">move</span>=&gt; <span class="id">k0</span>; <span class="id">have</span> [<span class="id">r0</span>|<span class="id">r0</span>] := <span class="id">ltP</span> 0 <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">scale_ball</span> <span class="id">is_ball_ball</span>//= <span class="id">cpoint_ball</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">radius_ball_num</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">scale_ball</span> <span class="id">is_ball_ball</span> <span class="id">cpoint_ball</span>// <span class="id">radius_ball_num</span>// <span class="id">ltW</span>.<br/>
<span class="id">rewrite</span> ((<span class="id">ball0</span> <span class="id">_</span> <span class="id">_</span>).2 <span class="id">r0</span>) <span class="id">scale_ball_set0</span>; <span class="id">apply</span>/<span class="id">esym</span>/<span class="id">ball0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_ge0_le0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cpoint_scale_ball</span> <span class="id">A</span> (<span class="id">k</span> : <span class="id">R</span>) : 0 &lt; <span class="id">k</span> -&gt; <span class="id">is_ball</span> <span class="id">A</span> -&gt; 0 &lt; (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">cpoint</span> (<span class="id">k</span> *` <span class="id">A</span>) = <span class="id">cpoint</span> <span class="id">A</span> :&gt; <span class="id">R</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof550')">Proof.</span></div>
<div class="proofscript" id="proof550">
<span class="id">move</span>=&gt; <span class="id">k0</span> <span class="id">ballA</span> <span class="id">r0</span>.<br/>
<span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">ballE</span> <span class="id">ballA</span>) (<span class="id">scale_ballE</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">k0</span>))// <span class="id">cpoint_ball</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulr_gt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">radius_scale_ball</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) (<span class="id">k</span> : <span class="id">R</span>) : 0 &lt;= <span class="id">k</span> -&gt; <span class="id">is_ball</span> <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">radius</span> (<span class="id">k</span> *` <span class="id">A</span>))%:<span class="id">num</span> = <span class="id">k</span> * (<span class="id">radius</span> <span class="id">A</span>)%:<span class="id">num</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof551')">Proof.</span></div>
<div class="proofscript" id="proof551">
<span class="id">move</span>=&gt; <span class="id">k0</span> <span class="id">ballA</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id">LHS</span>](<span class="id">ballE</span> <span class="id">ballA</span>) (<span class="id">scale_ballE</span> <span class="id">_</span> <span class="id">_</span> <span class="id">k0</span>)// <span class="id">radius_ball</span>// <span class="id">mulr_ge0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_scale_ball</span> (<span class="id">A</span> : <span class="id">set</span> <span class="id">R</span>) (<span class="id">k</span> : <span class="id">R</span>) : <span class="id">is_ball</span> <span class="id">A</span> -&gt; <span class="id">is_ball</span> (<span class="id">k</span> *` <span class="id">A</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof552')">Proof.</span></div>
<div class="proofscript" id="proof552">
<span class="id">move</span>=&gt; <span class="id">Aball</span>.<br/>
<span class="id">have</span> [<span class="id">k0</span>|<span class="id">k0</span>] := <span class="id">leP</span> 0 <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ballE</span> <span class="id">Aball</span>) (<span class="id">scale_ballE</span> <span class="id">_</span> <span class="id">_</span> <span class="id">k0</span>); <span class="id">exact</span>: <span class="id">is_ball_ball</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">_</span> *` <span class="id">_</span> = <span class="id">set0</span>); <span class="id">first</span> <span class="id">exact</span>: <span class="id">is_ball0</span>.<br/>
<span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">x</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">scale_ball</span> <span class="id">Aball</span> (<span class="id">ball0</span> <span class="id">_</span> <span class="id">_</span>).2// <span class="id">nmulr_rle0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">center_radius_realFieldType</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">vitali_lemma_finite</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">I</span> : <span class="id">eqType</span>}.<br/>
<span class="kwd">Variable</span> (<span class="id">B</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">R</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id">is_ballB</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">is_ball</span> (<span class="id">B</span> <span class="id">i</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id">B_set0</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">B</span> <span class="id">i</span> !=<span class="id">set0</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">vitali_lemma_finite</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;{ <span class="id">D</span> : <span class="id">seq</span> <span class="id">I</span> | [/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">subset</span> <span class="id">D</span> &lt;= <span class="id">s</span>}, <span class="id">trivIset</span> [<span class="id">set</span>` <span class="id">D</span>] <span class="id">B</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">i</span> \<span class="kwd">in</span> <span class="id">s</span> -&gt; <span class="kwd">exists</span> <span class="id">j</span>, [/\ <span class="id">j</span> \<span class="kwd">in</span> <span class="id">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">B</span> <span class="id">i</span> `&amp;` <span class="id">B</span> <span class="id">j</span> !=<span class="id">set0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">radius</span> (<span class="id">B</span> <span class="id">j</span>) &gt;= <span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>) &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">B</span> <span class="id">i</span> `&lt;=` 3%:<span class="id">R</span> *` <span class="id">B</span> <span class="id">j</span>] ] }.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof553')">Proof.</span></div>
<div class="proofscript" id="proof553">
<span class="id">pose</span> <span class="id">LE</span> <span class="id">x</span> <span class="id">y</span> := <span class="id">radius</span> (<span class="id">B</span> <span class="id">x</span>) &lt;= <span class="id">radius</span> (<span class="id">B</span> <span class="id">y</span>).<br/>
<span class="id">have</span> <span class="id">LE_trans</span> : <span class="id">transitive</span> <span class="id">LE</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">exact</span>: <span class="id">le_trans</span>.<br/>
<span class="id">wlog</span> : <span class="id">s</span> / <span class="id">sorted</span> <span class="id">LE</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : <span class="id">sorted</span> <span class="id">LE</span> (<span class="id">sort</span> <span class="id">LE</span> <span class="id">s</span>) <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">sort_sorted</span> =&gt; <span class="id">x</span> <span class="id">y</span>; <span class="id">exact</span>: <span class="id">le_total</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /[<span class="id">swap</span>] /[<span class="id">apply</span>] -[<span class="id">D</span> [<span class="id">Ds</span> <span class="id">trivIset_DB</span> <span class="id">H</span>]]; <span class="kwd">exists</span> <span class="id">D</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id">Ds</span>; <span class="id">rewrite</span> <span class="id">mem_sort</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">rewrite</span> -(<span class="id">mem_sort</span> <span class="id">LE</span>) =&gt; /<span class="id">H</span>.<br/>
<span class="id">elim</span>: <span class="id">s</span> =&gt; [<span class="id">_</span>|<span class="id">i</span> [/= <span class="id">_</span> <span class="id">_</span>|<span class="id">j</span> <span class="id">t</span>]]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">nil</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> [:: <span class="id">i</span>]; <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">set_cons1</span>; <span class="id">exact</span>: <span class="id">trivIset1</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> /[1!<span class="id">inE</span>] /<span class="id">eqP</span> -&gt;; <span class="kwd">exists</span> <span class="id">i</span>; <span class="id">split</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mem_head</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">setIid</span>; <span class="id">exact</span>: <span class="id">B_set0</span>.<br/>
&nbsp;&nbsp;- <span class="id">exact</span>: <span class="id">sub1_scale_ball</span>.<br/>
<span class="id">rewrite</span> /= =&gt; + /<span class="id">andP</span>[<span class="id">ij</span> <span class="id">jt</span>] =&gt; /(<span class="id">_</span> <span class="id">jt</span>)[<span class="id">u</span> [<span class="id">ujt</span> <span class="id">trivIset_uB</span> <span class="id">H</span>]].<br/>
<span class="id">have</span> [<span class="id">K</span>|] := <span class="id">pselect</span> (<span class="kwd">forall</span> <span class="id">j</span>, <span class="id">j</span> \<span class="kwd">in</span> <span class="id">u</span> -&gt; <span class="id">B</span> <span class="id">j</span> `&amp;` <span class="id">B</span> <span class="id">i</span> = <span class="id">set0</span>).<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">i</span> :: <span class="id">u</span>); <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> /[1!<span class="id">inE</span>] /<span class="id">predU1P</span>[-&gt;|]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mem_head</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">ujt</span> =&gt; <span class="id">xjt</span>; <span class="id">rewrite</span> <span class="id">in_cons</span> <span class="id">xjt</span> <span class="id">orbT</span>.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">k</span> <span class="id">l</span> /= /[1!<span class="id">inE</span>] /<span class="id">predU1P</span>[-&gt;{<span class="id">k</span>}|<span class="id">ku</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">predU1P</span>[-&gt;{<span class="id">j</span>}//|<span class="id">js</span>] /<span class="id">set0P</span>; <span class="id">rewrite</span> <span class="id">setIC</span> <span class="id">K</span>// <span class="id">eqxx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">predU1P</span>[-&gt;{<span class="id">l</span>} /<span class="id">set0P</span>|<span class="id">lu</span>]; [<span class="id">rewrite</span> <span class="id">K</span>// <span class="id">eqxx</span>|<span class="id">exact</span>: <span class="id">trivIset_uB</span>].<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">k</span> /[1!<span class="id">inE</span>] /<span class="id">predU1P</span>[-&gt;{<span class="id">k</span>}|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">i</span>; <span class="id">split</span>; [<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mem_head</span>| |<span class="id">exact</span>: <span class="id">lexx</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">setIid</span>; <span class="id">exact</span>: <span class="id">B_set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">sub1_scale_ball</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">H</span> =&gt; [<span class="id">l</span> [<span class="id">lu</span> <span class="id">lk0</span> <span class="id">kl</span> <span class="id">k3l</span>]]; <span class="kwd">exists</span> <span class="id">l</span>; <span class="id">split</span> =&gt; //; <span class="id">rewrite</span> <span class="id">inE</span> <span class="id">lu</span> <span class="id">orbT</span>.<br/>
<span class="id">move</span>/<span class="id">existsNP</span>/<span class="id">cid</span> =&gt; [<span class="id">k</span> /<span class="id">not_implyP</span>[<span class="id">ku</span> /<span class="id">eqP</span>/<span class="id">set0P</span> <span class="id">ki0</span>]].<br/>
<span class="kwd">exists</span> <span class="id">u</span>; <span class="id">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">l</span> /<span class="id">ujt</span> /[!<span class="id">inE</span>] /<span class="id">predU1P</span>[-&gt;|-&gt;]; <span class="id">rewrite</span> ?<span class="id">eqxx</span> ?<span class="id">orbT</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">_</span> /[1!<span class="id">inE</span>] /<span class="id">predU1P</span>[-&gt;|/<span class="id">H</span>//]; <span class="kwd">exists</span> <span class="id">k</span>; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">ku</span>| | |].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">setIC</span>.<br/>
- <span class="id">apply</span>: (<span class="id">le_trans</span> <span class="id">ij</span>); <span class="id">move</span>/<span class="id">ujt</span> : <span class="id">ku</span> =&gt; /[1!<span class="id">inE</span>] /<span class="id">predU1P</span>[&lt;-|<span class="id">kt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">lexx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id">allP</span> := <span class="id">order_path_min</span> <span class="id">LE_trans</span> <span class="id">jt</span>; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id">kt</span>.<br/>
- <span class="id">case</span>: <span class="id">ki0</span> =&gt; <span class="id">x</span> [<span class="id">Bkx</span> <span class="id">Bix</span>] <span class="id">y</span> =&gt; <span class="id">iy</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">ballE</span> (<span class="id">is_ballB</span> <span class="id">k</span>)) <span class="id">scale_ballE</span>// /<span class="id">ball</span>/=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">subrK</span> <span class="id">x</span> <span class="id">y</span>) -(<span class="id">addrC</span> <span class="id">x</span>) <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">opprB</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))// -<span class="id">nat1r</span> <span class="id">mulrDl</span> <span class="id">mul1r</span> <span class="id">mulr_natl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">ltr_add</span> (<span class="id">is_ballP</span> (<span class="id">is_ballB</span> <span class="id">k</span>) <span class="id">_</span>))// -(<span class="id">subrK</span> (<span class="id">cpoint</span> (<span class="id">B</span> <span class="id">i</span>)) <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">addrC</span> (<span class="id">cpoint</span> (<span class="id">B</span> <span class="id">i</span>))) <span class="id">opprD</span> <span class="id">addrA</span> <span class="id">opprB</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm_add</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;<span class="id">apply</span> (@<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">_</span> ((<span class="id">radius</span> (<span class="id">B</span> <span class="id">j</span>))%:<span class="id">num</span> *+ 2)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">ler_wmuln2r</span>; <span class="id">move</span>/<span class="id">ujt</span> : <span class="id">ku</span>; <span class="id">rewrite</span> <span class="id">inE</span> =&gt; /<span class="id">predU1P</span>[&lt;-|<span class="id">kt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">lexx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> /<span class="id">allP</span> := <span class="id">order_path_min</span> <span class="id">LE_trans</span> <span class="id">jt</span>; <span class="id">apply</span>; <span class="id">exact</span>: <span class="id">kt</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulr2n</span> <span class="id">ltr_add</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">distrC</span> (<span class="id">lt_le_trans</span> (<span class="id">is_ballP</span> (<span class="id">is_ballB</span> <span class="id">i</span>) <span class="id">_</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> (<span class="id">is_ballP</span> (<span class="id">is_ballB</span> <span class="id">i</span>) <span class="id">_</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">vitali_lemma_finite_cover</span> (<span class="id">s</span> : <span class="id">seq</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;{ <span class="id">D</span> : <span class="id">seq</span> <span class="id">I</span> | [/\ {<span class="id">subset</span> <span class="id">D</span> &lt;= <span class="id">s</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">trivIset</span> [<span class="id">set</span>` <span class="id">D</span>] <span class="id">B</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cover</span> [<span class="id">set</span>` <span class="id">s</span>] <span class="id">B</span> `&lt;=` <span class="id">cover</span> [<span class="id">set</span>` <span class="id">D</span>] (<span class="id">scale_ball</span> 3%:<span class="id">R</span> \<span class="id">o</span> <span class="id">B</span>)] }.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof554')">Proof.</span></div>
<div class="proofscript" id="proof554">
<span class="id">have</span> [<span class="id">D</span> [<span class="id">DV</span> <span class="id">tD</span> <span class="id">maxD</span>]] := <span class="id">vitali_lemma_finite</span> <span class="id">s</span>.<br/>
<span class="kwd">exists</span> <span class="id">D</span>; <span class="id">split</span> =&gt; // <span class="id">x</span> [<span class="id">i</span> <span class="id">Vi</span>] <span class="id">cBix</span>/=.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">j</span> [<span class="id">Dj</span> <span class="id">BiBj</span> <span class="id">ij</span>]] := <span class="id">maxD</span> <span class="id">i</span> <span class="id">Vi</span>; <span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">cBix</span>) =&gt; ?; <span class="kwd">exists</span> <span class="id">j</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">vitali_lemma_finite</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">vitali_collection_partition</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">I</span> : <span class="id">eqType</span>}.<br/>
<span class="kwd">Variables</span> (<span class="id">B</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">R</span>) (<span class="id">V</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">r</span> : <span class="id">R</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id">is_ballB</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">is_ball</span> (<span class="id">B</span> <span class="id">i</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id">B_set0</span> : <span class="kwd">forall</span> <span class="id">i</span>, 0 &lt; (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">vitali_collection_partition</span> <span class="id">n</span> :=<br/>
&nbsp;&nbsp;[<span class="id">set</span> <span class="id">i</span> | <span class="id">V</span> <span class="id">i</span> /\ <span class="id">r</span> / (2 ^ <span class="id">n</span>.+1)%:<span class="id">R</span> &lt; (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &lt;= <span class="id">r</span> / (2 ^ <span class="id">n</span>)%:<span class="id">R</span>].<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id">VBr</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">V</span> <span class="id">i</span> -&gt; (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &lt;= <span class="id">r</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">vitali_collection_partition_ub_gt0</span> <span class="id">i</span> : <span class="id">V</span> <span class="id">i</span> -&gt; 0 &lt; <span class="id">r</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof555')">Proof.</span></div>
<div class="proofscript" id="proof555">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Vi</span>; <span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> (<span class="id">VBr</span> <span class="id">Vi</span>)). Qed.</div>
<br/>
<span class="kwd">Notation</span> <span class="id">r_gt0</span> := <span class="id">vitali_collection_partition_ub_gt0</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">ex_vitali_collection_partition</span> <span class="id">i</span> :<br/>
&nbsp;&nbsp;<span class="id">V</span> <span class="id">i</span> -&gt; <span class="kwd">exists</span> <span class="id">n</span>, <span class="id">vitali_collection_partition</span> <span class="id">n</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof556')">Proof.</span></div>
<div class="proofscript" id="proof556">
<span class="id">move</span>=&gt; <span class="id">Vi</span>; <span class="id">pose</span> <span class="id">f</span> := <span class="id">floor</span> (<span class="id">r</span> / (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span>).<br/>
<span class="id">have</span> <span class="id">f_ge0</span> : 0 &lt;= <span class="id">f</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">floor_ge0</span>// <span class="id">divr_ge0</span>// <span class="id">ltW</span>// (<span class="id">r_gt0</span> <span class="id">Vi</span>).<br/>
<span class="id">have</span> [<span class="id">m</span> /<span class="id">andP</span>[<span class="id">mf</span> <span class="id">fm</span>]] := <span class="id">leq_ltn_expn</span> `|<span class="id">f</span>|.-1.<br/>
<span class="kwd">exists</span> <span class="id">m</span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>/<span class="id">andP</span>; <span class="id">split</span> =&gt; [{<span class="id">mf</span>}|{<span class="id">fm</span>}].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(@<span class="id">ler_nat</span> <span class="id">R</span>) <span class="kwd">in</span> <span class="id">fm</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ltr_pdivr_mulr</span>// <span class="id">mulrC</span> -<span class="id">ltr_pdivr_mulr</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">lt_le_trans</span> <span class="id">_</span> <span class="id">fm</span>)// (<span class="id">lt_le_trans</span> (<span class="id">lt_succ_floor</span> <span class="id">_</span>))//= -/<span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">natr1</span> <span class="id">ler_add2r</span>//.<br/>
&nbsp;&nbsp;<span class="id">have</span> [&lt;-|<span class="id">f0</span>] := <span class="id">eqVneq</span> 0 <span class="id">f</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">ler0n</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">prednK</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">absz_gt0</span> <span class="id">eq_sym</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">natr_absz</span>// <span class="id">ger0_norm</span>.<br/>
<span class="id">move</span>: <span class="id">m</span> =&gt; [|<span class="id">m</span>] <span class="kwd">in</span> <span class="id">mf</span> *; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">expn0</span> <span class="id">divr1</span> <span class="id">VBr</span>.<br/>
<span class="id">rewrite</span> -(@<span class="id">ler_nat</span> <span class="id">R</span>) <span class="kwd">in</span> <span class="id">mf</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_pdivl_mulr</span>// <span class="id">mulrC</span> -<span class="id">ler_pdivl_mulr</span>//.<br/>
<span class="id">have</span> [<span class="id">f0</span>|<span class="id">f0</span>] := <span class="id">eqVneq</span> 0 <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">mf</span>; <span class="id">rewrite</span> -<span class="id">f0</span> <span class="id">absz0</span> <span class="id">leNgt</span> <span class="id">expnS</span> <span class="id">ltr_nat</span> <span class="id">leq_pmulr</span>// <span class="id">expn_gt0</span>.<br/>
<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">mf</span>)// <span class="id">prednK</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">absz_gt0</span> <span class="id">eq_sym</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">natr_absz</span>// <span class="id">ger0_norm</span>// <span class="id">floor_le</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">cover_vitali_collection_partition</span> :<br/>
&nbsp;&nbsp;<span class="id">V</span> = \<span class="id">bigcup_n</span> <span class="id">vitali_collection_partition</span> <span class="id">n</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof557')">Proof.</span></div>
<div class="proofscript" id="proof557">
<span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; [|<span class="id">i</span> [<span class="id">n</span> <span class="id">_</span>] []//].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">Vi</span>; <span class="id">have</span> [<span class="id">n</span> <span class="id">Hn</span>] := <span class="id">ex_vitali_collection_partition</span> <span class="id">Vi</span>; <span class="kwd">exists</span> <span class="id">n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">disjoint_vitali_collection_partition</span> <span class="id">n</span> <span class="id">m</span> : <span class="id">n</span> != <span class="id">m</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">vitali_collection_partition</span> <span class="id">n</span> `&amp;`<br/>
&nbsp;&nbsp;<span class="id">vitali_collection_partition</span> <span class="id">m</span> = <span class="id">set0</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof558')">Proof.</span></div>
<div class="proofscript" id="proof558">
<span class="id">move</span>=&gt; <span class="id">nm</span>; <span class="id">wlog</span> : <span class="id">n</span> <span class="id">m</span> <span class="id">nm</span> / (<span class="id">n</span> &lt; <span class="id">m</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">wlg</span>; <span class="id">move</span>: <span class="id">nm</span>; <span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id">orP</span>[<span class="id">nm</span>|<span class="id">mn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">wlg</span>// <span class="id">lt_eqF</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">setIC</span> <span class="id">wlg</span>// <span class="id">lt_eqF</span>.<br/>
<span class="id">move</span>=&gt; {}<span class="id">nm</span>; <span class="id">apply</span>/<span class="id">seteqP</span>; <span class="id">split</span> =&gt; // <span class="id">i</span> [] [<span class="id">Vi</span>] /<span class="id">andP</span>[<span class="id">rnB</span> <span class="id">_</span>] [<span class="id">_</span> /<span class="id">andP</span>[<span class="id">_</span>]].<br/>
<span class="id">move</span>/(<span class="id">lt_le_trans</span> <span class="id">rnB</span>); <span class="id">rewrite</span> <span class="id">ltr_pmul2l</span>//; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">r_gt0</span> <span class="id">Vi</span>).<br/>
<span class="id">rewrite</span> <span class="id">ltf_pinv</span> ?<span class="id">posrE</span> ?<span class="id">ltr0n</span> ?<span class="id">expn_gt0</span>// <span class="id">ltr_nat</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>/<span class="id">ltn_pexp2l</span> =&gt; /(<span class="id">_</span> <span class="id">isT</span>); <span class="id">rewrite</span> <span class="id">ltnNge</span> =&gt; /<span class="id">negP</span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">vitali_collection_partition</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">separated_closed_ball_countable</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">R</span> : <span class="id">realType</span>} (<span class="id">I</span> : <span class="kwd">Type</span>) (<span class="id">B</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">R</span>) (<span class="id">D</span> : <span class="id">set</span> <span class="id">I</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &gt; 0) -&gt;<br/>
&nbsp;&nbsp;<span class="id">trivIset</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">closed_ball</span> (<span class="id">cpoint</span> (<span class="id">B</span> <span class="id">i</span>)) (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span>) -&gt; <span class="id">countable</span> <span class="id">D</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof559')">Proof.</span></div>
<div class="proofscript" id="proof559">
<span class="id">move</span>=&gt; <span class="id">B0</span> <span class="id">tD</span>.<br/>
<span class="id">have</span> : <span class="id">trivIset</span> <span class="id">D</span> (<span class="kwd">fun</span> <span class="id">i</span> =&gt; <span class="id">ball</span> (<span class="id">cpoint</span> (<span class="id">B</span> <span class="id">i</span>)) (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">j</span> <span class="id">Di</span> <span class="id">Dj</span> <span class="id">BiBj</span>; <span class="id">apply</span>: <span class="id">tD</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">subsetI_neq0</span> <span class="id">BiBj</span> =&gt; //; <span class="id">exact</span>: <span class="id">subset_closed_ball</span>.<br/>
<span class="id">apply</span>: <span class="id">separated_open_countable</span> =&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">exact</span>: <span class="id">ball_open</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span>; <span class="id">eexists</span>; <span class="id">exact</span>: <span class="id">ballxx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id">vitali_lemma_infinite</span>.<br/>
<span class="kwd">Context</span> {<span class="id">R</span> : <span class="id">realType</span>} {<span class="id">I</span> : <span class="id">eqType</span>}.<br/>
<span class="kwd">Variables</span> (<span class="id">B</span> : <span class="id">I</span> -&gt; <span class="id">set</span> <span class="id">R</span>) (<span class="id">V</span> : <span class="id">set</span> <span class="id">I</span>) (<span class="id">r</span> : <span class="id">R</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id">is_ballB</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">is_ball</span> (<span class="id">B</span> <span class="id">i</span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id">Bset0</span> : <span class="kwd">forall</span> <span class="id">i</span>, (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &gt; 0.<br/>
<span class="kwd">Hypothesis</span> <span class="id">VBr</span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">V</span> <span class="id">i</span> -&gt; (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &lt;= <span class="id">r</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">B_</span> := <span class="id">vitali_collection_partition</span> <span class="id">B</span> <span class="id">V</span> <span class="id">r</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">H_</span> <span class="id">n</span> (<span class="id">U</span> : <span class="id">set</span> <span class="id">I</span>) := [<span class="id">set</span> <span class="id">i</span> | <span class="id">B_</span> <span class="id">n</span> <span class="id">i</span> /\<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span>, <span class="id">U</span> <span class="id">j</span> -&gt; <span class="id">i</span> != <span class="id">j</span> -&gt; <span class="id">closure</span> (<span class="id">B</span> <span class="id">i</span>) `&amp;` <span class="id">closure</span> (<span class="id">B</span> <span class="id">j</span>) = <span class="id">set0</span>].<br/>
<br/>
<span class="kwd">Let</span> <span class="id">elt_prop</span> (<span class="id">x</span> : <span class="id">set</span> <span class="id">I</span> * <span class="id">nat</span> * <span class="id">set</span> <span class="id">I</span>) :=<br/>
&nbsp;&nbsp;<span class="id">x</span>.1.1 `&lt;=` <span class="id">V</span> /\<br/>
&nbsp;&nbsp;<span class="id">maximal_disjoint_subcollection</span> (<span class="id">closure</span> \<span class="id">o</span> <span class="id">B</span>) <span class="id">x</span>.1.1 (<span class="id">H_</span> <span class="id">x</span>.1.2 <span class="id">x</span>.2).<br/>
<br/>
<span class="kwd">Let</span> <span class="id">elt_type</span> := {<span class="id">x</span> | <span class="id">elt_prop</span> <span class="id">x</span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id">Rel</span> (<span class="id">x</span> <span class="id">y</span> : <span class="id">elt_type</span>) :=<br/>
&nbsp;&nbsp;(<span class="id">sval</span> <span class="id">y</span>).2 = (<span class="id">sval</span> <span class="id">x</span>).2 `|` (<span class="id">sval</span> <span class="id">x</span>).1.1 /\ (<span class="id">sval</span> <span class="id">x</span>).1.2.+1 = (<span class="id">sval</span> <span class="id">y</span>).1.2.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">vitali_lemma_infinite</span> : { <span class="id">D</span> : <span class="id">set</span> <span class="id">I</span> | [/\ <span class="id">countable</span> <span class="id">D</span>,<br/>
&nbsp;&nbsp;<span class="id">D</span> `&lt;=` <span class="id">V</span>, <span class="id">trivIset</span> <span class="id">D</span> (<span class="id">closure</span> \<span class="id">o</span> <span class="id">B</span>) &amp;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id">V</span> <span class="id">i</span> -&gt; <span class="kwd">exists</span> <span class="id">j</span>, [/\ <span class="id">D</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closure</span> (<span class="id">B</span> <span class="id">i</span>) `&amp;` <span class="id">closure</span> (<span class="id">B</span> <span class="id">j</span>) !=<span class="id">set0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">radius</span> (<span class="id">B</span> <span class="id">j</span>))%:<span class="id">num</span> &gt;= (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> / 2 &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closure</span> (<span class="id">B</span> <span class="id">i</span>) `&lt;=` <span class="id">closure</span> (5%:<span class="id">R</span> *` <span class="id">B</span> <span class="id">j</span>)] ] }.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof560')">Proof.</span></div>
<div class="proofscript" id="proof560">
<span class="id">have</span> [<span class="id">D0</span> [<span class="id">D0B0</span> <span class="id">tD0</span> <span class="id">maxD0</span>]] :=<br/>
&nbsp;&nbsp;<span class="id">ex_maximal_disjoint_subcollection</span> (<span class="id">closure</span> \<span class="id">o</span> <span class="id">B</span>) (<span class="id">B_</span> <span class="id">O</span>).<br/>
<span class="id">have</span> <span class="id">H0</span> : <span class="id">elt_prop</span> (<span class="id">D0</span>, 0%<span class="id">N</span>, <span class="id">set0</span>).<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> /<span class="id">D0B0</span>[].<br/>
&nbsp;&nbsp;<span class="id">split</span> =&gt; //=.<br/>
&nbsp;&nbsp;- <span class="id">move</span>=&gt; <span class="id">x</span> /= <span class="id">D0x</span>; <span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">D0B0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">s</span> <span class="id">D0s</span> <span class="id">xs</span>; <span class="id">move</span>/<span class="id">trivIsetP</span> : <span class="id">tD0</span>; <span class="id">exact</span>.<br/>
&nbsp;&nbsp;- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">F</span> <span class="id">D0F</span> <span class="id">FH0</span>; <span class="id">apply</span>: <span class="id">maxD0</span> =&gt; // <span class="id">i</span> <span class="id">Fi</span>; <span class="id">exact</span>: (<span class="id">FH0</span> <span class="id">_</span> <span class="id">Fi</span>).1.<br/>
<span class="id">have</span> [<span class="id">v</span> [<span class="id">Hv0</span> <span class="id">HvRel</span>]] : {<span class="id">v</span> : <span class="id">nat</span> -&gt; <span class="id">elt_type</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">v</span> 0%<span class="id">N</span> = <span class="id">exist</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span> /\ <span class="kwd">forall</span> <span class="id">n</span>, <span class="id">Rel</span> (<span class="id">v</span> <span class="id">n</span>) (<span class="id">v</span> <span class="id">n</span>.+1)}.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">dependent_choice_Type</span> =&gt; -[[[<span class="id">Dn</span> <span class="id">n</span>] <span class="id">Un</span>] <span class="id">Hn</span>].<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">Hn1</span> := <span class="id">H_</span> <span class="id">n</span>.+1 (<span class="id">Un</span> `|` <span class="id">Dn</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">Dn1</span> <span class="id">maxDn1</span>] :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_maximal_disjoint_subcollection</span> (<span class="id">closure</span>\<span class="id">o</span> <span class="id">B</span>) <span class="id">Hn1</span>.<br/>
&nbsp;&nbsp;<span class="id">suff</span>: <span class="id">elt_prop</span> (<span class="id">Dn1</span>, <span class="id">n</span>.+1, <span class="id">Un</span> `|` <span class="id">Dn</span>) <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">H</span>; <span class="kwd">exists</span> (<span class="id">exist</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span> =&gt; //=; <span class="id">case</span>: <span class="id">maxDn1</span> =&gt; + <span class="id">_</span> <span class="id">_</span> =&gt; /<span class="id">subset_trans</span>; <span class="id">apply</span> =&gt; <span class="id">i</span> [[]].<br/>
<span class="id">pose</span> <span class="id">D</span> <span class="id">i</span> := (<span class="id">sval</span> (<span class="id">v</span> <span class="id">i</span>)).1.1.<br/>
<span class="id">pose</span> <span class="id">U</span> <span class="id">i</span> := (<span class="id">sval</span> (<span class="id">v</span> <span class="id">i</span>)).2.<br/>
<span class="id">have</span> <span class="id">UE</span> <span class="id">n</span> : <span class="id">U</span> <span class="id">n</span> = \<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">n</span>) <span class="id">D</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">ih</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">bigcup_mkord</span> <span class="id">big_ord0</span> /<span class="id">U</span> /<span class="id">sval</span> /<span class="id">D</span> <span class="id">Hv0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">U</span> /<span class="id">sval</span>/= (<span class="id">HvRel</span> <span class="id">n</span>).1 <span class="id">bigcup_mkord</span> <span class="id">big_ord_recr</span> -<span class="id">bigcup_mkord</span> -<span class="id">ih</span>.<br/>
<span class="id">pose</span> <span class="id">v_</span> <span class="id">i</span> := (<span class="id">sval</span> (<span class="id">v</span> <span class="id">i</span>)).1.2.<br/>
<span class="id">have</span> <span class="id">v_E</span> <span class="id">n</span> : <span class="id">v_</span> <span class="id">n</span> = <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">elim</span>: <span class="id">n</span> =&gt; /= [|<span class="id">n</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">v_</span> /<span class="id">sval</span>/= <span class="id">Hv0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: (<span class="id">HvRel</span> <span class="id">n</span>).2; <span class="id">rewrite</span> -!/(<span class="id">v_</span> <span class="id">_</span>) =&gt; &lt;- -&gt;.<br/>
<span class="id">have</span> <span class="id">maxD</span> <span class="id">m</span> : <span class="id">maximal_disjoint_subcollection</span> (<span class="id">closure</span>\<span class="id">o</span> <span class="id">B</span>) (<span class="id">D</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H_</span> <span class="id">m</span> (\<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">m</span>) <span class="id">D</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -(<span class="id">UE</span> <span class="id">m</span>) -[<span class="id">m</span> <span class="kwd">in</span> <span class="id">H_</span> <span class="id">m</span> <span class="id">_</span>]<span class="id">v_E</span> /<span class="id">v_</span> /<span class="id">U</span> /<span class="id">D</span>; <span class="id">move</span>: (<span class="id">v</span> <span class="id">m</span>) =&gt; [<span class="id">x</span> []].<br/>
<span class="id">have</span> <span class="id">DH</span> <span class="id">m</span> : <span class="id">D</span> <span class="id">m</span> `&lt;=` <span class="id">H_</span> <span class="id">m</span> (\<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">m</span>) <span class="id">D</span> <span class="id">i</span>) <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">maxD</span> <span class="id">m</span>.<br/>
<span class="kwd">exists</span> (\<span class="id">bigcup_k</span> <span class="id">D</span> <span class="id">k</span>); <span class="id">split</span>.<br/>
- <span class="id">apply</span>: <span class="id">bigcup_countable</span> =&gt; // <span class="id">n</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">separated_closed_ball_countable</span> <span class="id">R</span> <span class="id">_</span> <span class="id">B</span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> + <span class="id">_</span>] := <span class="id">maxD</span> <span class="id">n</span>; <span class="id">move</span>=&gt; <span class="id">DB</span> <span class="id">i</span> <span class="id">j</span> <span class="id">Dni</span> <span class="id">Dnj</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -!<span class="id">is_ball_closure</span>//; <span class="id">exact</span>: <span class="id">DB</span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">i</span> [<span class="id">n</span> <span class="id">_</span> <span class="id">Dni</span>]; <span class="id">have</span> [+ <span class="id">_</span> <span class="id">_</span>] := <span class="id">maxD</span> <span class="id">n</span>; <span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">Dni</span>) =&gt; [[]].<br/>
- <span class="id">apply</span>: <span class="id">trivIset_bigcup</span> =&gt; <span class="id">m</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">have</span> [] := <span class="id">maxD</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">n</span> <span class="id">i</span> <span class="id">j</span> <span class="id">mn</span> <span class="id">Dmi</span> <span class="id">Dnj</span>.<br/>
&nbsp;&nbsp;<span class="id">wlog</span> : <span class="id">i</span> <span class="id">j</span> <span class="id">n</span> <span class="id">m</span> <span class="id">mn</span> <span class="id">Dmi</span> <span class="id">Dnj</span> / (<span class="id">m</span> &lt; <span class="id">n</span>)%<span class="id">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">wlg</span> <span class="id">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>: <span class="id">mn</span>; <span class="id">rewrite</span> <span class="id">neq_lt</span> =&gt; /<span class="id">orP</span>[<span class="id">mn</span>|<span class="id">nm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">wlg</span> <span class="id">i</span> <span class="id">j</span> <span class="id">n</span> <span class="id">m</span>)// ?<span class="id">lt_eqF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">wlg</span> <span class="id">j</span> <span class="id">i</span> <span class="id">m</span> <span class="id">n</span>)// ?<span class="id">lt_eqF</span>// <span class="id">setIC</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; {}<span class="id">mn</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> {}<span class="id">H</span>] := <span class="id">DH</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Dnj</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /<span class="id">set0P</span>/<span class="id">eqP</span>; <span class="id">apply</span>: <span class="id">contra_notP</span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">setIC</span>; <span class="id">apply</span>: <span class="id">H</span> =&gt; //; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">i</span> <span class="id">Vi</span>.<br/>
<span class="id">have</span> [<span class="id">n</span> <span class="id">Bni</span>] := <span class="id">ex_vitali_collection_partition</span> <span class="id">Bset0</span> <span class="id">VBr</span> <span class="id">Vi</span>.<br/>
<span class="id">have</span> [[<span class="id">j</span> <span class="id">Dj</span> <span class="id">BiBj</span>]|] :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pselect</span> (<span class="kwd">exists2</span> <span class="id">j</span>, (\<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">n</span>.+1) <span class="id">D</span> <span class="id">i</span>) <span class="id">j</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closure</span> (<span class="id">B</span> <span class="id">i</span>) `&amp;` <span class="id">closure</span> (<span class="id">B</span> <span class="id">j</span>) !=<span class="id">set0</span>); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/<span class="id">forall2NP</span> =&gt; <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> {}<span class="id">H</span> <span class="id">j</span> : (\<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">n</span>.+1) <span class="id">D</span> <span class="id">i</span>) <span class="id">j</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closure</span> (<span class="id">B</span> <span class="id">i</span>) `&amp;` <span class="id">closure</span> (<span class="id">B</span> <span class="id">j</span>) = <span class="id">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [//|/<span class="id">set0P</span>/<span class="id">negP</span>/<span class="id">negPn</span>/<span class="id">eqP</span>] := <span class="id">H</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">H_i</span> : (<span class="id">H_</span> <span class="id">n</span> (\<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">n</span>) <span class="id">D</span> <span class="id">i</span>)) <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span> =&gt; // <span class="id">s</span> <span class="id">Hs</span> <span class="id">si</span>; <span class="id">apply</span>: <span class="id">H</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">Hs</span> =&gt; [<span class="id">m</span> /= <span class="id">nm</span> <span class="id">Dms</span>]; <span class="kwd">exists</span> <span class="id">m</span> =&gt; //=; <span class="id">rewrite</span> (<span class="id">ltn_trans</span> <span class="id">nm</span>).<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">Dn_Bi</span> <span class="id">j</span> : <span class="id">D</span> <span class="id">n</span> <span class="id">j</span> -&gt; <span class="id">closure</span> (<span class="id">B</span> <span class="id">i</span>) `&amp;` <span class="id">closure</span> (<span class="id">B</span> <span class="id">j</span>) = <span class="id">set0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Dnj</span>; <span class="id">apply</span>: <span class="id">H</span>; <span class="kwd">exists</span> <span class="id">n</span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">Dni</span>|<span class="id">Dni</span>] := <span class="id">pselect</span> (<span class="id">D</span> <span class="id">n</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> := <span class="id">Dn_Bi</span> <span class="id">_</span> <span class="id">Dni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">setIid</span> =&gt; /<span class="id">closure_eq0</span> <span class="id">Bi0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> := <span class="id">Bset0</span> <span class="id">i</span>; <span class="id">rewrite</span> <span class="id">Bi0</span> <span class="id">radius0</span>/= <span class="id">ltxx</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> <span class="id">not_tB</span> : ~ <span class="id">trivIset</span> (<span class="id">D</span> <span class="id">n</span> `|` [<span class="id">set</span> <span class="id">i</span>]) (<span class="id">closure</span> \<span class="id">o</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">_</span> <span class="id">_</span>] := <span class="id">maxD</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">subsetUl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">Dni</span>; <span class="id">apply</span>: <span class="id">x</span>; <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subUset</span>; <span class="id">split</span>; [<span class="id">exact</span>: <span class="id">DH</span>|]; <span class="id">rewrite</span> <span class="id">sub1set</span> <span class="id">inE</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">p</span> [<span class="id">q</span> [<span class="id">pq</span> <span class="id">Dnpi</span> <span class="id">Dnqi</span> <span class="id">pq0</span>]]] : <span class="kwd">exists</span> <span class="id">p</span> <span class="id">q</span>, [/\ <span class="id">p</span> != <span class="id">q</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">D</span> <span class="id">n</span> <span class="id">p</span> \/ <span class="id">p</span> = <span class="id">i</span>, <span class="id">D</span> <span class="id">n</span> <span class="id">q</span> \/ <span class="id">q</span> = <span class="id">i</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">closure</span> (<span class="id">B</span> <span class="id">p</span>) `&amp;` <span class="id">closure</span> (<span class="id">B</span> <span class="id">q</span>) !=<span class="id">set0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id">trivIsetP</span> : <span class="id">not_tB</span> =&gt; /<span class="id">existsNP</span>[<span class="id">p</span> <span class="id">not_tB</span>]; <span class="kwd">exists</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id">existsNP</span> : <span class="id">not_tB</span> =&gt; [<span class="id">q</span> <span class="id">not_tB</span>]; <span class="kwd">exists</span> <span class="id">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id">not_implyP</span> : <span class="id">not_tB</span> =&gt; [<span class="id">Dnip</span>] /<span class="id">not_implyP</span>[<span class="id">Dni1</span>] /<span class="id">not_implyP</span>[<span class="id">pq</span> <span class="id">pq0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span> =&gt; //; <span class="id">exact</span>/<span class="id">set0P</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id">Dnpi</span> =&gt; [<span class="id">Dnp</span>|<span class="id">pi</span>].<br/>
&nbsp;&nbsp;- <span class="id">case</span>: <span class="id">Dnqi</span> =&gt; [<span class="id">Dnq</span>|<span class="id">qi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">case</span>: (<span class="id">maxD</span> <span class="id">n</span>) =&gt; <span class="id">_</span> + <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>/<span class="id">trivIsetP</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Dnp</span> <span class="id">Dnq</span> <span class="id">pq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/<span class="id">set0P</span> : <span class="id">pq0</span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">have</span> := <span class="id">Dn_Bi</span> <span class="id">_</span> <span class="id">Dnp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">setIC</span> -<span class="id">qi</span>; <span class="id">move</span>/<span class="id">set0P</span> : <span class="id">pq0</span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;- <span class="id">case</span>: <span class="id">Dnqi</span> =&gt; [<span class="id">Dnq</span>|<span class="id">qi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">have</span> := <span class="id">Dn_Bi</span> <span class="id">_</span> <span class="id">Dnq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">pi</span>; <span class="id">move</span>/<span class="id">set0P</span> : <span class="id">pq0</span> =&gt; /<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="kwd">by</span> <span class="id">move</span>: <span class="id">pq</span>; <span class="id">rewrite</span> <span class="id">pi</span> <span class="id">qi</span> <span class="id">eqxx</span>.<br/>
<span class="id">have</span> <span class="id">Birn</span> : (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> &lt;= <span class="id">r</span> / (2 ^ <span class="id">n</span>)%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>: <span class="id">Bni</span>; <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">B_</span> /= =&gt; -[<span class="id">_</span>] /<span class="id">andP</span>[].<br/>
<span class="id">have</span> <span class="id">Bjrn</span> : (<span class="id">radius</span> (<span class="id">B</span> <span class="id">j</span>))%:<span class="id">num</span> &gt; <span class="id">r</span> / (2 ^ <span class="id">n</span>.+1)%:<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> : \<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">n</span>.+1) <span class="id">D</span> <span class="id">i</span> `&lt;=` \<span class="id">bigcup_</span>(<span class="id">i</span> &lt; <span class="id">n</span>.+1) (<span class="id">B_</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">k</span> [<span class="id">m</span>/= <span class="id">mn</span>] <span class="id">Dmk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> [+ <span class="id">_</span> <span class="id">_</span>] := <span class="id">maxD</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">Dmk</span>) =&gt; -[<span class="id">Bmk</span>] <span class="id">_</span>; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">Dj</span>) =&gt; [<span class="id">m</span>/= <span class="id">mn1</span>] [<span class="id">_</span>] /<span class="id">andP</span>[+ <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">le_lt_trans</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_pmul2l</span> ?(<span class="id">vitali_collection_partition_ub_gt0</span> <span class="id">Bset0</span> <span class="id">VBr</span> <span class="id">Vi</span>)//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">lef_pinv</span>// ?<span class="id">posrE</span> ?<span class="id">ltr0n</span> ?<span class="id">expn_gt0</span>// <span class="id">ler_nat</span> <span class="id">leq_pexp2l</span>.<br/>
<span class="kwd">exists</span> <span class="id">j</span>; <span class="id">split</span> =&gt; //.<br/>
- <span class="kwd">by</span> <span class="id">case</span>: <span class="id">Dj</span> =&gt; <span class="id">m</span> /= <span class="id">mn</span> <span class="id">Dm</span>; <span class="kwd">exists</span> <span class="id">m</span>.<br/>
- <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">ltW</span> <span class="id">Bjrn</span>))// <span class="id">ler_pdivr_mulr</span>// <span class="id">expnSr</span> <span class="id">natrM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invrM</span> ?<span class="id">unitfE</span>// <span class="id">mulrAC</span> -<span class="id">mulrA</span> (<span class="id">mulrA</span> 2) <span class="id">divff</span>// <span class="id">div1r</span>.<br/>
- <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Bix</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">is_ball_closure</span>//; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">ballE</span> (<span class="id">is_ballB</span> <span class="id">j</span>)) <span class="id">scale_ballE</span>; [<span class="id">exact</span>: <span class="id">is_ball_ball</span>|].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">closed_ballE</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">ballE</span> (<span class="id">is_ballB</span> <span class="id">j</span>)) <span class="id">scale_ballE</span>; <span class="id">last</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">radius_ball_num</span> ?<span class="id">mulr_ge0</span>// <span class="id">mulr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">closed_ball_</span> /= <span class="id">cpoint_scale_ball</span>; [|<span class="kwd">by</span> []..].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">radius_scale_ball</span>//.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (2 * (<span class="id">radius</span> (<span class="id">B</span> <span class="id">i</span>))%:<span class="id">num</span> + (<span class="id">radius</span> (<span class="id">B</span> <span class="id">j</span>))%:<span class="id">num</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">BiBj</span> =&gt; <span class="id">y</span> [<span class="id">Biy</span> <span class="id">Bjy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_dist_add</span> <span class="id">y</span> <span class="id">_</span> <span class="id">_</span>))// [<span class="kwd">in</span> <span class="id">leRHS</span>]<span class="id">addrC</span> <span class="id">ler_add</span>//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">is_ball_closureP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_dist_add</span> (<span class="id">cpoint</span> (<span class="id">B</span> <span class="id">i</span>)) <span class="id">_</span> <span class="id">_</span>))//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : 2 = 1 + 1); <span class="id">last</span> <span class="kwd">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulrDl</span> !<span class="id">mul1r</span>// <span class="id">ler_add</span>; [<span class="kwd">by</span> []| |<span class="id">exact</span>: <span class="id">is_ball_closureP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">distrC</span>; <span class="id">exact</span>: <span class="id">is_ball_closureP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ler_subr_addr</span>// -(@<span class="id">natr1</span> <span class="id">_</span> 4).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">mulrDl</span> 4%:<span class="id">R</span>) <span class="id">mul1r</span> <span class="id">addrK</span> (<span class="id">natrM</span> <span class="id">_</span> 2 2) -<span class="id">mulrA</span> <span class="id">ler_pmul2l</span>//.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">Birn</span>)// [<span class="kwd">in</span> <span class="id">leRHS</span>]<span class="id">mulrC</span> -<span class="id">ler_pdivr_mulr</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">mulrA</span> -<span class="id">invfM</span> -<span class="id">natrM</span>-<span class="id">expnSr</span> <span class="id">ltW</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">vitali_lemma_infinite_cover</span> : { <span class="id">D</span> : <span class="id">set</span> <span class="id">I</span> | [/\ <span class="id">countable</span> <span class="id">D</span>,<br/>
&nbsp;&nbsp;<span class="id">D</span> `&lt;=` <span class="id">V</span>, <span class="id">trivIset</span> <span class="id">D</span> (<span class="id">closure</span>\<span class="id">o</span> <span class="id">B</span>) &amp;<br/>
&nbsp;&nbsp;<span class="id">cover</span> <span class="id">V</span> (<span class="id">closure</span>\<span class="id">o</span> <span class="id">B</span>) `&lt;=` <span class="id">cover</span> <span class="id">D</span> (<span class="id">closure</span> \<span class="id">o</span> <span class="id">scale_ball</span> 5%:<span class="id">R</span> \<span class="id">o</span> <span class="id">B</span>)] }.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof561')">Proof.</span></div>
<div class="proofscript" id="proof561">
<span class="id">have</span> [<span class="id">D</span> [<span class="id">cD</span> <span class="id">DV</span> <span class="id">tD</span> <span class="id">maxD</span>]] := <span class="id">vitali_lemma_infinite</span>.<br/>
<span class="kwd">exists</span> <span class="id">D</span>; <span class="id">split</span> =&gt; // <span class="id">x</span> [<span class="id">i</span> <span class="id">Vi</span>] <span class="id">cBix</span>/=.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">j</span> [<span class="id">Dj</span> <span class="id">BiBj</span> <span class="id">ij</span>]] := <span class="id">maxD</span> <span class="id">i</span> <span class="id">Vi</span>; <span class="id">move</span>/(<span class="id">_</span> <span class="id">_</span> <span class="id">cBix</span>) =&gt; ?; <span class="kwd">exists</span> <span class="id">j</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">vitali_lemma_infinite</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
