
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monae.smallstep</title>
<meta name="description" content="Documentation of Coq module monae.smallstep" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="monae"><summary>monae</summary>
          <ul>
          <li><a href="monae.altprob_model.html">altprob_model</a></li>
<li><a href="monae.array_lib.html">array_lib</a></li>
<li><a href="monae.category.html">category</a></li>
<li><a href="monae.category_ext.html">category_ext</a></li>
<li><a href="monae.example_iquicksort.html">example_iquicksort</a></li>
<li><a href="monae.example_monty.html">example_monty</a></li>
<li><a href="monae.example_nqueens.html">example_nqueens</a></li>
<li><a href="monae.example_quicksort.html">example_quicksort</a></li>
<li><a href="monae.example_relabeling.html">example_relabeling</a></li>
<li><a href="monae.example_spark.html">example_spark</a></li>
<li><a href="monae.example_transformer.html">example_transformer</a></li>
<li><a href="monae.example_typed_store.html">example_typed_store</a></li>
<li><a href="monae.fail_lib.html">fail_lib</a></li>
<li><a href="monae.gcm_model.html">gcm_model</a></li>
<li><a href="monae.hierarchy.html">hierarchy</a></li>
<li><a href="monae.monad_composition.html">monad_composition</a></li>
<li><a href="monae.monad_lib.html">monad_lib</a></li>
<li><a href="monae.monad_model.html">monad_model</a></li>
<li><a href="monae.monad_transformer.html">monad_transformer</a></li>
<li><a href="monae.monae_lib.html">monae_lib</a></li>
<li><a href="monae.proba_lib.html">proba_lib</a></li>
<li><a href="monae.proba_monad_model.html">proba_monad_model</a></li>
<li><a href="monae.smallstep.html">smallstep</a></li>
<li><a href="monae.state_lib.html">state_lib</a></li>
<li><a href="monae.trace_lib.html">trace_lib</a></li>
<li><a href="monae.typed_store_lib.html">typed_store_lib</a></li>
<li><a href="monae.typed_store_model.html">typed_store_model</a></li>
          </ul>
          </details>
          </li>
<li><details id="monaeImpredicativeSet"><summary>monaeImpredicativeSet</summary>
          <ul>
          <li><a href="monaeImpredicativeSet.iexample_transformer.html">iexample_transformer</a></li>
<li><a href="monaeImpredicativeSet.ifail_lib.html">ifail_lib</a></li>
<li><a href="monaeImpredicativeSet.ifmt_lifting.html">ifmt_lifting</a></li>
<li><a href="monaeImpredicativeSet.ihierarchy.html">ihierarchy</a></li>
<li><a href="monaeImpredicativeSet.imonad_composition.html">imonad_composition</a></li>
<li><a href="monaeImpredicativeSet.imonad_lib.html">imonad_lib</a></li>
<li><a href="monaeImpredicativeSet.imonad_model.html">imonad_model</a></li>
<li><a href="monaeImpredicativeSet.imonad_transformer.html">imonad_transformer</a></li>
<li><a href="monaeImpredicativeSet.imonae_lib.html">imonae_lib</a></li>
<li><a href="monaeImpredicativeSet.iparametricity_codensity.html">iparametricity_codensity</a></li>
<li><a href="monaeImpredicativeSet.istate_lib.html">istate_lib</a></li>
<li><a href="monaeImpredicativeSet.itrace_lib.html">itrace_lib</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module monae.smallstep</h1>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.Eqdep.html">Eqdep</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html">JMeq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html">List</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html">ssreflect</a></span>.<br/>
<span class="vernacular">Import</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ListNotations">ListNotations</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssreflect.html">ssreflect</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrfun.html">ssrfun</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrbool.html">ssrbool</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html">eqtype</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html">ssrnat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html">seq</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monae.hierarchy.html">hierarchy</a></span> <span class="id"><a href="monae.monad_lib.html">monad_lib</a></span> <span class="id"><a href="monae.state_lib.html">state_lib</a></span> <span class="id"><a href="monae.trace_lib.html">trace_lib</a></span> <span class="id"><a href="monae.monad_model.html">monad_model</a></span>.<br/>
<br/>
<pre class="ssrdoc">
             Application of monadTrace to program semantics                
                                                                           
Inductive program, Inductive continuation:                                 
  Syntax for an imperative language with a primitive to record execution   
  trace                                                                    
Section OperationalSemantics, Inductive step:                              
  A small-step semantics                                                   
DenotationalSemantics:                                                     
  Denotation given in terms of the state/trace monad                       
Section semantics_equivalence:                                             
(*.  Prove that the small-step semantics is equivalent to the denotation      
nonce, nonce_twice, countdown, etc.                                        
  Examples of programs using traces and their small-step and denotational  
semantics.                                                                 
                                                                           
reference:                                                                 
- R. Affeldt, D. Nowak, T. Saikawa, A Hierarchy of Monadic Effects for     
Program Verification using Equational Reasoning, MPC 2019                  
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Universe</span> <span class="id">Polymorphism</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Universe</span> <span class="id">Minimization</span> <span class="id">ToSet</span>.<br/>
<span class="gallina-kwd">Set</span> <span class="id">Polymorphic</span> <span class="vernacular">Inductive</span> <span class="id">Cumulativity</span>.<br/>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<br/>
<span class="gallina-kwd">Set</span> <span class="id">Bullet</span> <span class="id">Behavior</span> <span class="id">&quot;Strict Subproofs&quot;</span>.<br/>
<br/>
<span class="vernacular">Obligation</span> <span class="vernacular">Tactic</span> <span class="id">:=</span> <span class="id">idtac</span>.<br/>
<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;'p_do' x &lt;- m ; e&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">60,</span> <span class="id">x</span> <span class="id">name,</span> <span class="id">m</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">200,</span> <span class="id">e</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">60</span>).<br/>
<span class="vernacular">Reserved</span> <span class="vernacular">Notation</span> <span class="id">&quot;'p_do' x : T &lt;- m ; e&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">60,</span> <span class="id">x</span> <span class="id">name,</span> <span class="id">m</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">200,</span> <span class="id">e</span> <span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">60</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="Syntax" class="id"><a name="Syntax" class="">Syntax</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="Syntax.T" class="id"><a name="Syntax.T" class="">T</a></span> <span id="Syntax.S" class="id"><a name="Syntax.S" class="">S</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="program" class="id"><a name="program" class="">program</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
<span class="id">|</span> <span id="p_ret" class="id"><a name="p_ret" class="">p_ret</a></span>  <span class="id">:</span> <span class="gallina-kwd">forall</span> <span class="id">{A},</span> <span class="id"><a href="monae.smallstep.html#A:5">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#A:5">A</a></span><br/>
<span class="id">|</span> <span id="p_bind" class="id"><a name="p_bind" class="">p_bind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span class="id">{A</span> <span id="B:7" class="id"><a name="B:7" class="">B},</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#A:6">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="monae.smallstep.html#A:6">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#B:7">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#B:7">B</a></span><br/>
<span class="id">|</span> <span id="p_cond" class="id"><a name="p_cond" class="">p_cond</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span class="id">{A},</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#A:8">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#A:8">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#A:8">A</a></span><br/>
<span class="id">|</span> <span id="p_repeat" class="id"><a name="p_repeat" class="">p_repeat</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span><br/>
<span class="id">|</span> <span id="p_while" class="id"><a name="p_while" class="">p_while</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="monae.smallstep.html#Syntax.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span><br/>
<span class="id">|</span> <span id="p_get" class="id"><a name="p_get" class="">p_get</a></span>  <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="monae.smallstep.html#Syntax.S">S</a></span><br/>
<span class="id">|</span> <span id="p_put" class="id"><a name="p_put" class="">p_put</a></span>  <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#Syntax.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span><br/>
<span class="id">|</span> <span id="p_mark" class="id"><a name="p_mark" class="">p_mark</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#Syntax.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program:3">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="01652e19243216d705736490f038656c" class="id"><a name="01652e19243216d705736490f038656c" class="">&quot;'p_do' x &lt;- m ; e&quot;</a></span> <span class="id">:=</span> (<span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id">m</span> (<span class="gallina-kwd">fun</span> <span id="x:9" class="id"><a name="x:9" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">e</span>)).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="e0dd87ae75cead95c42da23f0f45ddd1" class="id"><a name="e0dd87ae75cead95c42da23f0f45ddd1" class="">&quot;'p_do' x : T &lt;- m ; e&quot;</a></span> <span class="id">:=</span>(<span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id">m</span> (<span class="gallina-kwd">fun</span> <span id="x:10" class="id"><a name="x:10" class="">x</a></span> <span class="id">:</span> <span class="id">T</span> <span class="id">=&gt;</span> <span class="id">e</span>)).<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="continuation" class="id"><a name="continuation" class="">continuation</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
<span class="id">|</span> <span id="stop" class="id"><a name="stop" class="">stop</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:13" class="id"><a name="A:13" class="">A,</a></span> <span class="id"><a href="monae.smallstep.html#A:13">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#continuation:11">continuation</a></span><br/>
<span class="id">|</span> <span id="cont" class="id"><a name="cont" class="">cont</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:14" class="id"><a name="A:14" class="">A,</a></span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:14">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> (<span class="id"><a href="monae.smallstep.html#A:14">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#continuation:11">continuation</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monae.smallstep.html#continuation:11">continuation</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.smallstep.html#Syntax">Syntax</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_cond">p_cond</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_get">p_get</a></span> <span class="id">{_</span> <span class="id">_}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span> <span class="id">{_</span> <span class="id">_}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#cont">cont</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="5eed45a21faa7f144841948924e4c4be" class="id"><a name="5eed45a21faa7f144841948924e4c4be" class="">&quot;'p_do' x &lt;- m ; e&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span> (<span class="gallina-kwd">fun</span> <span id="x:15" class="id"><a name="x:15" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">e</span>)).<br/>
<span class="vernacular">Notation</span> <span id="fb5ee133d5c0f971365e980f2f140250" class="id"><a name="fb5ee133d5c0f971365e980f2f140250" class="">&quot;'p_do' x : T &lt;- m ; e&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span> (<span class="gallina-kwd">fun</span> <span id="x:16" class="id"><a name="x:16" class="">x</a></span> <span class="id">:</span> <span class="id">T</span> <span class="id">=&gt;</span> <span class="id">e</span>)).<br/>
<br/>
<span class="vernacular">Notation</span> <span id="b50a420ff47091651381fafe37ad4441" class="id"><a name="b50a420ff47091651381fafe37ad4441" class="">&quot;p `; k&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="monae.smallstep.html#cont">cont</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">p</span> <span class="id">k</span>) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">50</span>).<br/>
<br/>
<span class="vernacular">Section</span> <span id="OperationalSemantics" class="id"><a name="OperationalSemantics" class="">OperationalSemantics</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="OperationalSemantics.T" class="id"><a name="OperationalSemantics.T" class="">T</a></span> <span id="OperationalSemantics.S" class="id"><a name="OperationalSemantics.S" class="">S</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="state" class="id"><a name="state" class="">state</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> @<span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.T">T</a></span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.S">S</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="step" class="id"><a name="step" class="">step</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
<span class="id">|</span> <span id="s_ret" class="id"><a name="s_ret" class="">s_ret</a></span>  <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:21" class="id"><a name="s:21" class="">s</a></span> <span id="A:22" class="id"><a name="A:22" class="">A</a></span> <span id="a:23" class="id"><a name="a:23" class="">a</a></span> (<span id="k:24" class="id"><a name="k:24" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:22">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span> <span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:21">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> <span class="id"><a href="monae.smallstep.html#a:23">a</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:24">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:21">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:24">k</a></span> <span class="id"><a href="monae.smallstep.html#a:23">a</a></span>)<br/>
<span class="id">|</span> <span id="s_bind" class="id"><a name="s_bind" class="">s_bind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:25" class="id"><a name="s:25" class="">s</a></span> <span id="A:26" class="id"><a name="A:26" class="">A</a></span> <span id="B:27" class="id"><a name="B:27" class="">B</a></span> <span id="p:28" class="id"><a name="p:28" class="">p</a></span> (<span id="f:29" class="id"><a name="f:29" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:26">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#B:27">B</a></span>) <span id="k:30" class="id"><a name="k:30" class="">k,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:25">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id"><a href="monae.smallstep.html#p:28">p</a></span> <span class="id"><a href="monae.smallstep.html#f:29">f</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:30">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:25">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:28">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="gallina-kwd">fun</span> <span id="a:31" class="id"><a name="a:31" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#f:29">f</a></span> <span class="id"><a href="monae.smallstep.html#a:31">a</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:30">k</a></span>)<br/>
<span class="id">|</span> <span id="s_cond_true" class="id"><a name="s_cond_true" class="">s_cond_true</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:32" class="id"><a name="s:32" class="">s</a></span> <span id="A:33" class="id"><a name="A:33" class="">A</a></span> <span id="p1:34" class="id"><a name="p1:34" class="">p1</a></span> <span id="p2:35" class="id"><a name="p2:35" class="">p2</a></span> (<span id="k:36" class="id"><a name="k:36" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:33">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:32">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_cond">p_cond</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="monae.smallstep.html#p1:34">p1</a></span> <span class="id"><a href="monae.smallstep.html#p2:35">p2</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:36">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:32">s,</a></span> <span class="id"><a href="monae.smallstep.html#p1:34">p1</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:36">k</a></span>)<br/>
<span class="id">|</span> <span id="s_cond_false" class="id"><a name="s_cond_false" class="">s_cond_false</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:37" class="id"><a name="s:37" class="">s</a></span> <span id="A:38" class="id"><a name="A:38" class="">A</a></span> <span id="p1:39" class="id"><a name="p1:39" class="">p1</a></span> <span id="p2:40" class="id"><a name="p2:40" class="">p2</a></span> (<span id="k:41" class="id"><a name="k:41" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:38">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:37">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_cond">p_cond</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="monae.smallstep.html#p1:39">p1</a></span> <span class="id"><a href="monae.smallstep.html#p2:40">p2</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:41">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:37">s,</a></span> <span class="id"><a href="monae.smallstep.html#p2:40">p2</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:41">k</a></span>)<br/>
<span class="id">|</span> <span id="s_repeat_O" class="id"><a name="s_repeat_O" class="">s_repeat_O</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:42" class="id"><a name="s:42" class="">s</a></span> <span id="p:43" class="id"><a name="p:43" class="">p</a></span> <span id="k:44" class="id"><a name="k:44" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:42">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="monae.smallstep.html#p:43">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:44">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:42">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:44">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>)<br/>
<span class="id">|</span> <span id="s_repeat_S" class="id"><a name="s_repeat_S" class="">s_repeat_S</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:45" class="id"><a name="s:45" class="">s</a></span> <span id="n:46" class="id"><a name="n:46" class="">n</a></span> <span id="p:47" class="id"><a name="p:47" class="">p</a></span> <span id="k:48" class="id"><a name="k:48" class="">k,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:45">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id"><a href="monae.smallstep.html#n:46">n</a></span>.<span class="id">+1</span> <span class="id"><a href="monae.smallstep.html#p:47">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:48">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.smallstep.html#s:45">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:47">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id"><a href="monae.smallstep.html#n:46">n</a></span> <span class="id"><a href="monae.smallstep.html#p:47">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:48">k</a></span>)<br/>
<span class="id">|</span> <span id="s_while_true" class="id"><a name="s_while_true" class="">s_while_true</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="fuel:49" class="id"><a name="fuel:49" class="">fuel</a></span> <span id="s:50" class="id"><a name="s:50" class="">s</a></span> <span id="c:51" class="id"><a name="c:51" class="">c</a></span> <span id="p:52" class="id"><a name="p:52" class="">p</a></span> <span id="k:53" class="id"><a name="k:53" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#c:51">c</a></span> <span class="id"><a href="monae.smallstep.html#s:50">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:50">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id"><a href="monae.smallstep.html#fuel:49">fuel</a></span>.<span class="id">+1</span> <span class="id"><a href="monae.smallstep.html#c:51">c</a></span> <span class="id"><a href="monae.smallstep.html#p:52">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:53">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.smallstep.html#s:50">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:52">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id"><a href="monae.smallstep.html#fuel:49">fuel</a></span> <span class="id"><a href="monae.smallstep.html#c:51">c</a></span> <span class="id"><a href="monae.smallstep.html#p:52">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:53">k</a></span>)<br/>
<span class="id">|</span> <span id="s_while_false" class="id"><a name="s_while_false" class="">s_while_false</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="fuel:54" class="id"><a name="fuel:54" class="">fuel</a></span> <span id="s:55" class="id"><a name="s:55" class="">s</a></span> <span id="c:56" class="id"><a name="c:56" class="">c</a></span> <span id="p:57" class="id"><a name="p:57" class="">p</a></span> <span id="k:58" class="id"><a name="k:58" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#c:56">c</a></span> <span class="id"><a href="monae.smallstep.html#s:55">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:55">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id"><a href="monae.smallstep.html#fuel:54">fuel</a></span>.<span class="id">+1</span> <span class="id"><a href="monae.smallstep.html#c:56">c</a></span> <span class="id"><a href="monae.smallstep.html#p:57">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:58">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:55">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:58">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>)<br/>
<span class="id">|</span> <span id="s_while_broke" class="id"><a name="s_while_broke" class="">s_while_broke</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:59" class="id"><a name="s:59" class="">s</a></span> <span id="c:60" class="id"><a name="c:60" class="">c</a></span> <span id="p:61" class="id"><a name="p:61" class="">p</a></span> <span id="k:62" class="id"><a name="k:62" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:59">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="monae.smallstep.html#c:60">c</a></span> <span class="id"><a href="monae.smallstep.html#p:61">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:62">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:59">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:62">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>)<br/>
<span class="id">|</span> <span id="s_get" class="id"><a name="s_get" class="">s_get</a></span>  <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:63" class="id"><a name="s:63" class="">s</a></span> <span id="k:64" class="id"><a name="k:64" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:63">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_get">p_get</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:64">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s:63">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:64">k</a></span> <span class="id"><a href="monae.smallstep.html#s:63">s</a></span>)<br/>
<span class="id">|</span> <span id="s_put" class="id"><a name="s_put" class="">s_put</a></span>  <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:65" class="id"><a name="s:65" class="">s</a></span> <span id="s':66" class="id"><a name="s':66" class="">s'</a></span> <span id="k:67" class="id"><a name="k:67" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:65">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> <span class="id"><a href="monae.smallstep.html#s':66">s'</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:67">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s':66">s',</a></span> <span class="id"><a href="monae.smallstep.html#k:67">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>)<br/>
<span class="id">|</span> <span id="s_mark" class="id"><a name="s_mark" class="">s_mark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:68" class="id"><a name="s:68" class="">s</a></span> <span id="t:69" class="id"><a name="t:69" class="">t</a></span> <span id="k:70" class="id"><a name="k:70" class="">k,</a></span> <span class="id"><a href="monae.smallstep.html#step:19">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:68">s,</a></span> <span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id"><a href="monae.smallstep.html#t:69">t</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#k:70">k</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.smallstep.html#t:69">t</a></span>) (<span class="id"><a href="monae.smallstep.html#s:68">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:70">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="step_n" class="id"><a name="step_n" class="">step_n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
<span class="id">|</span> <span id="sn_0" class="id"><a name="sn_0" class="">sn_0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="sk:73" class="id"><a name="sk:73" class="">sk,</a></span> <span class="id"><a href="monae.smallstep.html#step_n:71">step_n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="monae.smallstep.html#sk:73">sk</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span> <span class="id"><a href="monae.smallstep.html#sk:73">sk</a></span><br/>
<span class="id">|</span> <span id="sn_S_None" class="id"><a name="sn_S_None" class="">sn_S_None</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:74" class="id"><a name="n:74" class="">n</a></span> <span id="sk1:75" class="id"><a name="sk1:75" class="">sk1</a></span> <span id="sk2:76" class="id"><a name="sk2:76" class="">sk2</a></span> <span id="sk3:77" class="id"><a name="sk3:77" class="">sk3</a></span> <span id="l:78" class="id"><a name="l:78" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id"><a href="monae.smallstep.html#sk1:75">sk1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="monae.smallstep.html#sk2:76">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_n:71">step_n</a></span> <span class="id"><a href="monae.smallstep.html#n:74">n</a></span> <span class="id"><a href="monae.smallstep.html#sk2:76">sk2</a></span> <span class="id"><a href="monae.smallstep.html#l:78">l</a></span> <span class="id"><a href="monae.smallstep.html#sk3:77">sk3</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_n:71">step_n</a></span> <span class="id"><a href="monae.smallstep.html#n:74">n</a></span>.<span class="id">+1</span> <span class="id"><a href="monae.smallstep.html#sk1:75">sk1</a></span> <span class="id"><a href="monae.smallstep.html#l:78">l</a></span> <span class="id"><a href="monae.smallstep.html#sk3:77">sk3</a></span><br/>
<span class="id">|</span> <span id="sn_S_Some" class="id"><a name="sn_S_Some" class="">sn_S_Some</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="n:79" class="id"><a name="n:79" class="">n</a></span> <span id="sk1:80" class="id"><a name="sk1:80" class="">sk1</a></span> <span id="sk2:81" class="id"><a name="sk2:81" class="">sk2</a></span> <span id="sk3:82" class="id"><a name="sk3:82" class="">sk3</a></span> <span id="t:83" class="id"><a name="t:83" class="">t</a></span> <span id="l:84" class="id"><a name="l:84" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id"><a href="monae.smallstep.html#sk1:80">sk1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.smallstep.html#t:83">t</a></span>) <span class="id"><a href="monae.smallstep.html#sk2:81">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_n:71">step_n</a></span> <span class="id"><a href="monae.smallstep.html#n:79">n</a></span> <span class="id"><a href="monae.smallstep.html#sk2:81">sk2</a></span> <span class="id"><a href="monae.smallstep.html#l:84">l</a></span> <span class="id"><a href="monae.smallstep.html#sk3:82">sk3</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_n:71">step_n</a></span> <span class="id"><a href="monae.smallstep.html#n:79">n</a></span>.<span class="id">+1</span> <span class="id"><a href="monae.smallstep.html#sk1:80">sk1</a></span> (<span class="id"><a href="monae.smallstep.html#t:83">t</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="monae.smallstep.html#l:84">l</a></span>) <span class="id"><a href="monae.smallstep.html#sk3:82">sk3</a></span>.<br/>
<br/>
<span class="vernacular">Inductive</span> <span id="step_star" class="id"><a name="step_star" class="">step_star</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#state">state</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span> <span class="id">:=</span><br/>
<span class="id">|</span> <span id="ss_refl" class="id"><a name="ss_refl" class="">ss_refl</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="sk:87" class="id"><a name="sk:87" class="">sk,</a></span> <span class="id"><a href="monae.smallstep.html#step_star:85">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk:87">sk</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span> <span class="id"><a href="monae.smallstep.html#sk:87">sk</a></span><br/>
<span class="id">|</span> <span id="ss_step_None" class="id"><a name="ss_step_None" class="">ss_step_None</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="sk1:88" class="id"><a name="sk1:88" class="">sk1</a></span> <span id="sk2:89" class="id"><a name="sk2:89" class="">sk2</a></span> <span id="sk3:90" class="id"><a name="sk3:90" class="">sk3</a></span> <span id="l:91" class="id"><a name="l:91" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id"><a href="monae.smallstep.html#sk1:88">sk1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="monae.smallstep.html#sk2:89">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star:85">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk2:89">sk2</a></span> <span class="id"><a href="monae.smallstep.html#l:91">l</a></span> <span class="id"><a href="monae.smallstep.html#sk3:90">sk3</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star:85">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk1:88">sk1</a></span> <span class="id"><a href="monae.smallstep.html#l:91">l</a></span> <span class="id"><a href="monae.smallstep.html#sk3:90">sk3</a></span><br/>
<span class="id">|</span> <span id="ss_step_Some" class="id"><a name="ss_step_Some" class="">ss_step_Some</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="sk1:92" class="id"><a name="sk1:92" class="">sk1</a></span> <span id="sk2:93" class="id"><a name="sk2:93" class="">sk2</a></span> <span id="sk3:94" class="id"><a name="sk3:94" class="">sk3</a></span> <span id="t:95" class="id"><a name="t:95" class="">t</a></span> <span id="l:96" class="id"><a name="l:96" class="">l,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id"><a href="monae.smallstep.html#sk1:92">sk1</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.smallstep.html#t:95">t</a></span>) <span class="id"><a href="monae.smallstep.html#sk2:93">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star:85">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk2:93">sk2</a></span> <span class="id"><a href="monae.smallstep.html#l:96">l</a></span> <span class="id"><a href="monae.smallstep.html#sk3:94">sk3</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star:85">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk1:92">sk1</a></span> (<span class="id"><a href="monae.smallstep.html#t:95">t</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="monae.smallstep.html#l:96">l</a></span>) <span class="id"><a href="monae.smallstep.html#sk3:94">sk3</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="step_star_transitive" class="id"><a name="step_star_transitive" class="">step_star_transitive</a></span> <span id="sk1:97" class="id"><a name="sk1:97" class="">sk1</a></span> <span id="sk2:98" class="id"><a name="sk2:98" class="">sk2</a></span> <span id="sk3:99" class="id"><a name="sk3:99" class="">sk3</a></span> <span id="l:100" class="id"><a name="l:100" class="">l</a></span> <span id="l':101" class="id"><a name="l':101" class="">l'</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk1:97">sk1</a></span> <span class="id"><a href="monae.smallstep.html#l:100">l</a></span> <span class="id"><a href="monae.smallstep.html#sk2:98">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk2:98">sk2</a></span> <span class="id"><a href="monae.smallstep.html#l':101">l'</a></span> <span class="id"><a href="monae.smallstep.html#sk3:99">sk3</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk1:97">sk1</a></span> (<span class="id"><a href="monae.smallstep.html#l:100">l</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l':101">l'</a></span>) <span class="id"><a href="monae.smallstep.html#sk3:99">sk3</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="id">intro</span> <span class="id">Hss1</span>.<br/>
<span class="id">revert</span> <span class="id">sk3</span> <span class="id">l'</span>.<br/>
<span class="id">induction</span> <span class="id">Hss1</span> <span class="gallina-kwd">as</span><br/>
&nbsp;<span class="id">[</span> <span class="id">|</span> <span class="id">sk1</span> <span class="id">sk2</span> <span class="id">sk3</span> <span class="id">l</span> <span class="id">Hstep</span> <span class="id">Hss1</span> <span class="id">IH</span> <span class="id">|</span> <span class="id">sk1</span> <span class="id">sk2</span> <span class="id">sk3</span> <span class="id">t</span> <span class="id">l</span> <span class="id">Hstep</span> <span class="id">Hss1</span> <span class="id">IH</span> <span class="id">];</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">sk3'</span> <span class="id">l'</span> <span class="id">Hss2;</span> <span class="id">[</span> <span class="id">assumption</span> <span class="id">|</span> <span class="id">|</span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None</a></span> <span class="gallina-kwd">with</span> (<span class="id">sk2</span> <span class="id">:=</span> <span class="id">sk2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id">IH;</span> <span class="id">exact</span> <span class="id">Hss2</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_step_Some">ss_step_Some</a></span> <span class="gallina-kwd">with</span> (<span class="id">sk2</span> <span class="id">:=</span> <span class="id">sk2</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id">IH;</span> <span class="id">exact</span> <span class="id">Hss2</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_star_stop_inv" class="id"><a name="step_star_stop_inv" class="">step_star_stop_inv</a></span> <span id="s:102" class="id"><a name="s:102" class="">s</a></span> <span id="A:103" class="id"><a name="A:103" class="">A</a></span> <span id="a:104" class="id"><a name="a:104" class="">a</a></span> <span id="l:105" class="id"><a name="l:105" class="">l</a></span> <span id="sk:106" class="id"><a name="sk:106" class="">sk</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:102">s,</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:103">A</a></span> <span class="id"><a href="monae.smallstep.html#a:104">a</a></span>) <span class="id"><a href="monae.smallstep.html#l:105">l</a></span> <span class="id"><a href="monae.smallstep.html#sk:106">sk</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#l:105">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="monae.smallstep.html#sk:106">sk</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="id"><a href="monae.smallstep.html#s:102">s,</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:103">A</a></span> <span class="id"><a href="monae.smallstep.html#a:104">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">intro</span> <span class="id">Hss</span>.<br/>
<span class="id">inversion</span> <span class="id">Hss</span>.<br/>
<span class="id">-</span> <span class="id">split;</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span> <span class="id">H</span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">inversion</span> <span class="id">H</span> <span class="gallina-kwd">end</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span> <span class="id">H</span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">inversion</span> <span class="id">H</span> <span class="gallina-kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_deterministic" class="id"><a name="step_deterministic" class="">step_deterministic</a></span> <span id="ski:107" class="id"><a name="ski:107" class="">ski</a></span> <span id="l1:108" class="id"><a name="l1:108" class="">l1</a></span> <span id="l2:109" class="id"><a name="l2:109" class="">l2</a></span> <span id="sk1:110" class="id"><a name="sk1:110" class="">sk1</a></span> <span id="sk2:111" class="id"><a name="sk2:111" class="">sk2</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id"><a href="monae.smallstep.html#ski:107">ski</a></span> <span class="id"><a href="monae.smallstep.html#l1:108">l1</a></span> <span class="id"><a href="monae.smallstep.html#sk1:110">sk1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id"><a href="monae.smallstep.html#ski:107">ski</a></span> <span class="id"><a href="monae.smallstep.html#l2:109">l2</a></span> <span class="id"><a href="monae.smallstep.html#sk2:111">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#l1:108">l1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#l2:109">l2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="monae.smallstep.html#sk1:110">sk1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#sk2:111">sk2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="id">intro</span> <span class="id">Hstep1</span>.<br/>
<span class="id">revert</span> <span class="id">l2</span> <span class="id">sk2</span>.<br/>
<span class="id">induction</span> <span class="id">Hstep1;</span> <span class="id">intros</span> <span class="id">l2</span> <span class="id">sk2</span> <span class="id">Hstep2;</span><br/>
<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
<span class="id">|</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#step">step</a></span> (<span class="id">?s,</span> <span class="id">?k</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">remember</span> (<span class="id">s,</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">sk1</span> <span class="id">eqn:</span> <span class="id">Heq2</span><br/>
<span class="id">end;</span> <span class="id">inversion</span> <span class="id">Hstep2;</span> <span class="id">clear</span> <span class="id">Hstep2;</span> <span class="id">subst;</span> <span class="id">try</span> <span class="id">discriminate;</span><br/>
<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
<span class="id">|</span> <span class="id">H</span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">injection</span> <span class="id">H;</span> <span class="id">clear</span> <span class="id">H;</span> <span class="id">intros</span><br/>
<span class="id">end;</span> <span class="id">subst;</span><br/>
<span class="id">repeat</span> <span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
<span class="id">|</span> <span class="id">H</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.Eqdep.html#EqdepTheory.inj_pair2">inj_pair2</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span><br/>
<span class="id">end;</span> <span class="id">subst;</span> <span class="id">repeat</span> <span class="id">split;</span> <span class="id">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_star_confluent" class="id"><a name="step_star_confluent" class="">step_star_confluent</a></span> <span id="ski:112" class="id"><a name="ski:112" class="">ski</a></span> <span id="sk1:113" class="id"><a name="sk1:113" class="">sk1</a></span> <span id="sk2:114" class="id"><a name="sk2:114" class="">sk2</a></span> <span id="l1:115" class="id"><a name="l1:115" class="">l1</a></span> <span id="l2:116" class="id"><a name="l2:116" class="">l2</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#ski:112">ski</a></span> <span class="id"><a href="monae.smallstep.html#l1:115">l1</a></span> <span class="id"><a href="monae.smallstep.html#sk1:113">sk1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#ski:112">ski</a></span> <span class="id"><a href="monae.smallstep.html#l2:116">l2</a></span> <span class="id"><a href="monae.smallstep.html#sk2:114">sk2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="l1':117" class="id"><a name="l1':117" class="">l1'</a></span> <span id="l2':118" class="id"><a name="l2':118" class="">l2'</a></span> <span id="skf:119" class="id"><a name="skf:119" class="">skf,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk1:113">sk1</a></span> <span class="id"><a href="monae.smallstep.html#l1':117">l1'</a></span> <span class="id"><a href="monae.smallstep.html#skf:119">skf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#sk2:114">sk2</a></span> <span class="id"><a href="monae.smallstep.html#l2':118">l2'</a></span> <span class="id"><a href="monae.smallstep.html#skf:119">skf</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="monae.smallstep.html#l1:115">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l1':117">l1'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#l2:116">l2</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l2':118">l2'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">intro</span> <span class="id">Hss1</span>.<br/>
<span class="id">revert</span> <span class="id">l2</span> <span class="id">sk2</span>.<br/>
<span class="id">induction</span> <span class="id">Hss1</span> <span class="gallina-kwd">as</span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">s</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">sk1</span> <span class="id">sk2'</span> <span class="id">sk3</span> <span class="id">l1</span> <span class="id">Hstep1</span> <span class="id">Hss1</span> <span class="id">IH</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">sk1</span> <span class="id">sk2'</span> <span class="id">sk3</span> <span class="id">t1</span> <span class="id">l1</span> <span class="id">Hstep1</span> <span class="id">Hss1</span> <span class="id">IH</span><br/>
&nbsp;&nbsp;<span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">l2</span> <span class="id">sk2</span> <span class="id">Hss2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">l2</span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>. <span class="gallina-kwd">exists</span> <span class="id">sk2</span>.<br/>
&nbsp;&nbsp;<span class="id">split;</span> <span class="id">[</span> <span class="id">|</span> <span class="id">split</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">exact</span> <span class="id">Hss2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0;</a></span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">l2</span> <span class="id">sk2</span> <span class="id">Hss2</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">Hss2</span> <span class="gallina-kwd">as</span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sk1'</span> <span class="id">Hsk1</span> <span class="id">Hl2</span> <span class="id">Hsk2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">sk1'</span> <span class="id">sk2''</span> <span class="id">sk2'''</span> <span class="id">l2'</span> <span class="id">Hstep2</span> <span class="id">Hss2'</span> <span class="id">Hsk1</span> <span class="id">Hl2</span> <span class="id">Hsl2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">sk1'</span> <span class="id">sk2''</span> <span class="id">sk2'''</span> <span class="id">t2</span> <span class="id">l2'</span> <span class="id">Hstep2</span> <span class="id">Hss2'</span> <span class="id">Hsk1</span> <span class="id">Hl2</span> <span class="id">Hsl2</span><br/>
&nbsp;&nbsp;<span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">sk1'</span> <span class="id">l2</span> <span class="id">sk2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> <span class="id">3</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">[</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">eassumption</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0;</a></span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">sk1'</span> <span class="id">l2'</span> <span class="id">sk2'''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="monae.smallstep.html#step_deterministic">step_deterministic</a></span> <span class="id">Hstep1</span> <span class="id">Hstep2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span> <span class="id">[]</span> <span class="id">Heq2]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">sk2''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">Hss2'</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">sk1'</span> <span class="id">l2</span> <span class="id">sk2'''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="monae.smallstep.html#step_deterministic">step_deterministic</a></span> <span class="id">Hstep1</span> <span class="id">Hstep2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span> <span class="id">[=]</span> <span class="id">?]</span>.<br/>
<span class="id">-</span> <span class="id">intros</span> <span class="id">l2</span> <span class="id">sk2</span> <span class="id">Hss2</span>.<br/>
&nbsp;&nbsp;<span class="id">inversion</span> <span class="id">Hss2</span> <span class="gallina-kwd">as</span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sk1'</span> <span class="id">Hsk1</span> <span class="id">Hl2</span> <span class="id">Hsk2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">sk1'</span> <span class="id">sk2''</span> <span class="id">sk2'''</span> <span class="id">l2'</span> <span class="id">Hstep2</span> <span class="id">Hss2'</span> <span class="id">Hsk1</span> <span class="id">Hl2</span> <span class="id">Hsl2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">sk1'</span> <span class="id">sk2''</span> <span class="id">sk2'''</span> <span class="id">t2</span> <span class="id">l2'</span> <span class="id">Hstep2</span> <span class="id">Hss2'</span> <span class="id">Hsk1</span> <span class="id">Hl2</span> <span class="id">Hsl2</span><br/>
&nbsp;&nbsp;<span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">sk1'</span> <span class="id">l2</span> <span class="id">sk2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> <span class="id">3</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span> <span class="id">[</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_Some">ss_step_Some;</a></span> <span class="id">eassumption</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0;</a></span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">sk1'</span> <span class="id">l2'</span> <span class="id">sk2'''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="monae.smallstep.html#step_deterministic">step_deterministic</a></span> <span class="id">Hstep1</span> <span class="id">Hstep2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span> <span class="id">[=]</span> <span class="id">?]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">subst</span> <span class="id">sk1'</span> <span class="id">l2</span> <span class="id">sk2'''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="monae.smallstep.html#step_deterministic">step_deterministic</a></span> <span class="id">Hstep1</span> <span class="id">Hstep2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> <span class="id">[</span> <span class="id">[=</span> <span class="id">Heq1]</span> <span class="id">Heq2]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">t2</span> <span class="id">sk2''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IH</span> <span class="gallina-kwd">in</span> <span class="id">Hss2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">Hss2'</span> <span class="gallina-kwd">as</span> (<span class="id">l1'</span> &amp; <span class="id">l2''</span> &amp; <span class="id">skf</span> &amp; <span class="id">Hss3</span> &amp; <span class="id">Hss4</span> &amp; <span class="id">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> <span class="id">3</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">do</span> <span class="id">2</span> (<span class="id">split;</span> <span class="id">[</span> <span class="id">eassumption</span> <span class="id">|</span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">Heq</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_star_deterministic" class="id"><a name="step_star_deterministic" class="">step_star_deterministic</a></span> <span id="ski:120" class="id"><a name="ski:120" class="">ski</a></span> <span id="l1:121" class="id"><a name="l1:121" class="">l1</a></span> <span id="l2:122" class="id"><a name="l2:122" class="">l2</a></span> <span id="s1:123" class="id"><a name="s1:123" class="">s1</a></span> <span id="s2:124" class="id"><a name="s2:124" class="">s2</a></span> <span id="A1:125" class="id"><a name="A1:125" class="">A1</a></span> <span id="A2:126" class="id"><a name="A2:126" class="">A2</a></span> <span id="a1:127" class="id"><a name="a1:127" class="">a1</a></span> <span id="a2:128" class="id"><a name="a2:128" class="">a2</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#ski:120">ski</a></span> <span class="id"><a href="monae.smallstep.html#l1:121">l1</a></span> (<span class="id"><a href="monae.smallstep.html#s1:123">s1,</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A1:125">A1</a></span> <span class="id"><a href="monae.smallstep.html#a1:127">a1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id"><a href="monae.smallstep.html#ski:120">ski</a></span> <span class="id"><a href="monae.smallstep.html#l2:122">l2</a></span> (<span class="id"><a href="monae.smallstep.html#s2:124">s2,</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A2:126">A2</a></span> <span class="id"><a href="monae.smallstep.html#a2:128">a2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#l1:121">l1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#l2:122">l2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="monae.smallstep.html#s1:123">s1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#s2:124">s2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="monae.smallstep.html#A1:125">A1</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#A2:126">A2</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.JMeq.html#JMeq">JMeq</a></span> <span class="id"><a href="monae.smallstep.html#a1:127">a1</a></span> <span class="id"><a href="monae.smallstep.html#a2:128">a2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">intros</span> <span class="id">Hss1</span> <span class="id">Hss2</span>.<br/>
<span class="id">specialize</span> (<span class="id"><a href="monae.smallstep.html#step_star_confluent">step_star_confluent</a></span> <span class="id">Hss1</span> <span class="id">Hss2</span>).<br/>
<span class="id">intros</span> (<span class="id">l1'</span> &amp; <span class="id">l2'</span> &amp; <span class="id">skf</span> &amp; <span class="id">Hss1'</span> &amp; <span class="id">Hss2'</span> &amp; <span class="id">Heq</span>).<br/>
<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#step_star_stop_inv">step_star_stop_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">Hss1'</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#step_star_stop_inv">step_star_stop_inv</a></span> <span class="gallina-kwd">in</span> <span class="id">Hss2'</span>.<br/>
<span class="id">destruct</span> <span class="id">Hss1'</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">Heq11</span> <span class="id">Heq12</span> <span class="id">]</span>.<br/>
<span class="id">destruct</span> <span class="id">Hss2'</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">Heq21</span> <span class="id">Heq22</span> <span class="id">]</span>.<br/>
<span class="id">subst</span> <span class="id">l1'</span> <span class="id">l2'</span> <span class="id">skf</span> .<br/>
<span class="id">do</span> <span class="id">2</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
<span class="id">injection</span> <span class="id">Heq22;</span> <span class="id">clear</span> <span class="id">Heq22;</span> <span class="id">intros;</span> <span class="id">subst</span>.<br/>
<span class="gallina-kwd">match</span> <span class="id">goal</span> <span class="gallina-kwd">with</span><br/>
<span class="id">|</span> <span class="id">H</span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">|-</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.Eqdep.html#EqdepTheory.inj_pair2">inj_pair2</a></span> <span class="gallina-kwd">in</span> <span class="id">H</span><br/>
<span class="gallina-kwd">end</span>.<br/>
<span class="id">subst</span>.<br/>
<span class="id">repeat</span> <span class="id">split</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="run_s" class="id"><a name="run_s" class="">run_s</a></span> <span class="id">{A</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="p:130" class="id"><a name="p:130" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:129">A</a></span>) (<span id="f:131" class="id"><a name="f:131" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:129">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span>) (<span id="s:132" class="id"><a name="s:132" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.S">S</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{o</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{f'</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="monae.smallstep.html#step">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:132">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:130">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#f:131">f</a></span>) <span class="id"><a href="monae.smallstep.html#o:133">o</a></span> (<span class="id"><a href="monae.smallstep.html#s':135">s',</a></span> <span class="id"><a href="monae.smallstep.html#f':134">f'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">destruct</span> <span class="id">p</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">A</span> <span class="id">a</span> <span class="id">|</span> <span class="id">A</span> <span class="id">B</span> <span class="id">p</span> <span class="id">g</span> <span class="id">|</span> <span class="id">A</span> <span class="id">b</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">|</span> <span class="id">n</span> <span class="id">p</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">c</span> <span class="id">p</span> <span class="id">|</span> <span class="id">|</span> <span class="id">s'</span> <span class="id">|</span> <span class="id">t</span> <span class="id">];</span><br/>
&nbsp;<span class="id">try</span> (<span class="id">repeat</span> <span class="id">eexists;</span> <span class="id">constructor</span>).<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">b;</span> <span class="id">repeat</span> <span class="id">eexists;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">n;</span> <span class="id">repeat</span> <span class="id">eexists;</span> <span class="id">constructor</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">fuel</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">repeat</span> <span class="id">eexists;</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">case_eq</span> (<span class="id">c</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">intro</span> <span class="id">Hcs;</span> <span class="id">repeat</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_true">s_while_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">Hcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_false">s_while_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span> <span class="id">Hcs</span>.<br/>
Defined.</div>
<br/>
<span class="vernacular">Definition</span> <span id="run_s_n" class="id"><a name="run_s_n" class="">run_s_n</a></span> (<span id="n:136" class="id"><a name="n:136" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)<br/>
&nbsp;&nbsp;<span class="id">{A</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="p:138" class="id"><a name="p:138" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:137">A</a></span>) (<span id="f:139" class="id"><a name="f:139" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:137">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span>) (<span id="s:140" class="id"><a name="s:140" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.S">S</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{l</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{f'</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="monae.smallstep.html#step_n">step_n</a></span> <span class="id"><a href="monae.smallstep.html#n:136">n</a></span> (<span class="id"><a href="monae.smallstep.html#s:140">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:138">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#f:139">f</a></span>) <span class="id"><a href="monae.smallstep.html#l:141">l</a></span> (<span class="id"><a href="monae.smallstep.html#s':143">s',</a></span> <span class="id"><a href="monae.smallstep.html#f':142">f'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
<span class="id">revert</span> <span class="id">n</span> <span class="id">A</span> <span class="id">p</span> <span class="id">f</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">fix</span> <span class="id">run_s_n</span> <span class="id">1</span>.<br/>
<span class="id">intros</span> <span class="id">[</span> <span class="id">|</span> <span class="id">n'</span> <span class="id">]</span> <span class="id">A</span> <span class="id">p</span> <span class="id">f</span> <span class="id">s</span>.<br/>
<span class="id">-</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="monae.smallstep.html#cont">cont</a></span> <span class="id">A</span> <span class="id">p</span> <span class="id">f</span>). <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#sn_0">sn_0</a></span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> (<span class="id"><a href="monae.smallstep.html#run_s">run_s</a></span> <span class="id">p</span> <span class="id">f</span> <span class="id">s</span>) <span class="gallina-kwd">as</span> (<span class="id">o</span> &amp; <span class="id">[</span> <span class="id">B</span> <span class="id">b</span> <span class="id">|</span> <span class="id">B</span> <span class="id">p'</span> <span class="id">f'</span> <span class="id">]</span> &amp; <span class="id">s'</span> &amp; <span class="id">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> <span class="id">n'</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">n''</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">t</span> <span class="id">|</span> <span class="id">];</span> <span class="id">repeat</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#sn_S_Some">sn_S_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">exact</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#sn_0">sn_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#sn_S_None">sn_S_None</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">exact</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#sn_0">sn_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> (<span class="id">run_s_n</span> <span class="id">n'</span> <span class="id">B</span> <span class="id">p'</span> <span class="id">f'</span> <span class="id">s'</span>) <span class="gallina-kwd">as</span> <span class="id">[</span> (<span class="id">l</span> &amp; <span class="id">f''</span> &amp; <span class="id">s''</span> &amp; <span class="id">Hstep_n'</span>) <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">o</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">t</span> <span class="id">|</span> <span class="id">];</span> <span class="id">repeat</span> <span class="id">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#sn_S_Some">sn_S_Some</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">exact</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">exact</span> <span class="id">Hstep_n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#sn_S_None">sn_S_None</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">exact</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">++</span> <span class="id">exact</span> <span class="id">Hstep_n'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
Defined.</div>
<br/>
<span class="vernacular">Definition</span> <span id="run_gen" class="id"><a name="run_gen" class="">run_gen</a></span><br/>
&nbsp;&nbsp;<span class="id">{A</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="p:145" class="id"><a name="p:145" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:144">A</a></span>) (<span id="f:146" class="id"><a name="f:146" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:144">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span>) (<span id="s:147" class="id"><a name="s:147" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.S">S</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{l</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d">{a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d">:</a></span> <span class="id"><a href="monae.smallstep.html#A:144">A</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:147">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:145">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#f:146">f</a></span>) <span class="id"><a href="monae.smallstep.html#l:148">l</a></span> (<span class="id"><a href="monae.smallstep.html#s':150">s',</a></span> <span class="id"><a href="monae.smallstep.html#f:146">f</a></span> <span class="id"><a href="monae.smallstep.html#a:149">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">revert</span> <span class="id">f</span> <span class="id">s</span>.<br/>
<span class="id">induction</span> <span class="id">p</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">A</span> <span class="id">a</span> <span class="id">|</span> <span class="id">A</span> <span class="id">B</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">g</span> <span class="id">IHg</span> <span class="id">|</span> <span class="id">A</span> <span class="id">b</span> <span class="id">p1</span> <span class="id">IHp1</span> <span class="id">p2</span> <span class="id">IHp2</span> <span class="id">|</span><br/>
&nbsp;&nbsp;<span class="id">n</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">c</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">|</span> <span class="id">s'</span> <span class="id">|</span> <span class="id">t</span> <span class="id">];</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">f</span> <span class="id">s</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>. <span class="gallina-kwd">exists</span> <span class="id">a</span>. <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_ret">s_ret</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
<span class="id">-</span> <span class="id">specialize</span> (<span class="id">IHp</span> (<span class="gallina-kwd">fun</span> <span id="a:152" class="id"><span id="a:151" class="id"><a name="a:152" class="">a</a></span></span> <span class="id">=&gt;</span> <span class="id">g</span> <span class="id"><a href="monae.smallstep.html#a:151">a</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span>) <span class="id">s</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHp</span> <span class="gallina-kwd">as</span> (<span class="id">l1</span> &amp; <span class="id">a</span> &amp; <span class="id">s'</span> &amp; <span class="id">Hss1</span>).<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHg</span> <span class="id">a</span> <span class="id">f</span> <span class="id">s'</span>).<br/>
&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHg</span> <span class="gallina-kwd">as</span> (<span class="id">l2</span> &amp; <span class="id">b</span> &amp; <span class="id">s''</span> &amp; <span class="id">Hss2</span>).<br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l2</span>). <span class="gallina-kwd">exists</span> <span class="id">b</span>. <span class="gallina-kwd">exists</span> <span class="id">s''</span>.<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#step_star_transitive">step_star_transitive;</a></span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_bind">s_bind</a></span>  <span class="id">|</span> <span class="id">apply</span> <span class="id">Hss1</span> <span class="id">]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">exact</span> <span class="id">Hss2</span><br/>
&nbsp;&nbsp;<span class="id">]</span>).<br/>
<span class="id">-</span> <span class="id">case</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">specialize</span> (<span class="id">IHp1</span> <span class="id">f</span> <span class="id">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHp1</span> <span class="gallina-kwd">as</span> (<span class="id">l</span> &amp; <span class="id">a</span> &amp; <span class="id">s'</span> &amp; <span class="id">Hss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_cond_true">s_cond_true</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id">Hss</span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">specialize</span> (<span class="id">IHp2</span> <span class="id">f</span> <span class="id">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> <span class="id">IHp2</span> <span class="gallina-kwd">as</span> (<span class="id">l</span> &amp; <span class="id">a</span> &amp; <span class="id">s'</span> &amp; <span class="id">Hss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span class="id">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_cond_false">s_cond_false</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id">Hss</span> <span class="id">]</span>).<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">n</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">n'</span> <span class="id">IHn</span> <span class="id">];</span> <span class="id">intro</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[];</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_repeat_O">s_repeat_O</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">destruct</span> (<span class="id">IHp</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id">n'</span> <span class="id">p</span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span>) <span class="id">s</span>) <span class="gallina-kwd">as</span> (<span class="id">l1</span> &amp; <span class="id">a1</span> &amp; <span class="id">s1</span> &amp; <span class="id">Hss1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">IHn</span> <span class="id">s1</span>) <span class="gallina-kwd">as</span> (<span class="id">l2</span> &amp; <span class="id">a2</span> &amp; <span class="id">s2</span> &amp; <span class="id">Hss2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l2</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">a2;</span> <span class="gallina-kwd">exists</span> <span class="id">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_repeat_S">s_repeat_S</a></span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#step_star_transitive">step_star_transitive;</a></span> <span class="id">[</span> <span class="id">eexact</span> <span class="id">Hss1</span> <span class="id">|</span> <span class="id">exact</span> <span class="id">Hss2</span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fuel</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">fuel'</span> <span class="id">IHfuel</span> <span class="id">];</span> <span class="id">intro</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[];</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_broke">s_while_broke</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">case_eq</span> (<span class="id">c</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">[</span> <span class="id">intro</span> <span class="id">Htrue</span> <span class="id">|</span> <span class="id">intro</span> <span class="id">Hfalse</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">destruct</span> (<span class="id">IHp</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id">fuel'</span> <span class="id">c</span> <span class="id">p</span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span>) <span class="id">s</span>) <span class="gallina-kwd">as</span> (<span class="id">l1</span> &amp; <span class="id">a1</span> &amp; <span class="id">s1</span> &amp; <span class="id">Hss1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">IHfuel</span> <span class="id">s1</span>) <span class="gallina-kwd">as</span> (<span class="id">l2</span> &amp; <span class="id">a2</span> &amp; <span class="id">s2</span> &amp; <span class="id">Hss2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l2</span>)<span class="id">;</span> <span class="gallina-kwd">exists</span> <span class="id">a2;</span> <span class="gallina-kwd">exists</span> <span class="id">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_true">s_while_true;</a></span> <span class="id">exact</span> <span class="id">Htrue</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#step_star_transitive">step_star_transitive;</a></span> <span class="id">[</span> <span class="id">eexact</span> <span class="id">Hss1</span> <span class="id">|</span> <span class="id">exact</span> <span class="id">Hss2</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[];</a></span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt;</a></span> <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_false">s_while_false;</a></span> <span class="id">exact</span> <span class="id">Hfalse</span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>. <span class="gallina-kwd">exists</span> <span class="id">s</span>. <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_get">s_get</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>. <span class="gallina-kwd">exists</span> <span class="id">s'</span>.<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_put">s_put</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb">[t]</a></span>. <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>. <span class="gallina-kwd">exists</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_Some">ss_step_Some;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_mark">s_mark</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>).<br/>
Defined.</div>
<br/>
<span class="vernacular">Definition</span> <span id="run_ss" class="id"><a name="run_ss" class="">run_ss</a></span> <span class="id">{A</span> <span class="id">:</span> <span class="id">Type}</span> (<span id="p:154" class="id"><a name="p:154" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:153">A</a></span>) (<span id="s:155" class="id"><a name="s:155" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics.S">S</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">{l</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d">{a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d">:</a></span> <span class="id"><a href="monae.smallstep.html#A:153">A</a></span> &amp; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:155">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:154">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:153">A</a></span>) <span class="id"><a href="monae.smallstep.html#l:156">l</a></span> (<span class="id"><a href="monae.smallstep.html#s':158">s',</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:153">A</a></span> <span class="id"><a href="monae.smallstep.html#a:157">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d">}</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57">}</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#run_gen">run_gen</a></span> <span class="id"><a href="monae.smallstep.html#p:154">p</a></span> (<span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:153">A</a></span>) <span class="id"><a href="monae.smallstep.html#s:155">s</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.smallstep.html#OperationalSemantics">OperationalSemantics</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#step">step</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#run_s">run_s</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#run_s_n">run_s_n</a></span> <span class="id">{_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">{_}</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#run_ss">run_ss</a></span> <span class="id">{_</span> <span class="id">_</span> <span class="id">_}</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="DenotationalSemantics" class="id"><a name="DenotationalSemantics" class="">DenotationalSemantics</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="DenotationalSemantics.S" class="id"><a name="DenotationalSemantics.S" class="">S</a></span> <span id="DenotationalSemantics.T" class="id"><a name="DenotationalSemantics.T" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Variable</span> <span id="DenotationalSemantics.M" class="id"><a name="DenotationalSemantics.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.S">S</a></span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.T">T</a></span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="denote" class="id"><a name="denote" class="">denote</a></span> <span class="id">{A}</span> (<span id="p:163" class="id"><a name="p:163" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:162">A</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="monae.smallstep.html#A:162">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#p:163">p</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> <span class="id">_</span> <span class="id">v</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_bind">p_bind</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#denote:164">denote</a></span> <span class="id">m</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="id"><a href="monae.smallstep.html#denote:164">denote</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_cond">p_cond</a></span> <span class="id">_</span> <span class="id">b</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id">b</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.smallstep.html#denote:164">denote</a></span> <span class="id">p1</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.smallstep.html#denote:164">denote</a></span> <span class="id">p2</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id">n</span> <span class="id">p</span> <span class="id">=&gt;</span> (<span class="gallina-kwd">fix</span> <span class="id">loop</span> <span id="m:166" class="id"><a name="m:166" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.smallstep.html#m:166">m</a></span> <span class="id">is</span> <span class="id">m'</span>.<span class="id">+1</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.smallstep.html#denote:164">denote</a></span> <span class="id"><a href="monae.smallstep.html#p:163">p</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.smallstep.html#loop:167">loop</a></span> <span class="id">m'</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id">fuel</span> <span class="id">c</span> <span class="id">p</span> <span class="id">=&gt;</span> (<span class="gallina-kwd">fix</span> <span class="id">loop</span> <span id="m:169" class="id"><a name="m:169" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monae.smallstep.html#m:169">m</a></span> <span class="id">is</span> <span class="id">m'</span>.<span class="id">+1</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monae.hierarchy.html#st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:172" class="id"><a name="s:172" class="">s</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id">c</span> <span class="id"><a href="monae.smallstep.html#s:172">s</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.smallstep.html#denote:164">denote</a></span> <span class="id"><a href="monae.smallstep.html#p:163">p</a></span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.smallstep.html#loop:170">loop</a></span> <span class="id">m'</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id">fuel</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_get">p_get</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#st_get">st_get</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> <span class="id">s'</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#st_put">st_put</a></span> <span class="id">s'</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#st_mark">st_mark</a></span> <span class="id">t</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id="34d9c0f7606ba328d20bf7f5f012ad82" class="id"><a name="34d9c0f7606ba328d20bf7f5f012ad82" class="">&quot;'Repeat' n {{ p }}&quot;</a></span> <span class="id">:=</span> (<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fix</span> <span class="id">loop</span> (<span id="m:173" class="id"><a name="m:173" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#m:173">m</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">m'</span>.<span class="id">+1</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">p</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.smallstep.html#loop:174">loop</a></span> <span class="id">m'</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>) <span class="id">n</span>) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">200</span>).<br/>
<br/>
<span class="vernacular">Notation</span> <span id="e9f51b627d5fe9f5cdd1361e2d7084a6" class="id"><a name="e9f51b627d5fe9f5cdd1361e2d7084a6" class="">&quot;'While' fuel @ c {{ p }}&quot;</a></span> <span class="id">:=</span> (<br/>
&nbsp;&nbsp;(<span class="gallina-kwd">fix</span> <span class="id">loop</span> (<span id="m:176" class="id"><a name="m:176" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#m:176">m</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">m'</span>.<span class="id">+1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:179" class="id"><a name="s:179" class="">s</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id">c</span> <span class="id"><a href="monae.smallstep.html#s:179">s</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">p</span> <span class="id"><a href="monae.hierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monae.smallstep.html#loop:177">loop</a></span> <span class="id">m'</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span>) <span class="id">fuel</span>) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">200</span>).<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="denote_continuation" class="id"><a name="denote_continuation" class="">denote_continuation</a></span> (<span id="k:180" class="id"><a name="k:180" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> (@<span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.T">T</a></span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.S">S</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#k:180">k</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id">A</span> <span class="id">a</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id">A</span> <span class="id">a</span>)<br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">p</span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">p</span> <span class="id"><a href="monae.hierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation:181">denote_continuation</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="stateTrace_sub" class="id"><a name="stateTrace_sub" class="">stateTrace_sub</a></span> <span id="A:183" class="id"><a name="A:183" class="">A</a></span> (<span id="m:184" class="id"><a name="m:184" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="monae.smallstep.html#A:183">A</a></span>) <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{</a></span> <span id="p:185" class="id"><a name="p:185" class="">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#p:185">p</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#m:184">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">}</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="continuation_sub" class="id"><a name="continuation_sub" class="">continuation_sub</a></span> (<span id="m:186" class="id"><a name="m:186" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics.M">M</a></span> <span class="id"><a href="monae.smallstep.html#continuation">continuation</a></span>) <span class="id">:</span> <span class="gallina-kwd">Type</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">{k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">|</a></span> <span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#k:187">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#m:186">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f">}</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.smallstep.html#DenotationalSemantics">DenotationalSemantics</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">{S}</span> <span class="id">{T}</span> <span class="id">M</span> <span class="id">A</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id">{S}</span> <span class="id">{T}</span> <span class="id">M</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="semantics_equivalence" class="id"><a name="semantics_equivalence" class="">semantics_equivalence</a></span>.<br/>
<br/>
<span class="vernacular">Variables</span> <span id="semantics_equivalence.S" class="id"><a name="semantics_equivalence.S" class="">S</a></span> <span id="semantics_equivalence.T" class="id"><a name="semantics_equivalence.T" class="">T</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>.<br/>
<span class="vernacular">Variable</span> <span id="semantics_equivalence.M" class="id"><a name="semantics_equivalence.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monae.hierarchy.html#MonadStateTraceReify.Exports.stateTraceReifyMonad">stateTraceReifyMonad</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.S">S</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="denote_prefix_preserved" class="id"><a name="denote_prefix_preserved" class="">denote_prefix_preserved</a></span> <span id="A:191" class="id"><a name="A:191" class="">A</a></span> (<span id="m:192" class="id"><a name="m:192" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#A:191">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#stateTrace_sub">stateTrace_sub</a></span> <span class="id"><a href="monae.smallstep.html#m:192">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="s:193" class="id"><a name="s:193" class="">s</a></span> <span id="s':194" class="id"><a name="s':194" class="">s'</a></span> <span id="l1:195" class="id"><a name="l1:195" class="">l1</a></span> <span id="l:196" class="id"><a name="l:196" class="">l</a></span> <span id="a:197" class="id"><a name="a:197" class="">a,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id"><a href="monae.smallstep.html#m:192">m</a></span> (<span class="id"><a href="monae.smallstep.html#s:193">s,</a></span> <span class="id"><a href="monae.smallstep.html#l1:195">l1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.smallstep.html#a:197">a,</a></span> (<span class="id"><a href="monae.smallstep.html#s':194">s',</a></span> <span class="id"><a href="monae.smallstep.html#l:196">l</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">exists</span> <span id="l2:198" class="id"><a name="l2:198" class="">l2,</a></span> <span class="id"><a href="monae.smallstep.html#l:196">l</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#l1:195">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l2:198">l2</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
<span class="id">case=&gt;</span> <span class="id">p</span> <span class="id">&lt;-{m}</span>.<br/>
<span class="id">induction</span> <span class="id">p</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">A</span> <span class="id">a</span> <span class="id">|</span> <span class="id">A</span> <span class="id">B</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">g</span> <span class="id">IHg</span> <span class="id">|</span> <span class="id">A</span> <span class="id">b</span> <span class="id">p1</span> <span class="id">IHp1</span> <span class="id">p2</span> <span class="id">IHp2</span> <span class="id">|</span><br/>
&nbsp;&nbsp;<span class="id">n</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">c</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">|</span> <span class="id">s0</span> <span class="id">|</span> <span class="id">t</span> <span class="id">];</span> <span class="id">cbn;</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">l1</span> <span class="id">l</span> <span class="id">a'</span> <span class="id">Heq</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l1</span>)).<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move/IHp</span> <span class="id">:</span> <span class="id">Hp</span> <span class="id">=&gt;</span> <span class="id">[l2</span> <span class="id">Hp]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move/IHg</span> <span class="id">:</span> <span class="id">Heq</span> <span class="id">=&gt;</span> <span class="id">[l2'</span> <span class="id">Heq]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">l2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">Heq</span> <span class="id">Hp</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">intro</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span> <span class="id">Heq</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">b;</span> <span class="id">[</span> <span class="id">eapply</span> <span class="id">IHp1</span> <span class="id">|</span> <span class="id">eapply</span> <span class="id">IHp2</span> <span class="id">];</span> <span class="id">exact</span> <span class="id">Heq</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">n</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">n'</span> <span class="id">IH</span> <span class="id">];</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">IHp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hp</span>) <span class="id">=&gt;</span> <span class="id">[l2</span> <span class="id">?]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>) <span class="id">=&gt;</span> <span class="id">[l3</span> <span class="id">?]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">l2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">intro</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span> <span class="id">Heq</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fuel</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">fuel'</span> <span class="id">IH</span> <span class="id">];</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">simpl</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">c</span> <span class="id">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">intros</span> (<span class="id">a</span> <span class="id">,</span>(<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">IHp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hp</span>) <span class="id">=&gt;</span> <span class="id">[l2</span> <span class="id">?]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>) <span class="id">=&gt;</span> <span class="id">[l3</span> <span class="id">?]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">exists</span> (<span class="id">l2</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">intro</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifystput">reifystput</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">exists</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb">[t]</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifystmark">reifystmark</a></span> <span class="id">-cats1</span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="denote_prefix_independent" class="id"><a name="denote_prefix_independent" class="">denote_prefix_independent</a></span> <span id="A:199" class="id"><a name="A:199" class="">A</a></span> (<span id="m:200" class="id"><a name="m:200" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#A:199">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#stateTrace_sub">stateTrace_sub</a></span> <span class="id"><a href="monae.smallstep.html#m:200">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="s:201" class="id"><a name="s:201" class="">s</a></span> <span id="l1:202" class="id"><a name="l1:202" class="">l1</a></span> <span id="l2:203" class="id"><a name="l2:203" class="">l2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id"><a href="monae.smallstep.html#m:200">m</a></span> (<span class="id"><a href="monae.smallstep.html#s:201">s,</a></span> <span class="id"><a href="monae.smallstep.html#l1:202">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l2:203">l2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="res:204" class="id"><a name="res:204" class="">res</a></span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id"><a href="monae.smallstep.html#m:200">m</a></span> (<span class="id"><a href="monae.smallstep.html#s:201">s,</a></span> <span class="id"><a href="monae.smallstep.html#l2:203">l2</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#res:204">res</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">res</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.smallstep.html#res:204">res</a></span>.<span class="id">1,</span> (<span class="id"><a href="monae.smallstep.html#res:204">res</a></span>.<span class="id">2</span>.<span class="id">1,</span> <span class="id"><a href="monae.smallstep.html#l1:202">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#res:204">res</a></span>.<span class="id">2</span>.<span class="id">2</span>))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
<span class="id">intros</span> <span class="id">[</span> <span class="id">p</span> <span class="id">Hp</span> <span class="id">]</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span>.<br/>
<span class="id">subst</span> <span class="id">m</span>.<br/>
<span class="id">elim:</span> <span class="id">p</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">{A}</span> <span class="id">[A</span> <span class="id">a|A</span> <span class="id">B</span> <span class="id">p1</span> <span class="id">IH1</span> <span class="id">p2</span> <span class="id">IH2|A</span> <span class="id">b</span> <span class="id">p1</span> <span class="id">IH1</span> <span class="id">p2</span> <span class="id">IH2|</span><br/>
&nbsp;&nbsp;<span class="id">n</span> <span class="id">p</span> <span class="id">IHp|fuel</span> <span class="id">c</span> <span class="id">p</span> <span class="id">IHp||s'|t]</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifyret</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]reifybind</a></span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS]IH1</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">[in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS]reifybind</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case:</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p1</span>) (<span class="id">s,</span> <span class="id">l2</span>)) <span class="id">=&gt;</span> <span class="id">[[a'</span> <span class="id">[s'</span> <span class="id">l']]</span> <span class="id">|</span> <span class="id">]</span> <span class="id">/=</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">IH2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">_;</span> <span class="id">[rewrite</span> <span class="id">IH1|rewrite</span> <span class="id">IH2]</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span> <span class="id">l2</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">n</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">n'</span> <span class="id">IH</span> <span class="id">];</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">l2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifyret</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">do</span> <span class="id">2</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">{}IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span> <span class="id">l2</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fuel</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">fuel'</span> <span class="id">IH</span> <span class="id">];</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">l2</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifyret</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">do</span> <span class="id">2</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id">c</span> <span class="id">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">do</span> <span class="id">2</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifyret</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifystget</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifystput</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifystmark</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons_cat">rcons_cat</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="denote_continuation_prefix_independent" class="id"><a name="denote_continuation_prefix_independent" class="">denote_continuation_prefix_independent</a></span> (<span id="m:206" class="id"><a name="m:206" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#continuation_sub">continuation_sub</a></span> <span class="id"><a href="monae.smallstep.html#m:206">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">forall</span> <span id="s:207" class="id"><a name="s:207" class="">s</a></span> <span id="l1:208" class="id"><a name="l1:208" class="">l1</a></span> <span id="l2:209" class="id"><a name="l2:209" class="">l2,</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id"><a href="monae.smallstep.html#m:206">m</a></span> (<span class="id"><a href="monae.smallstep.html#s:207">s,</a></span> <span class="id"><a href="monae.smallstep.html#l1:208">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l2:209">l2</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="res:210" class="id"><a name="res:210" class="">res</a></span> <span class="id">:=</span> <span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> <span class="id"><a href="monae.smallstep.html#m:206">m</a></span> (<span class="id"><a href="monae.smallstep.html#s:207">s,</a></span> <span class="id"><a href="monae.smallstep.html#l2:209">l2</a></span>) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#res:210">res</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">res</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.smallstep.html#res:210">res</a></span>.<span class="id">1,</span> (<span class="id"><a href="monae.smallstep.html#res:210">res</a></span>.<span class="id">2</span>.<span class="id">1,</span> <span class="id"><a href="monae.smallstep.html#l1:208">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#res:210">res</a></span>.<span class="id">2</span>.<span class="id">2</span>))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">intros</span> <span class="id">[</span> <span class="id">k</span> <span class="id">Hk</span> <span class="id">]</span>.<br/>
<span class="id">subst</span> <span class="id">m</span>.<br/>
<span class="id">elim:</span> <span class="id">k</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">[A</span> <span class="id">a</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2|A</span> <span class="id">p</span> <span class="id">k</span> <span class="id">IH</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">!reifyret</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">!reifybind</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monae.smallstep.html#denote_prefix_independent">denote_prefix_independent</a></span> <span class="id">/=;</span> <span class="id">[</span> <span class="id">|</span> <span class="id">now</span> <span class="gallina-kwd">exists</span> <span class="id">p</span> <span class="id">]</span>.<br/>
<span class="id">destruct</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l2</span>)) <span class="gallina-kwd">as</span> <span class="id">[</span> (<span class="id">a,</span> (<span class="id">s',</span> <span class="id">l</span>)) <span class="id">|</span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">IH</span>.<br/>
<span class="id">-</span> <span class="id">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_None_correct" class="id"><a name="step_None_correct" class="">step_None_correct</a></span> <span id="s:212" class="id"><a name="s:212" class="">s</a></span> <span id="s':213" class="id"><a name="s':213" class="">s'</a></span> <span id="k:214" class="id"><a name="k:214" class="">k</a></span> <span id="k':215" class="id"><a name="k':215" class="">k'</a></span> <span id="l:216" class="id"><a name="l:216" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:212">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:214">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="monae.smallstep.html#s':213">s',</a></span> <span class="id"><a href="monae.smallstep.html#k':215">k'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#k:214">k</a></span>) (<span class="id"><a href="monae.smallstep.html#s:212">s,</a></span> <span class="id"><a href="monae.smallstep.html#l:216">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#k':215">k'</a></span>) (<span class="id"><a href="monae.smallstep.html#s':213">s',</a></span> <span class="id"><a href="monae.smallstep.html#l:216">l</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">intro</span> <span class="id">Hstep</span>.<br/>
<span class="id">remember</span> (<span class="id">s,</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">sk</span> <span class="id">eqn:</span> <span class="id">Heq</span>.<br/>
<span class="id">remember</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">as</span> <span class="id">o</span> <span class="id">eqn:</span> <span class="id">Heqo</span>.<br/>
<span class="id">remember</span> (<span class="id">s',</span> <span class="id">k'</span>) <span class="gallina-kwd">as</span> <span class="id">sk'</span> <span class="id">eqn:</span> <span class="id">Heq'</span>.<br/>
<span class="id">revert</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">k</span> <span class="id">k'</span> <span class="id">l</span> <span class="id">Heq</span> <span class="id">Heq'</span> <span class="id">Heqo</span>.<br/>
<span class="id">induction</span> <span class="id">Hstep</span> <span class="gallina-kwd">as</span><br/>
&nbsp;<span class="id">[</span> <span class="id">s</span> <span class="id">A</span> <span class="id">a</span> <span class="id">f</span> <span class="id">|</span> <span class="id">s</span> <span class="id">A</span> <span class="id">B</span> <span class="id">p</span> <span class="id">f</span> <span class="id">g</span> <span class="id">|</span> <span class="id">s</span> <span class="id">A</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">k</span> <span class="id">|</span> <span class="id">s</span> <span class="id">A</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">k</span> <span class="id">|</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">s</span> <span class="id">p</span> <span class="id">k</span> <span class="id">|</span> <span class="id">s</span> <span class="id">n</span> <span class="id">p</span> <span class="id">k</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">s</span> <span class="id">c</span> <span class="id">p</span> <span class="id">k</span> <span class="id">Htrue</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">s</span> <span class="id">c</span> <span class="id">p</span> <span class="id">k</span> <span class="id">Hfalse</span> <span class="id">|</span> <span class="id">s</span> <span class="id">c</span> <span class="id">p</span> <span class="id">k</span> <span class="id">|</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">s</span> <span class="id">f</span> <span class="id">|</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">f</span> <span class="id">|</span> <span class="id">s</span> <span class="id">t</span> <span class="id">f</span> <span class="id">];</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">l</span> <span class="id">[=</span> <span class="id">Hs1</span> <span class="id">Hk1]</span> <span class="id">[=</span> <span class="id">Hs2</span> <span class="id">Hk2]</span> <span class="id">Heqo</span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">s1</span> <span class="id">k1</span> <span class="id">s2</span> <span class="id">k2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">s1</span> <span class="id">k1</span> <span class="id">s2</span> <span class="id">k2</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k1</span> <span class="id">k2</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k1</span> <span class="id">k2</span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span> <span class="id">Htrue</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindA">bindA</a></span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span> <span class="id">Hfalse</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#bindretf">bindretf</a></span>.<br/>
&nbsp;&nbsp;<span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">s1</span> <span class="id">k1</span> <span class="id">s2</span> <span class="id">k2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span>.<br/>
<span class="id">-</span> <span class="id">subst</span> <span class="id">s1</span> <span class="id">k1</span> <span class="id">s2</span> <span class="id">k2</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystput">reifystput</a></span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span> <span class="id">Heqo</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_Some_correct" class="id"><a name="step_Some_correct" class="">step_Some_correct</a></span> <span id="s:217" class="id"><a name="s:217" class="">s</a></span> <span id="s':218" class="id"><a name="s':218" class="">s'</a></span> <span id="k:219" class="id"><a name="k:219" class="">k</a></span> <span id="k':220" class="id"><a name="k':220" class="">k'</a></span> <span id="t:221" class="id"><a name="t:221" class="">t</a></span> <span id="l:222" class="id"><a name="l:222" class="">l</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step">step</a></span> (<span class="id"><a href="monae.smallstep.html#s:217">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:219">k</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monae.smallstep.html#t:221">t</a></span>) (<span class="id"><a href="monae.smallstep.html#s':218">s',</a></span> <span class="id"><a href="monae.smallstep.html#k':220">k'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#k:219">k</a></span>) (<span class="id"><a href="monae.smallstep.html#s:217">s,</a></span> <span class="id"><a href="monae.smallstep.html#l:222">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#k':220">k'</a></span>) (<span class="id"><a href="monae.smallstep.html#s':218">s',</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monae.smallstep.html#l:222">l</a></span> <span class="id"><a href="monae.smallstep.html#t:221">t</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">intro</span> <span class="id">Hstep</span>.<br/>
<span class="id">remember</span> (<span class="id">s,</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">sk</span> <span class="id">eqn:</span> <span class="id">Heq</span>.<br/>
<span class="id">remember</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">t</span>) <span class="gallina-kwd">as</span> <span class="id">o</span> <span class="id">eqn:</span> <span class="id">Heqo</span>.<br/>
<span class="id">remember</span> (<span class="id">s',</span> <span class="id">k'</span>) <span class="gallina-kwd">as</span> <span class="id">sk'</span> <span class="id">eqn:</span> <span class="id">Heq'</span>.<br/>
<span class="id">revert</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">k</span> <span class="id">k'</span> <span class="id">l</span> <span class="id">Heq</span> <span class="id">Heq'</span> <span class="id">Heqo</span>.<br/>
<span class="id">induction</span> <span class="id">Hstep</span> <span class="gallina-kwd">as</span><br/>
&nbsp;<span class="id">[</span> <span class="id">s</span> <span class="id">A</span> <span class="id">a</span> <span class="id">f</span> <span class="id">|</span> <span class="id">s</span> <span class="id">A</span> <span class="id">B</span> <span class="id">p</span> <span class="id">f</span> <span class="id">g</span> <span class="id">|</span> <span class="id">s</span> <span class="id">A</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">k</span> <span class="id">|</span> <span class="id">s</span> <span class="id">A</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">k</span> <span class="id">|</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">s</span> <span class="id">p</span> <span class="id">k</span> <span class="id">|</span> <span class="id">s</span> <span class="id">n</span> <span class="id">p</span> <span class="id">k</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">s</span> <span class="id">c</span> <span class="id">p</span> <span class="id">k</span> <span class="id">Htrue</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">s</span> <span class="id">c</span> <span class="id">p</span> <span class="id">k</span> <span class="id">Hfalse</span> <span class="id">|</span> <span class="id">s</span> <span class="id">c</span> <span class="id">p</span> <span class="id">k</span> <span class="id">|</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">s</span> <span class="id">f</span> <span class="id">|</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">f</span> <span class="id">|</span> <span class="id">s</span> <span class="id">t'</span> <span class="id">f</span> <span class="id">];</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">l</span> <span class="id">[=</span> <span class="id">Hs1</span> <span class="id">Hk1]</span> <span class="id">[=</span> <span class="id">Hs2</span> <span class="id">Hk2]</span> <span class="id">Heqo;</span> <span class="id">try</span> <span class="id">discriminate</span> <span class="id">Heqo</span>.<br/>
<span class="id">subst</span> <span class="id">s1</span> <span class="id">k1</span> <span class="id">s2</span> <span class="id">k2</span>.<br/>
<span class="id">injection</span> <span class="id">Heqo;</span> <span class="id">intro;</span> <span class="id">subst</span> <span class="id">t</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystmark">reifystmark</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_star_correct_gen" class="id"><a name="step_star_correct_gen" class="">step_star_correct_gen</a></span> <span id="s:223" class="id"><a name="s:223" class="">s</a></span> <span id="s':224" class="id"><a name="s':224" class="">s'</a></span> <span id="k:225" class="id"><a name="k:225" class="">k</a></span> <span id="k':226" class="id"><a name="k':226" class="">k'</a></span> <span id="l:227" class="id"><a name="l:227" class="">l</a></span> <span id="l':228" class="id"><a name="l':228" class="">l'</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:223">s,</a></span> <span class="id"><a href="monae.smallstep.html#k:225">k</a></span>) <span class="id"><a href="monae.smallstep.html#l':228">l'</a></span> (<span class="id"><a href="monae.smallstep.html#s':224">s',</a></span> <span class="id"><a href="monae.smallstep.html#k':226">k'</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#k:225">k</a></span>) (<span class="id"><a href="monae.smallstep.html#s:223">s,</a></span> <span class="id"><a href="monae.smallstep.html#l:227">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote_continuation">denote_continuation</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id"><a href="monae.smallstep.html#k':226">k'</a></span>) (<span class="id"><a href="monae.smallstep.html#s':224">s',</a></span> <span class="id"><a href="monae.smallstep.html#l:227">l++l'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">intro</span> <span class="id">Hstep_star</span>.<br/>
<span class="id">remember</span> (<span class="id">s,</span> <span class="id">k</span>) <span class="gallina-kwd">as</span> <span class="id">sk</span> <span class="id">eqn:</span> <span class="id">Heq</span>.<br/>
<span class="id">remember</span> (<span class="id">s',</span> <span class="id">k'</span>) <span class="gallina-kwd">as</span> <span class="id">sk'</span> <span class="id">eqn:</span> <span class="id">Heq'</span>.<br/>
<span class="id">revert</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">k</span> <span class="id">k'</span> <span class="id">l</span> <span class="id">Heq</span> <span class="id">Heq'</span>.<br/>
<span class="id">induction</span> <span class="id">Hstep_star</span> <span class="gallina-kwd">as</span><br/>
&nbsp;<span class="id">[</span> <span class="id">s</span> <span class="id">|</span><br/>
&nbsp;&nbsp;(<span class="id">s,</span> <span class="id">k</span>) (<span class="id">s',</span> <span class="id">k'</span>) (<span class="id">s'',</span> <span class="id">k''</span>) <span class="id">l'</span> <span class="id">Hstep</span> <span class="id">Hstep_star</span> <span class="id">IH</span> <span class="id">|</span><br/>
&nbsp;&nbsp;(<span class="id">s,</span> <span class="id">k</span>) (<span class="id">s',</span> <span class="id">k'</span>) (<span class="id">s'',</span> <span class="id">k''</span>) <span class="id">t</span> <span class="id">l'</span> <span class="id">Hstep</span> <span class="id">Hstep_star</span> <span class="id">IH</span> <span class="id">];</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k1</span> <span class="id">k2</span> <span class="id">l1</span> <span class="id">Heq1</span> <span class="id">Heq2</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move:</span> <span class="id">Heq2;</span> <span class="id">rewrite</span> <span class="id">Heq1</span> <span class="id">=&gt;</span> <span class="id">-[&lt;-</span> <span class="id">&lt;-]</span>.<br/>
<span class="id">-</span> <span class="id">move:</span> <span class="id">Heq1</span> <span class="id">Heq2</span> <span class="id">=&gt;</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#step_None_correct">step_None_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">l</span> <span class="id">:=</span> <span class="id">l1</span>) <span class="gallina-kwd">in</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IH;</span> <span class="id">reflexivity</span>.<br/>
<span class="id">-</span> <span class="id">move:</span> <span class="id">Heq1</span> <span class="id">Heq2</span> <span class="id">=&gt;</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#step_Some_correct">step_Some_correct</a></span> <span class="gallina-kwd">with</span> (<span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>) <span class="gallina-kwd">in</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">&lt;-</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span> <span class="gallina-kwd">at</span> <span class="id">1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.smallstep.html#denote_continuation_prefix_independent">denote_continuation_prefix_independent;</a></span> <span class="id">[</span> <span class="id">|</span> <span class="id">now</span> <span class="gallina-kwd">exists</span> <span class="id">k</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">-&gt;</span> <span class="id">Hstep,</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">s''</span> <span class="id">_</span> <span class="id">k''</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">[</span> <span class="id">|</span> <span class="id">reflexivity</span> <span class="id">|</span> <span class="id">reflexivity</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.smallstep.html#denote_continuation_prefix_independent">denote_continuation_prefix_independent;</a></span> <span class="id">[</span> <span class="id">reflexivity</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="id">eexists</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Proposition</span> <span id="step_star_correct" class="id"><a name="step_star_correct" class="">step_star_correct</a></span><br/>
&nbsp;&nbsp;(<span id="s:229" class="id"><a name="s:229" class="">s</a></span> <span id="s':230" class="id"><a name="s':230" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.S">S</a></span>) (<span id="A:231" class="id"><a name="A:231" class="">A</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="a:232" class="id"><a name="a:232" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:231">A</a></span>) (<span id="p:233" class="id"><a name="p:233" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:231">A</a></span>) (<span id="l:234" class="id"><a name="l:234" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:229">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:233">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:231">A</a></span>) <span class="id"><a href="monae.smallstep.html#l:234">l</a></span> (<span class="id"><a href="monae.smallstep.html#s':230">s',</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:231">A</a></span> <span class="id"><a href="monae.smallstep.html#a:232">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#p:233">p</a></span>) (<span class="id"><a href="monae.smallstep.html#s:229">s,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.smallstep.html#a:232">a,</a></span> (<span class="id"><a href="monae.smallstep.html#s':230">s',</a></span> <span class="id"><a href="monae.smallstep.html#l:234">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">intro</span> <span class="id">Hss</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#step_star_correct_gen">step_star_correct_gen</a></span> <span class="gallina-kwd">with</span> (<span class="id">l</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>) <span class="gallina-kwd">in</span> <span class="id">Hss</span>.<br/>
<span class="id">move:</span> <span class="id">Hss</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span>.<br/>
<span class="id">destruct</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>)) <span class="gallina-kwd">as</span> <span class="id">[[a''</span> <span class="id">[s''</span> <span class="id">l'']]</span> <span class="id">|</span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="id">=&gt;</span> <span class="id">-[Heq3</span> <span class="id">&lt;-</span> <span class="id">&lt;-]</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.Eqdep.html#EqdepTheory.inj_pair2">inj_pair2</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq3</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">Heq3</span>.<br/>
<span class="id">-</span> <span class="id">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Lemma</span> <span id="step_star_complete_gen" class="id"><a name="step_star_complete_gen" class="">step_star_complete_gen</a></span><br/>
&nbsp;&nbsp;(<span id="s:235" class="id"><a name="s:235" class="">s</a></span> <span id="s':236" class="id"><a name="s':236" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.S">S</a></span>) (<span id="A:237" class="id"><a name="A:237" class="">A</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="a:238" class="id"><a name="a:238" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:237">A</a></span>) (<span id="p:239" class="id"><a name="p:239" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:237">A</a></span>) (<span id="l1:240" class="id"><a name="l1:240" class="">l1</a></span> <span id="l2:241" class="id"><a name="l2:241" class="">l2</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>) <span id="f:242" class="id"><a name="f:242" class="">f</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#p:239">p</a></span>) (<span class="id"><a href="monae.smallstep.html#s:235">s,</a></span> <span class="id"><a href="monae.smallstep.html#l1:240">l1</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.smallstep.html#a:238">a,</a></span> (<span class="id"><a href="monae.smallstep.html#s':236">s',</a></span> <span class="id"><a href="monae.smallstep.html#l1:240">l1</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id"><a href="monae.smallstep.html#l2:241">l2</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:235">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:239">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#f:242">f</a></span>) <span class="id"><a href="monae.smallstep.html#l2:241">l2</a></span> (<span class="id"><a href="monae.smallstep.html#s':236">s',</a></span> <span class="id"><a href="monae.smallstep.html#f:242">f</a></span> <span class="id"><a href="monae.smallstep.html#a:238">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">revert</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">a</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">f</span>.<br/>
<span class="id">induction</span> <span class="id">p</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">A</span> <span class="id">a</span> <span class="id">|</span> <span class="id">A</span> <span class="id">B</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">g</span> <span class="id">IHg</span> <span class="id">|</span> <span class="id">A</span> <span class="id">b</span> <span class="id">p1</span> <span class="id">IHp1</span> <span class="id">p2</span> <span class="id">IHp2</span> <span class="id">|</span><br/>
&nbsp;&nbsp;<span class="id">n</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">fuel</span> <span class="id">c</span> <span class="id">p</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">|</span> <span class="id">s0'</span> <span class="id">|</span> <span class="id">t</span> <span class="id">];</span> <span class="id">cbn;</span><br/>
&nbsp;<span class="id">intros</span> <span class="id">s</span> <span class="id">s'</span> <span class="id">a'</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">f</span> <span class="id">Heq</span>.<br/>
<span class="id">-</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">injection</span> <span class="id">Heq;</span> <span class="id">clear</span> <span class="id">Heq;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">a'</span> <span class="id">s'</span>.<br/>
&nbsp;&nbsp;<span class="id">replace</span> <span class="id">l2</span> <span class="gallina-kwd">with</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>) <span class="gallina-kwd">by</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id">revert</span> <span class="id">l2</span> <span class="id">H;</span> <span class="id">induction</span> <span class="id">l1;</span> <span class="id">[</span> <span class="id">tauto</span> <span class="id">|</span> <span class="id">intros</span> <span class="id">?</span> <span class="id">[=];</span> <span class="id">firstorder</span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_ret">s_ret</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_bind">s_bind</a></span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">move:</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.smallstep.html#denote_prefix_preserved">denote_prefix_preserved</a></span> <span class="id">ltac:</span>(<span class="id">now</span> <span class="id">eexists</span>) <span class="id">Hp</span>) <span class="id">=&gt;</span> <span class="id">[l3</span> <span class="id">Hl3]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hl3</span> <span class="gallina-kwd">in</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHp</span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="a:244" class="id"><span id="a:243" class="id"><a name="a:244" class="">a</a></span></span> <span class="id">=&gt;</span> <span class="id">g</span> <span class="id"><a href="monae.smallstep.html#a:243">a</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span>)) <span class="gallina-kwd">in</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.smallstep.html#denote_prefix_preserved">denote_prefix_preserved</a></span> <span class="id">ltac:</span>(<span class="id">now</span> <span class="id">eexists</span>) <span class="id">Heq</span>) <span class="id">=&gt;</span> <span class="id">[l4</span> <span class="id">Hl4]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hl4</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id">IHg</span> <span class="gallina-kwd">with</span> (<span class="id">f</span> <span class="id">:=</span> <span class="id">f</span>) <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clear</span> <span class="id">IHg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span> <span class="id">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> <span class="id">l2</span> <span class="gallina-kwd">with</span> (<span class="id">l3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l4</span>) <span class="gallina-kwd">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">induction</span> <span class="id">l1;</span> <span class="id">cbn</span> <span class="gallina-kwd">in</span> <span class="id">Hl4;</span> <span class="id">[</span> <span class="id">congruence</span> <span class="id">|</span> <span class="id">injection</span> <span class="id">Hl4;</span> <span class="id">tauto</span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#step_star_transitive">step_star_transitive</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">exact</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">destruct</span> <span class="id">b;</span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_cond_true">s_cond_true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">apply</span> <span class="id">IHp1</span> <span class="gallina-kwd">with</span> (<span class="id">l1</span> <span class="id">:=</span> <span class="id">l1</span>)<span class="id">;</span> <span class="id">exact</span> <span class="id">Heq</span> <span class="id">]</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_cond_false">s_cond_false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">apply</span> <span class="id">IHp2</span> <span class="gallina-kwd">with</span> (<span class="id">l1</span> <span class="id">:=</span> <span class="id">l1</span>)<span class="id">;</span> <span class="id">exact</span> <span class="id">Heq</span> <span class="id">]</span><br/>
&nbsp;&nbsp;<span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">n</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">n'</span> <span class="id">IHn</span> <span class="id">];</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">injection</span> <span class="id">Heq;</span> <span class="id">clear</span> <span class="id">Heq;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">a'</span> <span class="id">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> <span class="id">l2</span> <span class="gallina-kwd">with</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>) <span class="gallina-kwd">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">revert</span> <span class="id">l2</span> <span class="id">H;</span> <span class="id">induction</span> <span class="id">l1;</span> <span class="id">[</span> <span class="id">tauto</span> <span class="id">|</span> <span class="id">intros</span> <span class="id">?</span> <span class="id">[=];</span> <span class="id">firstorder</span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_repeat_O">s_repeat_O</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.smallstep.html#denote_prefix_preserved">denote_prefix_preserved</a></span> <span class="id">ltac:</span>(<span class="id">now</span> <span class="id">eexists</span>) <span class="id">Hp</span>) <span class="id">=&gt;</span> <span class="id">[l3</span> <span class="id">Hl3]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hl3</span> <span class="id">{l0</span> <span class="id">Hl3}</span> <span class="gallina-kwd">in</span> <span class="id">Hp,</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id">n'</span> <span class="id">p</span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span>) <span class="id">Hp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Heq':</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> (<span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id">n'</span> <span class="id">p</span>)) (<span class="id">s0,</span> <span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l3</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">a',</span> (<span class="id">s',</span> <span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.smallstep.html#denote_prefix_preserved">denote_prefix_preserved</a></span> <span class="id">ltac:</span>(<span class="id">now</span> <span class="id">eexists</span>) <span class="id">Heq'</span>) <span class="id">=&gt;</span> <span class="id">[l4</span> <span class="id">Hl4]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hl4</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_repeat_S">s_repeat_S</a></span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">l2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">l3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop">drop</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">l1</span>))) <span class="id">:</span> <span class="id">Hl4;</span> <span class="id">rewrite</span> <span class="id">-catA</span> <span class="id">?drop_size_cat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#step_star_transitive">step_star_transitive;</a></span> <span class="id">[</span> <span class="id">eexact</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">eapply</span> <span class="id">IHn;</span> <span class="id">eexact</span> <span class="id">Heq</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">intro</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
<span class="id">-</span> <span class="id">revert</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">induction</span> <span class="id">fuel</span> <span class="gallina-kwd">as</span> <span class="id">[</span> <span class="id">|</span> <span class="id">fuel'</span> <span class="id">IHn</span> <span class="id">];</span> <span class="id">intros</span> <span class="id">s</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">injection</span> <span class="id">Heq;</span> <span class="id">clear</span> <span class="id">Heq;</span> <span class="id">intros;</span> <span class="id">subst</span> <span class="id">a'</span> <span class="id">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">replace</span> <span class="id">l2</span> <span class="gallina-kwd">with</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>) <span class="gallina-kwd">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">revert</span> <span class="id">l2</span> <span class="id">H;</span> <span class="id">induction</span> <span class="id">l1;</span> <span class="id">[</span> <span class="id">tauto</span> <span class="id">|</span> <span class="id">intros</span> <span class="id">?</span> <span class="id">[=];</span> <span class="id">firstorder</span> <span class="id">]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_broke">s_while_broke</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="id">+</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbn</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id">c</span> <span class="id">s</span>)<span class="id">;</span> <span class="id">[</span> <span class="id">intro</span> <span class="id">Htrue</span> <span class="id">|</span> <span class="id">intro</span> <span class="id">Hfalse</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">rewrite</span> <span class="id">Htrue</span> <span class="id"><a href="monae.hierarchy.html#reifybind">reifybind</a></span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id">p</span>) (<span class="id">s,</span> <span class="id">l1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">intros</span> (<span class="id">a,</span> (<span class="id">s0,</span> <span class="id">l0</span>)) <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.smallstep.html#denote_prefix_preserved">denote_prefix_preserved</a></span> <span class="id">ltac:</span>(<span class="id">now</span> <span class="id">eexists</span>) <span class="id">Hp</span>) <span class="id">=&gt;</span> <span class="id">[l3</span> <span class="id">Hl3]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hl3</span> <span class="id">{l0</span> <span class="id">Hl3}</span> <span class="gallina-kwd">in</span> <span class="id">Hp,</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHp</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id">fuel'</span> <span class="id">c</span> <span class="id">p</span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id">f</span>) <span class="id">Hp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Heq':</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> (<span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id">fuel'</span> <span class="id">c</span> <span class="id">p</span>)) (<span class="id">s0,</span> <span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l3</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">a',</span> (<span class="id">s',</span> <span class="id">l1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move:</span> (<span class="id"><a href="monae.smallstep.html#denote_prefix_preserved">denote_prefix_preserved</a></span> <span class="id">ltac:</span>(<span class="id">now</span> <span class="id">eexists</span>) <span class="id">Heq'</span>) <span class="id">=&gt;</span> <span class="id">[l4</span> <span class="id">Hl4]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hl4</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_true">s_while_true;</a></span> <span class="id">exact</span> <span class="id">Htrue</span> <span class="id">|</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> <span class="id">-&gt;</span> <span class="id">:</span> <span class="id">l2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">l3</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">l4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> <span class="id">move/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop">drop</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">l1</span>))) <span class="id">:</span> <span class="id">Hl4;</span> <span class="id">rewrite</span> <span class="id">-catA</span> <span class="id">?drop_size_cat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#step_star_transitive">step_star_transitive;</a></span> <span class="id">[</span> <span class="id">eexact</span> <span class="id">IHp</span> <span class="id">|</span> <span class="id">eapply</span> <span class="id">IHn;</span> <span class="id">eexact</span> <span class="id">Heq</span> <span class="id">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">--</span> <span class="id">intro</span> <span class="id">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">Hp</span> <span class="gallina-kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id">Hfalse</span> <span class="id"><a href="monae.hierarchy.html#reifyret">reifyret</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop">drop</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">l1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size_cat">drop_size_cat</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size">drop_size</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_while_false">s_while_false;</a></span> <span class="id">exact</span> <span class="id">Hfalse</span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifystget">reifystget</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop">drop</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">l1</span>))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size_cat">drop_size_cat</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size">drop_size</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_get">s_get</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifystput">reifystput</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop">drop</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">l1</span>))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size_cat">drop_size_cat</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size">drop_size</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_None">ss_step_None;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_put">s_put</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
<span class="id">-</span> <span class="id">move:</span> <span class="id">Heq;</span> <span class="id">rewrite</span> <span class="id"><a href="monae.hierarchy.html#reifystmark">reifystmark</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move=&gt;</span> <span class="id">[&lt;-</span> <span class="id">&lt;-]</span> <span class="id">/</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop">drop</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#size">size</a></span> <span class="id">l1</span>))).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size_cat">drop_size_cat</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_rcons">drop_rcons</a></span> <span class="id">//</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#drop_size">drop_size</a></span> <span class="id">=&gt;</span> <span class="id">&lt;-</span>.<br/>
&nbsp;&nbsp;<span class="id">eapply</span> <span class="id"><a href="monae.smallstep.html#ss_step_Some">ss_step_Some;</a></span> <span class="id">[</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#s_mark">s_mark</a></span> <span class="id">|</span> <span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#ss_refl">ss_refl</a></span> <span class="id">]</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Proposition</span> <span id="step_star_complete" class="id"><a name="step_star_complete" class="">step_star_complete</a></span><br/>
&nbsp;&nbsp;(<span id="s:245" class="id"><a name="s:245" class="">s</a></span> <span id="s':246" class="id"><a name="s':246" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.S">S</a></span>) (<span id="A:247" class="id"><a name="A:247" class="">A</a></span> <span class="id">:</span> <span class="gallina-kwd">Type</span>) (<span id="a:248" class="id"><a name="a:248" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#A:247">A</a></span>) (<span id="p:249" class="id"><a name="p:249" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="monae.smallstep.html#A:247">A</a></span>) (<span id="l:250" class="id"><a name="l:250" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.T">T</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#reify">reify</a></span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence.M">M</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#p:249">p</a></span>) (<span class="id"><a href="monae.smallstep.html#s:245">s,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monae.smallstep.html#a:248">a,</a></span> (<span class="id"><a href="monae.smallstep.html#s':246">s',</a></span> <span class="id"><a href="monae.smallstep.html#l:250">l</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#step_star">step_star</a></span> (<span class="id"><a href="monae.smallstep.html#s:245">s,</a></span> <span class="id"><a href="monae.smallstep.html#p:249">p</a></span> <span class="id"><a href="monae.smallstep.html#b50a420ff47091651381fafe37ad4441">`;</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:247">A</a></span>) <span class="id"><a href="monae.smallstep.html#l:250">l</a></span> (<span class="id"><a href="monae.smallstep.html#s':246">s',</a></span> <span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="monae.smallstep.html#A:247">A</a></span> <span class="id"><a href="monae.smallstep.html#a:248">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">intro</span> <span class="id">Hp</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="monae.smallstep.html#step_star_complete_gen">step_star_complete_gen</a></span> <span class="gallina-kwd">with</span> (<span class="id">l1</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="id">exact</span> <span class="id">Hp</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monae.smallstep.html#semantics_equivalence">semantics_equivalence</a></span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span id=":::'eT'_x_x" class="id"><a name=":::'eT'_x_x" class="">&quot;'eT' x y&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#existT">existT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">200</span>).<br/>
<span class="vernacular">Notation</span> <span id=":::'e'_x" class="id"><a name=":::'e'_x" class="">&quot;'e' x&quot;</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">_</span>) (<span class="gallina-kwd">at</span> <span class="id">level</span> <span class="id">200</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="p_nonce" class="id"><a name="p_nonce" class="">p_nonce</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="n:251" class="id"><a name="n:251" class="">n</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_get">p_get;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="monae.smallstep.html#n:251">n</a></span>)<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id"><a href="monae.smallstep.html#n:251">n;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> <span class="id"><a href="monae.smallstep.html#n:251">n</a></span>.<br/>
<br/>
<br/>
<span class="vernacular">Eval</span> <span class="id">unfold</span> <span class="id">denote,</span> <span class="id">p_nonce</span> <span class="gallina-kwd">in</span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce">p_nonce</a></span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">do_notation</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="nonce" class="id"><a name="nonce" class="">nonce</a></span> <span class="id">:</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)%<span class="id">type</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">do</a></span> <span id="n:252" class="id"><a name="n:252" class="">n</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_get">st_get;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">do</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_put">st_put</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="monae.smallstep.html#n:252">n</a></span>)<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">do</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_mark">st_mark</a></span> <span class="id"><a href="monae.smallstep.html#n:252">n;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.smallstep.html#n:252">n</a></span>.<br/>
<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#nonce">nonce</a></span> (<span class="id">0,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="vernacular">Compute</span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)%<span class="id">type</span>)<span class="id">]</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce">p_nonce</a></span>) (<span class="id">0,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#run_ss">run_ss</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce">p_nonce</a></span> <span class="id">0</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="denote_p_nonce" class="id"><a name="denote_p_nonce" class="">denote_p_nonce</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce">p_nonce</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#nonce">nonce</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="id">Program</span> <span class="vernacular">Example</span> <span id="p_nonce_twice" class="id"><a name="p_nonce_twice" class="">p_nonce_twice</a></span> <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#bool_eqType">bool_eqType</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="nonce:254" class="id"><a name="nonce:254" class="">nonce</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">p_do</a></span> <span id="n:253" class="id"><a name="n:253" class="">n</a></span> <span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_get">p_get;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="monae.smallstep.html#n:253">n</a></span>)<span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.smallstep.html#fb5ee133d5c0f971365e980f2f140250">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id"><a href="monae.smallstep.html#n:253">n;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> <span class="id"><a href="monae.smallstep.html#n:253">n</a></span> ) <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="x:255" class="id"><a name="x:255" class="">x</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#nonce:254">nonce</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="y:256" class="id"><a name="y:256" class="">y</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#nonce:254">nonce</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> (<span class="id"><a href="monae.smallstep.html#x:255">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="monae.smallstep.html#y:256">y</a></span>).<br/>
<br/>
<span class="vernacular">Example</span> <span id="nonce_twice" class="id"><a name="nonce_twice" class="">nonce_twice</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)%<span class="id">type</span>)<span class="id">]</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="nonce:258" class="id"><a name="nonce:258" class="">nonce</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">do</a></span> <span id="n:257" class="id"><a name="n:257" class="">n</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_get">st_get;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">do</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_put">st_put</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="monae.smallstep.html#n:257">n</a></span>)<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">do</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">:</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monae.hierarchy.html#d5c4dfe9b0d7c104799e3109e0197b0e">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_mark">st_mark</a></span> <span class="id"><a href="monae.smallstep.html#n:257">n;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monae.smallstep.html#n:257">n</a></span> ) <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:259" class="id"><a name="x:259" class="">x</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#nonce:258">nonce</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:260" class="id"><a name="y:260" class="">y</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#nonce:258">nonce</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Nat.html#eqb">Nat.eqb</a></span> <span class="id"><a href="monae.smallstep.html#x:259">x</a></span> <span class="id"><a href="monae.smallstep.html#y:260">y</a></span>).<br/>
<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#nonce_twice">nonce_twice</a></span> (<span class="id">0,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="vernacular">Compute</span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)%<span class="id">type</span>)<span class="id">]</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce_twice">p_nonce_twice</a></span>) (<span class="id">0,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#run_ss">run_ss</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce_twice">p_nonce_twice</a></span> <span class="id">0</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="denote_p_nonce_twice" class="id"><a name="denote_p_nonce_twice" class="">denote_p_nonce_twice</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id"><a href="monae.smallstep.html#p_nonce_twice">p_nonce_twice</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#nonce_twice">nonce_twice</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Fixpoint</span> <span id="countdown" class="id"><a name="countdown" class="">countdown</a></span> (<span id="fuel:261" class="id"><a name="fuel:261" class="">fuel</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>)%<span class="id">type</span>)<span class="id">]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#fuel:261">fuel</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.hierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">fuel'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="n:264" class="id"><a name="n:264" class="">n</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_get">st_get</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">if</span> (<span class="id"><a href="monae.smallstep.html#n:264">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span>) <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#st_mark">st_mark</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_mark">st_mark</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span class="id">_</span> <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monae.hierarchy.html#st_put">st_put</a></span> (<span class="id"><a href="monae.smallstep.html#n:264">n-1</a></span>) <span class="id"><a href="monae.hierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monae.smallstep.html#countdown:262">countdown</a></span> <span class="id">fuel'</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="p_countdown" class="id"><a name="p_countdown" class="">p_countdown</a></span> (<span id="fuel:265" class="id"><a name="fuel:265" class="">fuel</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monae.smallstep.html#fuel:265">fuel</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#p_ret">p_ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">fuel'</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="n:268" class="id"><a name="n:268" class="">n</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_get">p_get</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_cond">p_cond</a></span> (<span class="id"><a href="monae.smallstep.html#n:268">n</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id">0</span>) (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;) (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_mark">p_mark</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> (<span class="id"><a href="monae.smallstep.html#n:268">n-1</a></span>) <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span> <span class="id"><a href="monae.smallstep.html#p_countdown:266">p_countdown</a></span> <span class="id">fuel'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Compute</span> (<span class="id"><a href="monae.smallstep.html#countdown">countdown</a></span> <span class="id">100</span>) (<span class="id">5,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="vernacular">Compute</span> (<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>)%<span class="id">type</span>)<span class="id">]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> (<span class="id"><a href="monae.smallstep.html#p_countdown">p_countdown</a></span> <span class="id">100</span>)) (<span class="id">5,</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd">[]</a></span>).<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#run_ss">run_ss</a></span> (<span class="id"><a href="monae.smallstep.html#p_countdown">p_countdown</a></span> <span class="id">100</span>) <span class="id">5</span>.<br/>
<br/>
<span class="vernacular">Remark</span> <span id="denote_countdown" class="id"><a name="denote_countdown" class="">denote_countdown</a></span> <span id="fuel:269" class="id"><a name="fuel:269" class="">fuel</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#denote">denote</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monae.hierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span> <span class="id">of</span> (<span class="id"><a href="monae.monad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>)%<span class="id">type</span>)<span class="id">]</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> (<span class="id"><a href="monae.smallstep.html#p_countdown">p_countdown</a></span> <span class="id"><a href="monae.smallstep.html#fuel:269">fuel</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monae.smallstep.html#countdown">countdown</a></span> <span class="id"><a href="monae.smallstep.html#fuel:269">fuel</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">elim:</span> <span class="id">fuel</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span>.<br/>
<span class="id">rewrite</span> <span class="id">[countdown</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>)<span class="id">]/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">move</span> <span class="id">&lt;-</span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Example</span> <span id="p_multiply" class="id"><a name="p_multiply" class="">p_multiply</a></span> (<span id="a:270" class="id"><a name="a:270" class="">a</a></span> <span id="b:271" class="id"><a name="b:271" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> (<span class="id">T</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> <span class="id">0</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_repeat">p_repeat</a></span> <span class="id"><a href="monae.smallstep.html#b:271">b</a></span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="x:272" class="id"><a name="x:272" class="">x</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_get">p_get</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> (<span class="id"><a href="monae.smallstep.html#a:270">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monae.smallstep.html#x:272">x</a></span>)<br/>
&nbsp;&nbsp;).<br/>
<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#run_ss">run_ss</a></span> (<span class="id"><a href="monae.smallstep.html#p_multiply">p_multiply</a></span> <span class="id">3</span> <span class="id">7</span>) <span class="id">0</span>.<br/>
<br/>
<span class="vernacular">Example</span> <span id="p_division" class="id"><a name="p_division" class="">p_division</a></span> (<span id="a:273" class="id"><a name="a:273" class="">a</a></span> <span id="b:274" class="id"><a name="b:274" class="">b</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monae.smallstep.html#program">program</a></span> (<span class="id">T</span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span class="id">_</span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> (<span class="id"><a href="monae.smallstep.html#a:273">a,</a></span> <span class="id">0</span>)<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_while">p_while</a></span> <span class="id"><a href="monae.smallstep.html#a:273">a</a></span> (<span class="gallina-kwd">fun</span> <span id="s:276" class="id"><a name="s:276" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monae.smallstep.html#b:274">b</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="monae.smallstep.html#s:276">s</a></span>) (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">p_do</a></span> <span id="s:275" class="id"><a name="s:275" class="">s</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">&lt;-</a></span> <span class="id"><a href="monae.smallstep.html#p_get">p_get</a></span> <span class="id"><a href="monae.smallstep.html#5eed45a21faa7f144841948924e4c4be">;</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monae.smallstep.html#p_put">p_put</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="monae.smallstep.html#s:275">s</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'-'_x">-</a></span> <span class="id"><a href="monae.smallstep.html#b:274">b,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="monae.smallstep.html#s:275">s</a></span>))<br/>
&nbsp;&nbsp;).<br/>
<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#run_ss">run_ss</a></span> (<span class="id"><a href="monae.smallstep.html#p_division">p_division</a></span> <span class="id">22</span> <span class="id">7</span>) (<span class="id">0,</span> <span class="id">0</span>).<br/>
<br/>
<span class="vernacular">Compute</span> <span class="id"><a href="monae.smallstep.html#run_s_n">run_s_n</a></span> <span class="id">15</span> (<span class="id"><a href="monae.smallstep.html#p_division">p_division</a></span> <span class="id">22</span> <span class="id">7</span>) (<span class="id"><a href="monae.smallstep.html#stop">stop</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) (<span class="id">0,</span> <span class="id">0</span>).<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
