
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module monaeImpredicativeSet.imonad_model</title>
<meta name="description" content="Documentation of Coq module monaeImpredicativeSet.imonad_model" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="monae"><summary>monae</summary>
          <ul>
          <li><a href="monae.altprob_model.html">altprob_model</a></li>
<li><a href="monae.array_lib.html">array_lib</a></li>
<li><a href="monae.category.html">category</a></li>
<li><a href="monae.category_ext.html">category_ext</a></li>
<li><a href="monae.example_iquicksort.html">example_iquicksort</a></li>
<li><a href="monae.example_monty.html">example_monty</a></li>
<li><a href="monae.example_nqueens.html">example_nqueens</a></li>
<li><a href="monae.example_quicksort.html">example_quicksort</a></li>
<li><a href="monae.example_relabeling.html">example_relabeling</a></li>
<li><a href="monae.example_spark.html">example_spark</a></li>
<li><a href="monae.example_transformer.html">example_transformer</a></li>
<li><a href="monae.example_typed_store.html">example_typed_store</a></li>
<li><a href="monae.fail_lib.html">fail_lib</a></li>
<li><a href="monae.gcm_model.html">gcm_model</a></li>
<li><a href="monae.hierarchy.html">hierarchy</a></li>
<li><a href="monae.monad_composition.html">monad_composition</a></li>
<li><a href="monae.monad_lib.html">monad_lib</a></li>
<li><a href="monae.monad_model.html">monad_model</a></li>
<li><a href="monae.monad_transformer.html">monad_transformer</a></li>
<li><a href="monae.monae_lib.html">monae_lib</a></li>
<li><a href="monae.proba_lib.html">proba_lib</a></li>
<li><a href="monae.proba_monad_model.html">proba_monad_model</a></li>
<li><a href="monae.smallstep.html">smallstep</a></li>
<li><a href="monae.state_lib.html">state_lib</a></li>
<li><a href="monae.trace_lib.html">trace_lib</a></li>
<li><a href="monae.typed_store_lib.html">typed_store_lib</a></li>
<li><a href="monae.typed_store_model.html">typed_store_model</a></li>
          </ul>
          </details>
          </li>
<li><details id="monaeImpredicativeSet"><summary>monaeImpredicativeSet</summary>
          <ul>
          <li><a href="monaeImpredicativeSet.iexample_transformer.html">iexample_transformer</a></li>
<li><a href="monaeImpredicativeSet.ifail_lib.html">ifail_lib</a></li>
<li><a href="monaeImpredicativeSet.ifmt_lifting.html">ifmt_lifting</a></li>
<li><a href="monaeImpredicativeSet.ihierarchy.html">ihierarchy</a></li>
<li><a href="monaeImpredicativeSet.imonad_composition.html">imonad_composition</a></li>
<li><a href="monaeImpredicativeSet.imonad_lib.html">imonad_lib</a></li>
<li><a href="monaeImpredicativeSet.imonad_model.html">imonad_model</a></li>
<li><a href="monaeImpredicativeSet.imonad_transformer.html">imonad_transformer</a></li>
<li><a href="monaeImpredicativeSet.imonae_lib.html">imonae_lib</a></li>
<li><a href="monaeImpredicativeSet.iparametricity_codensity.html">iparametricity_codensity</a></li>
<li><a href="monaeImpredicativeSet.istate_lib.html">istate_lib</a></li>
<li><a href="monaeImpredicativeSet.itrace_lib.html">itrace_lib</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module monaeImpredicativeSet.imonad_model</h1>
<span class="vernacular">From</span> <span class="id">mathcomp</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.all_ssreflect.html">all_ssreflect</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html">imonae_lib</a></span>.<br/>
<span class="vernacular">From</span> <span class="id">HB</span> <span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="NOTFOUND the module url for HB.structures">structures</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html">ihierarchy</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html">imonad_lib</a></span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html">ifail_lib</a></span> <span class="id"><a href="monaeImpredicativeSet.istate_lib.html">istate_lib</a></span> <span class="id"><a href="monaeImpredicativeSet.itrace_lib.html">itrace_lib</a></span>.<br/>
<span class="vernacular">Require</span> <span class="vernacular">Import</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html">imonad_transformer</a></span>.<br/>
<span class="vernacular">Require</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Logic.PropExtensionality.html">PropExtensionality</a></span>.<br/>
<br/>
<pre class="ssrdoc">
                      Models for various monads                            
                                                                           
Sample models for monads in hierarchy.v (see also other *_model.v files).  
As for naming, we tend to use the identifier acto for the actions on       
objects and actm for the actions on morphisms.                             
                                                                           
Instances of monads (Modules):                                             
IdentityMonad      == identity monad idfun                                 
ListMonad          == list monad seq                                       
ExceptMonad        == exception monad E + A                                
option_monad       == alias for ExceptMonad.acto unit                      
OutputMonad        == output monad X * seq L                               
EnvironmentMonad   == environment monad E -&gt; A                             
StateMonad         == state monad S -&gt; A * S                               
ContMonad          == continuation monad (A -&gt; r) -&gt; r                     
                                                                           
Sigma-operations (with algebraicity proofs):                               
empty_op                == empty operation                                 
append_op               == append operation                                
flush_op                == flush operation                                 
output_op               == output operation                                
ask_op                  == ask operation                                   
local_op                == local operation                                 
throw_op                == throw operation                                 
handle_op               == handle operation                                
get_op                  == get operation                                   
put_op                  == put operation                                   
abort_op                == abort operation                                 
acallcc_op              == algebraic callcc operation                      
                                                                           
Models of interfaces:                                                      
Module Fail             == failMonad for option_monad, ListMonad.acto, set 
Module Except           == exceptMonad for ExcetMonad.acto unit            
Module State            == stateMonad for StateMonad.acto S                
Module Alt              == altMonad for ListMonad.acto, set                
Module AltCI            == altCIMonad for ListMonad.acto, set              
Module Nondet           == nondetMonad for ListMonad.acto, set             
Module ModelStateTrace  == stateTraceMonad for StateMonad.acto (S * seq T) 
Module ModelCont        == contMonad for ContMonad.acto r                  
Module ModelShiftReset  == shiftResetMonad for ContMonad.acto r            
Module ModelReify       == reifyModel for StateMonad.acto (S * seq T)      
Module ModelStateTraceReify == stateTraceReify monad for                   
                               StateMonad.acto (S * seq T)                 
Module ModelArray       == array monad                                     
Module ModelMonadStateRun       == stateRunMonad for MS                    
Module ModelMonadExceptStateRun == exceptStateRunMonad                     
                                                                           
references:                                                                
- Wadler, P. Monads and composable continuations. LISP and Symbolic        
  Computation 7, 39â€“55 (1994)                                              
</pre>
<br/>
<span class="gallina-kwd">Set</span> <span class="vernacular">Implicit</span> <span class="vernacular">Arguments</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Strict</span> <span class="vernacular">Implicit</span>.<br/>
<span class="vernacular">Unset</span> <span class="vernacular">Printing</span> <span class="vernacular">Implicit</span> <span class="vernacular">Defensive</span>.<br/>
<br/>
<span class="vernacular">Local</span> <span class="vernacular">Open</span> <span class="vernacular">Scope</span> <span class="id">monae_scope</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="assoc" class="id"><a name="assoc" class="">assoc</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="assoc.I" class="id"><a name="assoc.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>) (<span id="assoc.S" class="id"><a name="assoc.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="insert" class="id"><a name="insert" class="">insert</a></span> <span id="i:3" class="id"><a name="i:3" class="">i</a></span> <span id="s:4" class="id"><a name="s:4" class="">s</a></span> (<span id="a:5" class="id"><a name="a:5" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#assoc.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#assoc.S">S</a></span>) <span id="j:6" class="id"><a name="j:6" class="">j</a></span> <span class="id">:=</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:3">i</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180">==</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:6">j</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:4">s</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:5">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:6">j</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="insert_insert" class="id"><a name="insert_insert" class="">insert_insert</a></span> <span id="i:7" class="id"><a name="i:7" class="">i</a></span> <span id="s':8" class="id"><a name="s':8" class="">s'</a></span> <span id="s:9" class="id"><a name="s:9" class="">s</a></span> <span id="a:10" class="id"><a name="a:10" class="">a</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:7">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':8">s'</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:7">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:9">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:10">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:7">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':8">s'</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:10">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">j;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/negbTE</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<span class="vernacular">Lemma</span> <span id="insert_same" class="id"><a name="insert_same" class="">insert_same</a></span> <span id="i:11" class="id"><a name="i:11" class="">i</a></span> <span id="a:12" class="id"><a name="a:12" class="">a</a></span> <span id="s:13" class="id"><a name="s:13" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:11">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:13">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:12">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:11">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:13">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/insert</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#eqxx">eqxx</a></span>. Qed.</div>
<span class="vernacular">Lemma</span> <span id="insert_same2" class="id"><a name="insert_same2" class="">insert_same2</a></span> <span id="i:14" class="id"><a name="i:14" class="">i</a></span> <span id="a:15" class="id"><a name="a:15" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:14">i</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:15">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:14">i</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:15">a</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:15">a</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">j;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">-&gt;</span>.<br/>
Qed.</div>
<span class="vernacular">Lemma</span> <span id="insertC" class="id"><a name="insertC" class="">insertC</a></span> <span id="j:16" class="id"><a name="j:16" class="">j</a></span> <span id="i:17" class="id"><a name="i:17" class="">i</a></span> <span id="v:18" class="id"><a name="v:18" class="">v</a></span> <span id="u:19" class="id"><a name="u:19" class="">u</a></span> <span id="a:20" class="id"><a name="a:20" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:17">i</a></span> <span class="id">!=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:16">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:16">j</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:18">v</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:17">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:19">u</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:20">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:17">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:19">u</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:16">j</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:18">v</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:20">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
<span class="id">move=&gt;</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">&lt;-{k}</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">h</span>).<br/>
Qed.</div>
<span class="vernacular">Lemma</span> <span id="insertC2" class="id"><a name="insertC2" class="">insertC2</a></span> <span id="j:21" class="id"><a name="j:21" class="">j</a></span> <span id="i:22" class="id"><a name="i:22" class="">i</a></span> <span id="v:23" class="id"><a name="v:23" class="">v</a></span> <span id="a:24" class="id"><a name="a:24" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:21">j</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:23">v</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:22">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:23">v</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:24">a</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:22">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:23">v</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:21">j</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:23">v</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:24">a</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/insert;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">/eqP</span> <span class="id">&lt;-{k}</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#if_same">if_same</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#assoc">assoc</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="IdentityMonad" class="id"><a name="IdentityMonad" class="">IdentityMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="IdentityMonad.identitymonad" class="id"><a name="IdentityMonad.identitymonad" class="">identitymonad</a></span>.<br/>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.bind" class="id"><a name="IdentityMonad.identitymonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:25" class="id"><a name="A:25" class="">A</a></span> <span id="B:26" class="id"><a name="B:26" class="">B</a></span> (<span id="a:27" class="id"><a name="a:27" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:25">A</a></span>) (<span id="f:28" class="id"><a name="f:28" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:25">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:26">B</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:28">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:27">a</a></span>.<br/>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.left_neutral" class="id"><a name="IdentityMonad.identitymonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.bind">bind</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#NId">NId</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.right_neutral" class="id"><a name="IdentityMonad.identitymonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.bind">bind</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#NId">NId</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.associative" class="id"><a name="IdentityMonad.identitymonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.bind">bind</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="IdentityMonad.identitymonad.acto" class="id"><a name="IdentityMonad.identitymonad.acto" class="">acto</a></span> <span class="id">:=</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>).<br/>
<span id="IdentityMonad.IdentityMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="IdentityMonad.HB_unnamed_mixin_5" class="id"><span id="IdentityMonad.IdentityMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="IdentityMonad.HB_unnamed_mixin_4" class="id"><span id="IdentityMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="IdentityMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="IdentityMonad.HB_unnamed_factory_1" class="id"><a name="IdentityMonad.IdentityMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad.identitymonad">identitymonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#IdentityMonad">IdentityMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">IdentityMonad</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ListMonad" class="id"><a name="ListMonad" class="">ListMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ListMonad.listmonad" class="id"><a name="ListMonad.listmonad" class="">listmonad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ListMonad.acto" class="id"><a name="ListMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:29" class="id"><a name="A:29" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:29">A</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ListMonad.M" class="id"><a name="ListMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.ret" class="id"><a name="ListMonad.listmonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:30" class="id"><a name="A:30" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span id="x:31" class="id"><a name="x:31" class="">x</a></span> <span class="id">=&gt;</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:30">A</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:31">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.bind" class="id"><a name="ListMonad.listmonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:32" class="id"><a name="A:32" class="">A</a></span> <span id="B:33" class="id"><a name="B:33" class="">B</a></span> (<span id="m:34" class="id"><a name="m:34" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:32">A</a></span>) (<span id="f:35" class="id"><a name="f:35" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:32">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:33">B</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten">flatten</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:35">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:34">m</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.left_neutral" class="id"><a name="ListMonad.listmonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/ret</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.right_neutral" class="id"><a name="ListMonad.listmonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_seq1">flatten_seq1</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ListMonad.listmonad.associative" class="id"><a name="ListMonad.listmonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C;</span> <span class="id">elim</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">h</span> <span class="id">t;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">=&gt;</span> <span class="id">ih</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map_cat">map_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_cat">flatten_cat</a></span> <span class="id">/=</span> <span class="id">ih</span>.<br/>
Qed.</div>
<span id="ListMonad.ListMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="ListMonad.HB_unnamed_mixin_10" class="id"><span id="ListMonad.ListMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="ListMonad.HB_unnamed_mixin_9" class="id"><span id="ListMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="ListMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="ListMonad.HB_unnamed_factory_6" class="id"><a name="ListMonad.ListMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.listmonad">listmonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad">ListMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ListMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="list_bindE" class="id"><a name="list_bindE" class="">list_bindE</a></span> (<span id="A:36" class="id"><a name="A:36" class="">A</a></span> <span id="B:37" class="id"><a name="B:37" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="M:38" class="id"><a name="M:38" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ListMonad.acto</a></span>) (<span id="m:39" class="id"><a name="m:39" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:38">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:36">A</a></span>) (<span id="f:40" class="id"><a name="f:40" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:36">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:38">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:37">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:39">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:40">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten">flatten</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map">map</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:40">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:39">m</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="ExceptMonad" class="id"><a name="ExceptMonad" class="">ExceptMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ExceptMonad.exceptmonad" class="id"><a name="ExceptMonad.exceptmonad" class="">exceptmonad</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ExceptMonad.exceptmonad.E" class="id"><a name="ExceptMonad.exceptmonad.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ExceptMonad.acto" class="id"><a name="ExceptMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:42" class="id"><a name="A:42" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:42">A</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ExceptMonad.M" class="id"><a name="ExceptMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.ret" class="id"><a name="ExceptMonad.exceptmonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.M">M</a></span> <span class="id">:=</span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.E">E</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.bind" class="id"><a name="ExceptMonad.exceptmonad.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:43" class="id"><a name="A:43" class="">A</a></span> <span id="B:44" class="id"><a name="B:44" class="">B</a></span> (<span id="m:45" class="id"><a name="m:45" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:43">A</a></span>) (<span id="f:46" class="id"><a name="f:46" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:43">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:44">B</a></span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:45">m</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:46">f</a></span> <span class="id">b</span> <span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.left_neutral" class="id"><a name="ExceptMonad.exceptmonad.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.right_neutral" class="id"><a name="ExceptMonad.exceptmonad.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ExceptMonad.exceptmonad.associative" class="id"><a name="ExceptMonad.exceptmonad.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">[]</span>. Qed.</div>
<span id="ExceptMonad.ExceptMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="ExceptMonad.HB_unnamed_mixin_15" class="id"><span id="ExceptMonad.ExceptMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="ExceptMonad.HB_unnamed_mixin_14" class="id"><span id="ExceptMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="ExceptMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="ExceptMonad.HB_unnamed_factory_11" class="id"><a name="ExceptMonad.ExceptMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad.exceptmonad">exceptmonad</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ExceptMonad">ExceptMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ExceptMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="except_bindE" class="id"><a name="except_bindE" class="">except_bindE</a></span> (<span id="E:48" class="id"><a name="E:48" class="">E</a></span> <span id="A:49" class="id"><a name="A:49" class="">A</a></span> <span id="B:50" class="id"><a name="B:50" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="M:51" class="id"><a name="M:51" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ExceptMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#E:48">E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m:52" class="id"><a name="m:52" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:51">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:49">A</a></span>) (<span id="f:53" class="id"><a name="f:53" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:49">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:51">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:50">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:52">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:53">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">match</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:52">m</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">b</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:53">f</a></span> <span class="id">b</span> <span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="option_monad" class="id"><a name="option_monad" class="">option_monad</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ExceptMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<span id="imonad_model_option_monad__canonical__ihierarchy_Monad" class="id"><span id="HB_unnamed_mixin_20" class="id"><span id="imonad_model_option_monad__canonical__ihierarchy_Functor" class="id"><span id="HB_unnamed_mixin_19" class="id"><span id="ihierarchy_Monad__to__ihierarchy_isMonad" class="id"><span id="ihierarchy_Monad__to__ihierarchy_isFunctor" class="id"><span id="HB_unnamed_factory_16" class="id"><a name="imonad_model_option_monad__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.on">Monad.on</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="OutputMonad" class="id"><a name="OutputMonad" class="">OutputMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="OutputMonad.output" class="id"><a name="OutputMonad.output" class="">output</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="OutputMonad.output.L" class="id"><a name="OutputMonad.output.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="OutputMonad.acto" class="id"><a name="OutputMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="X:56" class="id"><a name="X:56" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:56">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.L">L</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="OutputMonad.M" class="id"><a name="OutputMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="OutputMonad.output.ret" class="id"><a name="OutputMonad.output.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:57" class="id"><a name="A:57" class="">A</a></span> <span id="a:58" class="id"><a name="a:58" class="">a</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:58">a,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>).<br/>
<span class="vernacular">Let</span> <span id="OutputMonad.output.bind" class="id"><a name="OutputMonad.output.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:59" class="id"><a name="A:59" class="">A</a></span> <span id="B:60" class="id"><a name="B:60" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:61" class="id"><a name="m:61" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:59">A</a></span>) (<span id="f:62" class="id"><a name="f:62" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:59">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:60">B</a></span>) <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">x,</span> <span class="id">w</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:61">m</a></span> <span class="gallina-kwd">in</span> <span class="id">let:</span> (<span class="id">x',</span> <span class="id">w'</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:62">f</a></span> <span class="id">x</span> <span class="gallina-kwd">in</span> (<span class="id">x',</span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">w'</span>).<br/>
<span class="vernacular">Let</span> <span id="OutputMonad.output.left_neutral" class="id"><a name="OutputMonad.output.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id">f</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="OutputMonad.output.right_neutral" class="id"><a name="OutputMonad.output.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">m;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">w;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="OutputMonad.output.associative" class="id"><a name="OutputMonad.output.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">m</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">rewrite</span> <span class="id">/bind;</span> <span class="id">case:</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">x</span> <span class="id">w;</span> <span class="id">case:</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id">x'</span> <span class="id">w'</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">g</span> <span class="id">=&gt;</span> <span class="id">x''</span> <span class="id">w'';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<span id="OutputMonad.OutputMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="OutputMonad.HB_unnamed_mixin_25" class="id"><span id="OutputMonad.OutputMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="OutputMonad.HB_unnamed_mixin_24" class="id"><span id="OutputMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="OutputMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="OutputMonad.HB_unnamed_factory_21" class="id"><a name="OutputMonad.OutputMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.output">output</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad">OutputMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">OutputMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="output_bindE" class="id"><a name="output_bindE" class="">output_bindE</a></span> (<span id="L:64" class="id"><a name="L:64" class="">L</a></span> <span id="A:65" class="id"><a name="A:65" class="">A</a></span> <span id="B:66" class="id"><a name="B:66" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="M:67" class="id"><a name="M:67" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">OutputMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#L:64">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span id="m:68" class="id"><a name="m:68" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:67">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:65">A</a></span>) (<span id="f:69" class="id"><a name="f:69" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:65">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:67">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:66">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:68">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:69">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">w</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:68">m</a></span> <span class="gallina-kwd">in</span> <span class="id">let:</span> (<span class="id">x',</span> <span class="id">w'</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:69">f</a></span> <span class="id">x</span> <span class="gallina-kwd">in</span> (<span class="id">x',</span> <span class="id">w</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">w'</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="EnvironmentMonad" class="id"><a name="EnvironmentMonad" class="">EnvironmentMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="EnvironmentMonad.environment" class="id"><a name="EnvironmentMonad.environment" class="">environment</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="EnvironmentMonad.environment.E" class="id"><a name="EnvironmentMonad.environment.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="EnvironmentMonad.acto" class="id"><a name="EnvironmentMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:72" class="id"><a name="A:72" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:72">A</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="EnvironmentMonad.M" class="id"><a name="EnvironmentMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="EnvironmentMonad.ret" class="id"><a name="EnvironmentMonad.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:73" class="id"><a name="A:73" class="">A</a></span> <span id="x:74" class="id"><a name="x:74" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="e:75" class="id"><a name="e:75" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:74">x</a></span>.<br/>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.bind" class="id"><a name="EnvironmentMonad.environment.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:76" class="id"><a name="A:76" class="">A</a></span> <span id="B:77" class="id"><a name="B:77" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:78" class="id"><a name="m:78" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:76">A</a></span>) (<span id="f:79" class="id"><a name="f:79" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:76">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:77">B</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="e:80" class="id"><a name="e:80" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:79">f</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:78">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:80">e</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:80">e</a></span>.<br/>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.left_neutral" class="id"><a name="EnvironmentMonad.environment.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.right_neutral" class="id"><a name="EnvironmentMonad.environment.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="EnvironmentMonad.environment.associative" class="id"><a name="EnvironmentMonad.environment.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="EnvironmentMonad.EnvironmentMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="EnvironmentMonad.HB_unnamed_mixin_30" class="id"><span id="EnvironmentMonad.EnvironmentMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="EnvironmentMonad.HB_unnamed_mixin_29" class="id"><span id="EnvironmentMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="EnvironmentMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="EnvironmentMonad.HB_unnamed_factory_26" class="id"><a name="EnvironmentMonad.EnvironmentMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.environment">environment</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad">EnvironmentMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">EnvironmentMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="environment_bindE" class="id"><a name="environment_bindE" class="">environment_bindE</a></span> (<span id="E:81" class="id"><a name="E:81" class="">E</a></span> <span id="A:82" class="id"><a name="A:82" class="">A</a></span> <span id="B:83" class="id"><a name="B:83" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="M:84" class="id"><a name="M:84" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">EnvironmentMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#E:81">E</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span id="m:85" class="id"><a name="m:85" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:84">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:82">A</a></span>) (<span id="f:86" class="id"><a name="f:86" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:82">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:84">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:83">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:85">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:86">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="e:87" class="id"><a name="e:87" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:86">f</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:85">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:87">e</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:87">e</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="StateMonad" class="id"><a name="StateMonad" class="">StateMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="StateMonad.state" class="id"><a name="StateMonad.state" class="">state</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="StateMonad.state.S" class="id"><a name="StateMonad.state.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>. <br/>
<span class="vernacular">Definition</span> <span id="StateMonad.acto" class="id"><a name="StateMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:89" class="id"><a name="A:89" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:89">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.S">S</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="StateMonad.M" class="id"><a name="StateMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateMonad.state.ret" class="id"><a name="StateMonad.state.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:90" class="id"><a name="A:90" class="">A</a></span> <span id="a:91" class="id"><a name="a:91" class="">a</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="s:92" class="id"><a name="s:92" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:91">a,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:92">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="StateMonad.state.bind" class="id"><a name="StateMonad.state.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:93" class="id"><a name="A:93" class="">A</a></span> <span id="B:94" class="id"><a name="B:94" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:95" class="id"><a name="m:95" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:93">A</a></span>) (<span id="f:96" class="id"><a name="f:96" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:93">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:94">B</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:96">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:95">m</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateMonad.state.left_neutral" class="id"><a name="StateMonad.state.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="StateMonad.state.right_neutral" class="id"><a name="StateMonad.state.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">f;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">s;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id">/=;</span> <span class="id">case:</span> (<span class="id">f</span> <span class="id">s</span>).<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="StateMonad.state.associative" class="id"><a name="StateMonad.state.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">rewrite</span> <span class="id">/bind</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#compA">compA;</a></span> <span class="id">congr</span> (<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id">_</span>).<br/>
<span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>.<br/>
Qed.</div>
<span id="StateMonad.StateMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="StateMonad.HB_unnamed_mixin_35" class="id"><span id="StateMonad.StateMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="StateMonad.HB_unnamed_mixin_34" class="id"><span id="StateMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="StateMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="StateMonad.HB_unnamed_factory_31" class="id"><a name="StateMonad.StateMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.state">state</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad">StateMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">StateMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="state_bindE" class="id"><a name="state_bindE" class="">state_bindE</a></span> (<span id="S:97" class="id"><a name="S:97" class="">S</a></span> <span id="A:98" class="id"><a name="A:98" class="">A</a></span> <span id="B:99" class="id"><a name="B:99" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="M:100" class="id"><a name="M:100" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:97">S</a></span>)<br/>
&nbsp;&nbsp;(<span id="m:101" class="id"><a name="m:101" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:100">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:98">A</a></span>) (<span id="f:102" class="id"><a name="f:102" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:98">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:100">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:99">B</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:101">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:102">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:102">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:101">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="ContMonad" class="id"><a name="ContMonad" class="">ContMonad</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ContMonad.cont" class="id"><a name="ContMonad.cont" class="">cont</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ContMonad.cont.r" class="id"><a name="ContMonad.cont.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>. <br/>
<span class="vernacular">Definition</span> <span id="ContMonad.acto" class="id"><a name="ContMonad.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:104" class="id"><a name="A:104" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:104">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.r">r</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ContMonad.M" class="id"><a name="ContMonad.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.acto">acto</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContMonad.cont.ret" class="id"><a name="ContMonad.cont.ret" class="">ret</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:105" class="id"><a name="A:105" class="">A</a></span> <span id="a:106" class="id"><a name="a:106" class="">a</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="k:107" class="id"><a name="k:107" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:107">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:106">a</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContMonad.cont.bind" class="id"><a name="ContMonad.cont.bind" class="">bind</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> (<span id="A:108" class="id"><a name="A:108" class="">A</a></span> <span id="B:109" class="id"><a name="B:109" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:110" class="id"><a name="m:110" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:108">A</a></span>) (<span id="f:111" class="id"><a name="f:111" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:108">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:109">B</a></span>) <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="k:112" class="id"><a name="k:112" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:110">m</a></span> (<span class="gallina-kwd">fun</span> <span id="a:113" class="id"><a name="a:113" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:111">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:113">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:112">k</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ContMonad.cont.left_neutral" class="id"><a name="ContMonad.cont.left_neutral" class="">left_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_neutral">BindLaws.left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">a</span> <span class="id">f;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">Br</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContMonad.cont.right_neutral" class="id"><a name="ContMonad.cont.right_neutral" class="">right_neutral</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_neutral">BindLaws.right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.bind">bind</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.ret">ret</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContMonad.cont.associative" class="id"><a name="ContMonad.cont.associative" class="">associative</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.associative">BindLaws.associative</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.bind">bind</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ContMonad.ContMonad_acto__canonical__ihierarchy_Monad" class="id"><span id="ContMonad.HB_unnamed_mixin_40" class="id"><span id="ContMonad.ContMonad_acto__canonical__ihierarchy_Functor" class="id"><span id="ContMonad.HB_unnamed_mixin_39" class="id"><span id="ContMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isFunctor" class="id"><span id="ContMonad.ihierarchy_isMonad_ret_bind__to__ihierarchy_isMonad" class="id"><span id="ContMonad.HB_unnamed_factory_36" class="id"><a name="ContMonad.ContMonad_acto__canonical__ihierarchy_Monad" class="hierarchy-builder">HB.instance</a></span></span></span></span></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonad_ret_bind.Build">isMonad_ret_bind.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.left_neutral">left_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.right_neutral">right_neutral</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont.associative">associative</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.cont">cont</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad">ContMonad</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ContMonad</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="cont_bindE" class="id"><a name="cont_bindE" class="">cont_bindE</a></span> (<span id="r:114" class="id"><a name="r:114" class="">r</a></span> <span id="A:115" class="id"><a name="A:115" class="">A</a></span> <span id="B:116" class="id"><a name="B:116" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="M:117" class="id"><a name="M:117" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#r:114">r</a></span>) (<span id="m:118" class="id"><a name="m:118" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:117">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:115">A</a></span>) (<span id="f:119" class="id"><a name="f:119" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:115">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:117">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:116">B</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:118">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:119">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="k:120" class="id"><a name="k:120" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:118">m</a></span> (<span class="gallina-kwd">fun</span> <span id="a:121" class="id"><a name="a:121" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:119">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:121">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:120">k</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Module</span> <span id="Empty" class="id"><a name="Empty" class="">Empty</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Empty.empty" class="id"><a name="Empty.empty" class="">empty</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Empty.acto" class="id"><a name="Empty.acto" class="">acto</a></span> (<span id="X:122" class="id"><a name="X:122" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Empty.empty.actm" class="id"><a name="Empty.empty.actm" class="">actm</a></span> (<span id="X:123" class="id"><a name="X:123" class="">X</a></span> <span id="Y:124" class="id"><a name="Y:124" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:125" class="id"><a name="f:125" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:123">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:124">Y</a></span>) (<span id="t:126" class="id"><a name="t:126" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:123">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:124">Y</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Empty.empty.func_id" class="id"><a name="Empty.empty.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.empty.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Empty.empty.func_comp" class="id"><a name="Empty.empty.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.empty.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Empty.Empty_acto__canonical__ihierarchy_Functor" class="id"><span id="Empty.HB_unnamed_factory_41" class="id"><a name="Empty.Empty_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.empty.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.empty.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty.empty">empty</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Empty">Empty</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Empty</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Append" class="id"><a name="Append" class="">Append</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Append.append" class="id"><a name="Append.append" class="">append</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Append.acto" class="id"><a name="Append.acto" class="">acto</a></span> (<span id="X:127" class="id"><a name="X:127" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:127">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:127">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Append.append.actm" class="id"><a name="Append.append.actm" class="">actm</a></span> (<span id="X:128" class="id"><a name="X:128" class="">X</a></span> <span id="Y:129" class="id"><a name="Y:129" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:130" class="id"><a name="f:130" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:128">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:129">Y</a></span>) (<span id="t:131" class="id"><a name="t:131" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:128">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:129">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">x1,</span> <span class="id">x2</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:131">t</a></span> <span class="gallina-kwd">in</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:130">f</a></span> <span class="id">x1,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:130">f</a></span> <span class="id">x2</span>).<br/>
<span class="vernacular">Let</span> <span id="Append.append.func_id" class="id"><a name="Append.append.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.append.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Append.append.func_comp" class="id"><a name="Append.append.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.append.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Append.Append_acto__canonical__ihierarchy_Functor" class="id"><span id="Append.HB_unnamed_factory_43" class="id"><a name="Append.Append_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.append.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.append.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append.append">append</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Append">Append</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Append</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="appendop" class="id"><a name="appendop" class="">appendop</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="empty" class="id"><a name="empty" class="">empty</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Empty.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:133" class="id"><a name="A:133" class="">A</a></span> <span class="id">_</span> <span class="id">=&gt;</span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:133">A</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="naturality_empty" class="id"><a name="naturality_empty" class="">naturality_empty</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Empty.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#empty">empty</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Qed.</div>
<br/>
<span id="imonad_model_empty__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_45" class="id"><a name="imonad_model_empty__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Empty.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#empty">empty</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#naturality_empty">naturality_empty</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="empty_op" class="id"><a name="empty_op" class="">empty_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Empty.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<span class="id">-operation</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#empty">empty]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_empty" class="id"><a name="algebraic_empty" class="">algebraic_empty</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#empty_op">empty_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="append" class="id"><a name="append" class="">append</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Append.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:134" class="id"><a name="A:134" class="">A</a></span> <span id="x:135" class="id"><a name="x:135" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">s1,</span> <span class="id">s2</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:135">x</a></span> <span class="gallina-kwd">in</span> (<span class="id">s1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">s2</span>).<br/>
<span class="vernacular">Let</span> <span id="appendop.naturality_append" class="id"><a name="appendop.naturality_append" class="">naturality_append</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Append.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#append">append</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[s1</span> <span class="id">s2]</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map_cat">map_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_cat">flatten_cat</a></span>.<br/>
Qed.</div>
<span id="imonad_model_append__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_47" class="id"><a name="imonad_model_append__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Append.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#append">append</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#appendop.naturality_append">naturality_append</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="append_op" class="id"><a name="append_op" class="">append_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Append.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<span class="id">-operation</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#append">append]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_append" class="id"><a name="algebraic_append" class="">algebraic_append</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#append_op">append_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">[t1</span> <span class="id">t2]</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">3!list_bindE</span> <span class="id">-flatten_cat</span> <span class="id">-map_cat</span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#appendop">appendop</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Output" class="id"><a name="Output" class="">Output</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Output.output" class="id"><a name="Output.output" class="">output</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Output.output.L" class="id"><a name="Output.output.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Output.acto" class="id"><a name="Output.acto" class="">acto</a></span> (<span id="X:138" class="id"><a name="X:138" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.output.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:138">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Output.output.actm" class="id"><a name="Output.output.actm" class="">actm</a></span> (<span id="X:139" class="id"><a name="X:139" class="">X</a></span> <span id="Y:140" class="id"><a name="Y:140" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:141" class="id"><a name="f:141" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:139">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:140">Y</a></span>) (<span id="t:142" class="id"><a name="t:142" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:139">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:140">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">w,</span> <span class="id">x</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:142">t</a></span> <span class="gallina-kwd">in</span> (<span class="id">w,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:141">f</a></span> <span class="id">x</span>).<br/>
<span class="vernacular">Let</span> <span id="Output.output.func_id" class="id"><a name="Output.output.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.output.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext;</a></span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Output.output.func_comp" class="id"><a name="Output.output.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.output.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">f</span> <span class="id">g;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext;</a></span> <span class="id">case</span>. Qed.</div>
<span id="Output.Output_acto__canonical__ihierarchy_Functor" class="id"><span id="Output.HB_unnamed_factory_49" class="id"><a name="Output.Output_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.output.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.output.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output.output">output</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output">Output</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Output</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Flush" class="id"><a name="Flush" class="">Flush</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Flush.flush" class="id"><a name="Flush.flush" class="">flush</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Flush.acto" class="id"><a name="Flush.acto" class="">acto</a></span> (<span id="X:144" class="id"><a name="X:144" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:144">X</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Flush.flush.actm" class="id"><a name="Flush.flush.actm" class="">actm</a></span> (<span id="X:145" class="id"><a name="X:145" class="">X</a></span> <span id="Y:146" class="id"><a name="Y:146" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:147" class="id"><a name="f:147" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:145">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:146">Y</a></span>) (<span id="t:148" class="id"><a name="t:148" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:145">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:146">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:147">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:148">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Flush.flush.func_id" class="id"><a name="Flush.flush.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.flush.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Flush.flush.func_comp" class="id"><a name="Flush.flush.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.flush.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Flush.Flush_acto__canonical__ihierarchy_Functor" class="id"><span id="Flush.HB_unnamed_factory_51" class="id"><a name="Flush.Flush_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.flush.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.flush.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush.flush">flush</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Flush">Flush</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Flush</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="outputops" class="id"><a name="outputops" class="">outputops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="outputops.L" class="id"><a name="outputops.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">OutputMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.L">L</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="output" class="id"><a name="output" class="">output</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:150" class="id"><a name="A:150" class="">A</a></span> <span id="m:151" class="id"><a name="m:151" class="">m</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">w'</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:151">m</a></span>.<span class="id">2</span> <span class="gallina-kwd">in</span> (<span class="id">x,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:151">m</a></span>.<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36">++</a></span> <span class="id">w'</span>). <br/>
<span class="vernacular">Let</span> <span id="outputops.naturality_output" class="id"><a name="outputops.naturality_output" class="">naturality_output</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output">output</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h</span>.<br/>
<span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[w</span> <span class="id">[x</span> <span class="id">w']]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/output</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<span id="imonad_model_output__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_53" class="id"><a name="imonad_model_output__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output">output</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.naturality_output">naturality_output</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="output_op" class="id"><a name="output_op" class="">output_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Output.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.L">L]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output">output]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_output" class="id"><a name="algebraic_output" class="">algebraic_output</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output_op">output_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">[w</span> <span class="id">[x</span> <span class="id">w']]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output_bindE">output_bindE/=</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/output</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output_bindE">output_bindE</a></span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id">x'</span> <span class="id">w'';</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="flush" class="id"><a name="flush" class="">flush</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Flush.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:152" class="id"><a name="A:152" class="">A</a></span> <span id="m:153" class="id"><a name="m:153" class="">m</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">x,</span> <span class="id">_</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:153">m</a></span> <span class="gallina-kwd">in</span> (<span class="id">x,</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>).<br/>
<span class="vernacular">Let</span> <span id="outputops.naturality_flush" class="id"><a name="outputops.naturality_flush" class="">naturality_flush</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Flush.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#flush">flush</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="imonad_model_flush__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_55" class="id"><a name="imonad_model_flush__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Flush.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#flush">flush</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops.naturality_flush">naturality_flush</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="flush_op" class="id"><a name="flush_op" class="">flush_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Flush.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#flush">flush]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_flush" class="id"><a name="algebraic_flush" class="">algebraic_flush</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#flush_op">flush_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">[x</span> <span class="id">w]</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output_bindE">output_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/flush_op</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/flush</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output_bindE">output_bindE</a></span>.<br/>
<span class="id">case:</span> <span class="id">f</span> <span class="id">=&gt;</span> <span class="id">x'</span> <span class="id">w'</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#outputops">outputops</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Output'" class="id"><a name="Output'" class="">Output'</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Output'.output" class="id"><a name="Output'.output" class="">output</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Output'.output.L" class="id"><a name="Output'.output.L" class="">L</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Output'.M" class="id"><a name="Output'.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#OutputMonad.acto">OutputMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output'.output.L">L</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Output'.output" class="id"><a name="Output'.output" class="">output</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output'.output.L">L</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output'.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="w:156" class="id"><a name="w:156" class="">w</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#output_op">output_op</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#w:156">w,</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="Output'.outputE" class="id"><a name="Output'.outputE" class="">outputE</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output'.output">output</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="w:157" class="id"><a name="w:157" class="">w</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#w:157">w</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">w</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/output</span> <span class="id">/=</span> <span class="id">/imonad_model</span>.<span class="id">output</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output'.output">output</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Output'">Output'</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Ask" class="id"><a name="Ask" class="">Ask</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Ask.ask" class="id"><a name="Ask.ask" class="">ask</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Ask.ask.E" class="id"><a name="Ask.ask.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Ask.acto" class="id"><a name="Ask.acto" class="">acto</a></span> (<span id="X:159" class="id"><a name="X:159" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.ask.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:159">X</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Ask.ask.actm" class="id"><a name="Ask.ask.actm" class="">actm</a></span> (<span id="X:160" class="id"><a name="X:160" class="">X</a></span> <span id="Y:161" class="id"><a name="Y:161" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:162" class="id"><a name="f:162" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:160">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:161">Y</a></span>) (<span id="t:163" class="id"><a name="t:163" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:160">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:161">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:162">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:163">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Ask.ask.func_id" class="id"><a name="Ask.ask.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.ask.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Ask.ask.func_comp" class="id"><a name="Ask.ask.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.ask.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Ask.Ask_acto__canonical__ihierarchy_Functor" class="id"><span id="Ask.HB_unnamed_factory_57" class="id"><a name="Ask.Ask_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.ask.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.ask.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask.ask">ask</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Ask">Ask</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Ask</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span class="vernacular">Local</span>.<br/>
<span class="vernacular">Section</span> <span id="Local.local" class="id"><a name="Local.local" class="">local</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Local.local.E" class="id"><a name="Local.local.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Local.acto" class="id"><a name="Local.acto" class="">acto</a></span> (<span id="X:165" class="id"><a name="X:165" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> ((<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local.E">E</a></span>) <span class="id">*</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:165">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Local.local.actm" class="id"><a name="Local.local.actm" class="">actm</a></span> (<span id="X:166" class="id"><a name="X:166" class="">X</a></span> <span id="Y:167" class="id"><a name="Y:167" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:168" class="id"><a name="f:168" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:166">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:167">Y</a></span>) (<span id="t:169" class="id"><a name="t:169" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:166">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:167">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">e,</span> <span class="id">x</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:169">t</a></span> <span class="gallina-kwd">in</span> (<span class="id">e,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:168">f</a></span> <span class="id">x</span>).<br/>
<span class="vernacular">Let</span> <span id="Local.local.func_id" class="id"><a name="Local.local.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Local.local.func_comp" class="id"><a name="Local.local.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Local.Local_acto__canonical__ihierarchy_Functor" class="id"><span id="Local.HB_unnamed_factory_59" class="id"><a name="Local.Local_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Local.local">local</a></span>.<br/>
<span class="vernacular">End</span> <span class="vernacular">Local</span>.<br/>
<span class="id">HB.export</span> <span class="vernacular">Local</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="environmentops" class="id"><a name="environmentops" class="">environmentops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="environmentops.E" class="id"><a name="environmentops.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">EnvironmentMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ask" class="id"><a name="ask" class="">ask</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">~~&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:172" class="id"><a name="A:172" class="">A</a></span> <span id="f:173" class="id"><a name="f:173" class="">f</a></span> <span id="s:174" class="id"><a name="s:174" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:173">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:174">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:174">s</a></span>. <br/>
<span class="vernacular">Let</span> <span id="environmentops.naturality_ask" class="id"><a name="environmentops.naturality_ask" class="">naturality_ask</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ask">ask</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_ask__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_61" class="id"><a name="imonad_model_ask__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ask">ask</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.naturality_ask">naturality_ask</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ask_op" class="id"><a name="ask_op" class="">ask_op</a></span> <span class="id">:</span>  <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Ask.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ask">ask]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_ask" class="id"><a name="algebraic_ask" class="">algebraic_ask</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ask_op">ask_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="local" class="id"><a name="local" class="">local</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">~~&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:175" class="id"><a name="A:175" class="">A</a></span> <span id="x:176" class="id"><a name="x:176" class="">x</a></span> <span id="s:177" class="id"><a name="s:177" class="">s</a></span> <span class="id">=&gt;</span> <span class="id">let:</span> (<span class="id">e,</span> <span class="id">t</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:176">x</a></span> <span class="gallina-kwd">in</span> <span class="id">t</span> (<span class="id">e</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:177">s</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="naturality_local" class="id"><a name="naturality_local" class="">naturality_local</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#local">local</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="imonad_model_local__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_63" class="id"><a name="imonad_model_local__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#local">local</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#naturality_local">naturality_local</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="local_op" class="id"><a name="local_op" class="">local_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Local.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops.E">E]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#local">local]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_local" class="id"><a name="algebraic_local" class="">algebraic_local</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#local_op">local_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environment_bindE">environment_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/local_op</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/local</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="id">case:</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">ee</span> <span class="id">m</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environment_bindE">environment_bindE</a></span>.<br/>
<span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext=&gt;</a></span> <span class="id">x</span> <span class="id">/=</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#environmentops">environmentops</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Environment" class="id"><a name="Environment" class="">Environment</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Environment.environment" class="id"><a name="Environment.environment" class="">environment</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Environment.environment.E" class="id"><a name="Environment.environment.E" class="">E</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="Environment.M" class="id"><a name="Environment.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#EnvironmentMonad.acto">EnvironmentMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Environment.environment.E">E</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="Environment.ask" class="id"><a name="Environment.ask" class="">ask</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Environment.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Environment.environment.E">E</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ask_op">ask_op</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="Environment.askE" class="id"><a name="Environment.askE" class="">askE</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Environment.ask">ask</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="e:180" class="id"><a name="e:180" class="">e</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:180">e</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Environment.environment">environment</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Environment">Environment</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Throw" class="id"><a name="Throw" class="">Throw</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Throw.throw" class="id"><a name="Throw.throw" class="">throw</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Throw.throw.Z" class="id"><a name="Throw.throw.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Throw.acto" class="id"><a name="Throw.acto" class="">acto</a></span> (<span id="X:182" class="id"><a name="X:182" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.throw.Z">Z</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Throw.throw.actm" class="id"><a name="Throw.throw.actm" class="">actm</a></span> (<span id="X:183" class="id"><a name="X:183" class="">X</a></span> <span id="Y:184" class="id"><a name="Y:184" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:185" class="id"><a name="f:185" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:183">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:184">Y</a></span>) (<span id="t:186" class="id"><a name="t:186" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:183">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:184">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:186">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Throw.throw.func_id" class="id"><a name="Throw.throw.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.throw.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Throw.throw.func_comp" class="id"><a name="Throw.throw.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.throw.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Throw.Throw_acto__canonical__ihierarchy_Functor" class="id"><span id="Throw.HB_unnamed_factory_65" class="id"><a name="Throw.Throw_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.throw.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.throw.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw.throw">throw</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Throw">Throw</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Throw</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Handle" class="id"><a name="Handle" class="">Handle</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Handle.handle" class="id"><a name="Handle.handle" class="">handle</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="Handle.handle.Z" class="id"><a name="Handle.handle.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Handle.acto" class="id"><a name="Handle.acto" class="">acto</a></span> (<span id="X:188" class="id"><a name="X:188" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:188">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.handle.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:188">X</a></span>))%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="Handle.handle.actm" class="id"><a name="Handle.handle.actm" class="">actm</a></span> (<span id="X:189" class="id"><a name="X:189" class="">X</a></span> <span id="Y:190" class="id"><a name="Y:190" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:191" class="id"><a name="f:191" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:189">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:190">Y</a></span>) (<span id="t:192" class="id"><a name="t:192" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:189">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:190">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id">let:</span> (<span class="id">x,</span> <span class="id">h</span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:192">t</a></span> <span class="gallina-kwd">in</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:191">f</a></span> <span class="id">x,</span> <span class="gallina-kwd">fun</span> <span id="z:194" class="id"><a name="z:194" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:191">f</a></span> (<span class="id">h</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#z:194">z</a></span>)).<br/>
<span class="vernacular">Let</span> <span id="Handle.handle.func_id" class="id"><a name="Handle.handle.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.handle.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Handle.handle.func_comp" class="id"><a name="Handle.handle.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.handle.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span id="Handle.Handle_acto__canonical__ihierarchy_Functor" class="id"><span id="Handle.HB_unnamed_factory_67" class="id"><a name="Handle.Handle_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.handle.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.handle.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle.handle">handle</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Handle">Handle</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Handle</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="exceptops" class="id"><a name="exceptops" class="">exceptops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="exceptops.Z" class="id"><a name="exceptops.Z" class="">Z</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ExceptMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="throw" class="id"><a name="throw" class="">throw</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:196" class="id"><a name="A:196" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span id="z:197" class="id"><a name="z:197" class="">z</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#z:197">z</a></span>.<br/>
<span class="vernacular">Let</span> <span id="exceptops.naturality_throw" class="id"><a name="exceptops.naturality_throw" class="">naturality_throw</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw">throw</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_throw__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_69" class="id"><a name="imonad_model_throw__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw">throw</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.naturality_throw">naturality_throw</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="throw_op" class="id"><a name="throw_op" class="">throw_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw">throw]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_throw" class="id"><a name="algebraic_throw" class="">algebraic_throw</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw_op">throw_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_throw__canonical__imonad_lib_AOperation" class="id"><span id="HB_unnamed_factory_71" class="id"><a name="imonad_model_throw__canonical__imonad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#isAOperation.Build">isAOperation.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw">throw</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#algebraic_throw">algebraic_throw</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="throw_aop" class="id"><a name="throw_aop" class="">throw_aop</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Throw.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw">throw]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="handle'" class="id"><a name="handle'" class="">handle'</a></span> <span id="A:198" class="id"><a name="A:198" class="">A</a></span> (<span id="m:199" class="id"><a name="m:199" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:198">A</a></span>) (<span id="h:200" class="id"><a name="h:200" class="">h</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:198">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:198">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:199">m</a></span> <span class="gallina-kwd">with</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inl">inl</a></span> <span class="id">z</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#h:200">h</a></span> <span class="id">z</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Definition</span> <span id="handle" class="id"><a name="handle" class="">handle</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:202" class="id"><a name="A:202" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle'">handle'</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:202">A</a></span>).<br/>
<span class="vernacular">Let</span> <span id="exceptops.naturality_handle" class="id"><a name="exceptops.naturality_handle" class="">naturality_handle</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle">handle</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[[]]</span>. Qed.</div>
<span id="imonad_model_handle__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_73" class="id"><a name="imonad_model_handle__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle">handle</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.naturality_handle">naturality_handle</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="handle_op" class="id"><a name="handle_op" class="">handle_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">Handle.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops.Z">Z]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle">handle]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_handle" class="id"><a name="algebraic_handle" class="">algebraic_handle</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle_op">handle_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> <span class="id">t</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#except_bindE">except_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/handle_op</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/handle</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/uncurry</span> <span class="id">/=</span>.<br/>
<span class="id">case:</span> <span class="id">t</span> <span class="id">=&gt;</span> <span class="id">-[z//|a]</span> <span class="id">g</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#except_bindE">except_bindE</a></span>.<br/>
<span class="id">case:</span> (<span class="id">f</span> <span class="id">a</span>) <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">z</span>.<br/>
<span class="id">rewrite</span> <span class="id">/handle'</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#except_bindE">except_bindE</a></span>.<br/>
<span class="id">case:</span> (<span class="id">g</span> <span class="id">z</span>) <span class="id">=&gt;</span> <span class="id">[z0|a0]</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#exceptops">exceptops</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw_op">throw_op</a></span> <span class="id">{Z}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle_op">handle_op</a></span> <span class="id">{Z}</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="StateOpsGet" class="id"><a name="StateOpsGet" class="">StateOpsGet</a></span>.<br/>
<span class="vernacular">Section</span> <span id="StateOpsGet.get" class="id"><a name="StateOpsGet.get" class="">get</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="StateOpsGet.get.S" class="id"><a name="StateOpsGet.get.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="StateOpsGet.acto" class="id"><a name="StateOpsGet.acto" class="">acto</a></span> (<span id="X:204" class="id"><a name="X:204" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.get.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:204">X</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateOpsGet.get.actm" class="id"><a name="StateOpsGet.get.actm" class="">actm</a></span> (<span id="X:205" class="id"><a name="X:205" class="">X</a></span> <span id="Y:206" class="id"><a name="Y:206" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:207" class="id"><a name="f:207" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:205">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:206">Y</a></span>) (<span id="t:208" class="id"><a name="t:208" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:205">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:206">Y</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:207">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:208">t</a></span>.<br/>
<span class="vernacular">Let</span> <span id="StateOpsGet.get.func_id" class="id"><a name="StateOpsGet.get.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.get.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="StateOpsGet.get.func_comp" class="id"><a name="StateOpsGet.get.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.get.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Qed.</div>
<span id="StateOpsGet.StateOpsGet_acto__canonical__ihierarchy_Functor" class="id"><span id="StateOpsGet.HB_unnamed_factory_75" class="id"><a name="StateOpsGet.StateOpsGet_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.get.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.get.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet.get">get</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsGet">StateOpsGet</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">StateOpsGet</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="StateOpsPut" class="id"><a name="StateOpsPut" class="">StateOpsPut</a></span>.<br/>
<span class="vernacular">Section</span> <span id="StateOpsPut.put" class="id"><a name="StateOpsPut.put" class="">put</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="StateOpsPut.put.S" class="id"><a name="StateOpsPut.put.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="StateOpsPut.acto" class="id"><a name="StateOpsPut.acto" class="">acto</a></span> (<span id="X:210" class="id"><a name="X:210" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.put.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:210">X</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="StateOpsPut.put.actm" class="id"><a name="StateOpsPut.put.actm" class="">actm</a></span> (<span id="X:211" class="id"><a name="X:211" class="">X</a></span> <span id="Y:212" class="id"><a name="Y:212" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:213" class="id"><a name="f:213" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:211">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:212">Y</a></span>) (<span id="sx:214" class="id"><a name="sx:214" class="">sx</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:211">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:212">Y</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#sx:214">sx</a></span>.<span class="id">1,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:213">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#sx:214">sx</a></span>.<span class="id">2</span>).<br/>
<span class="vernacular">Let</span> <span id="StateOpsPut.put.func_id" class="id"><a name="StateOpsPut.put.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.put.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="StateOpsPut.put.func_comp" class="id"><a name="StateOpsPut.put.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.put.actm">actm</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Qed.</div>
<span id="StateOpsPut.StateOpsPut_acto__canonical__ihierarchy_Functor" class="id"><span id="StateOpsPut.HB_unnamed_factory_77" class="id"><a name="StateOpsPut.StateOpsPut_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.put.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.put.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut.put">put</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateOpsPut">StateOpsPut</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">StateOpsPut</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="stateops" class="id"><a name="stateops" class="">stateops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="stateops.S" class="id"><a name="stateops.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="stateops.get" class="id"><a name="stateops.get" class="">get</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:216" class="id"><a name="A:216" class="">A</a></span> <span id="k:217" class="id"><a name="k:217" class="">k</a></span> <span id="s:218" class="id"><a name="s:218" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:217">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:218">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:218">s</a></span>.<br/>
<span class="vernacular">Let</span> <span id="stateops.naturality_get" class="id"><a name="stateops.naturality_get" class="">naturality_get</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.get">get</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">m;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FCompE">FCompE</a></span>.<br/>
Qed.</div>
<span id="imonad_model_get__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_79" class="id"><a name="imonad_model_get__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.naturality_get">naturality_get</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="get_op" class="id"><a name="get_op" class="">get_op</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.get">get]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_get" class="id"><a name="algebraic_get" class="">algebraic_get</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#get_op">get_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_get__canonical__imonad_lib_AOperation" class="id"><span id="HB_unnamed_factory_81" class="id"><a name="imonad_model_get__canonical__imonad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#algebraic_get">algebraic_get</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="get_aop" class="id"><a name="get_aop" class="">get_aop</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.get">get]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="stateops.put'" class="id"><a name="stateops.put'" class="">put'</a></span> <span id="A:219" class="id"><a name="A:219" class="">A</a></span> (<span id="s:220" class="id"><a name="s:220" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S</a></span>) (<span id="m:221" class="id"><a name="m:221" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:219">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:219">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:221">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:220">s</a></span>.<br/>
<span class="vernacular">Let</span> <span id="stateops.put" class="id"><a name="stateops.put" class="">put</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:222" class="id"><a name="A:222" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.put'">put'</a></span> (<span class="id">A</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:222">A</a></span>)).<br/>
<span class="vernacular">Let</span> <span id="stateops.naturality_put" class="id"><a name="stateops.naturality_put" class="">naturality_put</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.put">put</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">h;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">/=</span> <span class="id">-[s</span> <span class="id">m</span> <span class="id">/=];</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Qed.</div>
<span id="imonad_model_put__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_83" class="id"><a name="imonad_model_put__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.naturality_put">naturality_put</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="put_op" class="id"><a name="put_op" class="">put_op</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.put">put]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraic_put" class="id"><a name="algebraic_put" class="">algebraic_put</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#put_op">put_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">?</span> <span class="id">?</span> <span class="id">?</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_put__canonical__imonad_lib_AOperation" class="id"><span id="HB_unnamed_factory_85" class="id"><a name="imonad_model_put__canonical__imonad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#algebraic_put">algebraic_put</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="put_aop" class="id"><a name="put_aop" class="">put_aop</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.S">S]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops.put">put]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stateops">stateops</a></span>.<br/>
<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#get_op">get_op</a></span> <span class="id">{S}</span>.<br/>
<span class="vernacular">Arguments</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#put_op">put_op</a></span> <span class="id">{S}</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ContOpsAbort" class="id"><a name="ContOpsAbort" class="">ContOpsAbort</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ContOpsAbort.abort" class="id"><a name="ContOpsAbort.abort" class="">abort</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ContOpsAbort.abort.r" class="id"><a name="ContOpsAbort.abort.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ContOpsAbort.acto" class="id"><a name="ContOpsAbort.acto" class="">acto</a></span> (<span id="X:224" class="id"><a name="X:224" class="">X</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.abort.r">r</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContOpsAbort.abort.actm" class="id"><a name="ContOpsAbort.abort.actm" class="">actm</a></span> (<span id="A:225" class="id"><a name="A:225" class="">A</a></span> <span id="B:226" class="id"><a name="B:226" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:227" class="id"><a name="f:227" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:225">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:226">B</a></span>) (<span id="x:228" class="id"><a name="x:228" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:225">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:226">B</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:228">x</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContOpsAbort.abort.func_id" class="id"><a name="ContOpsAbort.abort.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.abort.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContOpsAbort.abort.func_comp" class="id"><a name="ContOpsAbort.abort.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.abort.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ContOpsAbort.ContOpsAbort_acto__canonical__ihierarchy_Functor" class="id"><span id="ContOpsAbort.HB_unnamed_factory_87" class="id"><a name="ContOpsAbort.ContOpsAbort_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.abort.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.abort.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort.abort">abort</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAbort">ContOpsAbort</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ContOpsAbort</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ContOpsAcallcc" class="id"><a name="ContOpsAcallcc" class="">ContOpsAcallcc</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ContOpsAcallcc.acallcc" class="id"><a name="ContOpsAcallcc.acallcc" class="">acallcc</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ContOpsAcallcc.acallcc.r" class="id"><a name="ContOpsAcallcc.acallcc.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ContOpsAcallcc.acto" class="id"><a name="ContOpsAcallcc.acto" class="">acto</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:230" class="id"><a name="A:230" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:230">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:230">A</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ContOpsAcallcc.acallcc.actm" class="id"><a name="ContOpsAcallcc.acallcc.actm" class="">actm</a></span> (<span id="X:231" class="id"><a name="X:231" class="">X</a></span> <span id="Y:232" class="id"><a name="Y:232" class="">Y</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:233" class="id"><a name="f:233" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:231">X</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:232">Y</a></span>) (<span id="t:234" class="id"><a name="t:234" class="">t</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:231">X</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:232">Y</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="g:235" class="id"><a name="g:235" class="">g</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Y:232">Y</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc.r">r</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:233">f</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:234">t</a></span> (<span class="gallina-kwd">fun</span> <span id="x:236" class="id"><a name="x:236" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#g:235">g</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:233">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:236">x</a></span>))).<br/>
<span class="vernacular">Let</span> <span id="ContOpsAcallcc.acallcc.func_id" class="id"><a name="ContOpsAcallcc.acallcc.func_id" class="">func_id</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.id">FunctorLaws.id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ContOpsAcallcc.acallcc.func_comp" class="id"><a name="ContOpsAcallcc.acallcc.func_comp" class="">func_comp</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#FunctorLaws.comp">FunctorLaws.comp</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc.actm">actm</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ContOpsAcallcc.ContOpsAcallcc_acto__canonical__ihierarchy_Functor" class="id"><span id="ContOpsAcallcc.HB_unnamed_factory_89" class="id"><a name="ContOpsAcallcc.ContOpsAcallcc_acto__canonical__ihierarchy_Functor" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isFunctor.Build">isFunctor.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc.func_id">func_id</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc.func_comp">func_comp</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc.acallcc">acallcc</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContOpsAcallcc">ContOpsAcallcc</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ContOpsAcallcc</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="contops" class="id"><a name="contops" class="">contops</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="contops.r" class="id"><a name="contops.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="M" class="id"><a name="M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r</a></span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="abort" class="id"><a name="abort" class="">abort</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#6c9414a823e101508c2db8ca18685713">~~&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> (<span id="A:238" class="id"><a name="A:238" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span id="r:239" class="id"><a name="r:239" class="">r</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#r:239">r</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="naturality_abort" class="id"><a name="naturality_abort" class="">naturality_abort</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#abort">abort</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_abort__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_91" class="id"><a name="imonad_model_abort__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span><br/>
&nbsp;&nbsp;<span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#abort">abort</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#naturality_abort">naturality_abort</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="abort_op" class="id"><a name="abort_op" class="">abort_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#abort">abort]</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="algebraicity_abort" class="id"><a name="algebraicity_abort" class="">algebraicity_abort</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#abort_op">abort_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_abort__canonical__imonad_lib_AOperation" class="id"><span id="HB_unnamed_factory_93" class="id"><a name="imonad_model_abort__canonical__imonad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#abort">abort</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#algebraicity_abort">algebraicity_abort</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="abort_aop" class="id"><a name="abort_aop" class="">abort_aop</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAbort.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#abort">abort]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="acallcc" class="id"><a name="acallcc" class="">acallcc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">~~&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:240" class="id"><a name="A:240" class="">A</a></span> <span id="f:241" class="id"><a name="f:241" class="">f</a></span> <span id="k:242" class="id"><a name="k:242" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:241">f</a></span> (<span class="gallina-kwd">fun</span> <span id="m:243" class="id"><a name="m:243" class="">m</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:243">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:242">k</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:242">k</a></span>.<br/>
<span class="vernacular">Let</span> <span id="contops.naturality_acallcc" class="id"><a name="contops.naturality_acallcc" class="">naturality_acallcc</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#naturality">naturality</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e">\o</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc">acallcc</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_acallcc__canonical__ihierarchy_Nattrans" class="id"><span id="HB_unnamed_factory_95" class="id"><a name="imonad_model_acallcc__canonical__ihierarchy_Nattrans" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isNatural.Build">isNatural.Build</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc">acallcc</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.naturality_acallcc">naturality_acallcc</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="acallcc_op" class="id"><a name="acallcc_op" class="">acallcc_op</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r]</a></span>.<span class="id">-operation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#4b888338091ea81ba83623be7a3226f9">~&gt;</a></span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc">acallcc]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="contops.algebraicity_callcc" class="id"><a name="contops.algebraicity_callcc" class="">algebraicity_callcc</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#algebraicity">algebraicity</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc_op">acallcc_op</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="imonad_model_acallcc__canonical__imonad_lib_AOperation" class="id"><span id="HB_unnamed_factory_97" class="id"><a name="imonad_model_acallcc__canonical__imonad_lib_AOperation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#isAOperation.Build">isAOperation.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc">acallcc</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.algebraicity_callcc">algebraicity_callcc</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="callcc_aop" class="id"><a name="callcc_aop" class="">callcc_aop</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops.r">r]</a></span>.<span class="id">-aoperation</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M">M]</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_lib.html#aoperation">aoperation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc">acallcc]</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#contops">contops</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span class="vernacular">Fail</span>.<br/>
<span class="vernacular">Section</span> <span id="Fail.fail" class="id"><a name="Fail.fail" class="">fail</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Fail.option_fail" class="id"><a name="Fail.option_fail" class="">option_fail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:244" class="id"><a name="A:244" class="">A,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:244">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:245" class="id"><a name="A:245" class="">A</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#throw">throw</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:245">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fail.fail.option_bindfailf" class="id"><a name="Fail.fail.option_bindfailf" class="">option_bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bind">bind</a></span> <span class="id">_</span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.option_fail">option_fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Fail.HB_unnamed_factory_99" class="id"><a name="Fail.HB_unnamed_factory_99" class="hierarchy-builder">HB.instance</a></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.on">Monad.on</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span>.<br/>
<span id="Fail.imonad_model_option_monad__canonical__ihierarchy_MonadFail" class="id"><span id="Fail.HB_unnamed_factory_102" class="id"><a name="Fail.imonad_model_option_monad__canonical__ihierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.option_fail">option_fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.fail.option_bindfailf">option_bindfailf</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="Fail.list_fail" class="id"><a name="Fail.list_fail" class="">list_fail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:246" class="id"><a name="A:246" class="">A,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:246">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:247" class="id"><a name="A:247" class="">A</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#empty">empty</a></span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Fail.fail.list_bindfailf" class="id"><a name="Fail.fail.list_bindfailf" class="">list_bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bind">bind</a></span> <span class="id">_</span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.list_fail">list_fail</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="Fail.ListMonad_acto__canonical__ihierarchy_MonadFail" class="id"><span id="Fail.HB_unnamed_factory_104" class="id"><a name="Fail.ListMonad_acto__canonical__ihierarchy_MonadFail" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.list_fail">list_fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.fail.list_bindfailf">list_bindfailf</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Fail.fail">fail</a></span>.<br/>
<span class="vernacular">End</span> <span class="vernacular">Fail</span>.<br/>
<span class="id">HB.export</span> <span class="vernacular">Fail</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Except" class="id"><a name="Except" class="">Except</a></span>.<br/>
<span class="vernacular">Section</span> <span id="Except.except" class="id"><a name="Except.except" class="">except</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Except.except.M" class="id"><a name="Except.except.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Except.handle" class="id"><a name="Except.handle" class="">handle</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:248" class="id"><a name="A:248" class="">A,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:248">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:248">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:248">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="A:249" class="id"><a name="A:249" class="">A</a></span> <span id="m1:250" class="id"><a name="m1:250" class="">m1</a></span> <span id="m2:251" class="id"><a name="m2:251" class="">m2</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#handle_op">handle_op</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m1:250">m1,</a></span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m2:251">m2</a></span>)).<br/>
<span class="vernacular">Lemma</span> <span id="Except.handleE" class="id"><a name="Except.handleE" class="">handleE</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.handle">handle</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> (<span class="gallina-kwd">fun</span> <span id="A:252" class="id"><a name="A:252" class="">A</a></span> <span id="m:253" class="id"><a name="m:253" class="">m</a></span> <span id="m':254" class="id"><a name="m':254" class="">m'</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:253">m</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#inr">inr</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:253">m</a></span> <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m':254">m'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="gallina-kwd">by</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext_dep">funext_dep</a></span> <span class="id">=&gt;</span> <span class="id">A;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchmfail" class="id"><a name="Except.except.catchmfail" class="">catchmfail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:256" class="id"><a name="A:256" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">right_id</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:256">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">case</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchfailm" class="id"><a name="Except.except.catchfailm" class="">catchfailm</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:257" class="id"><a name="A:257" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_id">left_id</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:257">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchA" class="id"><a name="Except.except.catchA" class="">catchA</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:258" class="id"><a name="A:258" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:258">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">case</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Except.except.catchret" class="id"><a name="Except.except.catchret" class="">catchret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:259" class="id"><a name="A:259" class="">A</a></span> <span id="x:260" class="id"><a name="x:260" class="">x,</a></span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_zero">left_zero</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:259">A</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:259">A</a></span>) (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:260">x</a></span>) (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.handle">handle</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:259">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x;</span> <span class="id">case</span>. Qed.</div>
<span id="Except.imonad_model_option_monad__canonical__ihierarchy_MonadExcept" class="id"><span id="Except.HB_unnamed_factory_106" class="id"><a name="Except.imonad_model_option_monad__canonical__ihierarchy_MonadExcept" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadExcept.Build">isMonadExcept.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.catchmfail">catchmfail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.catchfailm">catchfailm</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.catchA">catchA</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except.catchret">catchret</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except.except">except</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Except">Except</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Except</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="State" class="id"><a name="State" class="">State</a></span>.<br/>
<span class="vernacular">Section</span> <span id="State.state" class="id"><a name="State.state" class="">state</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="State.state.S" class="id"><a name="State.state.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="State.M" class="id"><a name="State.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span>).<br/>
<span class="vernacular">Let</span> <span id="State.state.get" class="id"><a name="State.state.get" class="">get</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#get_op">get_op</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span>.<br/>
<span class="vernacular">Lemma</span> <span id="State.getE" class="id"><a name="State.getE" class="">getE</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.get">get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="s:262" class="id"><a name="s:262" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:262">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:262">s</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.put" class="id"><a name="State.state.put" class="">put</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:263" class="id"><a name="s:263" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#put_op">put_op</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:263">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>).<br/>
<span class="vernacular">Lemma</span> <span id="State.putE" class="id"><a name="State.putE" class="">putE</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">fun</span> <span id="s':264" class="id"><a name="s':264" class="">s'</a></span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':264">s'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.putput" class="id"><a name="State.state.putput" class="">putput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:265" class="id"><a name="s:265" class="">s</a></span> <span id="s':266" class="id"><a name="s':266" class="">s',</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:265">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':266">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':266">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.putget" class="id"><a name="State.state.putget" class="">putget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:267" class="id"><a name="s:267" class="">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:267">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.get">get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:267">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:267">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.getputskip" class="id"><a name="State.state.getputskip" class="">getputskip</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.put">put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="State.state.getget" class="id"><a name="State.state.getget" class="">getget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:268" class="id"><a name="A:268" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="k:269" class="id"><a name="k:269" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:268">A</a></span>)<span class="id">,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:270" class="id"><a name="s:270" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:269">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:270">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:271" class="id"><a name="s:271" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:269">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:271">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:271">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="State.StateMonad_acto__canonical__ihierarchy_MonadState" class="id"><span id="State.HB_unnamed_factory_108" class="id"><a name="State.StateMonad_acto__canonical__ihierarchy_MonadState" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadState.Build">isMonadState.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.S">S</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.putput">putput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.putget">putget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.getputskip">getputskip</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state.getget">getget</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State.state">state</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#State">State</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">State</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Alt" class="id"><a name="Alt" class="">Alt</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Alt.list" class="id"><a name="Alt.list" class="">list</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Alt.list.M" class="id"><a name="Alt.list.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="Alt.list_alt" class="id"><a name="Alt.list_alt" class="">list_alt</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="T:272" class="id"><a name="T:272" class="">T,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#T:272">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#T:272">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#T:272">T</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:273" class="id"><a name="A:273" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#curry">curry</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#append">append</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:273">A</a></span>).<br/>
<span class="vernacular">Let</span> <span id="Alt.list.altA" class="id"><a name="Alt.list.altA" class="">altA</a></span> (<span id="T:274" class="id"><a name="T:274" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list_alt">list_alt</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#T:274">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">rewrite</span> <span class="id">/list_alt</span> <span class="id">/=</span> <span class="id">/curry</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#catA">catA</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Alt.list.alt_bindDl" class="id"><a name="Alt.list.alt_bindDl" class="">alt_bindDl</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_distributive">BindLaws.left_distributive</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list_alt">list_alt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">/=</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#list_bindE">list_bindE</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#map_cat">map_cat</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#flatten_cat">flatten_cat</a></span>.<br/>
Qed.</div>
<span id="Alt.ListMonad_acto__canonical__ihierarchy_MonadAlt" class="id"><span id="Alt.HB_unnamed_factory_110" class="id"><a name="Alt.ListMonad_acto__canonical__ihierarchy_MonadAlt" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadAlt.Build">isMonadAlt.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list.altA">altA</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list.alt_bindDl">alt_bindDl</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt.list">list</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Alt">Alt</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">Alt</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="Nondet" class="id"><a name="Nondet" class="">Nondet</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="Nondet.list" class="id"><a name="Nondet.list" class="">list</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.list.M" class="id"><a name="Nondet.list.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.list.N" class="id"><a name="Nondet.list.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadAlt.Exports.altMonad">altMonad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span><span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<span class="vernacular">Let</span> <span id="Nondet.list.altfailm" class="id"><a name="Nondet.list.altfailm" class="">altfailm</a></span> <span class="id">:</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_id">BindLaws.left_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list.M">M</a></span>) (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#alt">alt</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="Nondet.list.altmfail" class="id"><a name="Nondet.list.altmfail" class="">altmfail</a></span> <span class="id">:</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.right_id">BindLaws.right_id</a></span> <span class="id">_</span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list.M">M</a></span>) (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#alt">alt</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list.N">N</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">l</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/alt</span> <span class="id">/=</span> <span class="id">/list_alt</span> <span class="id">/=</span> <span class="id">/curry</span> <span class="id">/=</span> <span class="id">/fail</span> <span class="id">/=</span> <span class="id">/list_fail</span> <span class="id">/=</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#cats0">cats0</a></span>.<br/>
Qed.</div>
<span id="Nondet.ListMonad_acto__canonical__ihierarchy_MonadNondet" class="id"><span id="Nondet.HB_unnamed_factory_112" class="id"><a name="Nondet.ListMonad_acto__canonical__ihierarchy_MonadNondet" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadNondet.Build">isMonadNondet.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ListMonad.acto">ListMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list.altfailm">altfailm</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list.altmfail">altmfail</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet.list">list</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Nondet">Nondet</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelStateTrace" class="id"><a name="ModelStateTrace" class="">ModelStateTrace</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="ModelStateTrace.st" class="id"><a name="ModelStateTrace.st" class="">st</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ModelStateTrace.st.S" class="id"><a name="ModelStateTrace.st.S" class="">S</a></span> <span id="ModelStateTrace.st.T" class="id"><a name="ModelStateTrace.st.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.M" class="id"><a name="ModelStateTrace.st.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.T">T</a></span>)%<span class="id">type]</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_get" class="id"><a name="ModelStateTrace.st.st_get" class="">st_get</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="s:277" class="id"><a name="s:277" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:277">s</a></span>.<span class="id">1,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:277">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_put" class="id"><a name="ModelStateTrace.st.st_put" class="">st_put</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="s':278" class="id"><a name="s':278" class="">s'</a></span> <span id="s:279" class="id"><a name="s:279" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':278">s',</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:279">s</a></span>.<span class="id">2</span>))).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_mark" class="id"><a name="ModelStateTrace.st.st_mark" class="">st_mark</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.T">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> (<span class="gallina-kwd">fun</span> <span id="t:280" class="id"><a name="t:280" class="">t</a></span> <span id="s:281" class="id"><a name="s:281" class="">s</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:281">s</a></span>.<span class="id">1,</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:281">s</a></span>.<span class="id">2</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:280">t</a></span>))).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_putput" class="id"><a name="ModelStateTrace.st.st_putput" class="">st_putput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:282" class="id"><a name="s:282" class="">s</a></span> <span id="s':283" class="id"><a name="s':283" class="">s',</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:282">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':283">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':283">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_putget" class="id"><a name="ModelStateTrace.st.st_putget" class="">st_putget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:284" class="id"><a name="s:284" class="">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:284">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:284">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:284">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_getputskip" class="id"><a name="ModelStateTrace.st.st_getputskip" class="">st_getputskip</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">*;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">-[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_getget" class="id"><a name="ModelStateTrace.st.st_getget" class="">st_getget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:285" class="id"><a name="A:285" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="k:286" class="id"><a name="k:286" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:285">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:287" class="id"><a name="s:287" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:286">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:287">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:288" class="id"><a name="s:288" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:286">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:288">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:288">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_putmark" class="id"><a name="ModelStateTrace.st.st_putmark" class="">st_putmark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:289" class="id"><a name="s:289" class="">s</a></span> <span id="e:290" class="id"><a name="e:290" class="">e,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:289">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:290">e</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:290">e</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:289">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTrace.st.st_getmark" class="id"><a name="ModelStateTrace.st.st_getmark" class="">st_getmark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="e:291" class="id"><a name="e:291" class="">e</a></span> (<span id="k:292" class="id"><a name="k:292" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span>)<span class="id">,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:293" class="id"><a name="v:293" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:291">e</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:292">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:293">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#e:291">e</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:292">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ModelStateTrace.StateMonad_acto__canonical__ihierarchy_MonadStateTrace" class="id"><span id="ModelStateTrace.HB_unnamed_factory_114" class="id"><a name="ModelStateTrace.StateMonad_acto__canonical__ihierarchy_MonadStateTrace" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadStateTrace.Build">isMonadStateTrace.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.T">T</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.T">T</a></span>)%<span class="id">type</span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_get">st_get</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_put">st_put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_mark">st_mark</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_putput">st_putput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_putget">st_putget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_getputskip">st_getputskip</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_getget">st_getget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_putmark">st_putmark</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st.st_getmark">st_getmark</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace.st">st</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTrace">ModelStateTrace</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelStateTrace</span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="usual_callcc" class="id"><a name="usual_callcc" class="">usual_callcc</a></span> <span id="r:294" class="id"><a name="r:294" class="">r</a></span> (<span id="M:296" class="id"><a name="M:296" class="">M</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="C:295" class="id"><a name="C:295" class="">C</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#C:295">C</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#r:294">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#r:294">r</a></span>) <span id="A:297" class="id"><a name="A:297" class="">A</a></span> <span id="B:298" class="id"><a name="B:298" class="">B</a></span> (<span id="f:299" class="id"><a name="f:299" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:297">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:296">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:298">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:296">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:297">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:296">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:297">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="k:300" class="id"><a name="k:300" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:297">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#r:294">r</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:299">f</a></span> (<span class="gallina-kwd">fun</span> <span id="a:301" class="id"><a name="a:301" class="">a</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:300">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:301">a</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:300">k</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelCont" class="id"><a name="ModelCont" class="">ModelCont</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelCont.modelcont" class="id"><a name="ModelCont.modelcont" class="">modelcont</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelCont.modelcont.r" class="id"><a name="ModelCont.modelcont.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelCont.M" class="id"><a name="ModelCont.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.r">r</a></span>)<span class="id">]</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc" class="id"><a name="ModelCont.modelcont.callcc" class="">callcc</a></span> (<span id="A:303" class="id"><a name="A:303" class="">A</a></span> <span id="B:304" class="id"><a name="B:304" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:305" class="id"><a name="f:305" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:303">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:304">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:303">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:303">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acallcc_op">acallcc_op</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k:306" class="id"><a name="k:306" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:305">f</a></span> (<span class="gallina-kwd">fun</span> <span id="x:307" class="id"><a name="x:307" class="">x</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:306">k</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:307">x</a></span>))).<br/>
<span class="vernacular">Lemma</span> <span id="ModelCont.callccE" class="id"><a name="ModelCont.callccE" class="">callccE</a></span> (<span id="A:308" class="id"><a name="A:308" class="">A</a></span> <span id="B:309" class="id"><a name="B:309" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:310" class="id"><a name="f:310" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:308">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:309">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:308">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:310">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#usual_callcc">usual_callcc</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:310">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc0" class="id"><a name="ModelCont.modelcont.callcc0" class="">callcc0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:311" class="id"><a name="A:311" class="">A</a></span> <span id="B:312" class="id"><a name="B:312" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="g:313" class="id"><a name="g:313" class="">g</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:311">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:312">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:311">A</a></span>) (<span id="k:314" class="id"><a name="k:314" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:312">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:312">B</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:315" class="id"><a name="f:315" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#g:313">g</a></span> (<span class="gallina-kwd">fun</span> <span id="x:316" class="id"><a name="x:316" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:315">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:316">x</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:314">k</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#g:313">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc1" class="id"><a name="ModelCont.modelcont.callcc1" class="">callcc1</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:317" class="id"><a name="A:317" class="">A</a></span> <span id="B:318" class="id"><a name="B:318" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:319" class="id"><a name="m:319" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:318">B</a></span>)<span class="id">,</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:318">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:317">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:319">m</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:319">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc2" class="id"><a name="ModelCont.modelcont.callcc2" class="">callcc2</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:320" class="id"><a name="A:320" class="">A</a></span> <span id="B:321" class="id"><a name="B:321" class="">B</a></span> <span id="C:322" class="id"><a name="C:322" class="">C</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:323" class="id"><a name="m:323" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:320">A</a></span>) <span id="x:324" class="id"><a name="x:324" class="">x</a></span> (<span id="k:325" class="id"><a name="k:325" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:320">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:321">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#C:322">C</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:326" class="id"><a name="f:326" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:323">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="a:327" class="id"><a name="a:327" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:326">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:324">x</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="b:328" class="id"><a name="b:328" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:325">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:327">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#b:328">b</a></span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:329" class="id"><a name="f:329" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:323">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:329">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:324">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelCont.modelcont.callcc3" class="id"><a name="ModelCont.modelcont.callcc3" class="">callcc3</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:330" class="id"><a name="A:330" class="">A</a></span> <span id="B:331" class="id"><a name="B:331" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:332" class="id"><a name="m:332" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:330">A</a></span>) <span id="b:333" class="id"><a name="b:333" class="">b,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:334" class="id"><a name="f:334" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:331">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:331">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:332">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:334">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#b:333">b</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc">callcc</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:331">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:331">B</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:332">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#b:333">b</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ModelCont.ContMonad_acto__canonical__ihierarchy_MonadContinuation" class="id"><span id="ModelCont.HB_unnamed_factory_116" class="id"><a name="ModelCont.ContMonad_acto__canonical__ihierarchy_MonadContinuation" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadContinuation.Build">isMonadContinuation.Build</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.r">r</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc0">callcc0</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc1">callcc1</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc2">callcc2</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont.callcc3">callcc3</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont.modelcont">modelcont</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelCont">ModelCont</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelCont</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="continuation_examples" class="id"><a name="continuation_examples" class="">continuation_examples</a></span>.<br/>
<span class="vernacular">Fixpoint</span> <span id="fib" class="id"><a name="fib" class="">fib</a></span> (<span id="n:335" class="id"><a name="n:335" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:335">n</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">1</span> <span class="id">=&gt;</span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> (<span class="id">m</span>.<span class="id">+1</span> <span class="gallina-kwd">as</span> <span class="id">sm</span>).<span class="id">+1</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib:336">fib</a></span> <span class="id">sm</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib:336">fib</a></span> <span class="id">m</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Fixpoint</span> <span id="fib_cps" class="id"><a name="fib_cps" class="">fib_cps</a></span> <span class="id">{M</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad}</a></span> (<span id="n:339" class="id"><a name="n:339" class="">n</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:338">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:339">n</a></span> <span class="gallina-kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">0</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> <span class="id">1</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span> (<span class="id">m</span>.<span class="id">+1</span> <span class="gallina-kwd">as</span> <span class="id">sm</span>).<span class="id">+1</span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cps:340">fib_cps</a></span> <span class="id">sm</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="a:342" class="id"><a name="a:342" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cps:340">fib_cps</a></span> <span class="id">m</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="b:343" class="id"><a name="b:343" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:342">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#b:343">b</a></span>)<br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="fib_cpsE" class="id"><a name="fib_cpsE" class="">fib_cpsE</a></span> (<span id="M:344" class="id"><a name="M:344" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="n:345" class="id"><a name="n:345" class="">n</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:345">n</a></span>.<span class="id">+2</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:345">n</a></span>.<span class="id">+1</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="a:346" class="id"><a name="a:346" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:345">n</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="b:347" class="id"><a name="b:347" class="">b</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:346">a</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#b:347">b</a></span>)) <span class="id">:&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:344">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="continuation_examples.nat_ind2" class="id"><a name="continuation_examples.nat_ind2" class="">nat_ind2</a></span> (<span id="P:348" class="id"><a name="P:348" class="">P</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="gallina-kwd">Prop</span>) (<span id="P0:349" class="id"><a name="P0:349" class="">P0</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#P:348">P</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O</a></span>) (<span id="P1:350" class="id"><a name="P1:350" class="">P1</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#P:348">P</a></span> <span class="id">1</span>) <span class="id">:</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">forall</span> <span id="m:351" class="id"><a name="m:351" class="">m,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#P:348">P</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:351">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#P:348">P</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:351">m</a></span>.<span class="id">+1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#P:348">P</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:351">m</a></span>.<span class="id">+2</span>) <span class="id">-&gt;</span> <span class="gallina-kwd">forall</span> <span id="m:352" class="id"><a name="m:352" class="">m,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#P:348">P</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:352">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
<span class="id">move=&gt;</span> <span class="id">H</span> <span class="id">n;</span> <span class="id">suff</span> <span class="id">:</span> <span class="id">P</span> <span class="id">n</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd">/\</a></span> <span class="id">P</span> <span class="id">n</span>.<span class="id">+1</span> <span class="gallina-kwd">by</span> <span class="id">case</span>.<br/>
<span class="id">elim:</span> <span class="id">n</span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">[]</span> <span class="id">H1</span> <span class="id">H2;</span> <span class="id">split</span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">exact:</span> <span class="id">H</span>.<br/>
Qed.</div>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> (<span id="M:353" class="id"><a name="M:353" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="n:354" class="id"><a name="n:354" class="">n,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cps">fib_cps</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:354">n</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib">fib</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:354">n</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:353">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">move=&gt;</span> <span class="id">M;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#continuation_examples.nat_ind2">nat_ind2</a></span> <span class="id">=&gt;</span> <span class="id">//</span> <span class="id">n</span> <span class="id">ih1</span> <span class="id">ih2</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#fib_cpsE">fib_cpsE</a></span> <span class="id">ih2</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf</a></span> <span class="id">ih1</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf</a></span>.<br/>
Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="oaddn" class="id"><a name="oaddn" class="">oaddn</a></span> (<span id="M:355" class="id"><a name="M:355" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="acc:356" class="id"><a name="acc:356" class="">acc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="x:357" class="id"><a name="x:357" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:355">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:357">x</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:357">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acc:356">acc</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acc:356">acc</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sum_just" class="id"><a name="sum_just" class="">sum_just</a></span> <span id="M:359" class="id"><a name="M:359" class="">M</a></span> (<span id="xs:360" class="id"><a name="xs:360" class="">xs</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#foldM">foldM</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#oaddn">oaddn</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:359">M</a></span>) <span class="id">0</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#xs:360">xs</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="oaddn_break" class="id"><a name="oaddn_break" class="">oaddn_break</a></span> (<span id="M:361" class="id"><a name="M:361" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="break:362" class="id"><a name="break:362" class="">break</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:361">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="acc:363" class="id"><a name="acc:363" class="">acc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="x:364" class="id"><a name="x:364" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:361">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:364">x</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:364">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acc:363">acc</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#break:362">break</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acc:363">acc</a></span>.<br/>
<span class="vernacular">Let</span> <span id="continuation_examples.M" class="id"><a name="continuation_examples.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="sum_break" class="id"><a name="sum_break" class="">sum_break</a></span> (<span id="xs:366" class="id"><a name="xs:366" class="">xs</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#continuation_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="break:367" class="id"><a name="break:367" class="">break</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#continuation_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#foldM">foldM</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#oaddn_break">oaddn_break</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#break:367">break</a></span>) <span class="id">0</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#xs:366">xs</a></span>).<br/>
<br/>
<span class="vernacular">Compute</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#sum_break">sum_break</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">2;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">6;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">4]</span>).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="f:368" class="id"><a name="f:368" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:368">f</a></span> <span class="id">100</span>))) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#continuation_examples.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Abort.</div>
<br/>
<br/>
<span class="vernacular">Fixpoint</span> <span id="list_iter" class="id"><a name="list_iter" class="">list_iter</a></span> (<span id="M:369" class="id"><a name="M:369" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span>) <span id="A:370" class="id"><a name="A:370" class="">A</a></span> (<span id="f:371" class="id"><a name="f:371" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:370">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:369">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) (<span id="s:372" class="id"><a name="s:372" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:370">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:369">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:372">s</a></span> <span class="id">is</span> <span class="id">h</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">t</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:371">f</a></span> <span class="id">h</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#list_iter:373">list_iter</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:371">f</a></span> <span class="id">t</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<br/>
<span class="vernacular">Compute</span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#list_iter">list_iter</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> (<span class="gallina-kwd">fun</span> <span id="a:375" class="id"><a name="a:375" class="">a</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#O">O;</a></span> <span class="id">1;</span> <span class="id">2]</span>).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="list_find" class="id"><a name="list_find" class="">list_find</a></span> (<span id="M:376" class="id"><a name="M:376" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span>) (<span id="A:377" class="id"><a name="A:377" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="p:378" class="id"><a name="p:378" class="">p</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:377">A</a></span>) (<span id="s:379" class="id"><a name="s:379" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:377">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#M:376">M</a></span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="k:380" class="id"><a name="k:380" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#list_iter">list_iter</a></span> (<span class="gallina-kwd">fun</span> <span id="x:381" class="id"><a name="x:381" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#p:378">p</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:381">x</a></span> <span class="gallina-kwd">then</span>  <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:380">k</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:381">x</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:379">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<br/>
<span class="vernacular">Compute</span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#list_find">list_find</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool]</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">[pred</a></span> <span id="x:382" class="id"><a name="x:382" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#odd">odd</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:382">x]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">2;</span> <span class="id">4;</span> <span class="id">6]</span>).<br/>
<br/>
<br/>
<span class="vernacular">Compute</span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#list_find">list_find</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#bool">bool</a></span>)<span class="id">]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">[pred</a></span> <span id="x:383" class="id"><a name="x:383" class="">x</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524">|</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#odd">odd</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:383">x]</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">2;</span> <span class="id">4;</span> <span class="id">3;</span> <span class="id">6]</span>).<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#continuation_examples">continuation_examples</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelShiftReset" class="id"><a name="ModelShiftReset" class="">ModelShiftReset</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelShiftReset.modelshiftreset" class="id"><a name="ModelShiftReset.modelshiftreset" class="">modelshiftreset</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelShiftReset.modelshiftreset.r" class="id"><a name="ModelShiftReset.modelshiftreset.r" class="">r</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.M" class="id"><a name="ModelShiftReset.modelshiftreset.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadContinuation.Exports.contMonad">contMonad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r]</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelShiftReset.shift" class="id"><a name="ModelShiftReset.shift" class="">shift</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span> <span id="A:385" class="id"><a name="A:385" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0,</a></span> ((<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:385">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:385">A</a></span> <span class="id">:=</span><br/>
&nbsp;<span class="gallina-kwd">fun</span> <span id="A:386" class="id"><a name="A:386" class="">A</a></span> <span id="h:387" class="id"><a name="h:387" class="">h</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="c:388" class="id"><a name="c:388" class="">c</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#h:387">h</a></span> (<span class="gallina-kwd">fun</span> <span id="v:389" class="id"><a name="v:389" class="">v</a></span> <span id="c':390" class="id"><a name="c':390" class="">c'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c':390">c'</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:388">c</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:389">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">ssrfun.id</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelShiftReset.reset" class="id"><a name="ModelShiftReset.reset" class="">reset</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="m:391" class="id"><a name="m:391" class="">m</a></span>  <span class="id">=&gt;</span> <span class="gallina-kwd">fun</span> <span id="c:392" class="id"><a name="c:392" class="">c</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:392">c</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:391">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">ssrfun.id</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset0" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset0" class="">shiftreset0</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:393" class="id"><a name="A:393" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:394" class="id"><a name="m:394" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:393">A</a></span>)<span class="id">,</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k:395" class="id"><a name="k:395" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:394">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:395">k</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:394">m</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset1" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset1" class="">shiftreset1</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:396" class="id"><a name="A:396" class="">A</a></span> <span id="B:397" class="id"><a name="B:397" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="h:398" class="id"><a name="h:398" class="">h</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:396">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:397">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:396">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#callcc">callcc</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#h:398">h</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k':399" class="id"><a name="k':399" class="">k'</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#h:398">h</a></span> (<span class="gallina-kwd">fun</span> <span id="x:400" class="id"><a name="x:400" class="">x</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="k'':401" class="id"><a name="k'':401" class="">k''</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k':399">k'</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:400">x</a></span>)) <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k':399">k'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset2" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset2" class="">shiftreset2</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:402" class="id"><a name="A:402" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="c:403" class="id"><a name="c:403" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:402">A</a></span>) (<span id="c':404" class="id"><a name="c':404" class="">c':</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) (<span id="k:405" class="id"><a name="k:405" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:402">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:406" class="id"><a name="x:406" class="">x</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:403">c;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:407" class="id"><a name="y:407" class="">y</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c':404">c'</a></span>)<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:405">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:406">x</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#y:407">y</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:403">c</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c':404">c'</a></span>)%<span class="id">Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset3" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset3" class="">shiftreset3</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="c:408" class="id"><a name="c:408" class="">c</a></span> <span id="c':409" class="id"><a name="c':409" class="">c'</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) (<span id="k:410" class="id"><a name="k:410" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span>)<span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:411" class="id"><a name="x:411" class="">x</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:408">c;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:414" class="id"><a name="y:414" class="">y</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:412" class="id"><a name="f:412" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="v:413" class="id"><a name="v:413" class="">v</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:412">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c':409">c';</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:412">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:413">v</a></span>)<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:410">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:411">x</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#y:414">y</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="x:415" class="id"><a name="x:415" class="">x</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:408">c;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:417" class="id"><a name="y:417" class="">y</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (<span class="gallina-kwd">fun</span> <span id="f:416" class="id"><a name="f:416" class="">f</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:416">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c':409">c'</a></span>)<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:410">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:415">x</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:410">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:415">x</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#y:417">y</a></span>))))%<span class="id">Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelShiftReset.modelshiftreset.shiftreset4" class="id"><a name="ModelShiftReset.modelshiftreset.shiftreset4" class="">shiftreset4</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="c:418" class="id"><a name="c:418" class="">c</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>) <span id="k:419" class="id"><a name="k:419" class="">k,</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">do</a></span> <span id="y:420" class="id"><a name="y:420" class="">y</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">&lt;-</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.shift">shift</a></span> <span class="id">_</span> (@<span class="id">^~</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:418">c</a></span>)<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#9ea10614b4f1828e308ae6355a0a3b02">;</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:419">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#y:420">y</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:419">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#c:418">c</a></span>))%<span class="id">Do</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelShiftReset.ContMonad_acto__canonical__ihierarchy_MonadShiftReset" class="id"><span id="ModelShiftReset.HB_unnamed_factory_118" class="id"><a name="ModelShiftReset.ContMonad_acto__canonical__ihierarchy_MonadShiftReset" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadShiftReset.Build">isMonadShiftReset.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ContMonad.acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.r">r</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.shiftreset0">shiftreset0</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.shiftreset1">shiftreset1</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.shiftreset2">shiftreset2</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.shiftreset3">shiftreset3</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset.shiftreset4">shiftreset4</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset.modelshiftreset">modelshiftreset</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelShiftReset">ModelShiftReset</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelShiftReset</span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="shiftreset_examples" class="id"><a name="shiftreset_examples" class="">shiftreset_examples</a></span>.<br/>
<span class="vernacular">Let</span> <span id="shiftreset_examples.M" class="id"><a name="shiftreset_examples.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat]</a></span>.<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:421" class="id"><a name="f:421" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:421">f</a></span> (<span class="id">100</span>) <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:421">f</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> (<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> (<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Abort.</div>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:422" class="id"><a name="f:422" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">100</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Abort.</div>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">10</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:423" class="id"><a name="f:423" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:423">f</a></span> <span class="id">100</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:423">f</a></span> <span class="id">1000</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id">1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> ((<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">100</span>) <span class="id">+</span> (<span class="id">10</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">1000</span>))).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Abort.</div>
<br/>
<span class="vernacular">Let</span> <span id="shiftreset_examples.N" class="id"><a name="shiftreset_examples.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadShiftReset.Exports.shiftresetMonad">shiftresetMonad</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">]</a></span>.<br/>
<span class="vernacular">Fixpoint</span> <span id="perverse" class="id"><a name="perverse" class="">perverse</a></span> (<span id="l:424" class="id"><a name="l:424" class="">l</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.N">N</a></span> (<span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:424">l</a></span> <span class="id">is</span> <span class="id">h</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id">t</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:427" class="id"><a name="f:427" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.N">N</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">h</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:428" class="id"><a name="x:428" class="">x</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#perverse:425">perverse</a></span> <span class="id">t</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:427">f</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="y:429" class="id"><a name="y:429" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:428">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x">::</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#y:429">y</a></span>))))<br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626">[::]</a></span>.<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#perverse">perverse</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">1;</span> <span class="id">2;</span> <span class="id">3]</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id">3;</span> <span class="id">2;</span> <span class="id">1]</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">[]</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">Definition</span> <span id="stranger" class="id"><a name="stranger" class="">stranger</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">let</span> <span id="g:433" class="id"><a name="g:433" class="">g</a></span> <span id="b:430" class="id"><a name="b:430" class="">b</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> ((<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="f:431" class="id"><a name="f:431" class="">f</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:431">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#b:430">b</a></span>) <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="x:432" class="id"><a name="x:432" class="">x</a></span> <span class="id">=&gt;</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:432">x</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">2</span> <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">3</span>))) <span class="gallina-kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#g:433">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#g:433">g</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#stranger">stranger</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">5</span>. <span class="gallina-kwd">by</span> <span class="id">[]</span>. Abort.</div>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">2</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="k:434" class="id"><a name="k:434" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:434">k</a></span> <span class="id">3</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">6</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/addM</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Abort.</div>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#reset">reset</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">2</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#bcd06a636910308fc155f844c4b9fc4d">*m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="k:435" class="id"><a name="k:435" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:435">k</a></span> <span class="id">4</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">*m</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shift">shift</a></span> (<span class="gallina-kwd">fun</span> <span id="k:436" class="id"><a name="k:436" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:436">k</a></span> <span class="id">3</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#7aa8cb8e47c797318e09c69d9adc22d2">+m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">1</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#::core_scope:x_':'_x">:</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span> ) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id">26</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples.M">M</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mulM</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindretf">bindretf;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span>. Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#shiftreset_examples">shiftreset_examples</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelStateLoop" class="id"><a name="ModelStateLoop" class="">ModelStateLoop</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelStateLoop.modelstateloop" class="id"><a name="ModelStateLoop.modelstateloop" class="">modelstateloop</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelStateLoop.modelstateloop.S" class="id"><a name="ModelStateLoop.modelstateloop.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelStateLoop.M" class="id"><a name="ModelStateLoop.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.modelstateloop.S">S</a></span>).<br/>
<span class="vernacular">Fixpoint</span> <span id="ModelStateLoop.mforeach" class="id"><a name="ModelStateLoop.mforeach" class="">mforeach</a></span> (<span id="it:438" class="id"><a name="it:438" class="">it</a></span> <span id="min:439" class="id"><a name="min:439" class="">min</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="body:440" class="id"><a name="body:440" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#it:438">it</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3">&lt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#min:439">min</a></span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#it:438">it</a></span> <span class="id">is</span> <span class="id">it'</span>.<span class="id">+1</span> <span class="gallina-kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#body:440">body</a></span> <span class="id">it'</span>) <span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#mforeach:441">mforeach</a></span> <span class="id">it'</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#min:439">min</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#body:440">body</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelStateLoop.modelstateloop.loop0" class="id"><a name="ModelStateLoop.modelstateloop.loop0" class="">loop0</a></span> <span id="m:443" class="id"><a name="m:443" class="">m</a></span> <span id="body:444" class="id"><a name="body:444" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.mforeach">mforeach</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:443">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:443">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#body:444">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
 <span class="gallina-kwd">by</span> <span class="id">case:</span> <span class="id">m</span> <span class="id">=&gt;</span> <span class="id">//=</span> <span class="id">n;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnS">ltnS</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leqnn">leqnn</a></span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateLoop.modelstateloop.loop1" class="id"><a name="ModelStateLoop.modelstateloop.loop1" class="">loop1</a></span> <span id="m:445" class="id"><a name="m:445" class="">m</a></span> <span id="n:446" class="id"><a name="n:446" class="">n</a></span> <span id="body:447" class="id"><a name="body:447" class="">body</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.mforeach">mforeach</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:445">m</a></span>.<span class="id">+1</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:446">n</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:445">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#body:447">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#body:447">body</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:445">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:446">n</a></span>)) <span class="id">&gt;&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.mforeach">mforeach</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:445">m</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#n:446">n</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:445">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#body:447">body</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/mforeach</span> <span class="id">/=;</span> <span class="id">case:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> <span class="id">=&gt;</span> <span class="id">//;</span> <span class="id">rewrite</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#ltnNge">ltnNge</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#leq_addr">leq_addr</a></span>. Qed.</div>
<span id="ModelStateLoop.StateMonad_acto__canonical__ihierarchy_MonadStateLoop" class="id"><span id="ModelStateLoop.HB_unnamed_factory_120" class="id"><a name="ModelStateLoop.StateMonad_acto__canonical__ihierarchy_MonadStateLoop" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadStateLoop.Build">isMonadStateLoop.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.modelstateloop.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.modelstateloop.loop0">loop0</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.modelstateloop.loop1">loop1</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop.modelstateloop">modelstateloop</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateLoop">ModelStateLoop</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelStateLoop</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelReify" class="id"><a name="ModelReify" class="">ModelReify</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelReify.modelreify" class="id"><a name="ModelReify.modelreify" class="">modelreify</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="ModelReify.modelreify.S" class="id"><a name="ModelReify.modelreify.S" class="">S</a></span> <span id="ModelReify.modelreify.T" class="id"><a name="ModelReify.modelreify.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelReify.state_trace" class="id"><a name="ModelReify.state_trace" class="">state_trace</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.T">T</a></span>)%<span class="id">type</span>.<br/>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.M" class="id"><a name="ModelReify.modelreify.M" class="">M</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.state_trace">state_trace</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.reify" class="id"><a name="ModelReify.modelreify.reify" class="">reify</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:450" class="id"><a name="A:450" class="">A,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:450">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.state_trace">state_trace</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:450">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.state_trace">state_trace</a></span>) <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:451" class="id"><a name="A:451" class="">A</a></span> <span id="m:452" class="id"><a name="m:452" class="">m</a></span> <span id="s:453" class="id"><a name="s:453" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:452">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:453">s</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.reifyret" class="id"><a name="ModelReify.modelreify.reifyret" class="">reifyret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:454" class="id"><a name="A:454" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="a:455" class="id"><a name="a:455" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:454">A</a></span>) <span id="s:456" class="id"><a name="s:456" class="">s,</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:455">a</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:456">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:455">a,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:456">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelReify.modelreify.reifybind" class="id"><a name="ModelReify.modelreify.reifybind" class="">reifybind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:457" class="id"><a name="A:457" class="">A</a></span> <span id="B:458" class="id"><a name="B:458" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:459" class="id"><a name="m:459" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:457">A</a></span>) (<span id="f:460" class="id"><a name="f:460" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:457">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:458">B</a></span>) <span id="s:461" class="id"><a name="s:461" class="">s,</a></span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:459">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:460">f</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:461">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="gallina-kwd">match</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:459">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:461">s</a></span> <span class="gallina-kwd">with</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a's'</span> <span class="id">=&gt;</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.reify">reify</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:460">f</a></span> <span class="id">a's'</span>.<span class="id">1</span>) <span class="id">a's'</span>.<span class="id">2</span> <span class="id">|</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span> <span class="gallina-kwd">end</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">B</span> <span class="id">m0</span> <span class="id">f</span> <span class="id">s</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#state_bindE">state_bindE</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">/uncurry</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/comp</span> <span class="id">/=</span> <span class="id">/reify</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case</span> (<span class="id">m0</span> <span class="id">s</span>).<br/>
Qed.</div>
<span id="ModelReify.StateMonad_acto__canonical__ihierarchy_MonadReify" class="id"><span id="ModelReify.HB_unnamed_factory_122" class="id"><a name="ModelReify.StateMonad_acto__canonical__ihierarchy_MonadReify" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadReify.Build">isMonadReify.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.state_trace">state_trace</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.state_trace">state_trace</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.reifyret">reifyret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify.reifybind">reifybind</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify.modelreify">modelreify</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelReify">ModelReify</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelReify</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelStateTraceReify" class="id"><a name="ModelStateTraceReify" class="">ModelStateTraceReify</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelStateTraceReify.modelstatetracereify" class="id"><a name="ModelStateTraceReify.modelstatetracereify" class="">modelstatetracereify</a></span>.<br/>
<span class="vernacular">Variables</span> <span id="ModelStateTraceReify.modelstatetracereify.S" class="id"><a name="ModelStateTraceReify.modelstatetracereify.S" class="">S</a></span> <span id="ModelStateTraceReify.modelstatetracereify.T" class="id"><a name="ModelStateTraceReify.modelstatetracereify.T" class="">T</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.acto" class="id"><a name="ModelStateTraceReify.modelstatetracereify.acto" class="">acto</a></span> <span class="id">:=</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span>)).<br/>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.reifystget" class="id"><a name="ModelStateTraceReify.modelstatetracereify.reifystget" class="">reifystget</a></span> <span class="id">:</span>  <span class="gallina-kwd">forall</span> <span id="s:464" class="id"><a name="s:464" class="">s</a></span> <span id="l:465" class="id"><a name="l:465" class="">l,</a></span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#reify">reify</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#st_get">st_get</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.acto">acto]</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:464">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:465">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:464">s,</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:464">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:465">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.reifystput" class="id"><a name="ModelStateTraceReify.modelstatetracereify.reifystput" class="">reifystput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:466" class="id"><a name="s:466" class="">s</a></span> <span id="l:467" class="id"><a name="l:467" class="">l</a></span> <span id="s':468" class="id"><a name="s':468" class="">s',</a></span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#reify">reify</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#st_put">st_put</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.acto">acto]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':468">s'</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:466">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:467">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':468">s',</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:467">l</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelStateTraceReify.modelstatetracereify.reifystmark" class="id"><a name="ModelStateTraceReify.modelstatetracereify.reifystmark" class="">reifystmark</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="t:469" class="id"><a name="t:469" class="">t</a></span> <span id="s:470" class="id"><a name="s:470" class="">s</a></span> <span id="l:471" class="id"><a name="l:471" class="">l,</a></span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#reify">reify</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#st_mark">st_mark</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadStateTrace.Exports.stateTraceMonad">stateTraceMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.acto">acto]</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:469">t</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:470">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:471">l</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:470">s,</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#rcons">rcons</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#l:471">l</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#t:469">t</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span id="ModelStateTraceReify.StateMonad_acto__canonical__ihierarchy_MonadStateTraceReify" class="id"><span id="ModelStateTraceReify.HB_unnamed_factory_124" class="id"><a name="ModelStateTraceReify.StateMonad_acto__canonical__ihierarchy_MonadStateTraceReify" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadStateTraceReify.Build">isMonadStateTraceReify.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.T">T</a></span>)) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.reifystget">reifystget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.reifystput">reifystput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify.reifystmark">reifystmark</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify.modelstatetracereify">modelstatetracereify</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelStateTraceReify">ModelStateTraceReify</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelArray" class="id"><a name="ModelArray" class="">ModelArray</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelArray.modelarray" class="id"><a name="ModelArray.modelarray" class="">modelarray</a></span>.<br/>
<span class="vernacular">Variables</span> (<span id="ModelArray.modelarray.S" class="id"><a name="ModelArray.modelarray.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="ModelArray.modelarray.I" class="id"><a name="ModelArray.modelarray.I" class="">I</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType">eqType</a></span>).<br/>
<span class="vernacular">Implicit</span> <span class="id">Types</span> (<span class="id">i</span> <span class="id">j</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.I">I</a></span>) (<span class="id">A</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="ModelArray.acto" class="id"><a name="ModelArray.acto" class="">acto</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#StateMonad.acto">StateMonad.acto</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.I">I</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span>).<br/>
<span class="vernacular">Local</span> <span class="vernacular">Notation</span> <span id="ModelArray.M" class="id"><a name="ModelArray.M" class="">M</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.acto">acto</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelArray.aget" class="id"><a name="ModelArray.aget" class="">aget</a></span> <span id="i:474" class="id"><a name="i:474" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:475" class="id"><a name="a:475" class="">a</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:475">a</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:474">i,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:475">a</a></span>).<br/>
<span class="vernacular">Definition</span> <span id="ModelArray.aput" class="id"><a name="ModelArray.aput" class="">aput</a></span> <span id="i:476" class="id"><a name="i:476" class="">i</a></span> <span id="s:477" class="id"><a name="s:477" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="a:478" class="id"><a name="a:478" class="">a</a></span> <span class="id">=&gt;</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert">insert</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:476">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:477">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:478">a</a></span>).<br/>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputput" class="id"><a name="ModelArray.modelarray.aputput" class="">aputput</a></span> <span id="i:479" class="id"><a name="i:479" class="">i</a></span> <span id="s:480" class="id"><a name="s:480" class="">s</a></span> <span id="s':481" class="id"><a name="s':481" class="">s'</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:479">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:480">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:479">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':481">s'</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:479">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':481">s'</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#state_bindE">state_bindE;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert_insert">insert_insert</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputget" class="id"><a name="ModelArray.modelarray.aputget" class="">aputget</a></span> <span id="i:482" class="id"><a name="i:482" class="">i</a></span> <span id="s:483" class="id"><a name="s:483" class="">s</a></span> <span id="A:484" class="id"><a name="A:484" class="">A</a></span> (<span id="k:485" class="id"><a name="k:485" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:484">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:482">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:483">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:482">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:485">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:482">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:483">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:485">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:483">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#state_bindE">state_bindE;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert_same">insert_same</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.agetputskip" class="id"><a name="ModelArray.modelarray.agetputskip" class="">agetputskip</a></span> <span id="i:486" class="id"><a name="i:486" class="">i</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:486">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:486">i</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#skip">skip</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#state_bindE">state_bindE;</a></span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insert_same2">insert_same2</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.agetget" class="id"><a name="ModelArray.modelarray.agetget" class="">agetget</a></span> <span id="i:487" class="id"><a name="i:487" class="">i</a></span> <span id="A:488" class="id"><a name="A:488" class="">A</a></span> (<span id="k:489" class="id"><a name="k:489" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:488">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:487">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:490" class="id"><a name="s:490" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:487">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:489">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:490">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:487">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="s:491" class="id"><a name="s:491" class="">s</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:489">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:491">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:491">s</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.agetC" class="id"><a name="ModelArray.modelarray.agetC" class="">agetC</a></span> <span id="i:492" class="id"><a name="i:492" class="">i</a></span> <span id="j:493" class="id"><a name="j:493" class="">j</a></span> <span id="A:494" class="id"><a name="A:494" class="">A</a></span> (<span id="k:495" class="id"><a name="k:495" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:494">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:492">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:496" class="id"><a name="u:496" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:493">j</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:497" class="id"><a name="v:497" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:495">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:496">u</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:497">v</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:493">j</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:498" class="id"><a name="v:498" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:492">i</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="u:499" class="id"><a name="u:499" class="">u</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:495">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:499">u</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:498">v</a></span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputC" class="id"><a name="ModelArray.modelarray.aputC" class="">aputC</a></span> <span id="i:500" class="id"><a name="i:500" class="">i</a></span> <span id="j:501" class="id"><a name="j:501" class="">j</a></span> <span id="u:502" class="id"><a name="u:502" class="">u</a></span> <span id="v:503" class="id"><a name="v:503" class="">v</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:500">i</a></span> <span class="id">!=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:501">j</a></span>) <span class="id">\/</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:502">u</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:503">v</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:500">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:502">u</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:501">j</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:503">v</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:501">j</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:503">v</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:500">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:502">u</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">[ij|-&gt;{u}];</span> <span class="id">rewrite</span> <span class="id">!state_bindE</span> <span class="id">/aput;</span> <span class="id">apply/funext</span> <span class="id">=&gt;</span> <span class="id">a/=;</span><br/>
&nbsp;&nbsp;<span class="id">[rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insertC">insertC|rewrite</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#insertC2">insertC2]</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelArray.modelarray.aputgetC" class="id"><a name="ModelArray.modelarray.aputgetC" class="">aputgetC</a></span> <span id="i:504" class="id"><a name="i:504" class="">i</a></span> <span id="j:505" class="id"><a name="j:505" class="">j</a></span> <span id="u:506" class="id"><a name="u:506" class="">u</a></span> <span id="A:507" class="id"><a name="A:507" class="">A</a></span> (<span id="k:508" class="id"><a name="k:508" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:507">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:504">i</a></span> <span class="id">!=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:505">j</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:504">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:506">u</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:505">j</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:508">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aget">aget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#j:505">j</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> (<span class="gallina-kwd">fun</span> <span id="v:509" class="id"><a name="v:509" class="">v</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.aput">aput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#i:504">i</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#u:506">u</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#::monae_scope:x_'&gt;&gt;'_x">&gt;&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:508">k</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#v:509">v</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
<span class="id">move=&gt;</span> <span class="id">ij;</span> <span class="id">rewrite</span> <span class="id">/aput</span> <span class="id">!state_bindE;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">a/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#state_bindE">state_bindE/=</a></span> <span class="id">{1}/insert</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> <span class="id">ij</span>).<br/>
Qed.</div>
<span id="ModelArray.HB_unnamed_factory_126" class="id"><a name="ModelArray.HB_unnamed_factory_126" class="hierarchy-builder">HB.instance</a></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadArray.Build">isMonadArray.Build</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.I">I</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.acto">acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.aputput">aputput</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.aputget">aputget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.agetputskip">agetputskip</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.agetget">agetget</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.agetC">agetC</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.aputC">aputC</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray.aputgetC">aputgetC</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray.modelarray">modelarray</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelArray">ModelArray</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="vernacular">Section</span> <span id="monad_transformer_calcul" class="id"><a name="monad_transformer_calcul" class="">monad_transformer_calcul</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="monad_transformer_calcul.contTi" class="id"><a name="monad_transformer_calcul.contTi" class="">contTi</a></span> <span id="T:510" class="id"><a name="T:510" class="">T</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MC">MC</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#T:510">T</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="break_if_none" class="id"><a name="break_if_none" class="">break_if_none</a></span> (<span id="m:511" class="id"><a name="m:511" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span>) (<span id="break:512" class="id"><a name="break:512" class="">break</a></span> <span class="id">:</span> <span class="id">_</span>) (<span id="acc:513" class="id"><a name="acc:513" class="">acc</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span id="x:514" class="id"><a name="x:514" class="">x</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:511">m</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">if</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:514">x</a></span> <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> <span class="gallina-kwd">then</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:514">x</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acc:513">acc</a></span>) <span class="gallina-kwd">else</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#break:512">break</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acc:513">acc</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="sum_until_none" class="id"><a name="sum_until_none" class="">sum_until_none</a></span> (<span id="xs:516" class="id"><a name="xs:516" class="">xs</a></span> <span class="id">:</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#seq">seq</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span>)) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="break:517" class="id"><a name="break:517" class="">break</a></span> <span class="id">:</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ifail_lib.html#foldM">foldM</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#break_if_none">break_if_none</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#break:517">break</a></span>) <span class="id">0</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#xs:516">xs</a></span>).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#sum_until_none">sum_until_none</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.seq.html#9e9281397dab83046645f1b62dbb2487">[::</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">2;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">6;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None;</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">4]</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id">^~</span> <span class="id">8</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">cbv</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">Definition</span> <span id="calcul" class="id"><a name="calcul" class="">calcul</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;(<span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#5ffd50877ab4fcdc0107cf881b980bc8">#</a></span> (<span class="gallina-kwd">fun</span> <span id="x:518" class="id"><a name="x:518" class="">x</a></span> <span class="id">=&gt;</span> <span class="id">8</span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:518">x</a></span>))<br/>
&nbsp;&nbsp;(<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#callcc">callcc</a></span> (<span class="gallina-kwd">fun</span> <span id="k:519" class="id"><a name="k:519" class="">k</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#monad_transformer_calcul.contTi">contTi</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id">_</span> <span class="id">=&gt;</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:519">k</a></span> <span class="id">5</span>) <span class="id">&gt;&gt;=</span> (<span class="gallina-kwd">fun</span> <span id="y:520" class="id"><a name="y:520" class="">y</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#y:520">y</a></span> <span class="id"><a href="https://math-comp.github.io/htmldoc_1_18_0/mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633">+</a></span> <span class="id">4</span>)))).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#calcul">calcul</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id">^~</span> <span class="id">13</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">cbv</span>.<br/>
Abort.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#monad_transformer_calcul">monad_transformer_calcul</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="examples_of_algebraic_lifting" class="id"><a name="examples_of_algebraic_lifting" class="">examples_of_algebraic_lifting</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="examples_of_algebraic_lifting.state_exceptT" class="id"><a name="examples_of_algebraic_lifting.state_exceptT" class="">state_exceptT</a></span>.<br/>
<span class="vernacular">Let</span> <span id="examples_of_algebraic_lifting.state_exceptT.M" class="id"><a name="examples_of_algebraic_lifting.state_exceptT.M" class="">M</a></span> <span id="S:521" class="id"><a name="S:521" class="">S</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:521">S]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aLGet" class="id"><a name="aLGet" class="">aLGet</a></span> <span class="id">{Z</span> <span id="S:523" class="id"><a name="S:523" class="">S}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsGet.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:523">S]</a></span>.<span class="id">-aoperation</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Z:522">Z</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:523">S</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#alifting">alifting</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#get_aop">get_aop</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:523">S</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:523">S</a></span>)).<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aLPut" class="id"><a name="aLPut" class="">aLPut</a></span> <span class="id">{Z</span> <span id="S:525" class="id"><a name="S:525" class="">S}</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateOpsPut.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:525">S]</a></span>.<span class="id">-operation</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Z:524">Z</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:525">S</a></span>)) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#alifting">alifting</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#put_aop">put_aop</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:525">S</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:525">S</a></span>)).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> <span id="Z:526" class="id"><a name="Z:526" class="">Z</a></span> (<span id="S:527" class="id"><a name="S:527" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span id="X:528" class="id"><a name="X:528" class="">X</a></span> (<span id="k:529" class="id"><a name="k:529" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:527">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Z:526">Z</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:527">S</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#X:528">X</a></span>)<span class="id">,</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#aLGet">aLGet</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:529">k</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#get_op">get_op</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:529">k</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Z</span> <span class="id">S</span> <span class="id">X</span> <span class="id">k;</span> <span class="id">rewrite</span> <span class="id">/aLGet</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> <span id="Z:530" class="id"><a name="Z:530" class="">Z</a></span> <span id="S:531" class="id"><a name="S:531" class="">S,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#aLGet">aLGet</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#Lift">Lift</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MonadT.Exports.monadT">monadT</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#exceptT">exceptT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#Z:530">Z]</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:531">S</a></span>) <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:531">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:531">S</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">StateMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#S:531">S]</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">Z</span> <span class="id">S;</span> <span class="id">rewrite</span> <span class="id">/aLGet</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.state_exceptT">state_exceptT</a></span>.<br/>
<br/>
<span class="vernacular">Section</span> <span id="examples_of_algebraic_lifting.continuation_stateT" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT" class="">continuation_stateT</a></span>.<br/>
<span class="vernacular">Variable</span> (<span id="examples_of_algebraic_lifting.continuation_stateT.r" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT.r" class="">r</a></span> <span id="examples_of_algebraic_lifting.continuation_stateT.S" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>).<br/>
<span class="vernacular">Let</span> <span id="examples_of_algebraic_lifting.continuation_stateT.M" class="id"><a name="examples_of_algebraic_lifting.continuation_stateT.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContMonad.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="aLCallcc" class="id"><a name="aLCallcc" class="">aLCallcc</a></span> <span class="id">:</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Functor.Exports.functor">functor</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#acto">ContOpsAcallcc.acto</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r]</a></span>.<span class="id">-aoperation</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span>) <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#alifting">alifting</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#callcc_aop">callcc_aop</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#Lift">Lift</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span>).<br/>
<br/>
<span class="vernacular">Goal</span> <span class="gallina-kwd">forall</span> <span id="A:534" class="id"><a name="A:534" class="">A</a></span> (<span id="f:535" class="id"><a name="f:535" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:534">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:534">A</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#aLCallcc">aLCallcc</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:535">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> (<span class="gallina-kwd">fun</span> <span id="s:536" class="id"><a name="s:536" class="">s</a></span> <span id="k:537" class="id"><a name="k:537" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:535">f</a></span> (<span class="gallina-kwd">fun</span> <span id="m:538" class="id"><a name="m:538" class="">m</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#uncurry">uncurry</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:538">m</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:536">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:537">k</a></span>)) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:536">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:537">k</a></span>) <span class="id">:&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:534">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
 <span class="gallina-kwd">by</span> <span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">f;</span> <span class="id">rewrite</span> <span class="id">/aLCallcc</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">Definition</span> <span id="usual_callccS" class="id"><a name="usual_callccS" class="">usual_callccS</a></span> (<span id="A:539" class="id"><a name="A:539" class="">A</a></span> <span id="B:540" class="id"><a name="B:540" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="f:541" class="id"><a name="f:541" class="">f</a></span> <span class="id">:</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:539">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:540">B</a></span>) <span class="id">-&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:539">A</a></span>) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:539">A</a></span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">fun</span> <span id="s:542" class="id"><a name="s:542" class="">s</a></span> <span id="k:543" class="id"><a name="k:543" class="">k</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:541">f</a></span> (<span class="gallina-kwd">fun</span> <span id="x:544" class="id"><a name="x:544" class="">x</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:543">k</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:544">x,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:542">s</a></span>)) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:542">s</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:543">k</a></span>.<br/>
<br/>
<span class="vernacular">Lemma</span> <span id="callccS_E" class="id"><a name="callccS_E" class="">callccS_E</a></span> <span id="A:545" class="id"><a name="A:545" class="">A</a></span> <span id="B:546" class="id"><a name="B:546" class="">B</a></span> <span id="f:547" class="id"><a name="f:547" class="">f</a></span> <span class="id">:</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#aLCallcc">aLCallcc</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="gallina-kwd">fun</span> <span id="k:548" class="id"><a name="k:548" class="">k</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:545">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span> <span class="id">=&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:547">f</a></span> (<span class="gallina-kwd">fun</span> <span id="x:549" class="id"><a name="x:549" class="">x</a></span> <span class="id">=&gt;</span> (<span class="gallina-kwd">fun</span> (<span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span>) (<span class="id">_</span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:546">B</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.r">r</a></span>) <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#k:548">k</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:549">x</a></span>)) <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:546">B</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#usual_callccS">usual_callccS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:547">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
 <span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id">/aLCallcc</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#aliftingE">aliftingE</a></span>. Qed.</div>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting.continuation_stateT">continuation_stateT</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#examples_of_algebraic_lifting">examples_of_algebraic_lifting</a></span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelMonadStateRun" class="id"><a name="ModelMonadStateRun" class="">ModelMonadStateRun</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelMonadStateRun.modelmonadstaterun" class="id"><a name="ModelMonadStateRun.modelmonadstaterun" class="">modelmonadstaterun</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelMonadStateRun.modelmonadstaterun.S" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.N" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelMonadStateRun.M" class="id"><a name="ModelMonadStateRun.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadState.Exports.stateMonad">stateMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#stateT">stateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N]</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateT" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateT" class="">runStateT</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:551" class="id"><a name="A:551" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:551">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:551">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span>)%<span class="id">type</span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:552" class="id"><a name="A:552" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span> <span class="id">=&gt;</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTret" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTret" class="">runStateTret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:553" class="id"><a name="A:553" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="a:554" class="id"><a name="a:554" class="">a</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:553">A</a></span>) (<span id="s:555" class="id"><a name="s:555" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span>)<span class="id">,</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:554">a</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:555">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#a:554">a,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:555">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTbind" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTbind" class="">runStateTbind</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> (<span id="A:556" class="id"><a name="A:556" class="">A</a></span> <span id="B:557" class="id"><a name="B:557" class="">B</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="m:558" class="id"><a name="m:558" class="">m</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:556">A</a></span>) (<span id="f:559" class="id"><a name="f:559" class="">f</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:556">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x">-&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#B:557">B</a></span>) (<span id="s:560" class="id"><a name="s:560" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span>)<span class="id">,</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:558">m</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:559">f</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:560">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m:558">m</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:560">s</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#2409e092bcd148d27284e4f1ad307e1d">&gt;&gt;=</a></span> <span class="gallina-kwd">fun</span> <span id="x:561" class="id"><a name="x:561" class="">x</a></span> <span class="id">=&gt;</span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#f:559">f</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:561">x</a></span>.<span class="id">1</span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:561">x</a></span>.<span class="id">2</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">M</span> <span class="id">m</span> <span class="id">f</span> <span class="id">s</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id">/=</span> <span class="id">/runStateT</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bindE">bindE</a></span> <span class="id">/=</span> <span class="id">/join_of_bind</span> <span class="id">/bindS</span> <span class="id">/=</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS_mapE">MS_mapE</a></span> <span class="id">/actm</span> <span class="id">/=</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">case:</span> (<span class="id">m</span> <span class="id">s</span>).<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTget" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTget" class="">runStateTget</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s:562" class="id"><a name="s:562" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#get">get</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:562">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:562">s,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:562">s</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf">:&gt;</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadStateRun.modelmonadstaterun.runStateTput" class="id"><a name="ModelMonadStateRun.modelmonadstaterun.runStateTput" class="">runStateTput</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="s':563" class="id"><a name="s':563" class="">s'</a></span> <span id="s:564" class="id"><a name="s:564" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S,</a></span> @<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateT">runStateT</a></span> <span class="id">_</span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#put">put</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':563">s'</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:564">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#tt">tt,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s':563">s'</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelMonadStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadStateRun" class="id"><span id="ModelMonadStateRun.HB_unnamed_factory_128" class="id"><a name="ModelMonadStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadStateRun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadStateRun.Build">isMonadStateRun.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.N">N</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTret">runStateTret</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTbind">runStateTbind</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTget">runStateTget</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun.runStateTput">runStateTput</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun.modelmonadstaterun">modelmonadstaterun</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadStateRun">ModelMonadStateRun</a></span>.<br/>
<span class="id">HB.export</span> <span class="id">ModelMonadStateRun</span>.<br/>
<br/>
<span class="vernacular">Module</span> <span id="ModelMonadExceptStateRun" class="id"><a name="ModelMonadExceptStateRun" class="">ModelMonadExceptStateRun</a></span>.<br/>
<span class="vernacular">Section</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun" class="">modelmonadexceptstaterun</a></span>.<br/>
<span class="vernacular">Variable</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.S" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.S" class="">S</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>.<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.N" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.N" class="">N</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadExcept.Exports.exceptMonad">exceptMonad</a></span> <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#option_monad">option_monad</a></span>.<br/>
<span class="vernacular">Definition</span> <span id="ModelMonadExceptStateRun.M" class="id"><a name="ModelMonadExceptStateRun.M" class="">M</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadStateRun.Exports.stateRunMonad">stateRunMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id">:=</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadStateRun.Exports.stateRunMonad">stateRunMonad</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N]</a></span>.<br/>
<br/>
<span class="vernacular">Definition</span> <span id="ModelMonadExceptStateRun.failure" class="id"><a name="ModelMonadExceptStateRun.failure" class="">failure</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:566" class="id"><a name="A:566" class="">A,</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:566">A</a></span> <span class="id">:=</span> <span class="gallina-kwd">fun</span> <span id="A:567" class="id"><a name="A:567" class="">A</a></span> <span class="id">=&gt;</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#liftS">liftS</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:567">A</a></span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Bindfailf" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Bindfailf" class="">Bindfailf</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#BindLaws.left_zero">BindLaws.left_zero</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#bind">bind</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Monad.Exports.monad">monad</a></span> <span class="id">of</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N]</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.failure">failure</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadFailState" class="id"><span id="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadFail" class="id"><span id="ModelMonadExceptStateRun.HB_unnamed_factory_130" class="id"><a name="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadFailState" class="hierarchy-builder">HB.instance</a></span></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadFail.Build">isMonadFail.Build</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.failure">failure</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Bindfailf">Bindfailf</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch" class="">Catch</a></span> (<span id="A:568" class="id"><a name="A:568" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) <span class="id">:=</span> <span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#mapStateT2">mapStateT2</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#catch">catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:568">A</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4">*</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span>)%<span class="id">type</span>).<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchmfail" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchmfail" class="">Catchmfail</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:569" class="id"><a name="A:569" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#right_id">right_id</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#liftS">liftS</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:569">A</a></span>)) (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:569">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#catchmfail">catchmfail</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchfailm" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchfailm" class="">Catchfailm</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:570" class="id"><a name="A:570" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_id">left_id</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#liftS">liftS</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:570">A</a></span>)) (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:570">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#catchfailm">catchfailm</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.CatchA" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.CatchA" class="">CatchA</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:571" class="id"><a name="A:571" class="">A,</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#associative">ssrfun.associative</a></span> (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:571">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id">move=&gt;</span> <span class="id">A;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2</span> <span class="id">=&gt;</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#catchA">catchA</a></span>.<br/>
Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchret" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchret" class="">Catchret</a></span> <span class="id">:</span> <span class="gallina-kwd">forall</span> <span id="A:572" class="id"><a name="A:572" class="">A</a></span> <span id="x:573" class="id"><a name="x:573" class="">x,</a></span> @<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#left_zero">left_zero</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:572">A</a></span>) (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.M">M</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:572">A</a></span>) (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#Ret">Ret</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#x:573">x</a></span>) (@<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:572">A</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">move=&gt;</span> <span class="id">A</span> <span class="id">x</span> <span class="id">y;</span> <span class="id">rewrite</span> <span class="id">/Catch</span> <span class="id">/mapStateT2;</span> <span class="id">apply</span> <span class="id"><a href="monaeImpredicativeSet.imonae_lib.html#funext">funext</a></span> <span class="id">=&gt;</span> <span class="id">s</span>.<br/>
<span class="gallina-kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#catchret">catchret</a></span>.<br/>
Qed.</div>
<br/>
<span id="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadExcept" class="id"><span id="ModelMonadExceptStateRun.HB_unnamed_factory_132" class="id"><a name="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadExcept" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadExcept.Build">isMonadExcept.Build</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchmfail">Catchmfail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchfailm">Catchfailm</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.CatchA">CatchA</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catchret">Catchret</a></span>.<br/>
<br/>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTfail" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTfail" class="">RunStateTfail</a></span> (<span id="A:574" class="id"><a name="A:574" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="s:575" class="id"><a name="s:575" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#runStateT">runStateT</a></span> (@<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#dd4e793ea9d0dbe0a320346aa74c809d">[the</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#MonadFail.Exports.failMonad">failMonad</a></span> <span class="id">of</span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>)<span class="id">]</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:574">A</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:575">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#fail">fail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<span class="vernacular">Let</span> <span id="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTcatch" class="id"><a name="ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTcatch" class="">RunStateTcatch</a></span> (<span id="A:576" class="id"><a name="A:576" class="">A</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#UU0">UU0</a></span>) (<span id="s:577" class="id"><a name="s:577" class="">s</a></span> <span class="id">:</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span>) (<span id="m1:578" class="id"><a name="m1:578" class="">m1</a></span> <span id="m2:579" class="id"><a name="m2:579" class="">m2</a></span> <span class="id">:</span> <span class="id">_</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#A:576">A</a></span>) <span class="id">:</span><br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#runStateT">runStateT</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.Catch">Catch</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m1:578">m1</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m2:579">m2</a></span>) <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:577">s</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a">=</a></span> <span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#catch">catch</a></span> (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#runStateT">runStateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m1:578">m1</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:577">s</a></span>) (<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#runStateT">runStateT</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#m2:579">m2</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#s:577">s</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
 <span class="gallina-kwd">by</span> <span class="id">[]</span>. Qed.</div>
<br/>
<span id="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadExceptStateRun" class="id"><span id="ModelMonadExceptStateRun.HB_unnamed_factory_134" class="id"><a name="ModelMonadExceptStateRun.imonad_transformer_MS__canonical__ihierarchy_MonadExceptStateRun" class="hierarchy-builder">HB.instance</a></span></span> <span class="vernacular">Definition</span> <span class="id">_</span> <span class="id">:=</span> @<span class="id"><a href="monaeImpredicativeSet.ihierarchy.html#isMonadExceptStateRun.Build">isMonadExceptStateRun.Build</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span> (<span class="id"><a href="monaeImpredicativeSet.imonad_transformer.html#MS">MS</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.S">S</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.N">N</a></span>)<br/>
&nbsp;&nbsp;<span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTfail">RunStateTfail</a></span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun.RunStateTcatch">RunStateTcatch</a></span>.<br/>
<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun.modelmonadexceptstaterun">modelmonadexceptstaterun</a></span>.<br/>
<span class="vernacular">End</span> <span class="id"><a href="monaeImpredicativeSet.imonad_model.html#ModelMonadExceptStateRun">ModelMonadExceptStateRun</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
