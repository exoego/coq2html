
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.classical.functions</title>
<meta name="description" content="Documentation of Coq module mathcomp.classical.functions" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.classical.functions</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">finmap</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">ssrint</span> <span class="id">rat</span>.<br/>
<span class="kwd">From</span> <span class="id">HB</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">structures</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span>.<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> "<span class="id">__canonical__</span>".<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> "<span class="id">__functions_</span>".<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> "<span class="id">_factory_</span>".<br/>
<span class="id">Add</span> <span class="id">Search</span> <span class="id">Blacklist</span> "<span class="id">_mixin_</span>".<br/>
<br/>
<div class="ssrdoc markdown">
# Theory of functions                                                      
                                                                           
This file provides a theory of functions $f : A\to B$ whose domain $A$     
and codomain $B$ are represented by sets.                                  
                                                                           
```                                                                        
         set_fun A B f == f : aT -&gt; rT is a function with domain           
                          A : set aT and codomain B : set rT               
        set_surj A B f == f is surjective                                  
         set inj A B f == f is injective                                   
         set_bij A B f == f is bijective                                   
                                                                           
         {fun A &gt;-&gt; B} == type of functions f : aT -&gt; rT from A : set aT   
                          to B : set rT.                                   
                          funS f  is a proof of  set_fun A B f             
      {oinv aT &gt;-&gt; rT} == type of functions with a partial inverse         
     {oinvfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and                 
                          {oinv aT &gt;-&gt; rT}                                 
       {inv aT &gt;-&gt; rT} == type of functions with an inverse                
                 f ^-1 == inverse of f : {inv aT &gt;-&gt; rT}                   
      {invfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and {inv aT &gt;-&gt; rT} 
        {surj A &gt;-&gt; B} == type of surjective functions                     
     {surjfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and {surj A &gt;-&gt; B}  
   {splitsurj A &gt;-&gt; B} == type of surjective functions with an inverse     
{splitsurjfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and                 
                          {splitsurj A &gt;-&gt; B}                              
        {inj A &gt;-&gt; rT} == type of injective functions                      
      {injfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and {inj A &gt;-&gt; rT}  
    {splitinj A &gt;-&gt; B} == type of injective functions with an inverse      
 {splitinjfun A &gt;-&gt; B} == combination of {fun A &gt;-&gt; B} and                 
                          {splitinj A &gt;-&gt; B}                               
         {bij A &gt;-&gt; B} == combination of {injfun A &gt;-&gt; B} and              
                          {surjfun A &gt;-&gt; B}                                
    {splitbij A &gt;-&gt; B} == combination of {splitinj A &gt;-&gt; B} and            
                          {splitsurj A &gt;-&gt; B}                              
               'inj_ f == proof of {in A &amp;, injective f} where f has type  
                          {splitinj A &gt;-&gt; _}                               
```                                                                        
                                                                           
```                                                                        
             funin A f == alias for f : aT -&gt; rT, with A : set aT          
            [fun f in A] == the function f from the set A to the set f @` A
           'split_ d f == partial injection from aT : Type to rt : Type;   
                          f : aT -&gt; rT, d : rT -&gt; aT                       
                 split := 'split_point                                     
            @to_setT T == function that associates to x : T a dependent    
                          pair of x with a proof that x belongs to setT    
                          (i.e., the type set_type [set: T])               
               incl AB == identity function from T to T, where AB is a     
                          proof of A `&lt;=` B, with A, B : set T             
               inclT A := incl (@subsetT _ _)                              
             eqincl AB == identity function from T to T, where AB is a     
                          proof of A = B, with A, B : set T                
             mkfun fAB == builds a function {fun A &gt;-&gt; B} given a function 
                          f : aT -&gt; rT and a proof fAB that                
                          {homo f : x / A x &gt;-&gt; B x}                       
          @set_val T A == injection from set_type A to T, where A has      
                          type set T                                       
            @ssquash T == function of type                                 
                          {splitsurj [set: T] &gt;-&gt; [set: $| T |]}           
       @finset_val T X == function that turns an element x : X             
                          (with X : {fset T}) into a dependent pair of x   
                          with a proof that x belongs to X                 
                          (i.e., the type set_type [set` X])               
       @val_finset T X == function of type [set` X] -&gt; X with X : {fset T} 
                          that cancels finset_val                          
        glue XY AB f g == function that behaves as f over X, as g over Y   
                          XY is a proof that sets X and Y are disjoint,    
                          AB is a proof that sets A and B are disjoint,    
                          A and B are intended to be the ranges of f and g 
          'pinv_ d A f == inverse of the function [fun f in A] over        
                          f @` A, function d outside of f @` A             
                 pinv := notation for 'pinv_point                          
```                                                                        
                                                                           
## Function restriction                                                    
```                                                                        
           patch d A f == "partial function" that behaves as the function  
                          f over the set A and as the function d otherwise 
          restrict D f := patch (fun=&gt; point) D f                          
                f \_ D := restrict D f                                     
              sigL A f == "left restriction"; given a set A : set U and a  
                          function f : U -&gt; V, returns the corresponding   
                          function of type set_type A -&gt; V                 
              sigR A f == "right restriction"; given a set B : set V and a 
                          function f : {fun [set: U] &gt;-&gt; B}, returns the   
                          corresponding function of type U -&gt; set_type B   
           sigLR A B f == the function of type set_type A -&gt; set_type B    
                          corresponding to f : {fun A &gt;-&gt; B}               
               valL_ v == function cancelled by sigL A, with A : set U and 
                          v : V                                            
                valR f == the function of type U -&gt; V corresponding to     
                          f : U -&gt; set_type B, with B : set V              
              valR_fun == the function of type {fun [set: U] &gt;-&gt; B}        
                          corresponding to f : U -&gt; set_type B, with       
                          B : set V                                        
             valLR v f == the function of type U -&gt; V corresponding to     
                          f : set_type A -&gt; set_type B (where v : V),      
                          i.e., 'valL_ v \o valR_fun                       
      valLfun_ v A B f := [fun of valL_ f] with f : {fun [set: A] &gt;-&gt; B}   
                  valL := 'valL_ point                                     
            valLRfun v := 'valLfun_ v \o valR_fun                          
```                                                                        
                                                                           
```                                                                        
Section function_space == canonical ringType and lmodType                  
                          structures for functions whose range is          
                          a ringType, comRingType, or lmodType.            
                  fctE == multi-rule for fct                               
```                                                                        
                                                                           
</div>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>" (<span class="kwd">at</span> <span class="id">level</span> 10).<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="kwd">fun</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="kwd">fun</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">oinv</span>' <span class="id">T</span> '&gt;-&gt;' <span class="id">U</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">oinv</span>'  <span class="id">T</span>  '&gt;-&gt;'  <span class="id">U</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">inv</span>' <span class="id">T</span> '&gt;-&gt;' <span class="id">U</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">inv</span>'  <span class="id">T</span>  '&gt;-&gt;'  <span class="id">U</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">oinvfun</span>' <span class="id">T</span> '&gt;-&gt;' <span class="id">U</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">oinvfun</span>'  <span class="id">T</span>  '&gt;-&gt;'  <span class="id">U</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">invfun</span>' <span class="id">T</span> '&gt;-&gt;' <span class="id">U</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">invfun</span>'  <span class="id">T</span>  '&gt;-&gt;'  <span class="id">U</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">inj</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">T</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">inj</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">T</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">splitinj</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">T</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">splitinj</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">T</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">surj</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">surj</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">splitsurj</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">splitsurj</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">injfun</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">injfun</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">surjfun</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">surjfun</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">splitinjfun</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">splitinjfun</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">splitsurjfun</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">splitsurjfun</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">bij</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">bij</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'{' '<span class="id">splitbij</span>' <span class="id">A</span> '&gt;-&gt;' <span class="id">B</span> '}'"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "'{' '<span class="id">splitbij</span>'  <span class="id">A</span>  '&gt;-&gt;'  <span class="id">B</span> '}'").<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="kwd">fun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="kwd">fun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">oinv</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">oinv</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">inv</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">inv</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">oinv</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">oinv</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">inv</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">inv</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">inj</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">inj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">splitinj</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">splitinj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">surj</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">surj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">splitsurj</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">splitsurj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">injfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">injfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">surjfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">surjfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">splitinjfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "[ '<span class="id">splitinjfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">splitsurjfun</span>' '<span class="id">of</span>' <span class="id">f</span> ]"<br/>
&nbsp;&nbsp;(<span class="id">format</span> "[ '<span class="id">splitsurjfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">bij</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">bij</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "[ '<span class="id">splitbij</span>' '<span class="id">of</span>' <span class="id">f</span> ]" (<span class="id">format</span> "[ '<span class="id">splitbij</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]").<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">oinv_</span>' <span class="id">f</span>" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">oinv_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">funS_</span>' <span class="id">f</span>" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">funS_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">mem_fun_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span>  "''<span class="id">mem_fun_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">oinvK_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">oinvK_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">oinvS_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">oinvS_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">oinvP_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">oinvP_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">oinvT_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">oinvT_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">invK_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">invK_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">invS_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">invS_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">funoK_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">funoK_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">inj_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">inj_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">funK_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">funK_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">totalfun_</span>' <span class="id">A</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">A</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">totalfun_</span>' <span class="id">A</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">surj_</span>' <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">surj_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">split_</span>' <span class="id">a</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">a</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">split_</span>' <span class="id">a</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">bijTT_</span>'  <span class="id">f</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">bijTT_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">bij_</span>' <span class="id">f</span>" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">bij_</span>' <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">valL_</span>' <span class="id">v</span>" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">v</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">valL_</span>' <span class="id">v</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">valLfun_</span>' <span class="id">v</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">v</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">valLfun_</span>' <span class="id">v</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">pinv_</span>' <span class="id">dflt</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">dflt</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">pinv_</span>' <span class="id">dflt</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">pPbij_</span>' <span class="id">dflt</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">dflt</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">pPbij_</span>' <span class="id">dflt</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">pPinj_</span>' <span class="id">dflt</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">dflt</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">pPinj_</span>' <span class="id">dflt</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">injpPfun_</span>' <span class="id">dflt</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">dflt</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">injpPfun_</span>' <span class="id">dflt</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">funpPinj_</span>' <span class="id">dflt</span>"<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">dflt</span> <span class="kwd">at</span> <span class="id">level</span> 2, <span class="id">format</span> "''<span class="id">funpPinj_</span>' <span class="id">dflt</span>").<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MainProperties">MainProperties</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1">aT</a></span> <span class="id"><a name="rT:2">rT</a></span>}  (<span class="id"><a name="A:3">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:4">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:5">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_fun">set_fun</a></span> := {<span class="id">homo</span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.f">f</a></span> : <span class="id"><a name="x:6">x</a></span> / <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.A">A</a></span> <span class="id">x</span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.B">B</a></span> <span class="id">x</span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_surj">set_surj</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.B">B</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.f">f</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.A">A</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_inj">set_inj</a></span> := {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties.f">f</a></span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_bij">set_bij</a></span> := [/\ <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span>].<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#MainProperties">MainProperties</a></span>.<br/>
<br/>
<span class="id"><a name="isFun">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">isFun</span> {<span class="id"><a name="aT:8">aT</a></span> <span class="id"><a name="rT:9">rT</a></span>} (<span class="id"><a name="A:10">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:11">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:12">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="funS:13">funS</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> }.<br/>
<span class="id"><a name="Fun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">Fun</span> {<span class="id"><a name="aT:19">aT</a></span> <span class="id"><a name="rT:20">rT</a></span>} (<span class="id"><a name="A:21">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:22">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="f:23">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> }.<br/>
<span class="kwd">Notation</span> "{ '<span class="kwd">fun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">Fun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="kwd">fun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="kwd">fun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="OInv">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">OInv</span> {<span class="id"><a name="aT:26">aT</a></span> <span class="id"><a name="rT:27">rT</a></span>} (<span class="id"><a name="f:28">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := { <span class="id"><a name="oinv:29">oinv</a></span> : <span class="id">rT</span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id">aT</span> }.<br/>
<span class="id"><a name="OInversible">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">OInversible</span> <span class="id"><a name="aT:33">aT</a></span> <span class="id"><a name="rT:34">rT</a></span> := {<span class="id"><a name="f:35">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">oinv</span>' <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">OInversible.type</a></span> <span class="id">aT</span> <span class="id">rT</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">oinv</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">oinv</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] :<br/>
&nbsp;&nbsp;<span class="id">form_scope</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_oinv">phant_oinv</a></span> <span class="id"><a name="aT:38">aT</a></span> <span class="id"><a name="rT:39">rT</a></span> (<span class="id"><a name="f:40">f</a></span> : {<span class="id">oinv</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>})<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#oinv">oinv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">oinv_</span>' <span class="id">f</span>" := (@<span class="id"><a href="mathcomp.classical.functions.html#phant_oinv">phant_oinv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>%<span class="id">FUN</span>)).<br/>
<br/>
<span class="id"><a name="OInvFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">OInvFun</span> <span class="id"><a name="aT:41">aT</a></span> <span class="id"><a name="rT:42">rT</a></span> <span class="id"><a name="A:43">A</a></span> <span class="id"><a name="B:44">B</a></span> :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:45">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">oinvfun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">OInvFun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">oinvfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">oinvfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="OInv_Inv">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">OInv_Inv</span> {<span class="id"><a name="aT:48">aT</a></span> <span class="id"><a name="rT:49">rT</a></span>} (<span class="id"><a name="f:50">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> := {<br/>
&nbsp;&nbsp;<span class="id"><a name="inv:51">inv</a></span> : <span class="id">rT</span> -&gt; <span class="id">aT</span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="oliftV:52">oliftV</a></span> : <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">inv</span> = '<span class="id">oinv_f</span><br/>
}.<br/>
<br/>
<span class="id"><a name="Inv">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Inv</span> {<span class="id"><a name="aT:56">aT</a></span> <span class="id"><a name="rT:57">rT</a></span>} (<span class="id"><a name="f:58">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := { <span class="id"><a name="inv:59">inv</a></span> : <span class="id">rT</span> -&gt; <span class="id">aT</span>  }.<br/>
<span class="id"><a name="Builders_16">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:63">aT</a></span> <span class="id"><a name="rT:64">rT</a></span>} (<span class="id"><a name="f:65">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_16.HB_unnamed_factory_18">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv.Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_16.Builders_16.f">f</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_16.inv">inv</a></span>).<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_16.HB_unnamed_factory_20">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_Inv.Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_16.Builders_16.f">f</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_16.Builders_16">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="Inversible">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">Inversible</span> <span class="id"><a name="aT:69">aT</a></span> <span class="id"><a name="rT:70">rT</a></span> := {<span class="id"><a name="f:71">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">inv</span>' <span class="id">aT</span> &gt;-&gt;  <span class="id">rT</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">Inversible.type</a></span> <span class="id">aT</span> <span class="id">rT</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">inv</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">inv</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_inv">phant_inv</a></span> <span class="id"><a name="aT:74">aT</a></span> <span class="id"><a name="rT:75">rT</a></span> (<span class="id"><a name="f:76">f</a></span> : {<span class="id">inv</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^-1" := (@<span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>%<span class="id">FUN</span>) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">fun_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^-1" := (@<span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>%<span class="id">function</span>) (<span class="id">only</span> <span class="id">printing</span>) : <span class="id">function_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^-1" := (@<span class="id"><a href="mathcomp.classical.functions.html#phant_inv">phant_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>%<span class="id">FUN</span>)) : <span class="id">fun_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^-1" :=<br/>
&nbsp;&nbsp;(@<span class="id"><a href="mathcomp.classical.functions.html#phant_inv">phant_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>%<span class="id">function</span>)) : <span class="id">function_scope</span>.<br/>
<br/>
<span class="id"><a name="InvFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">InvFun</span> <span class="id"><a name="aT:77">aT</a></span> <span class="id"><a name="rT:78">rT</a></span> <span class="id"><a name="A:79">A</a></span> <span class="id"><a name="B:80">B</a></span> :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:81">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">invfun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">InvFun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">invfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">invfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="OInv_CanV">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">OInv_CanV</span> {<span class="id"><a name="aT:84">aT</a></span> <span class="id"><a name="rT:85">rT</a></span>} {<span class="id"><a name="A:86">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:87">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:88">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvS:91">oinvS</a></span> : {<span class="id">homo</span> '<span class="id">oinv_f</span> : <span class="id"><a name="x:89">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span>) <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvK:92">oinvK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> '<span class="id">oinv_f</span> <span class="id">f</span>};<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="id"><a name="OCanV">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">OCanV</span> {<span class="id"><a name="aT:98">aT</a></span> <span class="id"><a name="rT:99">rT</a></span>} {<span class="id"><a name="A:100">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:101">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:102">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinv:103">oinv</a></span>; <span class="id"><a name="oinvS:106">oinvS</a></span> : {<span class="id">homo</span> <span class="id">oinv</span> : <span class="id"><a name="x:104">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span>) <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvK:107">oinvK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id">oinv</span> <span class="id">f</span>};<br/>
&nbsp;&nbsp;}.<br/>
<span class="id"><a name="Builders_34">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:113">aT</a></span> <span class="id"><a name="rT:114">rT</a></span>} {<span class="id"><a name="A:115">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:116">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:117">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;<span class="id"><a name="Builders_34.HB_unnamed_factory_36">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv.Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.oinv">oinv</a></span>.<br/>
&nbsp;<span class="id"><a name="Builders_34.HB_unnamed_factory_38">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV.Build">OInv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_34.oinvK">oinvK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_34.Builders_34">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="Surject">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">Surject</span> {<span class="id"><a name="aT:123">aT</a></span> <span class="id"><a name="rT:124">rT</a></span> <span class="id"><a name="A:125">A</a></span> <span class="id"><a name="B:126">B</a></span>} := {<span class="id"><a name="f:127">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">surj</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">Surject.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">surj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">surj</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="SurjFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SurjFun</span> <span class="id"><a name="aT:130">aT</a></span> <span class="id"><a name="rT:131">rT</a></span> <span class="id"><a name="A:132">A</a></span> <span class="id"><a name="B:133">B</a></span> :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:134">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#Surject">Surject</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#Fun">Fun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">surjfun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">SurjFun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">surjfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">surjfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="SplitSurj">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SplitSurj</span> <span class="id"><a name="aT:137">aT</a></span> <span class="id"><a name="rT:138">rT</a></span> <span class="id"><a name="A:139">A</a></span> <span class="id"><a name="B:140">B</a></span> :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:141">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#Surject">Surject</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">splitsurj</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">SplitSurj.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">splitsurj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">splitsurj</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="SplitSurjFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SplitSurjFun</span> <span class="id"><a name="aT:144">aT</a></span> <span class="id"><a name="rT:145">rT</a></span> <span class="id"><a name="A:146">A</a></span> <span class="id"><a name="B:147">B</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;{<span class="id"><a name="f:148">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#SplitSurj">SplitSurj</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#Fun">Fun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">splitsurjfun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" :=<br/>
&nbsp;&nbsp;(@<span class="id"><a href="mathcomp.classical.functions.html#type">SplitSurjFun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">splitsurjfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">splitsurjfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="OInv_Can">HB.mixin</a></span> <span class="kwd">Record</span> <span class="id">OInv_Can</span> <span class="id"><a name="aT:151">aT</a></span> <span class="id"><a name="rT:152">rT</a></span> (<span class="id"><a name="A:153">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:154">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="funoK:155">funoK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id">f</span> '<span class="id">oinv_f</span>} }.<br/>
<br/>
<span class="id"><a name="Inject">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">Inject</span> <span class="id"><a name="aT:160">aT</a></span> <span class="id"><a name="rT:161">rT</a></span> <span class="id"><a name="A:162">A</a></span> :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:163">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">inj</span>' <span class="id">A</span> &gt;-&gt; <span class="id">rT</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">Inject.type</a></span> <span class="id">_</span> <span class="id">rT</span> <span class="id">A</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">inj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">inj</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="InjFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">InjFun</span> {<span class="id"><a name="aT:166">aT</a></span> <span class="id"><a name="rT:167">rT</a></span>} (<span class="id"><a name="A:168">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:169">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="f:170">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#Fun">Fun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#Inject">Inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">f</span> }.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">injfun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">InjFun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">injfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">injfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="SplitInj">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SplitInj</span> <span class="id"><a name="aT:173">aT</a></span> <span class="id"><a name="rT:174">rT</a></span> (<span class="id"><a name="A:175">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:176">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#Inject">Inject</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">splitinj</span>' <span class="id">A</span> &gt;-&gt; <span class="id">rT</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">SplitInj.type</a></span> <span class="id">_</span> <span class="id">rT</span> <span class="id">A</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">splitinj</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">splitinj</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="SplitInjFun">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SplitInjFun</span> <span class="id"><a name="aT:179">aT</a></span> <span class="id"><a name="rT:180">rT</a></span> (<span class="id"><a name="A:181">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:182">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;{<span class="id"><a name="f:183">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#SplitInj">SplitInj</a></span> <span class="id">_</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">splitinjfun</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">SplitInjFun.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">splitinjfun</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" :=<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">splitinjfun</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="Bij">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">Bij</span> {<span class="id"><a name="aT:186">aT</a></span> <span class="id"><a name="rT:187">rT</a></span>} {<span class="id"><a name="A:188">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:189">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} :=<br/>
&nbsp;&nbsp;&nbsp;{<span class="id"><a name="f:190">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#InjFun">InjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#SurjFun">SurjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">bij</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">Bij.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">bij</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">bij</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<span class="id"><a name="SplitBij">HB.structure</a></span> <span class="kwd">Definition</span> <span class="id">SplitBij</span> {<span class="id"><a name="aT:193">aT</a></span> <span class="id"><a name="rT:194">rT</a></span>} {<span class="id"><a name="A:195">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:196">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} :=<br/>
&nbsp;&nbsp;&nbsp;{<span class="id"><a name="f:197">f</a></span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#SplitInjFun">SplitInjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &amp; @<span class="id"><a href="mathcomp.classical.functions.html#SplitSurjFun">SplitSurjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>}.<br/>
<span class="kwd">Notation</span> "{ '<span class="id">splitbij</span>' <span class="id">A</span> &gt;-&gt; <span class="id">B</span> }" := (@<span class="id"><a href="mathcomp.classical.functions.html#type">SplitBij.type</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span>) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="id">splitbij</span>'  '<span class="id">of</span>'  <span class="id">f</span> ]" := [<span class="id">the</span> {<span class="id">splitbij</span> <span class="id">_</span> &gt;-&gt; <span class="id">_</span>} <span class="id">of</span> <span class="id">f</span>] : <span class="id">form_scope</span>.<br/>
<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ShortFunSyntax">ShortFunSyntax</a></span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> ~&gt; <span class="id">B</span>" := {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">aT</span> &lt;=&gt; <span class="id">rT</span>" := {<span class="id">oinv</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &lt;~ <span class="id">B</span>" := {<span class="id">oinvfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">aT</span> &lt;&lt;=&gt; <span class="id">rT</span>" := {<span class="id">inv</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &lt;&lt;~ <span class="id">B</span>" := {<span class="id">invfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> =&gt;&gt; <span class="id">B</span>" := {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> ~&gt;&gt; <span class="id">B</span>" := {<span class="id">surjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> ==&gt;&gt; <span class="id">B</span>" := {<span class="id">splitsurj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> ~~&gt;&gt; <span class="id">B</span>" := {<span class="id">splitsurjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &gt;=&gt; <span class="id">rT</span>" := {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &gt;~&gt; <span class="id">B</span>" := {<span class="id">injfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &gt;&gt;=&gt; <span class="id">rT</span>" := {<span class="id">splitinj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &gt;&gt;~&gt; <span class="id">B</span>" := {<span class="id">splitinjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &lt;~&gt; <span class="id">B</span>" := {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">Notation</span> "<span class="id">A</span> &lt;&lt;~&gt; <span class="id">B</span>" := {<span class="id">splitbij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>} (<span class="kwd">at</span> <span class="id">level</span> 70) : <span class="id">type_scope</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#ShortFunSyntax">ShortFunSyntax</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Theory                                                                  
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_funS">phant_funS</a></span> <span class="id"><a name="aT:200">aT</a></span> <span class="id"><a name="rT:201">rT</a></span> (<span class="id"><a name="A:202">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:203">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:204">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">funS_</span>  <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_funS">phant_funS</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>))<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#prop_in1">prop_in1</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fun_image_sub">fun_image_sub</a></span> <span class="id"><a name="aT:205">aT</a></span> <span class="id"><a name="rT:206">rT</a></span> (<span class="id"><a name="A:207">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:208">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:209">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>.2 (@<span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>).<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span>}.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id">_</span> @` <span class="id">_</span> `&lt;=` <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mem_fun">mem_fun</a></span> <span class="id"><a name="aT:210">aT</a></span> <span class="id"><a name="rT:211">rT</a></span> (<span class="id"><a name="A:212">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:213">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:214">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>.2 (@<span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>).<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#prop_in1">prop_in1</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_mem_fun">phant_mem_fun</a></span> <span class="id"><a name="aT:215">aT</a></span> <span class="id"><a name="rT:216">rT</a></span> (<span class="id"><a name="A:217">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:218">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:219">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>.2 (@<span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>).<br/>
<span class="kwd">Notation</span> "'<span class="id">mem_fun_</span>  <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_mem_fun">phant_mem_fun</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>))<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 2) : <span class="id">form_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_inv">some_inv</a></span> {<span class="id"><a name="aT:220">aT</a></span> <span class="id"><a name="rT:221">rT</a></span>} (<span class="id"><a name="f:222">f</a></span> : {<span class="id">inv</span> <span class="id">aT</span> &gt;-&gt; <span class="id">rT</span>}) <span class="id"><a name="x:223">x</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">f</span>^-1 <span class="id">x</span>) = '<span class="id">oinv_f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_oinvK">phant_oinvK</a></span> <span class="id"><a name="aT:224">aT</a></span> <span class="id"><a name="rT:225">rT</a></span> (<span class="id"><a name="A:226">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:227">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:228">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">oinvK_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvK">phant_oinvK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">oinvK</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_oinvS">phant_oinvS</a></span> <span class="id"><a name="aT:229">aT</a></span> <span class="id"><a name="rT:230">rT</a></span> (<span class="id"><a name="A:231">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:232">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:233">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#oinvS">oinvS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">oinvS_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvS">phant_oinvS</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">oinvS</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Variant</span> <span class="id"><a name="oinv_spec">oinv_spec</a></span> {<span class="id"><a name="aT:234">aT</a></span>} {<span class="id"><a name="rT:235">rT</a></span>} {<span class="id"><a name="A:236">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:237">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:238">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id"><a name="y:239">y</a></span> :<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rT</span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id">aT</span> -&gt; <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="OInvSpec">OInvSpec</a></span> (<span class="id"><a name="x:242">x</a></span> : <span class="id">aT</span>) <span class="id">of</span> <span class="id">A</span> <span class="id">x</span> &amp; <span class="id">f</span> <span class="id">x</span> = <span class="id">y</span> : <span class="id">oinv_spec</span> <span class="id">f</span> <span class="id">y</span> (<span class="id">f</span> <span class="id">x</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinvP">oinvP</a></span> <span class="id"><a name="aT:243">aT</a></span> <span class="id"><a name="rT:244">rT</a></span> (<span class="id"><a name="A:245">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:246">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:247">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id"><a name="y:248">y</a></span> :<br/>
&nbsp;&nbsp;<span class="id">B</span> <span class="id">y</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#oinv_spec">oinv_spec</a></span> <span class="id">f</span> <span class="id">y</span> <span class="id">y</span> ('<span class="id">oinv_f</span> <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
<span class="id">move</span>=&gt; <span class="id">By</span>; <span class="id">have</span> :='<span class="id">oinvK_f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">By</span>).<br/>
<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> [<span class="id">x</span> <span class="id">Ax</span> &lt;-] := '<span class="id">oinvS_f</span> <span class="id">By</span> =&gt; &lt;-; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_oinvP">phant_oinvP</a></span> <span class="id"><a name="aT:249">aT</a></span> <span class="id"><a name="rT:250">rT</a></span> (<span class="id"><a name="A:251">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:252">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:253">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">oinvP_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvP">phant_oinvP</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">oinvP</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinvT">oinvT</a></span> {<span class="id"><a name="aT:254">aT</a></span> <span class="id"><a name="rT:255">rT</a></span>} {<span class="id"><a name="A:256">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:257">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:258">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}} <span class="id"><a name="x:259">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">B</span> <span class="id">x</span> -&gt; '<span class="id">oinv_f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /'<span class="id">oinvS_f</span> [<span class="id">a</span> <span class="id">Aa</span> &lt;-]. Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="phant_oinvT">phant_oinvT</a></span> <span class="id"><a name="aT:260">aT</a></span> <span class="id"><a name="rT:261">rT</a></span> (<span class="id"><a name="A:262">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:263">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:264">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#oinvT">oinvT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">oinvT_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_oinvT">phant_oinvT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">oinvT</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="invK">invK</a></span> {<span class="id"><a name="aT:265">aT</a></span> <span class="id"><a name="rT:266">rT</a></span>} {<span class="id"><a name="A:267">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:268">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:269">f</a></span> : {<span class="id">splitsurj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}} :<br/>
&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span>^-1 <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Bx</span>; <span class="id">rewrite</span> -[<span class="id">x</span> <span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]'<span class="id">oinvK_f</span>// -<span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>/=. Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="phant_invK">phant_invK</a></span> <span class="id"><a name="aT:270">aT</a></span> <span class="id"><a name="rT:271">rT</a></span> (<span class="id"><a name="A:272">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:273">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:274">f</a></span> : {<span class="id">splitsurj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">invK_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_invK">phant_invK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">invK</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="invS">invS</a></span> {<span class="id"><a name="aT:275">aT</a></span> <span class="id"><a name="rT:276">rT</a></span>} {<span class="id"><a name="A:277">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:278">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:279">f</a></span> : {<span class="id">splitsurj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}} :<br/>
&nbsp;&nbsp;{<span class="id">homo</span> <span class="id">f</span>^-1 : <span class="id"><a name="x:280">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /'<span class="id">oinvS_f</span>/= [<span class="id">a</span> <span class="id">Aa</span>]; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span> =&gt; -[&lt;-]. Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="phant_invS">phant_invS</a></span> <span class="id"><a name="aT:282">aT</a></span> <span class="id"><a name="rT:283">rT</a></span> (<span class="id"><a name="A:284">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:285">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;{<span class="id"><a name="f:286">f</a></span> : {<span class="id">splitsurjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}} <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#invS">invS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">invS_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_invS">phant_invS</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">invS</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_funoK">phant_funoK</a></span> <span class="id"><a name="aT:287">aT</a></span> <span class="id"><a name="rT:288">rT</a></span> (<span class="id"><a name="A:289">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:290">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>})<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">funoK_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_funoK">phant_funoK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">funoK</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="inj">inj</a></span> {<span class="id"><a name="aT:291">aT</a></span> <span class="id"><a name="rT:292">rT</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#NonPropType.Exports.nonPropType">nonPropType</a></span>} {<span class="id"><a name="A:293">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="f:294">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}} :<br/>
&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} := <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#pcan_in_inj">pcan_in_inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_inj">phant_inj</a></span> <span class="id"><a name="aT:295">aT</a></span> <span class="id"><a name="rT:296">rT</a></span> (<span class="id"><a name="A:297">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:298">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">inj_</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_inj">phant_inj</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="inj_hint">inj_hint</a></span> {<span class="id"><a name="aT:299">aT</a></span> <span class="id"><a name="rT:300">rT</a></span>} {<span class="id"><a name="A:301">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="f:302">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}} :<br/>
&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} := <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 {<span class="kwd">in</span> <span class="id">_</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">_</span>} =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#inj_hint">inj_hint</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#inj_hint">inj_hint</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injT">injT</a></span> {<span class="id"><a name="aT:303">aT</a></span> <span class="id"><a name="rT:304">rT</a></span>} {<span class="id"><a name="f:305">f</a></span> : {<span class="id">inj</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; <span class="id">rT</span>}} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#in2TT">in2TT</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>. Qed.</div>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#injT">injT</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funK">funK</a></span> {<span class="id"><a name="aT:306">aT</a></span> <span class="id"><a name="rT:307">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:308">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="s:309">s</a></span> : {<span class="id">splitinj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}} :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">s</span> <span class="id">s</span>^-1}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#Some_inj">Some_inj</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_funK">phant_funK</a></span> <span class="id"><a name="aT:310">aT</a></span> <span class="id"><a name="rT:311">rT</a></span> (<span class="id"><a name="A:312">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:313">f</a></span> : {<span class="id">splitinj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>})<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">funK_</span>  <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_funK">phant_funK</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">funK</span> : <span class="id">core</span>.<br/>
<br/>
<div class="doc">Structure Equality </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funP">funP</a></span> {<span class="id"><a name="aT:314">aT</a></span> <span class="id"><a name="rT:315">rT</a></span>} {<span class="id"><a name="A:316">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:317">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:318">f</a></span> <span class="id"><a name="g:319">g</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) :<br/>
&nbsp;&nbsp;<span class="id">f</span> = <span class="id">g</span> &lt;-&gt; <span class="id">f</span> =1 <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
<span class="id">case</span>: <span class="id">f</span> <span class="id">g</span> =&gt; [<span class="id">f</span> [[<span class="id">ffun</span>]]] [<span class="id">g</span> [[<span class="id">gfun</span>]]]/=; <span class="id">split</span>=&gt; [[-&gt;//]|/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> <span class="id">eqfg</span>].<br/>
<span class="id">rewrite</span> <span class="id">eqfg</span> <span class="kwd">in</span> <span class="id">ffun</span> *; <span class="id">congr</span> {| <span class="id"><a href="mathcomp.classical.functions.html#sort">Fun.sort</a></span> := <span class="id">_</span>; <span class="id"><a href="mathcomp.classical.functions.html#class">Fun.class</a></span> := {|<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#functions_isFun_mixin">Fun.functions_isFun_mixin</a></span> := {|<span class="id"><a href="mathcomp.classical.functions.html#funS">isFun.funS</a></span> := <span class="id">_</span>|}|}|}.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.boolp.html#Prop_irrelevance">Prop_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Preliminary Builders </div>
<br/>
<span class="id"><a name="Inv_Can">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Inv_Can</span> {<span class="id"><a name="aT:320">aT</a></span> <span class="id"><a name="rT:321">rT</a></span>} {<span class="id"><a name="A:322">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} (<span class="id"><a name="f:323">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="funK:324">funK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">f</span>^-1} }.<br/>
<span class="id"><a name="Builders_105">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:329">aT</a></span> <span class="id"><a name="rT:330">rT</a></span>} <span class="id"><a name="A:331">A</a></span> (<span class="id"><a name="f:332">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#Inv_Can">Inv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="Builders_105.funoK">funoK</a></span>: {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.A">A</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.f">f</a></span> '<span class="id">oinv_f</span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>/=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#can_in_pcan">can_in_pcan</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.funK">funK</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_105.HB_unnamed_factory_107">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can.Build">OInv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_105.funoK">funoK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_105.Builders_105">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="Inv_CanV">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Inv_CanV</span> {<span class="id"><a name="aT:337">aT</a></span> <span class="id"><a name="rT:338">rT</a></span>} {<span class="id"><a name="A:339">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:340">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:341">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span> := {<br/>
&nbsp;&nbsp;<span class="id"><a name="invS:344">invS</a></span> : {<span class="id">homo</span> <span class="id">f</span>^-1 : <span class="id"><a name="x:342">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;<span class="id"><a name="invK:345">invK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span>^-1 <span class="id">f</span>};<br/>
}.<br/>
<span class="id"><a name="Builders_109">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:351">aT</a></span> <span class="id"><a name="rT:352">rT</a></span>} {<span class="id"><a name="A:353">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:354">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:355">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV">Inv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;#[<span class="id">local</span>] <span class="kwd">Lemma</span> <span class="id"><a name="Builders_109.oinvK">oinvK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.B">B</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> '<span class="id">oinv_f</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.f">f</a></span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Bx</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.invK">invK</a></span>. Qed.</div>
&nbsp;&nbsp;#[<span class="id">local</span>] <span class="kwd">Lemma</span> <span class="id"><a name="Builders_109.oinvS">oinvS</a></span> : {<span class="id">homo</span> '<span class="id">oinv_f</span> : <span class="id"><a name="x:361">x</a></span> / <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.B">B</a></span> <span class="id">x</span> &gt;-&gt; (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.A">A</a></span>) <span class="id">x</span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.functions.html#Builders_109.invS">invS</a></span> <span class="id">Af</span>'<span class="id">x</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.f">f</a></span>^-1 <span class="id">x</span>); <span class="id">rewrite</span> // -<span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_109.HB_unnamed_factory_111">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV.Build">OInv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_109.oinvK">oinvK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_109.Builders_109">HB.end</a></span>.<br/>
<br/>
<div class="doc">Trivial instances </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="OInverse">OInverse</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:363">aT</a></span> <span class="id"><a name="rT:364">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:365">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:366">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}.<br/>
<br/>
<span class="id"><a name="OInverse.hb_instance_113">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:367">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.rT">rT</a></span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> '<span class="id">oinv_f</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinvV">oinvV</a></span> {<span class="id"><a name="f:368">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.rT">rT</a></span>}} : '<span class="id">oinv_</span>('<span class="id">oinv_f</span>) = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="OInverse.hb_instance_116">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:369">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.rT">rT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.aT">aT</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span>) '<span class="id">oinv_f</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvS">oinvS</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjoinv_inj_subproof">surjoinv_inj_subproof</a></span> (<span class="id"><a name="f:370">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">Bx</span>/=; <span class="id">rewrite</span> -[<span class="id">x</span> <span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]('<span class="id">oinvK_f</span> <span class="id">Bx</span>).<br/>
<span class="kwd">by</span> <span class="id">have</span> := '<span class="id">oinvT_f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Bx</span>); <span class="id">case</span>: '<span class="id">oinv_f</span>.<br/>
Qed.</div>
<span class="id"><a name="OInverse.hb_instance_119">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:371">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#surjoinv_inj_subproof">surjoinv_inj_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injoinv_surj_subproof">injoinv_surj_subproof</a></span> (<span class="id"><a name="f:372">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span>) '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">split</span>=&gt; [<span class="id">_</span>|<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] [<span class="id">a</span> <span class="id">Aa</span> &lt;-]/=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">a</span>) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<span class="id"><a name="OInverse.hb_instance_122">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:373">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#injoinv_surj_subproof">injoinv_surj_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="id"><a name="OInverse.hb_instance_125">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:374">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OInverse.B">B</a></span>}} := <span class="id"><a href="mathcomp.classical.functions.html#on">InjFun.on</a></span> '<span class="id">oinv_f</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#OInverse">OInverse</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Inverse">Inverse</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:375">aT</a></span> <span class="id"><a name="rT:376">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:377">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:378">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}.<br/>
<br/>
<span class="id"><a name="Inverse.hb_instance_130">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:379">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id">f</span>^-1 <span class="id">f</span>.<br/>
<span class="id"><a name="Inverse.hb_instance_136">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:380">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Inversible.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id">f</span>^-1.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="invV">invV</a></span> (<span class="id"><a name="f:381">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span>}) : <span class="id">f</span>^-1^-1 = <span class="id">f</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="Inverse.hb_instance_142">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:382">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> <span class="id">f</span>^-1 <span class="id"><a href="mathcomp.classical.functions.html#invS">invS</a></span>.<br/>
<span class="id"><a name="Inverse.hb_instance_145">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:383">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span> <span class="id">f</span>^-1.<br/>
<span class="id"><a name="Inverse.hb_instance_149">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:384">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>^-1 '<span class="id">invK_f</span>.<br/>
<span class="id"><a name="Inverse.hb_instance_153">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:385">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>^-1 <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>.<br/>
<span class="id"><a name="Inverse.hb_instance_157">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:386">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverse.B">B</a></span>}} := <span class="id"><a href="mathcomp.classical.functions.html#on">InjFun.on</a></span> <span class="id">f</span>^-1.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverse">Inverse</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Some">Some</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:387">T</a></span>} {<span class="id"><a name="A:388">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>}.<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_165">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_some">oinv_some</a></span> : '<span class="id">oinv_</span>(@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>) = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_can_subproof">some_can_subproof</a></span> : @<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
 <span class="kwd">by</span> <span class="id">split</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_167">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#some_can_subproof">some_can_subproof</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_canV_subproof">some_canV_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span>) (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [<span class="id">x</span>|<span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] [<span class="id">a</span> <span class="id">Aa</span> &lt;-]//=; <span class="kwd">exists</span> <span class="id">a</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_169">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  := <span class="id"><a href="mathcomp.classical.functions.html#some_canV_subproof">some_canV_subproof</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_fun_subproof">some_fun_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Some.A">A</a></span>) (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Some.T">T</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="kwd">exists</span> <span class="id">x</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_171">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#some_fun_subproof">some_fun_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Some">Some</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="OApply">OApply</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:389">aT</a></span> <span class="id"><a name="rT:390">rT</a></span>} {<span class="id"><a name="A:391">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:392">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="b0:393">b0</a></span> : <span class="id">rT</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="oapp">oapp</a></span> <span class="id">f</span> := (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.b0">b0</a></span>).<br/>
<br/>
<span class="id"><a name="OApply.hb_instance_173">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:394">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT</a></span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>) '<span class="id">oinv_f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_oapp">inv_oapp</a></span> {<span class="id"><a name="f:395">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT</a></span>}} : (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>)^-1 = '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_oapp">oinv_oapp</a></span>  {<span class="id"><a name="f:396">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT</a></span>}} : '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>) = <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp</a></span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_oappV">inv_oappV</a></span> {<span class="id"><a name="f:397">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT</a></span>}} : <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>^-1 = (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>)^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oapp_can_subproof">oapp_can_subproof</a></span> (<span class="id"><a name="f:398">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.rT">rT</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can">Inv_Can</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>[<span class="id">a</span> <span class="id">Aa</span> &lt;-]/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="id"><a name="OApply.hb_instance_181">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:399">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#oapp_can_subproof">oapp_can_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oapp_surj_subproof">oapp_surj_subproof</a></span> (<span class="id"><a name="f:400">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV">Inv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
<span class="kwd">by</span> <span class="id">split</span>=&gt; [<span class="id">b</span>|<span class="id">b</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] <span class="id">Bb</span>/=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oapp">inv_oapp</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; // <span class="id">x</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<span class="id"><a name="OApply.hb_instance_186">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  <span class="id"><a name="f:401">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#oapp_surj_subproof">oapp_surj_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oapp_fun_subproof">oapp_fun_subproof</a></span> (<span class="id"><a name="f:402">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> [<span class="id">a</span> <span class="id">Aa</span> &lt;-] /=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id"><a name="OApply.hb_instance_191">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:403">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#oapp_fun_subproof">oapp_fun_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="OApply.hb_instance_194">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:404">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OApply.hb_instance_198">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:405">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OApply.hb_instance_202">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:406">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OApply.hb_instance_206">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:407">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OApply.hb_instance_210">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:408">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OApply.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#oapp">oapp</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#OApply">OApply</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="OBind">OBind</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:409">aT</a></span> <span class="id"><a name="rT:410">rT</a></span>} {<span class="id"><a name="A:411">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:412">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id">rT</span>)}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="b">b</a></span> <span class="id">f</span> := (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="orT">orT</a></span> := (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.rT">rT</a></span>).<br/>
<br/>
<span class="id"><a name="OBind.hb_instance_214">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:413">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#orT">orT</a></span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>) '<span class="id">oinv_f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_obind">inv_obind</a></span> {<span class="id"><a name="f:414">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#orT">orT</a></span>}} : (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>)^-1 = '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_obind">oinv_obind</a></span> {<span class="id"><a name="f:415">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#orT">orT</a></span>}} : '<span class="id">oinv_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>) = <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_obindV">inv_obindV</a></span> {<span class="id"><a name="f:416">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#orT">orT</a></span>}} : (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>)^-1 = <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_obind">inv_obind</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<br/>
<span class="id"><a name="OBind.hb_instance_222">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:417">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#b">b</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OBind.hb_instance_227">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:418">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#orT">orT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#b">b</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OBind.hb_instance_232">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:419">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OBind.hb_instance_236">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:420">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Surject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#b">b</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OBind.hb_instance_241">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:421">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="OBind.hb_instance_245">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:422">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#OBind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">f</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#OBind">OBind</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Composition">Composition</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:423">aT</a></span> <span class="id"><a name="rT:424">rT</a></span> <span class="id"><a name="sT:425">sT</a></span>} {<span class="id"><a name="A:426">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:427">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="C:428">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">sT</span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="comp_fun_subproof">comp_fun_subproof</a></span> (<span class="id"><a name="f:429">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:430">g</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
 <span class="kwd">by</span> <span class="id">split</span> =&gt; <span class="id">x</span> /'<span class="id">funS_f</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id"><a name="Composition.hb_instance_249">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:431">f</a></span> <span class="id"><a name="g:432">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#comp_fun_subproof">comp_fun_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Composition.OInv">OInv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="f:433">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT</a></span>}} {<span class="id"><a name="g:434">g</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span>}}.<br/>
<span class="id"><a name="HB_unnamed_factory_252">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span> \<span class="id">o</span> '<span class="id">oinv_g</span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_comp">oinv_comp</a></span> : '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>) = (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>) \<span class="id">o</span> '<span class="id">oinv_g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv">OInv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Composition.OInv">OInv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="f:435">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT</a></span>}} {<span class="id"><a name="g:436">g</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.rT">rT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span>}}.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_comp_inv">some_comp_inv</a></span> : <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>^-1 \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span>^-1) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_comp">oinv_comp</a></span> -!<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_254">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#some_comp_inv">some_comp_inv</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_comp">inv_comp</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>)^-1 = <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.f">f</a></span>^-1 \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv.g">g</a></span>^-1<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.OInv">OInv</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="comp_can_subproof">comp_can_subproof</a></span> (<span class="id"><a name="f:437">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:438">g</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_comp">oinv_comp</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>//= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>. Qed.</div>
<span class="id"><a name="Composition.hb_instance_256">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:439">f</a></span> <span class="id"><a name="g:440">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#comp_can_subproof">comp_can_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="id"><a name="Composition.hb_instance_259">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:441">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:442">g</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="id"><a name="Composition.hb_instance_265">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:443">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>})<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:444">g</a></span> : {<span class="id">splitinj</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.sT">sT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="id"><a name="Composition.hb_instance_271">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:445">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>})<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:446">g</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition">Composition</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Composition">Composition</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:447">aT</a></span> <span class="id"><a name="rT:448">rT</a></span> <span class="id"><a name="sT:449">sT</a></span>} {<span class="id"><a name="A:450">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:451">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="C:452">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">sT</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="comp_surj_subproof">comp_surj_subproof</a></span> (<span class="id"><a name="f:453">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:454">g</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ocan_in_comp">ocan_in_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>)) <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; ? /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#pred_oapp_set">pred_oapp_set</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="Composition.hb_instance_277">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:455">f</a></span> <span class="id"><a name="g:456">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#comp_surj_subproof">comp_surj_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="id"><a name="Composition.hb_instance_280">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:457">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:458">g</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="id"><a name="Composition.hb_instance_286">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:459">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:460">g</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="id"><a name="Composition.hb_instance_292">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:461">f</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>})<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:462">g</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="id"><a name="Composition.hb_instance_298">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:463">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:464">g</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<span class="id"><a name="Composition.hb_instance_304">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:465">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span>}) (<span class="id"><a name="g:466">g</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Composition.C">C</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Composition">Composition</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="totalfun">totalfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:467">aT</a></span> <span class="id"><a name="rT:468">rT</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="totalfun_">totalfun_</a></span> (<span class="id"><a name="A:469">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span>) (<span class="id"><a name="f:470">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>) := <span class="id">f</span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="A:471">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="totalfun">totalfun</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#totalfun_">totalfun_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span>).<br/>
<span class="id"><a name="totalfun.hb_instance_310">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:472">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#totalfun.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<span class="id"><a name="totalfun.hb_instance_313">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:473">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="totalfun.hb_instance_321">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:474">f</a></span> : {<span class="id">splitinj</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">SplitInj.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="totalfun.hb_instance_327">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:475">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>]}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="totalfun.hb_instance_335">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:476">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun.A">A</a></span> &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#totalfun.rT">rT</a></span>]}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">SplitSurj.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">totalfun_</span>' <span class="id">A</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#totalfun_">totalfun_</a></span> <span class="id">A</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="totalfun">totalfun</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#totalfun_">totalfun_</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Olift">Olift</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:477">aT</a></span> <span class="id"><a name="rT:478">rT</a></span>} {<span class="id"><a name="A:479">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:480">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}.<br/>
<br/>
<span class="id"><a name="Olift.hb_instance_342">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:481">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.rT">rT</a></span>}} := <span class="id"><a href="mathcomp.classical.functions.html#on">OInversible.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_olift">oinv_olift</a></span>  {<span class="id"><a name="f:482">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.rT">rT</a></span>}} : '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>) = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="Olift.hb_instance_346">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:483">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.rT">rT</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> ('<span class="id">totalfun_A</span> <span class="id">f</span>)).<br/>
<span class="id"><a name="Olift.hb_instance_353">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:484">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Olift.hb_instance_360">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:485">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Olift.hb_instance_365">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:486">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Olift.hb_instance_369">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:487">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Olift.hb_instance_373">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:488">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Olift.hb_instance_377">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:489">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Olift.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Olift">Olift</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Map">Map</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:490">aT</a></span> <span class="id"><a name="rT:491">rT</a></span>} {<span class="id"><a name="A:492">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:493">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="m">m</a></span> <span class="id">f</span> := (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>)).<br/>
<br/>
<span class="id"><a name="Map.hb_instance_381">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:494">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#m">m</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="id"><a name="Map.hb_instance_386">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="f:495">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT</a></span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_omap">inv_omap</a></span> {<span class="id"><a name="f:496">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT</a></span>}} : (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>)^-1 = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_omap">oinv_omap</a></span> {<span class="id"><a name="f:497">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT</a></span>}} : '<span class="id">oinv_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>) = <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="omapV">omapV</a></span> {<span class="id"><a name="f:498">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT</a></span>}} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>^-1 = (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>)^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_omap">inv_omap</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<br/>
<span class="id"><a name="Map.hb_instance_394">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:499">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Map.hb_instance_398">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:500">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.rT">rT</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#m">m</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Map.hb_instance_405">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:501">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Map.hb_instance_409">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:502">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#copy">Surject.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#m">m</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Map.hb_instance_416">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:503">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Map.hb_instance_420">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:504">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Map.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Map.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Map">Map</a></span>.<br/>
<br/>
<div class="doc">Builders </div>
<br/>
<span class="id"><a name="CanV">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">CanV</span> {<span class="id"><a name="aT:505">aT</a></span> <span class="id"><a name="rT:506">rT</a></span>} {<span class="id"><a name="A:507">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:508">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:509">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="inv:510">inv</a></span>; <span class="id"><a name="invS:513">invS</a></span> : {<span class="id">homo</span> <span class="id">inv</span> : <span class="id"><a name="x:511">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>}; <span class="id"><a name="invK:514">invK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">inv</span> <span class="id">f</span>}; }.<br/>
<span class="id"><a name="Builders_424">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:520">aT</a></span> <span class="id"><a name="rT:521">rT</a></span>} {<span class="id"><a name="A:522">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:523">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:524">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#CanV">CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;<span class="id"><a name="Builders_424.HB_unnamed_factory_426">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv.Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.Builders_424.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.inv">inv</a></span>.<br/>
&nbsp;<span class="id"><a name="Builders_424.HB_unnamed_factory_429">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV.Build">Inv_CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.Builders_424.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_424.invK">invK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_424.Builders_424">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="OInv_Can2">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">OInv_Can2</span> {<span class="id"><a name="aT:530">aT</a></span> <span class="id"><a name="rT:531">rT</a></span>} {<span class="id"><a name="A:532">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:533">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:534">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv">OInv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="funS:537">funS</a></span> :  {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:535">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvS:540">oinvS</a></span> : {<span class="id">homo</span> '<span class="id">oinv_f</span> : <span class="id"><a name="x:538">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span>) <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="funoK:541">funoK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id">f</span> '<span class="id">oinv_f</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvK:542">oinvK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> '<span class="id">oinv_f</span> <span class="id">f</span>};<br/>
&nbsp;&nbsp;}.<br/>
<span class="id"><a name="Builders_431">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:548">aT</a></span> <span class="id"><a name="rT:549">rT</a></span>} <span class="id"><a name="A:550">A</a></span> <span class="id"><a name="B:551">B</a></span> (<span class="id"><a name="f:552">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can2">OInv_Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_431.HB_unnamed_factory_433">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#isFun.Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.funS">funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_431.HB_unnamed_factory_435">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can.Build">OInv_Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.rT">rT</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.funoK">funoK</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_431.HB_unnamed_factory_437">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV.Build">OInv_CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_431.oinvK">oinvK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_431.Builders_431">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="OCan2">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">OCan2</span> {<span class="id"><a name="aT:558">aT</a></span> <span class="id"><a name="rT:559">rT</a></span>} {<span class="id"><a name="A:560">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:561">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:562">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="oinv:563">oinv</a></span>; <span class="id"><a name="funS:566">funS</a></span> :  {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:564">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvS:569">oinvS</a></span> : {<span class="id">homo</span> <span class="id">oinv</span> : <span class="id"><a name="x:567">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span>) <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="funoK:570">funoK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id">f</span> <span class="id">oinv</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="oinvK:571">oinvK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id">oinv</span> <span class="id">f</span>};<br/>
&nbsp;&nbsp;&nbsp;}.<br/>
<span class="id"><a name="Builders_439">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:577">aT</a></span> <span class="id"><a name="rT:578">rT</a></span>} <span class="id"><a name="A:579">A</a></span> <span class="id"><a name="B:580">B</a></span> (<span class="id"><a name="f:581">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#OCan2">OCan2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_439.HB_unnamed_factory_441">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv.Build">OInv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.oinv">oinv</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_439.HB_unnamed_factory_443">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can2.Build">OInv_Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.rT">rT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.oinvS">oinvS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.funoK">funoK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_439.oinvK">oinvK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_439.Builders_439">HB.end</a></span>.<br/>
<br/>
<br/>
<span class="id"><a name="Can">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Can</span> {<span class="id"><a name="aT:587">aT</a></span> <span class="id"><a name="rT:588">rT</a></span>} {<span class="id"><a name="A:589">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} (<span class="id"><a name="f:590">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="inv:591">inv</a></span>; <span class="id"><a name="funK:592">funK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">inv</span>} }.<br/>
<span class="id"><a name="Builders_447">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:597">aT</a></span> <span class="id"><a name="rT:598">rT</a></span>} <span class="id"><a name="A:599">A</a></span> (<span class="id"><a name="f:600">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#Can">Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">f</span>. <br/>
&nbsp;<span class="id"><a name="Builders_447.HB_unnamed_factory_449">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv.Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.Builders_447.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.inv">inv</a></span>.<br/>
&nbsp;<span class="id"><a name="Builders_447.HB_unnamed_factory_452">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can.Build">Inv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.Builders_447.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_447.funK">funK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_447.Builders_447">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="Inv_Can2">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Inv_Can2</span> {<span class="id"><a name="aT:605">aT</a></span> <span class="id"><a name="rT:606">rT</a></span>} {<span class="id"><a name="A:607">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:608">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:609">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Inv">Inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="funS:612">funS</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:610">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="invS:615">invS</a></span> : {<span class="id">homo</span> <span class="id">f</span>^-1 : <span class="id"><a name="x:613">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="funK:616">funK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">f</span>^-1};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="invK:617">invK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span>^-1 <span class="id">f</span>};<br/>
&nbsp;&nbsp;&nbsp;}.<br/>
<span class="id"><a name="Builders_454">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:623">aT</a></span> <span class="id"><a name="rT:624">rT</a></span>} <span class="id"><a name="A:625">A</a></span> <span class="id"><a name="B:626">B</a></span> (<span class="id"><a name="f:627">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_454.HB_unnamed_factory_456">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#isFun.Build">isFun.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.funS">funS</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_454.HB_unnamed_factory_458">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can.Build">Inv_Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.funK">funK</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_454.HB_unnamed_factory_460">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := @<span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV.Build">Inv_CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_454.invK">invK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_454.Builders_454">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="Can2">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Can2</span> {<span class="id"><a name="aT:633">aT</a></span> <span class="id"><a name="rT:634">rT</a></span>} {<span class="id"><a name="A:635">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:636">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:637">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="inv:638">inv</a></span>; <span class="id"><a name="funS:641">funS</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:639">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="invS:644">invS</a></span> : {<span class="id">homo</span> <span class="id">inv</span> : <span class="id"><a name="x:642">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="funK:645">funK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">inv</span>};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="invK:646">invK</a></span> : {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">inv</span> <span class="id">f</span>};<br/>
&nbsp;&nbsp;&nbsp;}.<br/>
<span class="id"><a name="Builders_462">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:652">aT</a></span> <span class="id"><a name="rT:653">rT</a></span>} <span class="id"><a name="A:654">A</a></span> <span class="id"><a name="B:655">B</a></span> (<span class="id"><a name="f:656">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Can2">Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_462.HB_unnamed_factory_464">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv.Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.inv">inv</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_462.HB_unnamed_factory_467">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2.Build">Inv_Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.funK">funK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_462.invK">invK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_462.Builders_462">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="SplitInjFun_CanV">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">SplitInjFun_CanV</span> {<span class="id"><a name="aT:662">aT</a></span> <span class="id"><a name="rT:663">rT</a></span>} {<span class="id"><a name="A:664">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:665">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:666">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#SplitInjFun">SplitInjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;{ <span class="id"><a name="invS:669">invS</a></span> : {<span class="id">homo</span> <span class="id">f</span>^-1 : <span class="id"><a name="x:667">x</a></span> / <span class="id">B</span> <span class="id">x</span> &gt;-&gt; <span class="id">A</span> <span class="id">x</span>}; <span class="id"><a name="injV:670">injV</a></span> : {<span class="kwd">in</span> <span class="id">B</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>^-1} }.<br/>
<span class="id"><a name="Builders_471">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:676">aT</a></span> <span class="id"><a name="rT:677">rT</a></span>} {<span class="id"><a name="A:678">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:679">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:680">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#SplitInjFun_CanV">SplitInjFun_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="Builders_471.Builders_471.mem_inv">mem_inv</a></span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>.2 <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.invS">invS</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="Builders_471.invK">invK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.B">B</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.f">f</a></span>^-1 <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.f">f</a></span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Bx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.injV">injV</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span> ?(<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.mem_inv">mem_inv</a></span>). Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_471.HB_unnamed_factory_473">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV.Build">Inv_CanV.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.invS">invS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_471.invK">invK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_471.Builders_471">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="BijTT">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">BijTT</span> {<span class="id"><a name="aT:686">aT</a></span> <span class="id"><a name="rT:687">rT</a></span>} (<span class="id"><a name="f:688">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) := { <span class="id"><a name="bij:689">bij</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">f</span> }.<br/>
<span class="id"><a name="Builders_475">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:693">aT</a></span> <span class="id"><a name="rT:694">rT</a></span>} <span class="id"><a name="f:695">f</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#BijTT">BijTT</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="Builders_475.exg">exg</a></span> : {<span class="id"><a name="g:699">g</a></span> | <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.f">f</a></span> <span class="id">g</span> /\ <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.f">f</a></span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid">cid</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.bij">bij</a></span> =&gt; <span class="id">g</span>; <span class="kwd">exists</span> <span class="id">g</span>. Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_475.HB_unnamed_factory_477">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Can2.Build">Can2.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475.f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:702">x</a></span> <span class="id"><a name="y:703">y</a></span> =&gt; <span class="id">y</span>) (<span class="kwd">fun</span> <span class="id"><a name="x:700">x</a></span> <span class="id"><a name="y:701">y</a></span> =&gt; <span class="id">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.exg">exg</a></span>).1) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT2">projT2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_475.exg">exg</a></span>).2).<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_475.Builders_475">HB.end</a></span>.<br/>
<br/>
<div class="doc">Fun in </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="surj_oinv">surj_oinv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:704">aT</a></span> <span class="id"><a name="rT:705">rT</a></span>} {<span class="id"><a name="A:706">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:707">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:708">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} (<span class="id"><a name="fsurj:709">fsurj</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="surj_oinv.surjective_oinv">surjective_oinv</a></span> (<span class="id"><a name="y:710">y</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.rT">rT</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.B">B</a></span> <span class="id">y</span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">By</span> <span class="kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.fsurj">fsurj</a></span> <span class="id">By</span>))) <span class="kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjective_oinvK">surjective_oinvK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.B">B</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#ocancel">ocancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.surjective_oinv">surjective_oinv</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.f">f</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.surjective_oinv">surjective_oinv</a></span> =&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> ?; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; // ?; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjective_oinvS">surjective_oinvS</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.B">B</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.surjective_oinv">surjective_oinv</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
<span class="id">move</span>=&gt; <span class="id">y</span> <span class="id">By</span> /=; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#surj_oinv.surjective_oinv">surjective_oinv</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; // <span class="id">By</span>'.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> =&gt; //= <span class="id">x</span> <span class="id">Ax</span> <span class="id">fxy</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_oinv">surj_oinv</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id"><a name="surjective_ocanV">surjective_ocanV</a></span> {<span class="id"><a name="aT:711">aT</a></span> <span class="id"><a name="rT:712">rT</a></span>} {<span class="id"><a name="A:713">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:714">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:715">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="fS:716">fS</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OCanV.Build</a></span> <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.functions.html#surjective_oinvS">surjective_oinvS</a></span> <span class="id">fS</span>) (<span class="id"><a href="mathcomp.classical.functions.html#surjective_oinvK">surjective_oinvK</a></span> <span class="id">fS</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Psurj">Psurj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:717">aT</a></span> <span class="id"><a name="rT:718">rT</a></span>} {<span class="id"><a name="A:719">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:720">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:721">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} (<span class="id"><a name="fsurj:722">fsurj</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>).<br/>
<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> : <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Psurj.fsurj">fsurj</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="surjection_of_surj">surjection_of_surj</a></span> := [<span class="id">surj</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f</a></span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Psurj">Psurj</a></span> : {<span class="id"><a name="s:723">s</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Psurj.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f</a></span> = <span class="id">s</span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">surj</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj.f">f</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Psurj">Psurj</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">surjection_of_surj</span> : <span class="id">set_surj</span> &gt;-&gt; <span class="id">Surject.type</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_surj">oinv_surj</a></span> {<span class="id"><a name="aT:724">aT</a></span> <span class="id"><a name="rT:725">rT</a></span>} {<span class="id"><a name="A:726">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:727">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:728">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="fS:729">fS</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>) <span class="id"><a name="y:730">y</a></span> :<br/>
&nbsp;'<span class="id">oinv_fS</span> <span class="id">y</span> = <span class="kwd">if</span> <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="id">B</span> <span class="id">y</span>) <span class="id">is</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#left">left</a></span> <span class="id">By</span> <span class="kwd">then</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#projT1">projT1</a></span> (<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> (<span class="id">fS</span> <span class="id">y</span> <span class="id">By</span>))) <span class="kwd">else</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj">surj</a></span> {<span class="id"><a name="aT:731">aT</a></span> <span class="id"><a name="rT:732">rT</a></span>} {<span class="id"><a name="A:733">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:734">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:735">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}} : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">b</span> /'<span class="id">oinvP_f</span>[<span class="id">x</span> <span class="id">Ax</span> <span class="id">_</span>]; <span class="kwd">exists</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="phant_surj">phant_surj</a></span> <span class="id"><a name="aT:736">aT</a></span> <span class="id"><a name="rT:737">rT</a></span> (<span class="id"><a name="A:738">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:739">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:740">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>})<br/>
&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "'<span class="id">surj_</span>  <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_surj">phant_surj</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funin_surj">funin_surj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:741">aT</a></span> <span class="id"><a name="rT:742">rT</a></span> : <span class="kwd">Type</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="funin">funin</a></span> (<span class="id"><a name="A:743">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span>) (<span class="id"><a name="f:744">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.rT">rT</a></span>) := <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id"><a name="A:745">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span>} {<span class="id"><a name="B:746">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.rT">rT</a></span>} (<span class="id"><a name="f:747">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.rT">rT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_fun_image">set_fun_image</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>. Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_488">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#funin">funin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#set_fun_image">set_fun_image</a></span>.<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_490">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> : <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#funin">funin</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;((<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#funin_surj.f">f</a></span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funin_surj">funin_surj</a></span>.<br/>
<span class="kwd">Notation</span> "[ '<span class="kwd">fun</span>' <span class="id">f</span> '<span class="kwd">in</span>' <span class="id">A</span> ]" := (<span class="id"><a href="mathcomp.classical.functions.html#funin">funin</a></span> <span class="id">A</span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;(<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">f</span> <span class="kwd">at</span> <span class="id">next</span> <span class="id">level</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id">format</span> "[ '<span class="kwd">fun</span>'  <span class="id">f</span>  '<span class="kwd">in</span>'  <span class="id">A</span> ]") : <span class="id">function_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">set_fun_image</span> : <span class="id">core</span>.<br/>
<br/>
<div class="doc">Partial injection </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="split">split</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:748">aT</a></span> <span class="id"><a name="rT:749">rT</a></span>} (<span class="id"><a name="A:750">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:751">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="split_">split_</a></span> (<span class="id"><a name="dflt:752">dflt</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span>) (<span class="id"><a name="f:753">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span>) := <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Context</span> (<span class="id"><a name="dflt:754">dflt</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="split">split</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#split_">split_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.dflt">dflt</a></span>).<br/>
<br/>
<span class="id"><a name="split.hb_instance_497">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:755">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="split.oinv">oinv</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="f:756">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#split.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="split.oinv.g">g</a></span> <span class="id"><a name="y:757">y</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split.dflt">dflt</a></span> <span class="id">y</span>) ('<span class="id">oinv_f</span> <span class="id">y</span>).<br/>
<span class="id"><a name="HB_unnamed_factory_502">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.g">g</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="splitV">splitV</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.f">f</a></span>)^-1 = <span class="id"><a href="mathcomp.classical.functions.html#split.oinv.g">g</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#split.oinv">oinv</a></span>.<br/>
<span class="id"><a name="split.hb_instance_509">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:758">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="splitis_inj_subproof">splitis_inj_subproof</a></span> (<span class="id"><a name="f:759">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.rT">rT</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can">Inv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#splitV">splitV</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>. Qed.</div>
<span class="id"><a name="split.hb_instance_513">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:760">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#splitis_inj_subproof">splitis_inj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="split.hb_instance_518">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:761">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="splitid">splitid</a></span> (<span class="id"><a name="f:762">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) : (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>)^-1 = <span class="id">f</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#Some_inj">Some_inj</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#splitV">splitV</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="splitsurj_subproof">splitsurj_subproof</a></span> (<span class="id"><a name="f:763">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#Inv_CanV">Inv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [+|+ /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] =&gt; <span class="id">b</span> <span class="id">Bb</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#splitV">splitV</a></span>; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>. Qed.</div>
<br/>
<span class="id"><a name="split.hb_instance_524">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:764">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#splitsurj_subproof">splitsurj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="split.hb_instance_529">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:765">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="split.hb_instance_535">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:766">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#split.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#split.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#split">split</a></span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">split_</span>' <span class="id">a</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#split_">split_</a></span> <span class="id">a</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="split">split</a></span> := '<span class="id">split_point</span>.<br/>
<br/>
<div class="doc">More Builders </div>
<br/>
<span class="id"><a name="Inj">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">Inj</span> {<span class="id"><a name="aT:767">aT</a></span> <span class="id"><a name="rT:768">rT</a></span>} (<span class="id"><a name="A:769">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="f:770">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :=<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="inj:771">inj</a></span> : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} }.<br/>
<span class="id"><a name="Builders_541">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:776">aT</a></span> <span class="id"><a name="rT:777">rT</a></span>} <span class="id"><a name="A:778">A</a></span> (<span class="id"><a name="f:779">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Inj">Inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_541.HB_unnamed_factory_543">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInversible.copy">OInversible.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> [<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.A">A</a></span>].<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Builders_541.funoK">funoK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.A">A</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcancel">pcancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> '<span class="id">oinv_f</span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_surj">oinv_surj</a></span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> =&gt; //=; <span class="id">last</span> <span class="kwd">by</span> <span class="id">case</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> =&gt; //= <span class="id">y</span> <span class="id">Ay</span> /<span class="id"><a href="mathcomp.classical.functions.html#Builders_541.inj">inj</a></span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -&gt;.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_541.HB_unnamed_factory_545">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can.Build">OInv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_541.funoK">funoK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_541.Builders_541">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="SurjFun_Inj">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">SurjFun_Inj</span> {<span class="id"><a name="aT:784">aT</a></span> <span class="id"><a name="rT:785">rT</a></span>} {<span class="id"><a name="A:786">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:787">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:788">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#SurjFun">SurjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> := { <span class="id"><a name="inj:789">inj</a></span> : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} }.<br/>
<span class="id"><a name="Builders_547">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:795">aT</a></span> <span class="id"><a name="rT:796">rT</a></span>} {<span class="id"><a name="A:797">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:798">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:799">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#SurjFun_Inj">SurjFun_Inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="Builders_547.Builders_547.g">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.f">f</a></span>.<br/>
&nbsp;&nbsp;<span class="id"><a name="Builders_547.HB_unnamed_factory_549">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inj.Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.inj">inj</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="Builders_547.Builders_547.fcan">fcan</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.f">f</a></span>.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
&nbsp;&nbsp;<span class="id">split</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Ax</span>; <span class="id">apply</span>: '<span class="id">inj_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.g">g</a></span>); <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.g">g</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#oinvV">oinvV</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>// ?<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;<span class="id"><a name="Builders_547.HB_unnamed_factory_554">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547.fcan">fcan</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_547.Builders_547">HB.end</a></span>.<br/>
<br/>
<span class="id"><a name="SplitSurjFun_Inj">HB.factory</a></span> <span class="kwd">Record</span> <span class="id">SplitSurjFun_Inj</span> {<span class="id"><a name="aT:805">aT</a></span> <span class="id"><a name="rT:806">rT</a></span>} {<span class="id"><a name="A:807">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:808">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:809">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#SplitSurjFun">SplitSurjFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="inj:810">inj</a></span> : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} }.<br/>
<span class="id"><a name="Builders_556">HB.builders</a></span> <span class="kwd">Context</span> {<span class="id"><a name="aT:816">aT</a></span> <span class="id"><a name="rT:817">rT</a></span>} {<span class="id"><a name="A:818">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:819">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:820">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id">of</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#SplitSurjFun_Inj">SplitSurjFun_Inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="Builders_556.funK">funK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.A">A</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.f">f</a></span>^-1%<span class="id">FUN</span>}.<br/>
<div>&nbsp;&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
  <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.inj">inj</a></span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="id"><a name="Builders_556.HB_unnamed_factory_558">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can.Build">Inv_Can.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.rT">rT</a></span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Builders_556.funK">funK</a></span>.<br/>
<span class="id"><a href="mathcomp.classical.functions.html#Builders_556.Builders_556">HB.end</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Inverses">Inverses</a></span>.<br/>
<span class="kwd">Context</span> <span class="id"><a name="aT:826">aT</a></span> <span class="id"><a name="rT:827">rT</a></span> {<span class="id"><a name="A:828">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:829">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}.<br/>
<span class="id"><a name="Inverses.hb_instance_560">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:830">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Inverses.rT">rT</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">SurjFun_Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses.A">A</a></span>] '<span class="id">inj_f</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Inverses">Inverses</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Simple Factories                                                        
</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Pinj">Pinj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:831">aT</a></span> <span class="id"><a name="rT:832">rT</a></span>} {<span class="id"><a name="A:833">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="f:834">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} (<span class="id"><a name="finj:835">finj</a></span> : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.finj">finj</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Pinj">Pinj</a></span> : {<span class="id"><a name="i:836">i</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Pinj.rT">rT</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#Pinj.f">f</a></span> = <span class="id">i</span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">inj</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj.f">f</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Pfun">Pfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:837">aT</a></span> <span class="id"><a name="rT:838">rT</a></span>} {<span class="id"><a name="A:839">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:840">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:841">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>}<br/>
&nbsp;&nbsp;(<span class="id"><a name="ffun:844">ffun</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:842">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="Pfun.g">g</a></span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Pfun.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.ffun">ffun</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Pfun">Pfun</a></span> : {<span class="id"><a name="i:845">i</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Pfun.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#Pfun.f">f</a></span> = <span class="id">i</span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun.g">g</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Pfun">Pfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="injPfun">injPfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:846">aT</a></span> <span class="id"><a name="rT:847">rT</a></span>} {<span class="id"><a name="A:848">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:849">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:850">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="ffun:853">ffun</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:851">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="injPfun.g">g</a></span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#injPfun.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.g">g</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.ffun">ffun</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injPfun">injPfun</a></span> : {<span class="id"><a name="i:854">i</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#injPfun.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#injPfun.f">f</a></span> = <span class="id">i</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">injfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun.g">g</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#injPfun">injPfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funPinj">funPinj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:855">aT</a></span> <span class="id"><a name="rT:856">rT</a></span>} {<span class="id"><a name="A:857">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:858">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:859">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;(<span class="id"><a name="finj:860">finj</a></span> : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="funPinj.g">g</a></span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#funPinj.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.g">g</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.finj">finj</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funPinj">funPinj</a></span> : {<span class="id"><a name="i:861">i</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#funPinj.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#funPinj.f">f</a></span> = <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">injfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj.g">g</a></span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPinj">funPinj</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funPsurj">funPsurj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:862">aT</a></span> <span class="id"><a name="rT:863">rT</a></span>} {<span class="id"><a name="A:864">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:865">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:866">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="fsurj:867">fsurj</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="funPsurj.g">g</a></span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.g">g</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> : <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.g">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.fsurj">fsurj</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funPsurj">funPsurj</a></span> : {<span class="id"><a name="s:868">s</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.f">f</a></span> = <span class="id">s</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">surjfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj.g">g</a></span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsurj">funPsurj</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="surjPfun">surjPfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:869">aT</a></span> <span class="id"><a name="rT:870">rT</a></span>} {<span class="id"><a name="A:871">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:872">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:873">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a name="ffun:876">ffun</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:874">x</a></span> / <span class="id">A</span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="surjPfun.g">g</a></span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.g">g</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.ffun">ffun</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjPfun">surjPfun</a></span> : {<span class="id"><a name="s:877">s</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.f">f</a></span> = <span class="id">s</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">surjfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun.g">g</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#surjPfun">surjPfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Psplitinj">Psplitinj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:878">aT</a></span> <span class="id"><a name="rT:879">rT</a></span>} {<span class="id"><a name="A:880">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="f:881">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} {<span class="id"><a name="g:882">g</a></span>} (<span class="id"><a name="funK:883">funK</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>}).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.funK">funK</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Psplitinj">Psplitinj</a></span> : {<span class="id"><a name="i:884">i</a></span> : {<span class="id">splitinj</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.rT">rT</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.f">f</a></span> = <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">splitinj</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj.f">f</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Psplitinj">Psplitinj</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funPsplitinj">funPsplitinj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:885">aT</a></span> <span class="id"><a name="rT:886">rT</a></span>} {<span class="id"><a name="A:887">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:888">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:889">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="g:890">g</a></span>} (<span class="id"><a name="funK:891">funK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.A">A</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f">f</a></span> <span class="id">g</span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="funPsplitinj.f'">f</a></span>' : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id">f</span>'.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.A">A</a></span> <span class="id">f</span>' <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.funK">funK</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funPsplitinj">funPsplitinj</a></span> : {<span class="id"><a name="i:892">i</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj.f">f</a></span> = <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">splitinjfun</span> <span class="id">of</span> <span class="id">f</span>']; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitinj">funPsplitinj</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="PsplitinjT">PsplitinjT</a></span> {<span class="id"><a name="aT:893">aT</a></span> <span class="id"><a name="rT:894">rT</a></span>} {<span class="id"><a name="f:895">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} {<span class="id"><a name="g:896">g</a></span>} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id"><a name="i:897">i</a></span> : {<span class="id">splitinj</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; <span class="id">rT</span>} | <span class="id">f</span> = <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span>/<span class="id"><a href="mathcomp.classical.functions.html#Psplitinj">Psplitinj</a></span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="funPsplitsurj">funPsplitsurj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:898">aT</a></span> <span class="id"><a name="rT:899">rT</a></span>} {<span class="id"><a name="A:900">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:901">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:902">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="g:903">g</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.A">A</a></span>}} (<span class="id"><a name="funK:904">funK</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f">f</a></span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="funPsplitsurj.f'">f</a></span>' : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> <span class="id">f</span>'.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">CanV.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B</a></span> <span class="id">f</span>' <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.funK">funK</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funPsplitsurj">funPsplitsurj</a></span> : {<span class="id"><a name="s:905">s</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj.f">f</a></span> = <span class="id">s</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">splitsurjfun</span> <span class="id">of</span> <span class="id">f</span>']. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj">funPsplitsurj</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="PsplitsurjT">PsplitsurjT</a></span> {<span class="id"><a name="aT:906">aT</a></span> <span class="id"><a name="rT:907">rT</a></span>} {<span class="id"><a name="f:908">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} {<span class="id"><a name="g:909">g</a></span>} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;{<span class="id"><a name="s:910">s</a></span> : {<span class="id">splitsurjfun</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">rT</span>]} | <span class="id">f</span> = <span class="id">s</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span>/(@<span class="id"><a href="mathcomp.classical.functions.html#funPsplitsurj">funPsplitsurj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>] [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">g</span>]).<br/>
Qed.</div>
<br/>
<div class="ssrdoc markdown">
## Instances                                                               
</div>
<br/>
<div class="doc">The identity is a split bijection </div>
<br/>
<span class="id"><a name="hb_instance_665">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="T:911">T</a></span> <span class="id"><a name="A:912">A</a></span> := @<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">T</span> <span class="id">T</span> <span class="id">A</span> <span class="id">A</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span><br/>
&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:913">x</a></span> <span class="id"><a name="y:914">y</a></span> =&gt; <span class="id">y</span>) (<span class="kwd">fun</span> <span class="id"><a name="x:915">x</a></span> <span class="id"><a name="y:916">y</a></span> =&gt; <span class="id">y</span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
<br/>
<div class="doc">Iteration preserves Fun, Injectivity, and Surjectivity </div>
<span class="kwd">Section</span> <span class="id"><a name="iter_inv">iter_inv</a></span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:917">aT</a></span>} {<span class="id"><a name="A:918">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Lemma</span> <span class="id"><a name="iter_fun_subproof">iter_fun_subproof</a></span> <span class="id"><a name="n:919">n</a></span> (<span class="id"><a name="f:920">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="id">split</span> =&gt; <span class="id">x</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; // <span class="id">n</span> /[<span class="id">apply</span>] ?; <span class="id">apply</span>/(<span class="id"><a href="mathcomp.classical.functions.html#fun_image_sub">fun_image_sub</a></span> <span class="id">f</span>).<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span> <span class="id">x</span>).<br/>
Qed.</div>
<br/>
<span class="id"><a name="iter_inv.hb_instance_677">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:921">n</a></span> <span class="id"><a name="f:922">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#iter_fun_subproof">iter_fun_subproof</a></span> <span class="id">n</span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="iter_inv.OInv">OInv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="f:923">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span>}}.<br/>
<span class="id"><a name="iter_inv.OInv.hb_instance_680">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:924">n</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">iter</span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>) \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_iter">oinv_iter</a></span> <span class="id"><a name="n:925">n</a></span> : '<span class="id">oinv_</span>(<span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>) = <span class="id">iter</span> <span class="id">n</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> '<span class="id">oinv_f</span>) \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv">OInv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="iter_inv.OInv">OInv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="f:926">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span>}}.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_iter_inv">some_iter_inv</a></span> <span class="id"><a name="n:927">n</a></span> : <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>^-1) = '<span class="id">oinv_</span>(<span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
<span class="id">elim</span>: <span class="id">n</span> =&gt; // <span class="id">n</span> <span class="id">IH</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id">IH</span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinv_iter">oinv_iter</a></span> -<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#compA">compA</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>^-1 = '<span class="id">oinv_f</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span>; <span class="id">congr</span> (<span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funeqP">funeqP</a></span> =&gt; ? /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>.<br/>
Qed.</div>
<span class="id"><a name="iter_inv.OInv.hb_instance_683">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:928">n</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#some_iter_inv">some_iter_inv</a></span> <span class="id">n</span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_iter">inv_iter</a></span> <span class="id"><a name="n:929">n</a></span> : (<span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>)^-1 = <span class="id">iter</span> <span class="id">n</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv.f">f</a></span>^-1<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.OInv">OInv</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="iter_can_subproof">iter_can_subproof</a></span> <span class="id"><a name="n:930">n</a></span> (<span class="id"><a name="f:931">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
<span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_iter">oinv_iter</a></span> /=; <span class="id">elim</span>: <span class="id">n</span>=&gt; // <span class="id">n</span> <span class="id">IH</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span> /= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="iter_inv.hb_instance_686">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:932">f</a></span> <span class="id"><a name="g:933">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#iter_can_subproof">iter_can_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="id"><a name="iter_inv.hb_instance_689">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:934">n</a></span> (<span class="id"><a name="f:935">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<span class="id"><a name="iter_inv.hb_instance_695">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:936">n</a></span> (<span class="id"><a name="f:937">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_inv.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_inv">iter_inv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="iter_surj">iter_surj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:938">aT</a></span>} {<span class="id"><a name="A:939">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="iter_surj_subproof">iter_surj_subproof</a></span> <span class="id"><a name="n:940">n</a></span> (<span class="id"><a name="f:941">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="id">elim</span>: <span class="id">n</span>=&gt; // <span class="id">n</span> <span class="id">IH</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_iter">oinv_iter</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfSr">iterfSr</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#iterfS">iterfS</a></span>.<br/>
<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ocan_in_comp">ocan_in_comp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#mem">mem</a></span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>)) =&gt; //; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span>.<br/>
<span class="id">elim</span>: <span class="id">n</span> {<span class="id">IH</span>} =&gt; // <span class="id">n</span> <span class="id">IH</span> <span class="id">x</span> <span class="id">Ax</span>; <span class="id">move</span>: (<span class="id">IH</span> <span class="id">_</span> <span class="id">Ax</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#pred_oapp_set">pred_oapp_set</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="id">case</span>=&gt; <span class="id">y</span> <span class="id">Ay</span> /= <span class="id">ynf</span>; <span class="id">case</span>: (@<span class="id"><a href="mathcomp.classical.functions.html#oinvS">oinvS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id">_</span> <span class="id">Ay</span>) =&gt; <span class="id">z</span> ? <span class="id">zfinv</span>; <span class="kwd">exists</span> <span class="id">z</span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">zfinv</span> /= -<span class="id">ynf</span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="iter_surj.hb_instance_701">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:942">n</a></span> <span class="id"><a name="f:943">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#iter_surj_subproof">iter_surj_subproof</a></span> <span class="id">n</span> <span class="id">f</span>.<br/>
<span class="id"><a name="iter_surj.hb_instance_704">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:944">n</a></span> (<span class="id"><a name="f:945">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<span class="id"><a name="iter_surj.hb_instance_710">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:946">n</a></span> (<span class="id"><a name="f:947">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<span class="id"><a name="iter_surj.hb_instance_716">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:948">n</a></span> (<span class="id"><a name="f:949">f</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<span class="id"><a name="iter_surj.hb_instance_722">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:950">n</a></span> (<span class="id"><a name="f:951">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<span class="id"><a name="iter_surj.hb_instance_728">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:952">n</a></span> (<span class="id"><a name="f:953">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#iter_surj.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id">iter</span> <span class="id">n</span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#iter_surj">iter_surj</a></span>.<br/>
<br/>
<div class="doc">Unbind </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Unbind">Unbind</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:954">aT</a></span> <span class="id"><a name="rT:955">rT</a></span>} {<span class="id"><a name="A:956">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:957">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="dflt:958">dflt</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="unbind">unbind</a></span> (<span class="id"><a name="f:959">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Unbind.aT">aT</a></span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.rT">rT</a></span>) <span class="id"><a name="x:960">x</a></span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Unbind.dflt">dflt</a></span> <span class="id">x</span>) (<span class="id">f</span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unbind_fun_subproof">unbind_fun_subproof</a></span> (<span class="id"><a name="f:961">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> /'<span class="id">funS_f</span> [<span class="id">y</span> <span class="id">Bu</span> &lt;-]. Qed.</div>
<span class="id"><a name="Unbind.hb_instance_734">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:962">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#unbind_fun_subproof">unbind_fun_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Unbind.Oinv">Oinv</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="f:963">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.rT">rT</a></span>}).<br/>
<span class="id"><a name="HB_unnamed_factory_737">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Oinv.f">f</a></span>) ('<span class="id">oinv_f</span> \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_unbind">oinv_unbind</a></span> : '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Oinv.f">f</a></span>) = '<span class="id">oinv_f</span> \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Oinv">Oinv</a></span>.<br/>
<span class="id"><a name="Unbind.hb_instance_739">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:964">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Unbind.Inv">Inv</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="f:965">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.aT">aT</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.rT">rT</a></span>}).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_unbind_subproof">inv_unbind_subproof</a></span> : <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>^-1 \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_743">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#inv_unbind_subproof">inv_unbind_subproof</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_unbind">inv_unbind</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>)^-1 = <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv.f">f</a></span>^-1 \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.Inv">Inv</a></span>.<br/>
<span class="id"><a name="Unbind.hb_instance_745">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:966">f</a></span> : {<span class="id">invfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unbind_inj_subproof">unbind_inj_subproof</a></span> (<span class="id"><a name="f:967">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) :<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_unbind">oinv_unbind</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span>/=; <span class="id">have</span> &lt;- := '<span class="id">funoK_f</span> <span class="id">Ax</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">y</span> <span class="id">By</span> /= &lt;-] := '<span class="id">funS_f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Ax</span>).<br/>
Qed.</div>
<span class="id"><a name="Unbind.hb_instance_749">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:968">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#unbind_inj_subproof">unbind_inj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="Unbind.hb_instance_752">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:969">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unbind_surj_subproof">unbind_surj_subproof</a></span> (<span class="id"><a name="f:970">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) :<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="id">split</span>=&gt; [<span class="id">b</span>|<span class="id">b</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] <span class="id">Bb</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_unbind">oinv_unbind</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span>/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; [|<span class="id">a</span>]; [<span class="kwd">exists</span> <span class="id">b</span> | <span class="kwd">exists</span> <span class="id">a</span>].<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; [|<span class="id">a</span> <span class="id">Aa</span> /= -&gt;]; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">b</span>.<br/>
Qed.</div>
<span class="id"><a name="Unbind.hb_instance_758">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:971">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#unbind_surj_subproof">unbind_surj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="Unbind.hb_instance_761">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:972">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Unbind.hb_instance_767">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:973">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Unbind.hb_instance_773">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:974">f</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Unbind.hb_instance_779">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:975">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Unbind.hb_instance_785">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:976">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind.A">A</a></span> &gt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Unbind.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Bij.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Unbind">Unbind</a></span>.<br/>
<br/>
<div class="doc">Odflt </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Odflt">Odflt</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:977">T</a></span>} {<span class="id"><a name="A:978">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} (<span class="id"><a name="x:979">x</a></span> : <span class="id">T</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="odflt_unbind">odflt_unbind</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> (<span class="kwd">fun</span>=&gt; <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_791">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>.<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_798">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitBij.copy</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>)<br/>
&nbsp;&nbsp;[<span class="id">the</span> {<span class="id">bij</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#Odflt.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Odflt.A">A</a></span>} <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> (<span class="kwd">fun</span>=&gt; <span class="id"><a href="mathcomp.classical.functions.html#Odflt.x">x</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>].<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Odflt">Odflt</a></span>.<br/>
<br/>
<div class="doc">Subtypes </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SubType">SubType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:980">T</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="P:981">P</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#pred">pred</a></span> <span class="id">T</span>} (<span class="id"><a name="sT:982">sT</a></span> : <span class="id">subType</span> <span class="id">P</span>) (<span class="id"><a name="x0:983">x0</a></span> : <span class="id">sT</span>).<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_807">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.sT">sT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.T">T</a></span> <span class="id">val</span> <span class="id">insub</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_val">oinv_val</a></span> : '<span class="id">oinv_val</span> = <span class="id">insub</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_bij_subproof">val_bij_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can2">OInv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.sT">sT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.T">T</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> [<span class="id">set</span>` <span class="id"><a href="mathcomp.classical.functions.html#SubType.P">P</a></span>] <span class="id">val</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Can2.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">val</span> (<span class="kwd">fun</span> <span class="id"><a name="x:984">x</a></span>  <span class="id">_</span> =&gt; <span class="id">valP</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id">valK</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id">insubK</span> <span class="id">_</span>))).<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Px</span> /=; <span class="kwd">exists</span> (<span class="id">Sub</span> <span class="id">x</span> <span class="id">Px</span>) =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_val">oinv_val</a></span> <span class="id">insubT</span>.<br/>
Qed.</div>
<span class="id"><a name="HB_unnamed_factory_809">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#val_bij_subproof">val_bij_subproof</a></span>.<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_816">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">Bij.copy</a></span> <span class="id">insub</span> '<span class="id">oinv_val</span>.<br/>
<span class="id"><a name="HB_unnamed_factory_829">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitBij.copy</a></span> (<span class="id">insubd</span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#odflt">odflt</a></span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span> \<span class="id">o</span> '<span class="id">split_</span>(<span class="kwd">fun</span>=&gt; <span class="id">val</span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span>) <span class="id">insub</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_insubd">inv_insubd</a></span> : (<span class="id">insubd</span> <span class="id"><a href="mathcomp.classical.functions.html#SubType.x0">x0</a></span>)^-1 = <span class="id">val</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#SubType">SubType</a></span>.<br/>
<br/>
<div class="doc">To setT </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="to_setT">to_setT</a></span> {<span class="id"><a name="T:986">T</a></span>} (<span class="id"><a name="x:987">x</a></span> : <span class="id">T</span>) : [<span class="id">set</span>: <span class="id">T</span>] :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>).<br/>
<span class="id"><a name="hb_instance_843">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="T:988">T</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Can.Build</a></span> <span class="id">T</span> [<span class="id">set</span>: <span class="id">T</span>] <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span><br/>
&nbsp;&nbsp;((<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>) : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> <span class="id">val</span>}).<br/>
<span class="id"><a name="hb_instance_854">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="T:989">T</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">T</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<span class="id"><a name="hb_instance_857">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="T:990">T</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">SplitInjFun_CanV.Build</a></span> <span class="id">T</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:991">x</a></span> <span class="id"><a name="y:992">y</a></span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="setTbij">setTbij</a></span> {<span class="id"><a name="T:993">T</a></span>} := [<span class="id">splitbij</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> <span class="id">T</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_to_setT">inv_to_setT</a></span> <span class="id"><a name="T:994">T</a></span> : (@<span class="id"><a href="mathcomp.classical.functions.html#to_setT">to_setT</a></span> <span class="id">T</span>)^-1 = <span class="id">val</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<div class="doc">Subfun </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="subfun">subfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:995">T</a></span>} {<span class="id"><a name="A:996">A</a></span> <span class="id"><a name="B:997">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="subfun">subfun</a></span> (<span class="id"><a name="AB:998">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>) (<span class="id"><a name="a:999">a</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> (<span class="id">AB</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span> <span class="id">a</span>))).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subfun_inj">subfun_inj</a></span> {<span class="id"><a name="AB:1000">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">y</span> /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id">val</span>)/= /<span class="id">val_inj</span>. Qed.</div>
<br/>
<span class="id"><a name="subfun.hb_instance_861">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="AB:1001">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">SurjFun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span>) [<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>].<br/>
<span class="id"><a name="subfun.hb_instance_869">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  (<span class="id"><a name="AB:1002">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">SurjFun_Inj.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span> @` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_inj">subfun_inj</a></span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="subfun_eq">subfun_eq</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1003">T</a></span>} {<span class="id"><a name="A:1004">A</a></span> <span class="id"><a name="B:1005">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subfun_imageT">subfun_imageT</a></span> (<span class="id"><a name="AB:1006">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span>) (<span class="id"><a name="BA:1007">BA</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">AB</span> @` <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> //= <span class="id">_</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">BA</span> <span class="id">x</span>) =&gt; //; <span class="id">exact</span>/<span class="id">val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subfun_inv_subproof">subfun_inv_subproof</a></span> (<span class="id"><a name="AB:1008">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetCW">subsetCW</a></span> <span class="id">AB</span>)) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id">AB</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="id">set</span> <span class="id">g</span> := <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">_</span>; <span class="id">set</span> <span class="id">f</span> := <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span> /=.<br/>
<span class="id">apply</span>: '<span class="id">inj_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id">x</span>) =&gt; //=.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=; <span class="id">eexists</span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/=; <span class="id">apply</span>: '<span class="id">oinvS_f</span>; <span class="kwd">exists</span> (<span class="id">g</span> <span class="id">x</span>) =&gt; //; <span class="id">apply</span>/<span class="id">val_inj</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//=; <span class="id">first</span> <span class="id">exact</span>/<span class="id">val_inj</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">g</span> <span class="id">x</span>) =&gt; //; <span class="id">apply</span>/<span class="id">val_inj</span>.<br/>
Qed.</div>
<span class="id"><a name="subfun_eq.hb_instance_874">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="AB:1009">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id">AB</span>)) (<span class="id"><a href="mathcomp.classical.functions.html#subfun_inv_subproof">subfun_inv_subproof</a></span> <span class="id">AB</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#subfun_eq">subfun_eq</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="seteqfun">seteqfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1010">T</a></span> : <span class="kwd">Type</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="seteqfun">seteqfun</a></span> {<span class="id"><a name="A:1011">A</a></span> <span class="id"><a name="B:1012">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.T">T</a></span>} (<span class="id"><a name="AB:1013">AB</a></span> : <span class="id">A</span> = <span class="id">B</span>) := <span class="id"><a href="mathcomp.classical.functions.html#subfun">subfun</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id">AB</span>).<br/>
<br/>
<span class="kwd">Context</span> {<span class="id"><a name="A:1014">A</a></span> <span class="id"><a name="B:1015">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.T">T</a></span>} (<span class="id"><a name="AB:1016">AB</a></span> : <span class="id">A</span> = <span class="id">B</span>).<br/>
<span class="id"><a name="HB_unnamed_factory_877">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.AB">AB</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#esym">esym</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.AB">AB</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="seteqfun_can2_subproof">seteqfun_can2_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.B">B</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun.AB">AB</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
 <span class="kwd">by</span> <span class="id">split</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span>//; <span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>/<span class="id">val_inj</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_884">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#seteqfun_can2_subproof">seteqfun_can2_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#seteqfun">seteqfun</a></span>.<br/>
<br/>
<div class="doc">Inclusion </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="incl">incl</a></span>.<br/>
<span class="kwd">Context</span>  {<span class="id"><a name="T:1017">T</a></span>} {<span class="id"><a name="A:1018">A</a></span> <span class="id"><a name="B:1019">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="incl">incl</a></span> (<span class="id"><a name="AB:1020">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) := @<span class="id">id</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.T">T</a></span>.<br/>
<br/>
<span class="id"><a name="incl.hb_instance_891">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="AB:1021">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id">AB</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<span class="id"><a name="incl.hb_instance_899">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="AB:1022">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id">AB</span>) <span class="id">AB</span>.<br/>
<span class="id"><a name="incl.hb_instance_902">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="AB:1023">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inv_Can.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> <span class="id">AB</span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eqincl">eqincl</a></span> (<span class="id"><a name="AB:1024">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span>) := <span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetW">subsetW</a></span> <span class="id">AB</span>).<br/>
<span class="id"><a name="incl.hb_instance_907">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="AB:1025">AB</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Inversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> <span class="id">AB</span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqincl_surj">eqincl_surj</a></span> <span class="id"><a name="AB:1026">AB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#incl.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#incl.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> <span class="id">AB</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; // <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span>/= /(<span class="id">_</span>^-1)/<span class="id"><a href="mathcomp.classical.functions.html#inv">inv</a></span>/= <span class="id">AB</span>. Qed.</div>
<span class="id"><a name="incl.hb_instance_915">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="AB:1027">AB</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#eqincl_surj">eqincl_surj</a></span> <span class="id">AB</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="inclT">inclT</a></span> <span class="id">A</span> := (<span class="id"><a href="mathcomp.classical.functions.html#incl">incl</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetT">subsetT</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<br/>
<div class="doc">Ad hoc function </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="mkfun">mkfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1028">aT</a></span>} {<span class="id"><a name="rT:1029">rT</a></span>} {<span class="id"><a name="A:1030">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1031">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="isfun">isfun</a></span> <span class="id">f</span> := {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:1032">x</a></span> / <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id">x</span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B</a></span> <span class="id">x</span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mkfun">mkfun</a></span> <span class="id"><a name="f:1034">f</a></span> (<span class="id"><a name="fAB:1035">fAB</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#isfun">isfun</a></span> <span class="id">f</span>) := <span class="id">f</span>.<br/>
<span class="id"><a name="mkfun.hb_instance_926">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1036">f</a></span> <span class="id"><a name="fAB:1037">fAB</a></span> := @<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">f</span> <span class="id">fAB</span>) <span class="id">fAB</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mkfun_fun">mkfun_fun</a></span> <span class="id"><a name="f:1038">f</a></span> <span class="id"><a name="fAB:1039">fAB</a></span> := [<span class="kwd">fun</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">f</span> <span class="id">fAB</span>].<br/>
<span class="id"><a name="mkfun.hb_instance_929">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1040">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#mkfun.rT">rT</a></span>}) <span class="id"><a name="fAB:1041">fAB</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">f</span> <span class="id">fAB</span>).<br/>
<span class="id"><a name="mkfun.hb_instance_937">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1042">f</a></span> : {<span class="id">splitinj</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#mkfun.rT">rT</a></span>}) <span class="id"><a name="fAB:1043">fAB</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">SplitInj.on</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">f</span> <span class="id">fAB</span>).<br/>
<span class="id"><a name="mkfun.hb_instance_946">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1044">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B</a></span>}) <span class="id"><a name="fAB:1045">fAB</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">f</span> <span class="id">fAB</span>).<br/>
<span class="id"><a name="mkfun.hb_instance_954">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1046">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#mkfun.B">B</a></span>}) <span class="id"><a name="fAB:1047">fAB</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">SplitSurj.on</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">f</span> <span class="id">fAB</span>).<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span>.<br/>
<br/>
<div class="doc">set_val </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="set_val">set_val</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1048">T</a></span>} {<span class="id"><a name="A:1049">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_val">set_val</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_val.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_val.T">T</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#eqincl">eqincl</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem_set">set_mem_set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val.A">A</a></span>) \<span class="id">o</span> <span class="id">val</span>.<br/>
<span class="id"><a name="HB_unnamed_factory_964">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Bij.on</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_set_val">oinv_set_val</a></span> : '<span class="id">oinv_set_val</span> = <span class="id">insub</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="set_valE">set_valE</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> = <span class="id">val</span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span>.<br/>
<br/>
#[<span class="id">global</span>]<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#is_true">is_true</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">_</span> \<span class="kwd">in</span> <span class="id">_</span>)) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id">valP</span>] : <span class="id">core</span>.<br/>
<br/>
<div class="doc">Squash </div>
<br/>
<span class="id"><a name="hb_instance_977">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="T:1050">T</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">CanV.Build</a></span> <span class="id">T</span> $|<span class="id">T</span>| <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#squash">squash</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#unsquashK">unsquashK</a></span>).<br/>
<span class="id"><a name="hb_instance_988">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="T:1051">T</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitInj.copy</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#unsquash">unsquash</a></span> <span class="id">T</span>) <span class="id"><a href="mathcomp.classical.classical_sets.html#squash">squash</a></span>^-1%<span class="id">FUN</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ssquash">ssquash</a></span> {<span class="id"><a name="T:1052">T</a></span>} := [<span class="id">splitsurj</span> <span class="id">of</span> @<span class="id"><a href="mathcomp.classical.classical_sets.html#squash">squash</a></span> <span class="id">T</span>].<br/>
<br/>
<div class="doc">pickle and unpickle </div>
<br/>
<span class="id"><a name="hb_instance_999">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="T:1053">T</a></span> : <span class="id">countType</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (@<span class="id">choice.pickle</span> <span class="id">T</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#pcan_inj">pcan_inj</a></span> <span class="id">choice.pickleK</span>)).<br/>
<span class="id"><a name="hb_instance_1007">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="T:1054">T</a></span> : <span class="id">countType</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (@<span class="id">choice.pickle</span> <span class="id">T</span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<br/>
<div class="doc">set0fun </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set0fun_inj">set0fun_inj</a></span> {<span class="id"><a name="P:1055">P</a></span> <span class="id"><a name="T:1056">T</a></span>} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span> <span class="id">P</span> <span class="id">T</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
 <span class="kwd">by</span> <span class="id">case</span>=&gt; <span class="id">x</span> <span class="id">x0</span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">x0</span>. Qed.</div>
<br/>
<span class="id"><a name="hb_instance_1010">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="P:1057">P</a></span> <span class="id"><a name="T:1058">T</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Inj.Build</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">T</span>) <span class="id">P</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set0fun_inj">set0fun_inj</a></span>).<br/>
<span class="id"><a name="hb_instance_1018">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="P:1059">P</a></span> <span class="id"><a name="T:1060">T</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#set0fun">set0fun</a></span> <span class="id">P</span> <span class="id">T</span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>).<br/>
<br/>
<div class="doc">cast_ord </div>
<br/>
<span class="id"><a name="hb_instance_1021">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> {<span class="id"><a name="m:1061">m</a></span> <span class="id"><a name="n:1062">n</a></span>} {<span class="id"><a name="eq_mn:1063">eq_mn</a></span> : <span class="id">m</span> = <span class="id">n</span>} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> '<span class="id">I_m</span> '<span class="id">I_n</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id">cast_ord</span> <span class="id">eq_mn</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id">cast_ordK</span> <span class="id">_</span>)) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> (<span class="id">cast_ordKV</span> <span class="id">_</span>)).<br/>
<br/>
<div class="doc">enum_val &amp; enum_rank </div>
<br/>
<span class="id"><a name="hb_instance_1038">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="T:1064">T</a></span> : <span class="id">finType</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">T</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">enum_rank</span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id">enum_rankK</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id">enum_valK</span>).<br/>
<br/>
<span class="id"><a name="hb_instance_1055">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="T:1065">T</a></span> : <span class="id">finType</span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">_</span> <span class="id">T</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">enum_val</span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id">enum_valK</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id">enum_rankK</span>).<br/>
<br/>
<div class="doc">Finset val </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="finset_val">finset_val</a></span> {<span class="id"><a name="T:1066">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="X:1067">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}} (<span class="id"><a name="x:1068">x</a></span> : <span class="id">X</span>) : [<span class="id">set</span>` <span class="id">X</span>] :=<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist">exist</a></span> (<span class="kwd">fun</span> <span class="id"><a name="x:1069">x</a></span> =&gt; <span class="id">x</span> \<span class="kwd">in</span> [<span class="id">set</span>` <span class="id">X</span>]) (<span class="id">val</span> <span class="id">x</span>) (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> (<span class="id">valP</span> <span class="id">x</span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="val_finset">val_finset</a></span> {<span class="id"><a name="T:1070">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="X:1071">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}} (<span class="id"><a name="x:1072">x</a></span> : [<span class="id">set</span>` <span class="id">X</span>]) : <span class="id">X</span> :=<br/>
&nbsp;&nbsp;[` <span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> (<span class="id">valP</span> <span class="id">x</span>)]%<span class="id">fset</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="finset_valK">finset_valK</a></span> {<span class="id"><a name="T:1073">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="X:1074">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#finset_val">finset_val</a></span> <span class="id">T</span> <span class="id">X</span>) <span class="id"><a href="mathcomp.classical.functions.html#val_finset">val_finset</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">val_inj</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_finsetK">val_finsetK</a></span> {<span class="id"><a name="T:1075">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="X:1076">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}} :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (@<span class="id"><a href="mathcomp.classical.functions.html#val_finset">val_finset</a></span> <span class="id">T</span> <span class="id">X</span>) <span class="id"><a href="mathcomp.classical.functions.html#finset_val">finset_val</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">val_inj</span>. Qed.</div>
<br/>
<span class="id"><a name="hb_instance_1072">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  {<span class="id"><a name="T:1077">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="X:1078">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">X</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#finset_val">finset_val</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#finset_valK">finset_valK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#val_finsetK">val_finsetK</a></span>).<br/>
<span class="id"><a name="hb_instance_1089">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  {<span class="id"><a name="T:1079">T</a></span> : <span class="id">choiceType</span>} {<span class="id"><a name="X:1080">X</a></span> : {<span class="id">fset</span> <span class="id">T</span>}} :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">_</span> <span class="id">X</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#val_finset">val_finset</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#val_finsetK">val_finsetK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.functions.html#finset_valK">finset_valK</a></span>).<br/>
<br/>
<div class="doc">'I_n and `I_n </div>
<br/>
<span class="id"><a name="hb_instance_1106">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:1081">n</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Can2.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#ordII">ordII</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#ordIIK">ordIIK</a></span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in1W">in1W</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#IIordK">IIordK</a></span>).<br/>
<span class="id"><a name="hb_instance_1123">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="n:1082">n</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitBij.copy</a></span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#IIord">IIord</a></span> <span class="id">n</span>) (<span class="id"><a href="mathcomp.classical.classical_sets.html#ordII">ordII</a></span>^-1).<br/>
<br/>
<div class="ssrdoc markdown">
## Glueing                                                                 
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="glue">glue</a></span> {<span class="id"><a name="T:1083">T</a></span> <span class="id"><a name="T':1084">T</a></span>'} {<span class="id"><a name="X:1085">X</a></span> <span class="id"><a name="Y:1086">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="A:1087">A</a></span> <span class="id"><a name="B:1088">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'}<br/>
&nbsp;&nbsp;<span class="id">of</span> [<span class="id">disjoint</span> <span class="id">X</span> &amp; <span class="id">Y</span>] &amp; [<span class="id">disjoint</span> <span class="id">A</span> &amp; <span class="id">B</span>] :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id"><a name="f:1089">f</a></span> <span class="id"><a name="g:1090">g</a></span> : <span class="id">T</span> -&gt; <span class="id">T</span>') (<span class="id"><a name="u:1091">u</a></span> : <span class="id">T</span>) =&gt; <span class="kwd">if</span> <span class="id">u</span> \<span class="kwd">in</span> <span class="id">X</span> <span class="kwd">then</span> <span class="id">f</span> <span class="id">u</span> <span class="kwd">else</span> <span class="id">g</span> <span class="id">u</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Glue12">Glue12</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1092">T</a></span> <span class="id"><a name="T':1093">T</a></span>'} {<span class="id"><a name="X:1094">X</a></span> <span class="id"><a name="Y:1095">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="A:1096">A</a></span> <span class="id"><a name="B:1097">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'}.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="XY:1098">XY</a></span> : [<span class="id">disjoint</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.X">X</a></span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#Glue12.Y">Y</a></span>]} {<span class="id"><a name="AB:1099">AB</a></span> : [<span class="id">disjoint</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.A">A</a></span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#Glue12.B">B</a></span>]}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="gl">gl</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.XY">XY</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.AB">AB</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="glue1">glue1</a></span> (<span class="id"><a name="f:1100">f</a></span> <span class="id"><a name="g:1101">g</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Glue12.T">T</a></span> -&gt; <span class="id">T</span>') : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.X">X</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span> =1 <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> =&gt; -&gt;. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="glue2">glue2</a></span> (<span class="id"><a name="f:1102">f</a></span> <span class="id"><a name="g:1103">g</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Glue12.T">T</a></span> -&gt; <span class="id">T</span>') : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12.Y">Y</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span> =1 <span class="id">g</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Yx</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; // /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">Xx</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id"><a href="mathcomp.classical.functions.html#Glue12.XY">XY</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#disj_setPS">disj_setPS</a></span>/(<span class="id">_</span> <span class="id">x</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">Xx</span> <span class="id">Yx</span>)).<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue12">Glue12</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Glue">Glue</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1104">T</a></span> <span class="id"><a name="T':1105">T</a></span>'} {<span class="id"><a name="X:1106">X</a></span> <span class="id"><a name="Y:1107">Y</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>} {<span class="id"><a name="A:1108">A</a></span> <span class="id"><a name="B:1109">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'}.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="XY:1110">XY</a></span> : [<span class="id">disjoint</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>]} {<span class="id"><a name="AB:1111">AB</a></span> : [<span class="id">disjoint</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span> &amp; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>]}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="gl">gl</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glue_fun_subproof">glue_fun_subproof</a></span> (<span class="id"><a name="f:1112">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1113">g</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id">T</span>' (<span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> `|` <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span> `|` <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
<span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> []<span class="id">xP</span>; [<span class="id">left</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span>|<span class="id">right</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span>];<br/>
&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<span class="id"><a name="Glue.hb_instance_1140">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1114">f</a></span> <span class="id"><a name="g:1115">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#glue_fun_subproof">glue_fun_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="id"><a name="Glue.hb_instance_1143">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1116">f</a></span> <span class="id"><a name="g:1117">g</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> &gt;-&gt; <span class="id">T</span>'}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>) (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqbRL">eqbRL</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_some">disj_set_some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span>) '<span class="id">oinv_f</span> '<span class="id">oinv_g</span>).<br/>
<br/>
<span class="id"><a name="Glue.hb_instance_1146">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span>  (<span class="id"><a name="f:1118">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1119">g</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">OInversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_glue">oinv_glue</a></span> (<span class="id"><a name="f:1120">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> &gt;-&gt; <span class="id">T</span>'}) (<span class="id"><a name="g:1121">g</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> &gt;-&gt; <span class="id">T</span>'}) :<br/>
&nbsp;&nbsp;'<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>) = <span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#eqbRL">eqbRL</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_some">disj_set_some</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span>) '<span class="id">oinv_f</span> '<span class="id">oinv_g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="some_inv_glue_subproof">some_inv_glue_subproof</a></span> (<span class="id"><a name="f:1122">f</a></span> <span class="id"><a name="g:1123">g</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> &gt;-&gt; <span class="id">T</span>'}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span> <span class="id">f</span>^-1 <span class="id">g</span>^-1) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_glue">oinv_glue</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> /= [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#fun_if">fun_if</a></span> !<span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>.<br/>
Qed.</div>
<br/>
<span class="id"><a name="Glue.hb_instance_1150">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1124">f</a></span> <span class="id"><a name="g:1125">g</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> &gt;-&gt; <span class="id">T</span>'}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.T">T</a></span> <span class="id">T</span>' (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>) (<span class="id"><a href="mathcomp.classical.functions.html#some_inv_glue_subproof">some_inv_glue_subproof</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<br/>
<span class="id"><a name="Glue.hb_instance_1153">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1126">f</a></span> : {<span class="id">invfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1127">g</a></span> : {<span class="id">invfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Inversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_glue">inv_glue</a></span> (<span class="id"><a name="f:1128">f</a></span> : {<span class="id">invfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1129">g</a></span> : {<span class="id">invfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>)^-1 = <span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.AB">AB</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.XY">XY</a></span> <span class="id">f</span>^-1 <span class="id">g</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glueo_can_subproof">glueo_can_subproof</a></span> (<span class="id"><a name="f:1130">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1131">g</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> `|` <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[] <span class="id">xP</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_glue">oinv_glue</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span>]<span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.functions.html#glue">glue</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span>]<span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>.<br/>
Qed.</div>
<span class="id"><a name="Glue.hb_instance_1159">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1132">f</a></span> <span class="id"><a name="g:1133">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#glueo_can_subproof">glueo_can_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<br/>
<span class="id"><a name="Glue.hb_instance_1162">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1134">f</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>})<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:1135">g</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="glue_canv_subproof">glue_canv_subproof</a></span> (<span class="id"><a name="f:1136">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1137">g</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> `|` <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span> `|` <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>) (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">split</span>=&gt; [<span class="id">z</span>|<span class="id">y</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> [] <span class="id">yP</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_glue">oinv_glue</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">move</span>=&gt; [] <span class="id">zP</span> /=; [<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span>|<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span>]; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>=&gt; // <span class="id">x</span> <span class="id">xX</span> <span class="id">_</span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; [<span class="id">left</span>|<span class="id">right</span>].<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>=&gt; //= <span class="id">x</span> <span class="id">xX</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue1">glue1</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
- <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>=&gt; //= <span class="id">x</span> <span class="id">xX</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#glue2">glue2</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="id"><a name="Glue.hb_instance_1168">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1138">f</a></span> <span class="id"><a name="g:1139">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#glue_canv_subproof">glue_canv_subproof</a></span> <span class="id">f</span> <span class="id">g</span>.<br/>
<span class="id"><a name="Glue.hb_instance_1171">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1140">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1141">g</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<span class="id"><a name="Glue.hb_instance_1177">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1142">f</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1143">g</a></span> : {<span class="id">splitsurj</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<span class="id"><a name="Glue.hb_instance_1183">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1144">f</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1145">g</a></span> : {<span class="id">splitsurjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<span class="id"><a name="Glue.hb_instance_1189">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1146">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1147">g</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<span class="id"><a name="Glue.hb_instance_1195">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1148">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.X">X</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.A">A</a></span>}) (<span class="id"><a name="g:1149">g</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue.Y">Y</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Glue.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#gl">gl</a></span> <span class="id">f</span> <span class="id">g</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Glue">Glue</a></span>.<br/>
<br/>
<div class="doc">Z-module addition is a bijection </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="addition">addition</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="V:1150">V</a></span> : <span class="id">zmodType</span>} (<span class="id"><a name="x:1151">x</a></span> : <span class="id">V</span>).<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_1201">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> (+%<span class="id">R</span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>) (+%<span class="id">R</span> (- <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_addr">inv_addr</a></span> : (+%<span class="id">R</span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>)^-1 = (+%<span class="id">R</span> (- <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>))<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addr_can2_subproof">addr_can2_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (+%<span class="id">R</span> <span class="id"><a href="mathcomp.classical.functions.html#addition.x">x</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
 <span class="kwd">by</span> <span class="id">split</span> =&gt; // <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_addr">inv_addr</a></span> ?<span class="id">GRing.addKr</span> ?<span class="id">GRing.addNKr</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_1208">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#addr_can2_subproof">addr_can2_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#addition">addition</a></span>.<br/>
<br/>
<div class="doc">Z-module opposite is a bijection </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="addition">addition</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="V:1152">V</a></span> : <span class="id">zmodType</span>} (<span class="id"><a name="x:1153">x</a></span> : <span class="id">V</span>).<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_1218">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> (-%<span class="id">R</span>) (-%<span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_oppr">inv_oppr</a></span> : (-%<span class="id">R</span>)^-1 = (-%<span class="id">R</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oppr_can2_subproof">oppr_can2_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Inv_Can2">Inv_Can2</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#addition.V">V</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (-%<span class="id">R</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
 <span class="kwd">by</span> <span class="id">split</span> =&gt; // <span class="id">y</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_oppr">inv_oppr</a></span> ?<span class="id">GRing.opprK</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_1225">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#oppr_can2_subproof">oppr_can2_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#addition">addition</a></span>.<br/>
<br/>
<div class="doc">emtpyType </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="empty">empty</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1154">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Empty.Exports.emptyType">emptyType</a></span>} {<span class="id"><a name="T':1155">T</a></span>' : <span class="kwd">Type</span>} {<span class="id"><a name="X:1156">X</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>}.<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> <span class="id">Y</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>'.<br/>
<br/>
<span class="id"><a name="HB_unnamed_factory_1235">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (@<span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id">T</span>') (<span class="kwd">fun</span>=&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="empty_can_subproof">empty_can_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id">T</span>' <span class="id"><a href="mathcomp.classical.functions.html#empty.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#empty_eq0">empty_eq0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_1237">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#empty_can_subproof">empty_can_subproof</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="empty_fun_subproof">empty_fun_subproof</a></span> <span class="id"><a name="Y:1157">Y</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id">T</span>' <span class="id"><a href="mathcomp.classical.functions.html#empty.X">X</a></span> <span class="id">Y</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#empty_eq0">empty_eq0</a></span>. Qed.</div>
<span class="id"><a name="empty.hb_instance_1239">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="Y:1158">Y</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#empty_fun_subproof">empty_fun_subproof</a></span> <span class="id">Y</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="empty_canv_subproof">empty_canv_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id"><a href="mathcomp.classical.functions.html#empty.T">T</a></span> <span class="id">T</span>' <span class="id"><a href="mathcomp.classical.functions.html#empty.X">X</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#any">any</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
 <span class="kwd">by</span> <span class="id">split</span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_1242">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#empty_canv_subproof">empty_canv_subproof</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#empty">empty</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Theory of surjection                                                    
</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="surj_lemmas">surj_lemmas</a></span>.<br/>
<span class="kwd">Variables</span> <span class="id"><a name="surj_lemmas.aT">aT</a></span> <span class="id"><a name="surj_lemmas.rT">rT</a></span> : <span class="kwd">Type</span>.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span>) (<span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) (<span class="id">f</span> : <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj_id">surj_id</a></span> <span class="id"><a name="A:1161">A</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">A</span> (@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj_set0">surj_set0</a></span> <span class="id"><a name="B:1162">B</a></span> <span class="id"><a name="f:1163">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id">B</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Bf</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#predeqE">predeqE</a></span> =&gt; <span class="id">u</span>; <span class="id">split</span> =&gt; // /<span class="id">Bf</span> [<span class="id">t</span> []]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjE">surjE</a></span> <span class="id"><a name="f:1164">f</a></span> <span class="id"><a name="A:1165">A</a></span> <span class="id"><a name="B:1166">B</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> = (<span class="id">B</span> `&lt;=` <span class="id">f</span> @` <span class="id">A</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj_image_eq">surj_image_eq</a></span> <span class="id"><a name="B:1167">B</a></span> <span class="id"><a name="A:1168">A</a></span> <span class="id"><a name="f:1169">f</a></span> : <span class="id">f</span> @` <span class="id">A</span> `&lt;=` <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id">f</span> @` <span class="id">A</span> = <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fAB</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span> =&gt; <span class="id">BfA</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subl_surj">subl_surj</a></span> <span class="id"><a name="A:1170">A</a></span> <span class="id"><a name="A':1171">A</a></span>' <span class="id"><a name="B:1172">B</a></span> <span class="id"><a name="f:1173">f</a></span> : <span class="id">A</span> `&lt;=` <span class="id">A</span>' -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span>' <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /(@<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>)/(<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">_</span>); <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subr_surj">subr_surj</a></span> <span class="id"><a name="A:1174">A</a></span> <span class="id"><a name="B:1175">B</a></span> <span class="id"><a name="B':1176">B</a></span>' <span class="id"><a name="f:1177">f</a></span> : <span class="id">B</span>' `&lt;=` <span class="id">B</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span>' <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_surj">can_surj</a></span> <span class="id"><a name="g:1178">g</a></span> <span class="id"><a name="f:1179">f</a></span> (<span class="id"><a name="A:1180">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span>) (<span class="id"><a name="B:1181">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>} -&gt; <span class="id">g</span> @` <span class="id">B</span> `&lt;=` <span class="id">A</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">move</span>=&gt; <span class="id">gK</span> <span class="id">gBA</span> <span class="id">y</span> <span class="id">By</span>; <span class="id">suff</span> : <span class="id">A</span> (<span class="id">g</span> <span class="id">y</span>) <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">g</span> <span class="id">y</span>); <span class="id">rewrite</span> ?<span class="id">gK</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>.1 <span class="id">gBA</span> <span class="id">y</span>; <span class="id">apply</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj_epi">surj_epi</a></span> <span class="id"><a name="sT:1182">sT</a></span> <span class="id"><a name="A:1183">A</a></span> <span class="id"><a name="B:1184">B</a></span> (<span class="id"><a name="f:1185">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) (<span class="id"><a name="g:1186">g</a></span> <span class="id"><a name="g':1187">g</a></span>' : <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span> -&gt; <span class="id">sT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; {<span class="kwd">in</span> <span class="id">A</span>, <span class="id">g</span> \<span class="id">o</span> <span class="id">f</span> =1 <span class="id">g</span>' \<span class="id">o</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">B</span>, <span class="id">g</span> =1 <span class="id">g</span>'}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
<span class="id">move</span>=&gt; <span class="id">fS</span> <span class="id">eqfg</span> <span class="id">y</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">By</span>; <span class="id">suff</span>: <span class="id">B</span> `&lt;=` [<span class="id">set</span> <span class="id"><a name="y:1188">y</a></span> | <span class="id">g</span> <span class="id">y</span> = <span class="id">g</span>' <span class="id">y</span>] <span class="kwd">by</span> <span class="id">exact</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> <span class="id">fS</span> <span class="id">_</span> =&gt; <span class="id">_</span> [<span class="id">a</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Aa</span> &lt;-] /=; <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">eqfg</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="epiP">epiP</a></span> <span class="id"><a name="A:1189">A</a></span> <span class="id"><a name="B:1190">B</a></span> (<span class="id"><a name="f:1191">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="sT:1192">sT</a></span> (<span class="id"><a name="g:1193">g</a></span> <span class="id"><a name="g':1194">g</a></span>' : <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas.rT">rT</a></span> -&gt; <span class="id">sT</span>), {<span class="kwd">in</span> <span class="id">A</span>, <span class="id">g</span> \<span class="id">o</span> <span class="id">f</span> =1 <span class="id">g</span>' \<span class="id">o</span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id">B</span>, <span class="id">g</span> =1 <span class="id">g</span>'}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
<span class="id">split</span>=&gt; [*| <span class="id">f_epi</span> <span class="id">y</span> <span class="id">By</span>]; <span class="id">first</span> <span class="id">exact</span>: (@<span class="id"><a href="mathcomp.classical.functions.html#surj_epi">surj_epi</a></span> <span class="id">_</span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>).<br/>
<span class="id">have</span> -&gt; // := <span class="id">f_epi</span> <span class="id">_</span> [<span class="id">set</span> <span class="id">f</span> <span class="id">x</span> | <span class="id"><a name="x:1195">x</a></span> <span class="kwd">in</span> <span class="id">A</span>] <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">xA</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propT">propT</a></span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_lemmas">surj_lemmas</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> {<span class="id">aT</span> <span class="id">rT</span>} <span class="id">g</span> [<span class="id">f</span> <span class="id">A</span> <span class="id">B</span>].<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#surj_epi">surj_epi</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">sT</span>} <span class="id">A</span> {<span class="id">B</span>} <span class="id">f</span> {<span class="id">g</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surj_comp">surj_comp</a></span> <span class="id"><a name="T1:1196">T1</a></span> <span class="id"><a name="T2:1197">T2</a></span> <span class="id"><a name="T3:1198">T3</a></span> (<span class="id"><a name="A:1199">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T1</span>) (<span class="id"><a name="B:1200">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T2</span>) (<span class="id"><a name="C:1201">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T3</span>) <span class="id"><a name="f:1202">f</a></span> <span class="id"><a name="g:1203">g</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">A</span> <span class="id">C</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fS</span> <span class="id">gS</span>; <span class="id">apply</span>: '<span class="id">surj_</span>(<span class="id">gS</span> \<span class="id">o</span> <span class="id">fS</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="image_eq">image_eq</a></span> {<span class="id"><a name="aT:1204">aT</a></span> <span class="id"><a name="rT:1205">rT</a></span>} {<span class="id"><a name="A:1206">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1207">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="f:1208">f</a></span> : {<span class="id">surjfun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">f</span> @` <span class="id">A</span> = <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#surj_image_eq">surj_image_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_image_sub">oinv_image_sub</a></span> {<span class="id"><a name="aT:1209">aT</a></span> <span class="id"><a name="rT:1210">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1211">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1212">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1213">f</a></span> : {<span class="id">surj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) {<span class="id"><a name="C:1214">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} :<br/>
&nbsp;&nbsp;<span class="id">C</span> `&lt;=` <span class="id">B</span> -&gt; '<span class="id">oinv_f</span> @` <span class="id">C</span> `&lt;=` <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` (<span class="id">f</span> @^-1` <span class="id">C</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
<span class="id">move</span>=&gt; <span class="id">CB</span> <span class="id">x</span> [/= <span class="id">y</span> <span class="id">Cy</span> &lt;-]; <span class="id">case</span>: '<span class="id">oinvP_f</span> =&gt; [|<span class="id">a</span> <span class="id">Aa</span> <span class="id">fay</span>]; <span class="id">first</span> <span class="id">exact</span>: <span class="id">CB</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span> =&gt; //; <span class="id">rewrite</span> <span class="id">fay</span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_image_sub">oinv_image_sub</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_Iimage_sub">oinv_Iimage_sub</a></span> {<span class="id"><a name="aT:1215">aT</a></span> <span class="id"><a name="rT:1216">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1217">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} (<span class="id"><a name="f:1218">f</a></span> : {<span class="id">inj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}) {<span class="id"><a name="C:1219">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} :<br/>
&nbsp;&nbsp;<span class="id">C</span> `&lt;=` <span class="id">f</span> @` <span class="id">A</span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` (<span class="id">A</span> `&amp;` <span class="id">f</span> @^-1` <span class="id">C</span>) `&lt;=` '<span class="id">oinv_f</span> @` <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? <span class="id">_</span> [<span class="id">a</span> [? ?] &lt;-]; <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">a</span>) =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_Iimage_sub">oinv_Iimage_sub</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_sub_image">oinv_sub_image</a></span> {<span class="id"><a name="aT:1220">aT</a></span> <span class="id"><a name="rT:1221">rT</a></span>} {<span class="id"><a name="A:1222">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1223">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1224">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;&nbsp;{<span class="id"><a name="C:1225">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="CB:1226">CB</a></span> : <span class="id">C</span> `&lt;=` <span class="id">B</span>) : '<span class="id">oinv_f</span> @` <span class="id">C</span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` (<span class="id">A</span> `&amp;` <span class="id">f</span> @^-1` <span class="id">C</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinv_Iimage_sub">oinv_Iimage_sub</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#some_setI">some_setI</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetI">subsetI</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinv_image_sub">oinv_image_sub</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">CB</span>)); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimageEoinv">preimageEoinv</a></span> {<span class="id"><a name="aT:1227">aT</a></span> <span class="id"><a name="rT:1228">rT</a></span>} {<span class="id"><a name="B:1229">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1230">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;&nbsp;{<span class="id"><a name="C:1231">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="CB:1232">CB</a></span> : <span class="id">C</span> `&lt;=` <span class="id">B</span>) : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` (<span class="id">f</span> @^-1` <span class="id">C</span>) = '<span class="id">oinv_f</span> @` <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#preimageEoinv">preimageEoinv</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">B</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_image_sub">inv_image_sub</a></span> {<span class="id"><a name="aT:1233">aT</a></span> <span class="id"><a name="rT:1234">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1235">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1236">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1237">f</a></span> : {<span class="id">splitsurj</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) {<span class="id"><a name="C:1238">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} :<br/>
&nbsp;&nbsp;<span class="id">C</span> `&lt;=` <span class="id">B</span> -&gt; <span class="id">f</span>^-1 @` <span class="id">C</span> `&lt;=` <span class="id">f</span> @^-1` <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">CB</span> <span class="id">x</span> [/= <span class="id">y</span> <span class="id">Cy</span> &lt;-]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>//; <span class="id">apply</span>: <span class="id">CB</span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_image_sub">inv_image_sub</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_Iimage_sub">inv_Iimage_sub</a></span> {<span class="id"><a name="aT:1239">aT</a></span> <span class="id"><a name="rT:1240">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1241">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} (<span class="id"><a name="f:1242">f</a></span> : {<span class="id">splitinj</span> <span class="id">A</span> &gt;-&gt; <span class="id">rT</span>}) {<span class="id"><a name="C:1243">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} :<br/>
&nbsp;&nbsp;<span class="id">C</span> `&lt;=` <span class="id">f</span> @` <span class="id">A</span> -&gt;  <span class="id">A</span> `&amp;` <span class="id">f</span> @^-1` <span class="id">C</span> `&lt;=` <span class="id">f</span>^-1 @` <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">CB</span> <span class="id">x</span> [<span class="id">Ax</span> <span class="id">Cfx</span>]; <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">x</span>) =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_Iimage_sub">inv_Iimage_sub</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_sub_image">inv_sub_image</a></span> {<span class="id"><a name="aT:1244">aT</a></span> <span class="id"><a name="rT:1245">rT</a></span>} {<span class="id"><a name="A:1246">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1247">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1248">f</a></span> : {<span class="id">splitbij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id"><a name="C:1249">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="CB:1250">CB</a></span> : <span class="id">C</span> `&lt;=` <span class="id">B</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span>^-1 @` <span class="id">C</span> = <span class="id">A</span> `&amp;` <span class="id">f</span> @^-1` <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#image_some_inj">image_some_inj</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#image_comp">image_comp</a></span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> \<span class="id">o</span> <span class="id">_</span>]<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_sub_image">inv_sub_image</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">B</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimageEinv">preimageEinv</a></span> {<span class="id"><a name="aT:1251">aT</a></span> <span class="id"><a name="rT:1252">rT</a></span>} {<span class="id"><a name="B:1253">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1254">f</a></span> : {<span class="id">splitbij</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; <span class="id">B</span>}}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id"><a name="C:1255">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} (<span class="id"><a name="CB:1256">CB</a></span> : <span class="id">C</span> `&lt;=` <span class="id">B</span>) : <span class="id">f</span> @^-1` <span class="id">C</span> = <span class="id">f</span>^-1 @` <span class="id">C</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#inv_sub_image">inv_sub_image</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#setTI">setTI</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#preimageEinv">preimageEinv</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">B</span>} <span class="id">f</span> {<span class="id">C</span>} <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reindex_bigcup">reindex_bigcup</a></span> {<span class="id"><a name="aT:1257">aT</a></span> <span class="id"><a name="rT:1258">rT</a></span> <span class="id"><a name="I:1259">I</a></span>} (<span class="id"><a name="f:1260">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">I</span>) (<span class="id"><a name="P:1261">P</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="Q:1262">Q</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="F:1263">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">P</span> <span class="id">Q</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">P</span> <span class="id">Q</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">bigcup_</span>(<span class="id"><a name="x:1264">x</a></span> <span class="kwd">in</span> <span class="id">Q</span>) <span class="id">F</span> <span class="id">x</span> = \<span class="id">bigcup_</span>(<span class="id"><a name="x:1265">x</a></span> <span class="kwd">in</span> <span class="id">P</span>) <span class="id">F</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span> <span class="id">fPQ</span> /(<span class="id"><a href="mathcomp.classical.functions.html#surj_image_eq">surj_image_eq</a></span> <span class="id">fPQ</span>)&lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcup_image">bigcup_image</a></span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#reindex_bigcup">reindex_bigcup</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">I</span>} <span class="id">f</span> <span class="id">P</span> <span class="id">Q</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reindex_bigcap">reindex_bigcap</a></span> {<span class="id"><a name="aT:1266">aT</a></span> <span class="id"><a name="rT:1267">rT</a></span> <span class="id"><a name="I:1268">I</a></span>} (<span class="id"><a name="f:1269">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">I</span>) (<span class="id"><a name="P:1270">P</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="Q:1271">Q</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="F:1272">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">P</span> <span class="id">Q</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id">P</span> <span class="id">Q</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">bigcap_</span>(<span class="id"><a name="x:1273">x</a></span> <span class="kwd">in</span> <span class="id">Q</span>) <span class="id">F</span> <span class="id">x</span> = \<span class="id">bigcap_</span>(<span class="id"><a name="x:1274">x</a></span> <span class="kwd">in</span> <span class="id">P</span>) <span class="id">F</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span> <span class="id">fPQ</span> /(<span class="id"><a href="mathcomp.classical.functions.html#surj_image_eq">surj_image_eq</a></span> <span class="id">fPQ</span>)&lt;-; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#bigcap_image">bigcap_image</a></span>.<br/>
Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#reindex_bigcap">reindex_bigcap</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">I</span>} <span class="id">f</span> <span class="id">P</span> <span class="id">Q</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bigcap_bigcup">bigcap_bigcup</a></span> <span class="id"><a name="T:1275">T</a></span> <span class="id"><a name="I:1276">I</a></span> <span class="id"><a name="J:1277">J</a></span> (<span class="id"><a name="D:1278">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="E:1279">E</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">J</span>) (<span class="id"><a name="F:1280">F</a></span> : <span class="id">I</span> -&gt; <span class="id">J</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id">J</span> -&gt;<br/>
&nbsp;&nbsp;\<span class="id">bigcap_</span>(<span class="id"><a name="i:1281">i</a></span> <span class="kwd">in</span> <span class="id">D</span>) \<span class="id">bigcup_</span>(<span class="id"><a name="j:1282">j</a></span> <span class="kwd">in</span> <span class="id">E</span>) <span class="id">F</span> <span class="id">i</span> <span class="id">j</span> =<br/>
&nbsp;&nbsp;\<span class="id">bigcup_</span>(<span class="id"><a name="f:1283">f</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id">D</span> <span class="id">E</span>) \<span class="id">bigcap_</span>(<span class="id"><a name="i:1284">i</a></span> <span class="kwd">in</span> <span class="id">D</span>) <span class="id">F</span> <span class="id">i</span> (<span class="id">f</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">move</span>=&gt; <span class="id">j</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span> <span class="id">ff</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /(<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#all_sig2_cond">all_sig2_cond</a></span> <span class="id">j</span>) (<span class="id"><a name="i:1285">i</a></span> : <span class="id">I</span>) : <span class="id">i</span> \<span class="kwd">in</span> <span class="id">D</span> -&gt; {<span class="id"><a name="x0:1286">x0</a></span> : <span class="id">J</span> | <span class="id">E</span> <span class="id">x0</span> &amp; <span class="id">F</span> <span class="id">i</span> <span class="id">x0</span> <span class="id">x</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>; <span class="id">apply</span>: <span class="id">ff</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">f</span> /(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">_</span>))<span class="id">Ef</span> /(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">_</span>))<span class="id">Ff</span>]; <span class="kwd">exists</span> <span class="id">f</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; [<span class="id">f</span> <span class="id">fDE</span> <span class="id">fF</span> <span class="id">i</span> <span class="id">Fi</span>]; <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">i</span>); [<span class="id">apply</span>: <span class="id">fDE</span>|<span class="id">apply</span>: <span class="id">fF</span>].<br/>
Qed.</div>
<br/>
<div class="doc">Injections </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="trivIset_inj">trivIset_inj</a></span> <span class="id"><a name="T:1288">T</a></span> <span class="id"><a name="I:1289">I</a></span> (<span class="id"><a name="D:1290">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="F:1291">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:1292">i</a></span>, <span class="id">D</span> <span class="id">i</span> -&gt; <span class="id">F</span> <span class="id">i</span> !=<span class="id">set0</span>) -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id">D</span> <span class="id">F</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_inj">set_inj</a></span> <span class="id">D</span> <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
<span class="id">move</span>=&gt; <span class="id">FN0</span> <span class="id">Ftriv</span> <span class="id">i</span> <span class="id">j</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Di</span> <span class="id">Dj</span> <span class="id">Fij</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">Ftriv</span> <span class="id">Di</span> (<span class="id">Dj</span>) <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">Fij</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setIid">setIid</a></span>; <span class="id">apply</span>: <span class="id">FN0</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Bijections </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1293">aT</a></span> <span class="id"><a name="rT:1294">rT</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1295">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1296">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1297">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>}.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fun_set_bij">fun_set_bij</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="fbij:1298">fbij</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="g">g</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#fun_set_bij">fun_set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_bij_inj">set_bij_inj</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_bij_homo">set_bij_homo</a></span> : {<span class="id">homo</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span> : <span class="id"><a name="x:1299">x</a></span> / <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id">x</span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id">x</span>}<br/>
<div>&nbsp;<span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_bij_sub">set_bij_sub</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span> @` <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>/<span class="id"><a href="mathcomp.classical.functions.html#set_bij_homo">set_bij_homo</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_bij_surj">set_bij_surj</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.f">f</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.fbij">fbij</a></span>. Qed.</div>
<br/>
<span class="id"><a name="HB_unnamed_factory_1244">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> : <span class="id"><a href="mathcomp.classical.functions.html#OCanV">OCanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#g">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#set_bij_surj">set_bij_surj</a></span>.<br/>
<span class="id"><a name="HB_unnamed_factory_1251">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_homo">set_bij_homo</a></span>.<br/>
<span class="id"><a name="HB_unnamed_factory_1253">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">SurjFun_Inj.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_inj">set_bij_inj</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">fun_set_bij</span> : <span class="id">set_bij</span> &gt;-&gt; <span class="id">Funclass</span>.<br/>
<br/>
<span class="kwd">Coercion</span> <span class="id"><a name="set_bij_bijfun">set_bij_bijfun</a></span> <span class="id"><a name="aT:1301">aT</a></span> <span class="id"><a name="rT:1302">rT</a></span> (<span class="id"><a name="A:1303">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:1304">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:1305">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="fS:1306">fS</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>) := <span class="id"><a href="mathcomp.classical.functions.html#on">Bij.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#fun_set_bij">fun_set_bij</a></span> <span class="id">fS</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Pbij">Pbij</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1307">aT</a></span> <span class="id"><a name="rT:1308">rT</a></span>} {<span class="id"><a name="A:1309">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1310">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1311">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} (<span class="id"><a name="fbij:1312">fbij</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> : @<span class="id"><a href="mathcomp.classical.functions.html#Bij">Bij</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.B">B</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Pbij.fbij">fbij</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="bij_of_set_bijection">bij_of_set_bijection</a></span> := [<span class="id">bij</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f</a></span>].<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Pbij">Pbij</a></span> : {<span class="id"><a name="s:1313">s</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Pbij.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f</a></span> = <span class="id">s</span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">bij</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij.f">f</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>.<br/>
<span class="kwd">Coercion</span> <span class="id">bij_of_set_bijection</span> : <span class="id">set_bij</span> &gt;-&gt; <span class="id">Bij.type</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij">bij</a></span> {<span class="id"><a name="aT:1314">aT</a></span> <span class="id"><a name="rT:1315">rT</a></span>} {<span class="id"><a name="A:1316">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1317">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>} {<span class="id"><a name="f:1318">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}} : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
 <span class="id">split</span>=&gt; //. Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="phant_bij">phant_bij</a></span> <span class="id"><a name="aT:1319">aT</a></span> <span class="id"><a name="rT:1320">rT</a></span> (<span class="id"><a name="A:1321">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:1322">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) (<span class="id"><a name="f:1323">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) <span class="id">of</span><br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#bij">bij</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">bij_</span>' <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_bij">phant_bij</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij">bij</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PbijTT">PbijTT</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1324">aT</a></span> <span class="id"><a name="rT:1325">rT</a></span>} {<span class="id"><a name="f:1326">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>} (<span class="id"><a name="fbijTT:1327">fbijTT</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">f</span>).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := @<span class="id"><a href="mathcomp.classical.functions.html#Build">BijTT.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f</a></span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.fbijTT">fbijTT</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="bijection_of_bijective">bijection_of_bijective</a></span> := [<span class="id">splitbij</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f</a></span>].<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="PbijTT">PbijTT</a></span> : {<span class="id"><a name="s:1328">s</a></span> : {<span class="id">splitbij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.aT">aT</a></span>] &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.rT">rT</a></span>]} | <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f</a></span> = <span class="id">s</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">splitbij</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT.f">f</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#PbijTT">PbijTT</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setTT_bijective">setTT_bijective</a></span> <span class="id"><a name="aT:1329">aT</a></span> <span class="id"><a name="rT:1330">rT</a></span> (<span class="id"><a name="f:1331">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> [<span class="id">set</span>: <span class="id">aT</span>] [<span class="id">set</span>: <span class="id">rT</span>] <span class="id">f</span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propext">propext</a></span>; <span class="id">split</span>=&gt; [[]|/<span class="id"><a href="mathcomp.classical.functions.html#PbijTT">PbijTT</a></span>[{}<span class="id">f</span> -&gt;]].<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">_</span> <span class="id">fI</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>)-/(<span class="id">_</span> <span class="id">_</span>)/<span class="id"><a href="mathcomp.classical.boolp.html#cid2">cid2</a></span>-/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#all_sig2">all_sig2</a></span>[<span class="id">g</span> <span class="id">_</span> <span class="id">gK</span>].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">g</span> =&gt; // <span class="id">x</span>; <span class="id">apply</span>: <span class="id">fI</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">split</span>=&gt; // [<span class="id">x</span> <span class="id">y</span> <span class="id">_</span> <span class="id">_</span> /'<span class="id">inj_f</span>//|<span class="id">y</span> <span class="id">_</span>]; <span class="kwd">exists</span> (<span class="id">f</span>^-1 <span class="id">y</span>) =&gt; //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bijTT">bijTT</a></span> {<span class="id"><a name="aT:1332">aT</a></span> <span class="id"><a name="rT:1333">rT</a></span>}  {<span class="id"><a name="f:1334">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">rT</span>]}} : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#setTT_bijective">setTT_bijective</a></span>. Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="phant_bijTT">phant_bijTT</a></span> <span class="id"><a name="aT:1335">aT</a></span> <span class="id"><a name="rT:1336">rT</a></span> (<span class="id"><a name="f:1337">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id">aT</span>] &gt;-&gt; [<span class="id">set</span>: <span class="id">rT</span>]})<br/>
&nbsp;&nbsp;&nbsp;<span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span> := @<span class="id"><a href="mathcomp.classical.functions.html#bijTT">bijTT</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">bijTT_</span>'  <span class="id">f</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#phant_bijTT">phant_bijTT</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">f</span>)) : <span class="id">form_scope</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">_</span>) =&gt; <span class="id">solve</span> [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bijTT">bijTT</a></span>] : <span class="id">core</span>.<br/>
<br/>
<div class="ssrdoc markdown">
## Patching and restrictions                                               
</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="patch">patch</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1338">aT</a></span> <span class="id"><a name="rT:1339">rT</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="d:1340">d</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="A:1341">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="patch">patch</a></span> (<span class="id"><a name="f:1342">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#patch.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#patch.rT">rT</a></span>) <span class="id"><a name="u:1343">u</a></span> := <span class="kwd">if</span> <span class="id">u</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span> <span class="kwd">then</span> <span class="id">f</span> <span class="id">u</span> <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.d">d</a></span> <span class="id">u</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patchT">patchT</a></span> <span class="id"><a name="f:1344">f</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">f</span> =1 <span class="id">f</span>}<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> =&gt; <span class="id">x</span> -&gt;. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="patchN">patchN</a></span> <span class="id"><a name="f:1345">f</a></span> : {<span class="kwd">in</span> [<span class="id">predC</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span>], <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">f</span> =1 <span class="id"><a href="mathcomp.classical.functions.html#patch.d">d</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> =&gt; <span class="id">x</span> /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negPf">negPf</a></span>/= -&gt;. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="patchC">patchC</a></span> <span class="id"><a name="f:1346">f</a></span> : {<span class="kwd">in</span> ~` <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">f</span> =1 <span class="id"><a href="mathcomp.classical.functions.html#patch.d">d</a></span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">u</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>/= <span class="id">NAu</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#patchN">patchN</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//= <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>. Qed.</div>
<br/>
<span class="id"><a name="patch.hb_instance_1294">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1347">f</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">SurjFun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">f</span>) [<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">f</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span>].<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="patch.inj">inj</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id"><a name="f:1348">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#patch.rT">rT</a></span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="patch.inj.g">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.f">f</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patch_inj_subproof">patch_inj_subproof</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Inj">Inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.aT">aT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.rT">rT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.g">g</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">y</span> <span class="id">xA</span> <span class="id">yA</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch.inj.g">g</a></span> !<span class="id"><a href="mathcomp.classical.functions.html#patchT">patchT</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>. Qed.</div>
<span class="id"><a name="HB_unnamed_factory_1305">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#patch_inj_subproof">patch_inj_subproof</a></span>.<br/>
<span class="id"><a name="HB_unnamed_factory_1314">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">Inject.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.f">f</a></span>) [<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj.g">g</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.A">A</a></span>].<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#patch.inj">inj</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="restrict">restrict</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> (<span class="kwd">fun</span>=&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>)).<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id">D</span> <span class="id">f</span>) : <span class="id">fun_scope</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patchE">patchE</a></span> <span class="id"><a name="aT:1349">aT</a></span> (<span class="id"><a name="rT:1350">rT</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="f:1351">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="B:1352">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) <span class="id"><a name="x:1353">x</a></span> :<br/>
&nbsp;&nbsp;(<span class="id">f</span> \<span class="id">_</span> <span class="id">B</span>) <span class="id">x</span> = <span class="kwd">if</span> <span class="id">x</span> \<span class="kwd">in</span> <span class="id">B</span> <span class="kwd">then</span> <span class="id">f</span> <span class="id">x</span> <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patch_pred">patch_pred</a></span> {<span class="id"><a name="I:1354">I</a></span> <span class="id"><a name="T:1355">T</a></span>} (<span class="id"><a name="D:1356">D</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="d:1357">d</a></span> <span class="id"><a name="f:1358">f</a></span> : <span class="id">I</span> -&gt; <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">d</span> <span class="id">D</span> <span class="id">f</span> = <span class="kwd">fun</span> <span class="id"><a name="i:1359">i</a></span> =&gt; <span class="kwd">if</span> <span class="id">D</span> <span class="id">i</span> <span class="kwd">then</span> <span class="id">f</span> <span class="id">i</span> <span class="kwd">else</span> <span class="id">d</span> <span class="id">i</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">i</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_setE">mem_setE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_restrict">preimage_restrict</a></span> (<span class="id"><a name="aT:1360">aT</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="rT:1361">rT</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1362">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="D:1363">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) (<span class="id"><a name="B:1364">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>) @^-1` <span class="id">B</span> = (<span class="kwd">if</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> \<span class="kwd">in</span> <span class="id">B</span> <span class="kwd">then</span> ~` <span class="id">D</span> <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>) `|` <span class="id">D</span> `&amp;` <span class="id">f</span> @^-1` <span class="id">B</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>/= /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#predeqP">predeqP</a></span> =&gt; <span class="id">x</span> /=; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>, <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">NDx</span> <span class="id">Bp</span>; <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>//=; <span class="id">left</span>.<br/>
<span class="id">move</span>=&gt; [|[<span class="id">Dx</span> <span class="id">Bfx</span>]]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifT">ifT</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>; <span class="id">rewrite</span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; <span class="id">Bp</span> <span class="id">NDx</span>; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span>; <span class="id">rewrite</span> // <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="comp_patch">comp_patch</a></span> {<span class="id"><a name="aT:1365">aT</a></span> <span class="id"><a name="rT:1366">rT</a></span> <span class="id"><a name="sT:1367">sT</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="g:1368">g</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id"><a name="D:1369">D</a></span> (<span class="id"><a name="f:1370">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="h:1371">h</a></span> : <span class="id">rT</span> -&gt; <span class="id">sT</span>) :<br/>
&nbsp;&nbsp;<span class="id">h</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">g</span> <span class="id">D</span> <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> (<span class="id">h</span> \<span class="id">o</span> <span class="id">g</span>) <span class="id">D</span> (<span class="id">h</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patch_setI">patch_setI</a></span> {<span class="id"><a name="aT:1372">aT</a></span> <span class="id"><a name="rT:1373">rT</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="g:1374">g</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id"><a name="D:1375">D</a></span> <span class="id"><a name="D':1376">D</a></span>' (<span class="id"><a name="f:1377">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">g</span> (<span class="id">D</span> `&amp;` <span class="id">D</span>') <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">g</span> <span class="id">D</span> (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">g</span> <span class="id">D</span>' <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/= <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setI">in_setI</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>) (<span class="id">x</span> \<span class="kwd">in</span> <span class="id">D</span>') =&gt; [] [].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patch_set0">patch_set0</a></span> {<span class="id"><a name="aT:1378">aT</a></span> <span class="id"><a name="rT:1379">rT</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="g:1380">g</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="f:1381">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">f</span> = <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_set0">in_set0</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="patch_setT">patch_setT</a></span> {<span class="id"><a name="aT:1382">aT</a></span> <span class="id"><a name="rT:1383">rT</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="g:1384">g</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="f:1385">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id">g</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span> = <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#in_setT">in_setT</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="restrict_comp">restrict_comp</a></span> {<span class="id"><a name="aT:1386">aT</a></span>} {<span class="id"><a name="rT:1387">rT</a></span> <span class="id"><a name="sT:1388">sT</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>} (<span class="id"><a name="h:1389">h</a></span> : <span class="id">rT</span> -&gt; <span class="id">sT</span>) (<span class="id"><a name="f:1390">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) <span class="id"><a name="D:1391">D</a></span> :<br/>
&nbsp;&nbsp;<span class="id">h</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span> -&gt; (<span class="id">h</span> \<span class="id">o</span> <span class="id">f</span>) \<span class="id">_</span> <span class="id">D</span> = <span class="id">h</span> \<span class="id">o</span> (<span class="id">f</span> \<span class="id">_</span> <span class="id">D</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">hp</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifP">ifP</a></span>. Qed.</div>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#restrict_comp">restrict_comp</a></span> {<span class="id">aT</span> <span class="id">rT</span> <span class="id">sT</span>} <span class="id">h</span> <span class="id">f</span> <span class="id">D</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="trivIset_restr">trivIset_restr</a></span> (<span class="id"><a name="T:1392">T</a></span> <span class="id"><a name="I:1393">I</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="D:1394">D</a></span> <span class="id"><a name="D':1395">D</a></span>' : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">I</span>) (<span class="id"><a name="F:1396">F</a></span> : <span class="id">I</span> -&gt; <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> <span class="id">D</span>' (<span class="id">F</span> \<span class="id">_</span> <span class="id">D</span>) = <span class="id"><a href="mathcomp.classical.classical_sets.html#trivIset">trivIset</a></span> (<span class="id">D</span> `&amp;` <span class="id">D</span>') <span class="id">F</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propext">propext</a></span>; <span class="id">split</span>=&gt; <span class="id">FDtriv</span> <span class="id">i</span> <span class="id">j</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">Di</span> <span class="id">D</span>'<span class="id">i</span>] [<span class="id">Dj</span> <span class="id">D</span>'<span class="id">j</span>] [<span class="id">x</span> [<span class="id">Fix</span> <span class="id">Fjx</span>]]; <span class="id">apply</span>: <span class="id">FDtriv</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">x</span>; <span class="id">split</span> =&gt; /=; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#patchT">patchT</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">D</span>'<span class="id">i</span> <span class="id">D</span>'<span class="id">j</span> [<span class="id">x</span> []]; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span>.<br/>
<span class="id">do</span> 2![<span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; //]; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#in_setE">in_setE</a></span> =&gt; <span class="id">Di</span> <span class="id">Dj</span> <span class="id">Fix</span> <span class="id">Fjx</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">FDtriv</span> =&gt; //; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
Qed.</div>
<br/>
<div class="ssrdoc markdown">
## Restriction of domain and codomain                                      
</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="RestrictionLeft">RestrictionLeft</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="U:1397">U</a></span> <span class="id"><a name="V:1398">V</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="v:1399">v</a></span> : <span class="id">V</span>) {<span class="id"><a name="A:1400">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} {<span class="id"><a name="B:1401">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="restrict">restrict</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> (<span class="kwd">fun</span>=&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.v">v</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sigL">sigL</a></span> (<span class="id"><a name="f:1402">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span> := <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_isfun">sigL_isfun</a></span> (<span class="id"><a name="f:1403">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>] <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id"><a name="RestrictionLeft.hb_instance_1320">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1404">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#sigL_isfun">sigL_isfun</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sigLfun">sigLfun</a></span> (<span class="id"><a name="f:1405">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) := [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id">f</span>].<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valL_">valL_</a></span> (<span class="id"><a name="f:1406">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span> := ((@<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">_</span> <span class="id">_</span>)^~ <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.v">v</a></span>) <span class="id">f</span> \<span class="id">o</span> '<span class="id">oinv_set_val</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_isfun">valL_isfun</a></span> (<span class="id"><a name="f:1407">f</a></span> : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#isFun">isFun</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> (<span class="id">f</span> : <span class="id">_</span> -&gt; <span class="id">_</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof153')">Proof.</span></div>
<div class="proofscript" id="proof153">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">Ax</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>. Qed.</div>
<span class="id"><a name="RestrictionLeft.hb_instance_1323">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1408">f</a></span> : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#valL_isfun">valL_isfun</a></span> <span class="id">f</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valLfun_">valLfun_</a></span> (<span class="id"><a name="f:1409">f</a></span> : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) := [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id">f</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigLE">sigLE</a></span> (<span class="id"><a name="f:1410">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>) <span class="id"><a name="x:1411">x</a></span> (<span class="id"><a name="xA:1412">xA</a></span> : <span class="id">x</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">xA</span>) = <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof154')">Proof.</span></div>
<div class="proofscript" id="proof154">
 <span class="id">done</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_sigLP">eq_sigLP</a></span> (<span class="id"><a name="f:1413">f</a></span> <span class="id"><a name="g:1414">g</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>):<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>, <span class="id">f</span> =1 <span class="id">g</span>} &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof155')">Proof.</span></div>
<div class="proofscript" id="proof155">
<span class="id">split</span>=&gt; [<span class="id">eq_f_g</span> | <span class="id">Rfg</span> <span class="id">u</span> <span class="id">uA</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; -[<span class="id">x</span>]; <span class="id">apply</span>: <span class="id">eq_f_g</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> (@^~ (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> <span class="id">u</span> <span class="id">uA</span>)) <span class="id">Rfg</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_sigLfunP">eq_sigLfunP</a></span> (<span class="id"><a name="f:1415">f</a></span> <span class="id"><a name="g:1416">g</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.B">B</a></span>}) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>, <span class="id">f</span> =1 <span class="id">g</span>} &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof156')">Proof.</span></div>
<div class="proofscript" id="proof156">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqP">funeqP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigLK">sigLK</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof157')">Proof.</span></div>
<div class="proofscript" id="proof157">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeq2E">funeq2E</a></span> =&gt; <span class="id">f</span> <span class="id">u</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_set_val">oinv_set_val</a></span>/=; <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; <span class="id">uA</span>; [<span class="id">rewrite</span> <span class="id">insubT</span>|<span class="id">rewrite</span> <span class="id">insubN</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLK">valLK</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof158')">Proof.</span></div>
<div class="proofscript" id="proof158">
<span class="id">move</span>=&gt; <span class="id">f</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_set_val">oinv_set_val</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">a</span> /=; <span class="id">have</span> <span class="id">aA</span> : <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">a</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">valP</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">insubT</span>//=; <span class="id">congr</span> <span class="id">f</span>; <span class="id">apply</span>/<span class="id">val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLfunK">valLfunK</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLfun_">valLfun_</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof159')">Proof.</span></div>
<div class="proofscript" id="proof159">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span>/<span class="id"><a href="mathcomp.classical.boolp.html#funeqP">funeqP</a></span>; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_valL">sigL_valL</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof160')">Proof.</span></div>
<div class="proofscript" id="proof160">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>/<span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_valLfun">sigL_valLfun</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#valLfun_">valLfun_</a></span> = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof161')">Proof.</span></div>
<div class="proofscript" id="proof161">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>/<span class="id"><a href="mathcomp.classical.functions.html#valLfunK">valLfunK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_restrict">sigL_restrict</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> = <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof162')">Proof.</span></div>
<div class="proofscript" id="proof162">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeq2E">funeq2E</a></span> =&gt; <span class="id">f</span> -[<span class="id">u</span> <span class="id">Au</span>] /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#patch">patch</a></span> /= <span class="id">Au</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="image_sigL">image_sigL</a></span>  : <span class="id"><a href="mathcomp.classical.classical_sets.html#range">range</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof163')">Proof.</span></div>
<div class="proofscript" id="proof163">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#eqEsubset">eqEsubset</a></span>; <span class="id">split</span>=&gt; //= <span class="id">f</span> <span class="id">_</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id">f</span>)=&gt;//.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_restrictP">eq_restrictP</a></span> (<span class="id"><a name="f:1417">f</a></span> <span class="id"><a name="g:1418">g</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.V">V</a></span>): {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft.A">A</a></span>, <span class="id">f</span> =1 <span class="id">g</span>} &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#restrict">restrict</a></span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof164')">Proof.</span></div>
<div class="proofscript" id="proof164">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#sigLK">sigLK</a></span>/=; <span class="id">split</span> =&gt; [-&gt;//|/(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#can_inj">can_inj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>)]. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeft">RestrictionLeft</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> {<span class="id">U</span> <span class="id">V</span>} <span class="id">A</span> <span class="id">f</span> <span class="id">u</span> /.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#sigLE">sigLE</a></span> {<span class="id">U</span> <span class="id">V</span>} <span class="id">A</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> {<span class="id">U</span> <span class="id">V</span>} <span class="id">v</span> {<span class="id">A</span>} <span class="id">f</span> <span class="id">u</span> /.<br/>
<span class="kwd">Notation</span> "''<span class="id">valL_</span>' <span class="id">v</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id">v</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">valLfun_</span>' <span class="id">v</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#valLfun_">valLfun_</a></span> <span class="id">v</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="valL">valL</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#valL_">valL_</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="RestrictionRight">RestrictionRight</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="U:1419">U</a></span> <span class="id"><a name="V:1420">V</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1421">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sigR">sigR</a></span> (<span class="id"><a name="f:1422">f</a></span> : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>}) (<span class="id"><a name="u:1423">u</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> ('<span class="id">funS_f</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>) : <span class="id">f</span> <span class="id">u</span> \<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>).<br/>
<span class="id"><a name="RestrictionRight.hb_instance_1326">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1424">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">_</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valR">valR</a></span> (<span class="id"><a name="f:1425">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>) := <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="RestrictionRight.hb_instance_1331">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1426">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valR_fun">valR_fun</a></span> (<span class="id"><a name="f:1427">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>) : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>} := [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id">f</span>].<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigRK">sigRK</a></span> (<span class="id"><a name="f:1428">f</a></span> : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id">f</span>) = <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof165')">Proof.</span></div>
<div class="proofscript" id="proof165">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigR_funK">sigR_funK</a></span> (<span class="id"><a name="f:1429">f</a></span> : {<span class="kwd">fun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>}) : <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> <span class="id">f</span>) = <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof166')">Proof.</span></div>
<div class="proofscript" id="proof166">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span>/<span class="id"><a href="mathcomp.classical.boolp.html#funeqP">funeqP</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#sigRK">sigRK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valRP">valRP</a></span> (<span class="id"><a name="f:1430">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span>) <span class="id"><a name="x:1431">x</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id">f</span> <span class="id">x</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof167')">Proof.</span></div>
<div class="proofscript" id="proof167">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valRK">valRK</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof168')">Proof.</span></div>
<div class="proofscript" id="proof168">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">val_inj</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionRight">RestrictionRight</a></span>.<br/>
<span class="kwd">Arguments</span> <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> {<span class="id">U</span> <span class="id">V</span> <span class="id">A</span>} <span class="id">f</span> <span class="id">u</span> /.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="RestrictionLeftInv">RestrictionLeftInv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="U:1432">U</a></span> <span class="id"><a name="V:1433">V</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="v:1434">v</a></span> : <span class="id">V</span>) {<span class="id"><a name="A:1435">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} {<span class="id"><a name="B:1436">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="rl">rl</a></span> := (<span class="id"><a href="mathcomp.classical.functions.html#sigL">sigL</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>).<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="rr">rr</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="el">el</a></span> := '<span class="id">valL_v</span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="er">er</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span>.<br/>
<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1336">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1437">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">insub</span> \<span class="id">o</span> '<span class="id">oinv_f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1339">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1438">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_sigL">oinv_sigL</a></span> (<span class="id"><a name="f:1439">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) : '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#obind">obind</a></span> <span class="id">insub</span> \<span class="id">o</span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof169')">Proof.</span></div>
<div class="proofscript" id="proof169">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_inj_subproof">sigL_inj_subproof</a></span> (<span class="id"><a name="f:1440">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) : @<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof170')">Proof.</span></div>
<div class="proofscript" id="proof170">
<span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigL">oinv_sigL</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>//= [<span class="id">insub</span> <span class="id">_</span>]'<span class="id">funoK_val</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1343">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1441">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#sigL_inj_subproof">sigL_inj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1346">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1442">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_surj_subproof">sigL_surj_subproof</a></span> (<span class="id"><a name="f:1443">f</a></span> : {<span class="id">surj</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) : @<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof171')">Proof.</span></div>
<div class="proofscript" id="proof171">
<span class="id">split</span>=&gt; [<span class="id">b</span>|<span class="id">b</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] <span class="id">Bb</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinv_sigL">oinv_sigL</a></span>/=.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">have</span> [<span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Ax</span> &lt;-]/= := '<span class="id">oinvS_f</span> <span class="id">Bb</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">case</span>: <span class="id">insubP</span> =&gt; [<span class="id">a</span> <span class="id">Aa</span>/= <span class="id">eqx</span>|]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">Ax</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span>; <span class="id">apply</span>/<span class="id">val_inj</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span>/= <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#oapp_comp">oapp_comp</a></span>/= -<span class="id"><a href="mathcomp.classical.functions.html#oinv_val">oinv_val</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#inv_omap">inv_omap</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#invK">invK</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> ?<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1350">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1444">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#sigL_surj_subproof">sigL_surj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1353">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1445">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1357">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1446">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1361">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1447">f</a></span> : {<span class="id">oinvfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> '<span class="id">oinv_f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_sigR">oinv_sigR</a></span> (<span class="id"><a name="f:1448">f</a></span> : {<span class="id">oinvfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) :<br/>
&nbsp;&nbsp;'<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>) = (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> '<span class="id">oinv_f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof172')">Proof.</span></div>
<div class="proofscript" id="proof172">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigR_inj_subproof">sigR_inj_subproof</a></span> (<span class="id"><a name="f:1449">f</a></span> : {<span class="id">injfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) :<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof173')">Proof.</span></div>
<div class="proofscript" id="proof173">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigR">oinv_sigR</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#set_valE">set_valE</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1364">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1450">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#sigR_inj_subproof">sigR_inj_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigR_surj_subproof">sigR_surj_subproof</a></span> (<span class="id"><a name="f:1451">f</a></span> : {<span class="id">surjfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) :<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof174')">Proof.</span></div>
<div class="proofscript" id="proof174">
<span class="id">split</span>=&gt; <span class="id">a</span> <span class="id">_</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinv_sigL">oinv_sigL</a></span>/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">have</span> [<span class="id">x</span> <span class="id">_</span> <span class="id">xeq</span>] := '<span class="id">oinvS_f</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span> <span class="id">a</span>); <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">apply</span>/<span class="id">val_inj</span>=&gt; /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigR">oinv_sigR</a></span>/=.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>=&gt; //=; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1367">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1452">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#sigR_surj_subproof">sigR_surj_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigR_some_inv">sigR_some_inv</a></span> (<span class="id"><a name="f:1453">f</a></span> : {<span class="id">invfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>^-1) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof175')">Proof.</span></div>
<div class="proofscript" id="proof175">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigR">oinv_sigR</a></span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1370">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1454">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1374">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1455">f</a></span> : {<span class="id">invfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) :=<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>^-1) (<span class="id"><a href="mathcomp.classical.functions.html#sigR_some_inv">sigR_some_inv</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_sigR">inv_sigR</a></span> (<span class="id"><a name="f:1456">f</a></span> : {<span class="id">invfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) : (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>)^-1 = (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>^-1).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof176')">Proof.</span></div>
<div class="proofscript" id="proof176">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1377">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1457">f</a></span> : {<span class="id">splitinjfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1383">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1458">f</a></span> : {<span class="id">splitsurjfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1389">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1459">f</a></span> : {<span class="id">splitbij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_some_inv">sigL_some_inv</a></span> (<span class="id"><a name="f:1460">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>]}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id">f</span>^-1]) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof177')">Proof.</span></div>
<div class="proofscript" id="proof177">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sigL">oinv_sigL</a></span> /= /<span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span>/= /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span>/=.<br/>
<span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; //= <span class="id">u</span> <span class="id">Au</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id">insubT</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// =&gt; <span class="id">memAu</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id">val_inj</span>=&gt; /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>.<br/>
Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1393">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1461">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>]}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#sigL_some_inv">sigL_some_inv</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_sigL">inv_sigL</a></span>  (<span class="id"><a name="f:1462">f</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>]}) :<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>)^-1 = (<span class="id"><a href="mathcomp.classical.functions.html#rr">rr</a></span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id">f</span>^-1]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof178')">Proof.</span></div>
<div class="proofscript" id="proof178">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1396">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1463">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> \<span class="id">o</span> '<span class="id">oinv_f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1399">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1464">f</a></span> : {<span class="id">oinvfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_valL">oinv_valL</a></span> (<span class="id"><a name="f:1465">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) :<br/>
&nbsp;&nbsp;'<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>) = <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> \<span class="id">o</span> '<span class="id">oinv_f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof179')">Proof.</span></div>
<div class="proofscript" id="proof179">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oapp_comp_x">oapp_comp_x</a></span> {<span class="id"><a name="aT:1466">aT</a></span> <span class="id"><a name="rT:1467">rT</a></span> <span class="id"><a name="sT:1468">sT</a></span>} (<span class="id"><a name="f:1469">f</a></span> : <span class="id">aT</span> -&gt; <span class="id">rT</span>) (<span class="id"><a name="g:1470">g</a></span> : <span class="id">rT</span> -&gt; <span class="id">sT</span>) (<span class="id"><a name="x:1471">x</a></span> : <span class="id">rT</span>) <span class="id"><a name="y:1472">y</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>) (<span class="id">g</span> <span class="id">x</span>) <span class="id">y</span> = <span class="id">g</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof180')">Proof.</span></div>
<div class="proofscript" id="proof180">
 <span class="kwd">by</span> <span class="id">case</span>: <span class="id">y</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_inj_subproof">valL_inj_subproof</a></span> (<span class="id"><a name="f:1473">f</a></span> : {<span class="id">inj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) : @<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof181')">Proof.</span></div>
<div class="proofscript" id="proof181">
<span class="id">split</span>=&gt; <span class="id">x</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">xA</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_valL">oinv_valL</a></span>/= -<span class="id"><a href="mathcomp.classical.functions.html#oapp_comp_x">oapp_comp_x</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>=&gt; //= <span class="id">a</span> <span class="id">_</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1403">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1474">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valL_inj_subproof">valL_inj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1406">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1475">f</a></span> : {<span class="id">injfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_surj_subproof">valL_surj_subproof</a></span> (<span class="id"><a name="f:1476">f</a></span> : {<span class="id">surj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) : @<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof182')">Proof.</span></div>
<div class="proofscript" id="proof182">
<span class="id">split</span>=&gt; [<span class="id">b</span>|<span class="id">b</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] <span class="id">Bb</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinv_valL">oinv_valL</a></span>/=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; // =&gt; <span class="id">a</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">a</span>) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; //= <span class="id">a</span> <span class="id">_</span> <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>// <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1412">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1477">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valL_surj_subproof">valL_surj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1415">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1478">f</a></span> : {<span class="id">surjfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1421">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1479">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_some_inv">valL_some_inv</a></span> (<span class="id"><a name="f:1480">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) : <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>^-1) = '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof183')">Proof.</span></div>
<div class="proofscript" id="proof183">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_valL">oinv_valL</a></span>/= <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift_comp">olift_comp</a></span> -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span>. Qed.</div>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1427">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1481">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv_Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#valL_some_inv">valL_some_inv</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1430">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1482">f</a></span> : {<span class="id">invfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_valL">inv_valL</a></span> (<span class="id"><a name="f:1483">f</a></span> : {<span class="id">inv</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) : (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>)^-1 = <span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>^-1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof184')">Proof.</span></div>
<div class="proofscript" id="proof184">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1434">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1484">f</a></span> : {<span class="id">splitinj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1440">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1485">f</a></span> : {<span class="id">splitinjfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1444">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1486">f</a></span> : {<span class="id">splitsurj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1450">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1487">f</a></span> : {<span class="id">splitsurjfun</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="RestrictionLeftInv.hb_instance_1454">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1488">f</a></span> : {<span class="id">splitbij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_injP">sigL_injP</a></span> (<span class="id"><a name="f:1489">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) &lt;-&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof185')">Proof.</span></div>
<div class="proofscript" id="proof185">
<span class="id">split</span>=&gt; [<span class="id">f_inj</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Ax</span> <span class="id">Ay</span>|/<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt; //]]; <span class="id">last</span> <span class="id">first</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">eqfxy</span>; <span class="id">suff</span> [-&gt;] : <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ay</span> <span class="kwd">by</span> []; <span class="id">apply</span>: <span class="id">f_inj</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_surjP">sigL_surjP</a></span> (<span class="id"><a name="f:1490">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof186')">Proof.</span></div>
<div class="proofscript" id="proof186">
<span class="id">split</span>=&gt; [<span class="id">fsurj</span> <span class="id">b</span> <span class="id">Bb</span>/=|/<span class="id"><a href="mathcomp.classical.functions.html#Psurj">Psurj</a></span>[{}<span class="id">f</span>-&gt;]//].<br/>
<span class="kwd">by</span> <span class="id">have</span> [<span class="id">a</span> <span class="id">_</span> &lt;-] := <span class="id">fsurj</span> <span class="id">_</span> <span class="id">Bb</span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">a</span>) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_funP">sigL_funP</a></span> (<span class="id"><a name="f:1491">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof187')">Proof.</span></div>
<div class="proofscript" id="proof187">
<span class="id">split</span>=&gt; [<span class="id">ffun</span> <span class="id">u</span> <span class="id">Au</span>/=|/<span class="id"><a href="mathcomp.classical.functions.html#Pfun">Pfun</a></span>[{}<span class="id">f</span>-&gt;]//].<br/>
<span class="id">exact</span>: (<span class="id">ffun</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Au</span>))).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL_bijP">sigL_bijP</a></span> (<span class="id"><a name="f:1492">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span>] <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#rl">rl</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof188')">Proof.</span></div>
<div class="proofscript" id="proof188">
<span class="id">split</span>=&gt; [[<span class="id">F</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#in2TT">in2TT</a></span> <span class="id">I</span> <span class="id">S</span>]|/<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;]//].<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigL_funP">sigL_funP</a></span>|<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigL_injP">sigL_injP</a></span>|<span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigL_surjP">sigL_surjP</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_injP">valL_injP</a></span> (<span class="id"><a name="f:1493">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>)} &lt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof189')">Proof.</span></div>
<div class="proofscript" id="proof189">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigL_injP">sigL_injP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_surjP">valL_surjP</a></span> (<span class="id"><a name="f:1494">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof190')">Proof.</span></div>
<div class="proofscript" id="proof190">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigL_surjP">sigL_surjP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLfunP">valLfunP</a></span> (<span class="id"><a name="f:1495">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_fun">set_fun</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof191')">Proof.</span></div>
<div class="proofscript" id="proof191">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigL_funP">sigL_funP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valL_bijP">valL_bijP</a></span> (<span class="id"><a name="f:1496">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof192')">Proof.</span></div>
<div class="proofscript" id="proof192">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigL_bijP">sigL_bijP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#RestrictionLeftInv">RestrictionLeftInv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="ExtentionLeftInv">ExtentionLeftInv</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="U:1497">U</a></span> <span class="id"><a name="V:1498">V</a></span> : <span class="kwd">Type</span>} {<span class="id"><a name="A:1499">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} {<span class="id"><a name="B:1500">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>}.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="el">el</a></span> := '<span class="id">valL_None</span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="er">er</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span>.<br/>
<br/>
<span class="id"><a name="ExtentionLeftInv.hb_instance_1458">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1501">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span>}) :=<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#Build">OInv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> '<span class="id">oinv_f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="oinv_valR">oinv_valR</a></span> (<span class="id"><a name="f:1502">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span>}) : '<span class="id">oinv_</span>(<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>) = (<span class="id"><a href="mathcomp.classical.functions.html#el">el</a></span> '<span class="id">oinv_f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof193')">Proof.</span></div>
<div class="proofscript" id="proof193">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valR_inj_subproof">valR_inj_subproof</a></span> (<span class="id"><a name="f:1503">f</a></span> : {<span class="id">inj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span>}) :<br/>
&nbsp;&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv_Can">OInv_Can</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof194')">Proof.</span></div>
<div class="proofscript" id="proof194">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; <span class="id">x</span> <span class="id">_</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_valR">oinv_valR</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span>/= ?<span class="id"><a href="mathcomp.classical.functions.html#funoK">funoK</a></span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="id"><a name="ExtentionLeftInv.hb_instance_1461">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1504">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valR_inj_subproof">valR_inj_subproof</a></span> <span class="id">f</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valR_surj_subproof">valR_surj_subproof</a></span> (<span class="id"><a name="f:1505">f</a></span> : {<span class="id">surj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span>] &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span>]}) :<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#OInv_CanV">OInv_CanV</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof195')">Proof.</span></div>
<div class="proofscript" id="proof195">
<span class="id">split</span>=&gt; [<span class="id">a</span>|<span class="id">a</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span>] <span class="id">Aa</span>; <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinv_valR">oinv_valR</a></span>/= <span class="id"><a href="mathcomp.classical.functions.html#oinv_set_val">oinv_set_val</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">insubT</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// =&gt; <span class="id">memaA</span> /=; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; //= <span class="id">x</span>; <span class="kwd">exists</span> <span class="id">x</span>.<br/>
<span class="id">rewrite</span> <span class="id">insubT</span> ?<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>// =&gt; <span class="id">memaA</span>/=; <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; //= <span class="id">x</span> <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span>/= /<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> =&gt; -&gt;.<br/>
Qed.</div>
<span class="id"><a name="ExtentionLeftInv.hb_instance_1464">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1506">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valR_surj_subproof">valR_surj_subproof</a></span> <span class="id">f</span>.<br/>
<span class="id"><a name="ExtentionLeftInv.hb_instance_1467">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1507">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.V">V</a></span>] &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv.A">A</a></span>]}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#er">er</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#ExtentionLeftInv">ExtentionLeftInv</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Restrictions2">Restrictions2</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="U:1508">U</a></span> <span class="id"><a name="V:1509">V</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="v:1510">v</a></span> : <span class="id">V</span>) {<span class="id"><a name="A:1511">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">U</span>} {<span class="id"><a name="B:1512">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">V</span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="valL">valL</a></span> := '<span class="id">valL_v</span>.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="valLfun">valLfun</a></span> := '<span class="id">valLfun_v</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sigLR">sigLR</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#sigR">sigR</a></span> \<span class="id">o</span> (@<span class="id"><a href="mathcomp.classical.functions.html#sigLfun">sigLfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.U">U</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.V">V</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>).<br/>
<br/>
<span class="id"><a name="Restrictions2.hb_instance_1471">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1513">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#copy">Fun.copy</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>) (<span class="id"><a href="mathcomp.classical.functions.html#totalfun">totalfun</a></span> <span class="id">_</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valLR">valLR</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.V">V</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#valL">valL</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valLRfun">valLRfun</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) -&gt; {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>} := <span class="id"><a href="mathcomp.classical.functions.html#valLfun">valLfun</a></span> \<span class="id">o</span> <span class="id"><a href="mathcomp.classical.functions.html#valR_fun">valR_fun</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLRE">valLRE</a></span> (<span class="id"><a name="f:1514">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#valL">valL</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valR">valR</a></span> <span class="id">f</span>)<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof196')">Proof.</span></div>
<div class="proofscript" id="proof196">
 <span class="kwd">by</span> []. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="valLRfunE">valLRfunE</a></span> (<span class="id"><a name="f:1515">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) : <span class="id"><a href="mathcomp.classical.functions.html#valLRfun">valLRfun</a></span> <span class="id">f</span> = [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>]<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof197')">Proof.</span></div>
<div class="proofscript" id="proof197">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigL2K">sigL2K</a></span> (<span class="id"><a name="f:1516">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>) =1 <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof198')">Proof.</span></div>
<div class="proofscript" id="proof198">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#valLK">valLK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigR_funK">sigR_funK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLRK">valLRK</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRfun">valLRfun</a></span> <span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof199')">Proof.</span></div>
<div class="proofscript" id="proof199">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> /= <span class="id"><a href="mathcomp.classical.functions.html#valLfunK">valLfunK</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valRK">valRK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLRfun_inj">valLRfun_inj</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRfun">valLRfun</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof200')">Proof.</span></div>
<div class="proofscript" id="proof200">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f</span> <span class="id">g</span> <span class="id">eqefg</span>; <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span> <span class="id">eqefg</span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="id"><a name="Restrictions2.hb_instance_1476">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1517">f</a></span> : {<span class="id">oinvfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">OInversible.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Restrictions2.hb_instance_1481">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1518">f</a></span> : {<span class="id">injfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Restrictions2.hb_instance_1488">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1519">f</a></span> : {<span class="id">surjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Restrictions2.hb_instance_1495">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1520">f</a></span> : {<span class="id">bij</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="id"><a name="Restrictions2.hb_instance_1499">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1521">f</a></span> : {<span class="id">oinv</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">OInvFun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Restrictions2.hb_instance_1505">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1522">f</a></span> : {<span class="id">inj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span>] &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Inject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Restrictions2.hb_instance_1512">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1523">f</a></span> : {<span class="id">surj</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span>] &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>]}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Surject.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="Restrictions2.hb_instance_1519">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> (<span class="id"><a name="f:1524">f</a></span> : {<span class="id">bij</span> [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span>] &gt;-&gt; [<span class="id">set</span>: <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>]}) := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigLR_injP">sigLR_injP</a></span> (<span class="id"><a name="f:1525">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>) &lt;-&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof201')">Proof.</span></div>
<div class="proofscript" id="proof201">
<span class="id">split</span>=&gt; [<span class="id">f_inj</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Ax</span> <span class="id">Ay</span>|/<span class="id"><a href="mathcomp.classical.functions.html#funPinj">funPinj</a></span>[{}<span class="id">f</span>-&gt; //]]; <span class="id">last</span> <span class="id">first</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">eqfxy</span>; <span class="id">suff</span> [-&gt;] : <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ax</span> = <span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> <span class="id">Ay</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">f_inj</span>; <span class="id">apply</span>/<span class="id">val_inj</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLR_injP">valLR_injP</a></span> (<span class="id"><a name="f:1526">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>)} &lt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof202')">Proof.</span></div>
<div class="proofscript" id="proof202">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigLR_injP">sigLR_injP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigLR_surjP">sigLR_surjP</a></span> (<span class="id"><a name="f:1527">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof203')">Proof.</span></div>
<div class="proofscript" id="proof203">
<span class="id">split</span>=&gt; [<span class="id">fsurj</span> <span class="id">b</span> <span class="id">Bb</span>/=|/<span class="id"><a href="mathcomp.classical.functions.html#funPsurj">funPsurj</a></span>[{}<span class="id">f</span>-&gt;]//].<br/>
<span class="id">have</span> [<span class="id">x</span> <span class="id">_</span> /(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#congr1">congr1</a></span> <span class="id">val</span>)/= &lt;-] := <span class="id">fsurj</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#SigSub">SigSub</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> <span class="id">Bb</span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#I">I</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.classical.functions.html#set_val">set_val</a></span> <span class="id">x</span>) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set_valP">set_valP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLR_surjP">valLR_surjP</a></span> (<span class="id"><a name="f:1528">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof204')">Proof.</span></div>
<div class="proofscript" id="proof204">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigLR_surjP">sigLR_surjP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigLR_bijP">sigLR_bijP</a></span> (<span class="id"><a name="f:1529">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.U">U</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id">f</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id"><a name="fAB:1532">fAB</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:1530">x</a></span> / <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id">x</span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id">x</span>}),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">fAB</span>]).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof205')">Proof.</span></div>
<div class="proofscript" id="proof205">
<span class="id">split</span>=&gt; [[<span class="id">F</span> <span class="id">I</span> <span class="id">S</span>]|[<span class="id">fAB</span>]].<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">F</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#setTT_bijective">setTT_bijective</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span>; [|<span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#in2W">in2W</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigLR_injP">sigLR_injP</a></span>|<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigLR_surjP">sigLR_surjP</a></span>].<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#setTT_bijective">setTT_bijective</a></span> /<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span>.<br/>
<span class="id">set</span> <span class="id">g</span> := [<span class="kwd">fun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#mkfun">mkfun</a></span> <span class="id">fAB</span>] =&gt; -[<span class="id">_</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#in2TT">in2TT</a></span> <span class="id">I</span> <span class="id">S</span>]; <span class="id">pose</span> <span class="id">h</span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id">g</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">f</span>]/<span class="id">h</span> {}/<span class="id">h</span>; <span class="id">move</span>: <span class="id">g</span> =&gt; <span class="id">g</span> <span class="kwd">in</span> <span class="id">I</span> <span class="id">S</span> *.<br/>
<span class="kwd">by</span> <span class="id">split</span>; [<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>|<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigLR_injP">sigLR_injP</a></span>|<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#sigLR_surjP">sigLR_surjP</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sigLRfun_bijP">sigLRfun_bijP</a></span> <span class="id"><a name="f:1533">f</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#sigLR">sigLR</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof206')">Proof.</span></div>
<div class="proofscript" id="proof206">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#sigLR_bijP">sigLR_bijP</a></span>; <span class="id">split</span>=&gt; [<span class="id">fbij</span>|[<span class="id">fAB</span>]]; [<span class="kwd">exists</span> <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>|];<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">_</span> : [<span class="kwd">fun</span> <span class="id">of</span> <span class="id">_</span>] = <span class="id">f</span>)//; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#funP">funP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valLR_bijP">valLR_bijP</a></span> <span class="id"><a name="f:1534">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.A">A</a></span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2.B">B</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#valLR">valLR</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#bijective">bijective</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof207')">Proof.</span></div>
<div class="proofscript" id="proof207">
 <span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#sigLRfun_bijP">sigLRfun_bijP</a></span> <span class="id"><a href="mathcomp.classical.functions.html#valLRK">valLRK</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#Restrictions2">Restrictions2</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="set_bij_basic_lemmas">set_bij_basic_lemmas</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1535">aT</a></span> <span class="id"><a name="rT:1536">rT</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.aT">aT</a></span>) (<span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.rT">rT</a></span>) (<span class="id">f</span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_set_bijRL">eq_set_bijRL</a></span> <span class="id"><a name="A:1537">A</a></span> <span class="id"><a name="B:1538">B</a></span> <span class="id"><a name="f:1539">f</a></span> <span class="id"><a name="g:1540">g</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id">f</span> =1 <span class="id">g</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof208')">Proof.</span></div>
<div class="proofscript" id="proof208">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span> + /<span class="id"><a href="mathcomp.classical.functions.html#sigL_bijP">sigL_bijP</a></span> =&gt; -&gt; /<span class="id"><a href="mathcomp.classical.functions.html#sigL_bijP">sigL_bijP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_set_bijLR">eq_set_bijLR</a></span> <span class="id"><a name="A:1541">A</a></span> <span class="id"><a name="B:1542">B</a></span> <span class="id"><a name="f:1543">f</a></span> <span class="id"><a name="g:1544">g</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id">f</span> =1 <span class="id">g</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof209')">Proof.</span></div>
<div class="proofscript" id="proof209">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#eq_sigLP">eq_sigLP</a></span> + /<span class="id"><a href="mathcomp.classical.functions.html#sigL_bijP">sigL_bijP</a></span> =&gt; &lt;- /<span class="id"><a href="mathcomp.classical.functions.html#sigL_bijP">sigL_bijP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eq_set_bij">eq_set_bij</a></span> <span class="id"><a name="A:1545">A</a></span> <span class="id"><a name="B:1546">B</a></span> <span class="id"><a name="f:1547">f</a></span> <span class="id"><a name="g:1548">g</a></span> : {<span class="kwd">in</span> <span class="id">A</span>, <span class="id">f</span> =1 <span class="id">g</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof210')">Proof.</span></div>
<div class="proofscript" id="proof210">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">eqfg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#propeqP">propeqP</a></span>; <span class="id">split</span>; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#eq_set_bijRL">eq_set_bijRL</a></span> | <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#eq_set_bijLR">eq_set_bijLR</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_omap">bij_omap</a></span> <span class="id"><a name="A:1549">A</a></span> <span class="id"><a name="B:1550">B</a></span> <span class="id"><a name="f:1551">f</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">A</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>) (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#omap">omap</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof211')">Proof.</span></div>
<div class="proofscript" id="proof211">
<span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[<span class="id">b</span> <span class="id">mapfb</span>]|/<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;//]].<br/>
<span class="id">suff</span> -&gt; : <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span> (<span class="id">b</span> \<span class="id">o</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span>) :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -<span class="id">mapfb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_olift">bij_olift</a></span> <span class="id"><a name="A:1552">A</a></span> <span class="id"><a name="B:1553">B</a></span> <span class="id"><a name="f:1554">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">B</span>) (<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#olift">olift</a></span> <span class="id">f</span>) &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof212')">Proof.</span></div>
<div class="proofscript" id="proof212">
<span class="id">split</span>=&gt; [/<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[<span class="id">b</span> <span class="id">liftfb</span>]|/<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;//]].<br/>
<span class="id">suff</span> -&gt; : <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#unbind">unbind</a></span> <span class="id">f</span> <span class="id">b</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>) <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -<span class="id">liftfb</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_basic_lemmas">set_bij_basic_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_sub_sym">bij_sub_sym</a></span> {<span class="id"><a name="aT:1555">aT</a></span> <span class="id"><a name="rT:1556">rT</a></span>} {<span class="id"><a name="A:1557">A</a></span> <span class="id"><a name="C:1558">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1559">B</a></span> <span class="id"><a name="D:1560">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1561">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">C</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">D</span> `&lt;=` <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">D</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">C</span>) '<span class="id">oinv_f</span> &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof213')">Proof.</span></div>
<div class="proofscript" id="proof213">
<span class="id">move</span>=&gt; <span class="id">CA</span> <span class="id">DB</span>; <span class="id">gen</span> <span class="id">have</span> <span class="id">oinv_bij</span> : <span class="id">aT</span> <span class="id">rT</span> <span class="id">A</span> <span class="id">C</span> <span class="id">B</span> <span class="id">D</span> <span class="id">CA</span> <span class="id">DB</span> <span class="id">f</span> /<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">D</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">C</span>) '<span class="id">oinv_f</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>=&gt; <span class="id">bij_oinv</span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">oinv_bij</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#bij_omap">bij_omap</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#oinvV">oinvV</a></span>; <span class="id">apply</span>: <span class="id">oinv_bij</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span>.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[<span class="id">fC</span> <span class="id">ffC</span>]; <span class="id">suff</span> /<span class="id"><a href="mathcomp.classical.functions.html#eq_set_bij">eq_set_bij</a></span>-&gt; : {<span class="kwd">in</span> <span class="id">D</span>, '<span class="id">oinv_f</span> =1 '<span class="id">oinv_fC</span>} <span class="kwd">by</span> [].<br/>
<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">xD</span>; <span class="id">apply</span>: '<span class="id">inj_</span>(<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#oapp">oapp</a></span> <span class="id">f</span> <span class="id">x</span>); <span class="id">rewrite</span> ?<span class="id"><a href="mathcomp.classical.functions.html#mem_fun">mem_fun</a></span>//=.<br/>
- <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetP">subsetP</a></span> : <span class="id">x</span> <span class="id">xD</span>.<br/>
- <span class="kwd">by</span> <span class="id">have</span> := <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span> ((<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">CA</span>) <span class="id">_</span> ('<span class="id">oinvS_fC</span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set_mem">set_mem</a></span> <span class="id">xD</span>))).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span> ?<span class="id">ffC</span> ?<span class="id"><a href="mathcomp.classical.functions.html#oinvK">oinvK</a></span>// ?(<span class="id"><a href="mathcomp.classical.classical_sets.html#subsetP">subsetP</a></span>.2 <span class="id">_</span> <span class="id">_</span> <span class="id">xD</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="splitbij_sub_sym">splitbij_sub_sym</a></span> {<span class="id"><a name="aT:1562">aT</a></span> <span class="id"><a name="rT:1563">rT</a></span>} {<span class="id"><a name="A:1564">A</a></span> <span class="id"><a name="C:1565">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>} {<span class="id"><a name="B:1566">B</a></span> <span class="id"><a name="D:1567">D</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">rT</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="f:1568">f</a></span> : {<span class="id">splitbij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">C</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">D</span> `&lt;=` <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">D</span> <span class="id">C</span> <span class="id">f</span>^-1 &lt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof214')">Proof.</span></div>
<div class="proofscript" id="proof214">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">CA</span> <span class="id">DB</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#bij_sub_sym">bij_sub_sym</a></span>// -<span class="id"><a href="mathcomp.classical.functions.html#oliftV">oliftV</a></span> <span class="id"><a href="mathcomp.classical.functions.html#bij_olift">bij_olift</a></span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1569">aT</a></span> <span class="id"><a name="rT:1570">rT</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span>) (<span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>) (<span class="id">f</span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_bij00">set_bij00</a></span> <span class="id"><a name="T:1571">T</a></span> <span class="id"><a name="U:1572">U</a></span> (<span class="id"><a name="f:1573">f</a></span> : <span class="id">T</span> -&gt; <span class="id">U</span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof215')">Proof.</span></div>
<div class="proofscript" id="proof215">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [<span class="id">_</span> []//|<span class="id">x</span> <span class="id">y</span>|//]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>. Qed.</div>
<span class="kwd">Hint</span> <span class="id">Resolve</span> <span class="id">set_bij00</span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inj_bij">inj_bij</a></span> <span class="id"><a name="A:1574">A</a></span> <span class="id"><a name="f:1575">f</a></span> : {<span class="kwd">in</span> <span class="id">A</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> (<span class="id">f</span> @` <span class="id">A</span>) <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof216')">Proof.</span></div>
<div class="proofscript" id="proof216">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">apply</span>: '<span class="id">bij_</span>[<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id">A</span>]. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_subl">bij_subl</a></span> <span class="id"><a name="A:1576">A</a></span> <span class="id"><a name="B:1577">B</a></span> <span class="id"><a name="C:1578">C</a></span> <span class="id"><a name="D:1579">D</a></span> (<span class="id"><a name="f:1580">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">C</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">f</span> @` <span class="id">C</span> = <span class="id">D</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof217')">Proof.</span></div>
<div class="proofscript" id="proof217">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span> <span class="id">CA</span> &lt;-; <span class="id">split</span>=&gt; // <span class="id">x</span> <span class="id">y</span> /<span class="id">CA</span> + /<span class="id">CA</span> +; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="aT:1581">aT</a></span> <span class="id"><a name="rT:1582">rT</a></span> : <span class="kwd">Type</span>}.<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">A</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span>) (<span class="id">B</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>) (<span class="id">f</span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.aT">aT</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas.rT">rT</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_subr">bij_subr</a></span> <span class="id"><a name="A:1583">A</a></span> <span class="id"><a name="B:1584">B</a></span> <span class="id"><a name="C:1585">C</a></span> <span class="id"><a name="D:1586">D</a></span> (<span class="id"><a name="f:1587">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">C</span> = <span class="id">A</span> `&amp;` (<span class="id">f</span> @^-1` <span class="id">D</span>) -&gt; <span class="id">D</span> `&lt;=` <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof218')">Proof.</span></div>
<div class="proofscript" id="proof218">
<span class="id">move</span>=&gt; -&gt; <span class="id">DB</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.functions.html#bij_sub_sym">bij_sub_sym</a></span>=&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_subl">bij_subl</a></span> =&gt; //=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#oinv_sub_image">oinv_sub_image</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_sub">bij_sub</a></span> <span class="id"><a name="A:1588">A</a></span> <span class="id"><a name="B:1589">B</a></span> <span class="id"><a name="C:1590">C</a></span> <span class="id"><a name="D:1591">D</a></span> (<span class="id"><a name="f:1592">f</a></span> : {<span class="id">bij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">C</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">D</span> `&lt;=` <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:1593">x</a></span> / <span class="id">C</span> <span class="id">x</span> &gt;-&gt; <span class="id">D</span> <span class="id">x</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">homo</span> '<span class="id">oinv_f</span> : <span class="id"><a name="x:1595">x</a></span> / <span class="id">D</span> <span class="id">x</span> &gt;-&gt; (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#some">some</a></span> @` <span class="id">C</span>) <span class="id">x</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof219')">Proof.</span></div>
<div class="proofscript" id="proof219">
<span class="id">move</span>=&gt; <span class="id">CA</span> <span class="id">DB</span> <span class="id">fCD</span> <span class="id">fDC</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_subl">bij_subl</a></span> =&gt; //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subP">image_subP</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">y</span> /[<span class="id">dup</span>]/[<span class="id">dup</span>] <span class="id">Dy</span> /<span class="id">DB</span> <span class="id">By</span> /<span class="id">fDC</span> [<span class="id">x</span> <span class="id">Cx</span>]/= <span class="id">xfy</span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //; <span class="id">move</span>: <span class="id">xfy</span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span> =&gt; // <span class="id">a</span> <span class="id">Aa</span> <span class="id">_</span> [-&gt;].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="splitbij_sub">splitbij_sub</a></span> <span class="id"><a name="A:1597">A</a></span> <span class="id"><a name="B:1598">B</a></span> <span class="id"><a name="C:1599">C</a></span> <span class="id"><a name="D:1600">D</a></span> (<span class="id"><a name="f:1601">f</a></span> : {<span class="id">splitbij</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) : <span class="id">C</span> `&lt;=` <span class="id">A</span> -&gt; <span class="id">D</span> `&lt;=` <span class="id">B</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:1602">x</a></span> / <span class="id">C</span> <span class="id">x</span> &gt;-&gt; <span class="id">D</span> <span class="id">x</span>} -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">homo</span> <span class="id">f</span>^-1 : <span class="id"><a name="x:1604">x</a></span> / <span class="id">D</span> <span class="id">x</span> &gt;-&gt; <span class="id">C</span> <span class="id">x</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">C</span> <span class="id">D</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof220')">Proof.</span></div>
<div class="proofscript" id="proof220">
<span class="id">move</span>=&gt; <span class="id">CA</span> <span class="id">DB</span> /(<span class="id"><a href="mathcomp.classical.functions.html#bij_sub">bij_sub</a></span> <span class="id">CA</span> <span class="id">DB</span>) /[<span class="id">swap</span>] <span class="id">fDC</span>; <span class="id">apply</span>=&gt; <span class="id">x</span> <span class="id">Dx</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.classical.functions.html#some_inv">some_inv</a></span>/=; <span class="kwd">exists</span> (<span class="id">f</span>^-1 <span class="id">x</span>) =&gt; //; <span class="id">apply</span>: <span class="id">fDC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can2_bij">can2_bij</a></span> <span class="id"><a name="A:1606">A</a></span> <span class="id"><a name="B:1607">B</a></span> (<span class="id"><a name="f:1608">f</a></span> : {<span class="kwd">fun</span> <span class="id">A</span> &gt;-&gt; <span class="id">B</span>}) (<span class="id"><a name="g:1609">g</a></span> : {<span class="kwd">fun</span> <span class="id">B</span> &gt;-&gt; <span class="id">A</span>}) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">A</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> <span class="id">g</span>} -&gt; {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">g</span> <span class="id">f</span>} -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof221')">Proof.</span></div>
<div class="proofscript" id="proof221">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#can_in_inj">can_in_inj</a></span> <span class="id">finj</span> /<span class="id"><a href="mathcomp.classical.functions.html#can_surj">can_surj</a></span> <span class="id">gK</span>; <span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id">gK</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_sub_setUrl">bij_sub_setUrl</a></span> <span class="id"><a name="A:1610">A</a></span> <span class="id"><a name="B:1611">B</a></span> <span class="id"><a name="B':1612">B</a></span>' <span class="id"><a name="f:1613">f</a></span> : [<span class="id">disjoint</span> <span class="id">B</span> &amp; <span class="id">B</span>'] -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> (<span class="id">B</span> `|` <span class="id">B</span>') <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id">A</span> `\` <span class="id">f</span> @^-1` <span class="id">B</span>') <span class="id">B</span> <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof222')">Proof.</span></div>
<div class="proofscript" id="proof222">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#disj_setPS">disj_setPS</a></span> <span class="id">BB</span>' /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_subr">bij_subr</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">split</span>=&gt; <span class="id">x</span> /= [<span class="id">Ax</span> <span class="id">Bfx</span>]; <span class="id">split</span>=&gt; //; <span class="id">first</span> <span class="kwd">by</span> <span class="id">have</span> [] := '<span class="id">funS_f</span> <span class="id">Ax</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">B</span>'<span class="id">fx</span>; <span class="id">apply</span>: (<span class="id">BB</span>' (<span class="id">f</span> <span class="id">x</span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_sub_setUrr">bij_sub_setUrr</a></span> <span class="id"><a name="A:1614">A</a></span> <span class="id"><a name="B:1615">B</a></span> <span class="id"><a name="B':1616">B</a></span>' <span class="id"><a name="f:1617">f</a></span> : [<span class="id">disjoint</span> <span class="id">B</span> &amp; <span class="id">B</span>'] -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> (<span class="id">B</span> `|` <span class="id">B</span>') <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id">A</span> `\` <span class="id">f</span> @^-1` <span class="id">B</span>) <span class="id">B</span>' <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof223')">Proof.</span></div>
<div class="proofscript" id="proof223">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_sym">disj_set_sym</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_sub_setUrl">bij_sub_setUrl</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_sub_setUll">bij_sub_setUll</a></span> <span class="id"><a name="A:1618">A</a></span> <span class="id"><a name="A':1619">A</a></span>' <span class="id"><a name="B:1620">B</a></span> <span class="id"><a name="f:1621">f</a></span> : [<span class="id">disjoint</span> <span class="id">A</span> &amp; <span class="id">A</span>'] -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id">A</span> `|` <span class="id">A</span>') <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> (<span class="id">B</span> `\` <span class="id">f</span> @` <span class="id">A</span>') <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof224')">Proof.</span></div>
<div class="proofscript" id="proof224">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#disj_setPS">disj_setPS</a></span> <span class="id">AA</span>' /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_sub">bij_sub</a></span> =&gt; [|? []//||]; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#subsetUl">subsetUl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span> <span class="id">Ax</span> /=; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funS">funS</a></span>; <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">y</span>] <span class="id">A</span>'<span class="id">y</span> /<span class="id"><a href="mathcomp.classical.functions.html#inj">inj</a></span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= =&gt;<span class="id">yx</span>; <span class="id">apply</span>: (<span class="id">AA</span>' <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">split</span>=&gt; //; <span class="id">rewrite</span> -<span class="id">yx</span> //; [<span class="id">right</span>|<span class="id">left</span>].<br/>
<span class="id">move</span>=&gt; <span class="id">z</span> [<span class="id">Bz</span> /= /<span class="id"><a href="mathcomp.classical.boolp.html#not_exists2P">not_exists2P</a></span> /<span class="id"><a href="mathcomp.classical.boolp.html#contrapT">contrapT</a></span>] <span class="id">A</span>'<span class="id">fxz</span>.<br/>
<span class="id">case</span>: <span class="id"><a href="mathcomp.classical.functions.html#oinvP">oinvP</a></span>=&gt; // <span class="id">x</span> <span class="id">AA</span>'<span class="id">x</span> <span class="id">fxz</span>; <span class="kwd">exists</span> <span class="id">x</span> =&gt; //.<br/>
<span class="kwd">by</span> <span class="id">have</span> := <span class="id">A</span>'<span class="id">fxz</span> <span class="id">x</span>; <span class="id">rewrite</span> <span class="id">fxz</span> =&gt; -[|//]; <span class="id">case</span>: <span class="id">AA</span>'<span class="id">x</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_sub_setUlr">bij_sub_setUlr</a></span> <span class="id"><a name="A:1622">A</a></span> <span class="id"><a name="A':1623">A</a></span>' <span class="id"><a name="B:1624">B</a></span> <span class="id"><a name="f:1625">f</a></span> : [<span class="id">disjoint</span> <span class="id">A</span> &amp; <span class="id">A</span>'] -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id">A</span> `|` <span class="id">A</span>') <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span>' (<span class="id">B</span> `\` <span class="id">f</span> @` <span class="id">A</span>) <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof225')">Proof.</span></div>
<div class="proofscript" id="proof225">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setUC">setUC</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html#disj_set_sym">disj_set_sym</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_sub_setUll">bij_sub_setUll</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#set_bij_lemmas">set_bij_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bij_II_D1">bij_II_D1</a></span> <span class="id"><a name="T:1626">T</a></span> <span class="id"><a name="n:1627">n</a></span> (<span class="id"><a name="A:1628">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>) (<span class="id"><a name="f:1629">f</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id">T</span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> `<span class="id">I_n</span>.+1 <span class="id">A</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> `<span class="id">I_n</span> (<span class="id">A</span> `\ <span class="id">f</span> <span class="id">n</span>) <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof226')">Proof.</span></div>
<div class="proofscript" id="proof226">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#IIS">IIS</a></span> -<span class="id"><a href="mathcomp.classical.classical_sets.html#image_set1">image_set1</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij_sub_setUll">bij_sub_setUll</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#disj_setPS">disj_setPS</a></span> =&gt; <span class="id">i</span> [/= /[<span class="id">swap</span>]-&gt;]; <span class="id">rewrite</span> <span class="id">ltnn</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_bij_comp">set_bij_comp</a></span> <span class="id"><a name="T1:1630">T1</a></span> <span class="id"><a name="T2:1631">T2</a></span> <span class="id"><a name="T3:1632">T3</a></span> (<span class="id"><a name="A:1633">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T1</span>) (<span class="id"><a name="B:1634">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T2</span>) (<span class="id"><a name="C:1635">C</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T3</span>) <span class="id"><a name="f:1636">f</a></span> <span class="id"><a name="g:1637">g</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">B</span> <span class="id">C</span> <span class="id">g</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">A</span> <span class="id">C</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof227')">Proof.</span></div>
<div class="proofscript" id="proof227">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;] /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">g</span>-&gt;]; <span class="id">apply</span>: '<span class="id">bij_</span>(<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="pointed_inverse">pointed_inverse</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="T:1638">T</a></span> <span class="id"><a name="U:1639">U</a></span>} (<span class="id"><a name="dflt:1640">dflt</a></span> : <span class="id">U</span> -&gt; <span class="id">T</span>) (<span class="id"><a name="A:1641">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>) (<span class="id">i</span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>}).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="pinv_">pinv_</a></span> <span class="id"><a name="f:1642">f</a></span> := ('<span class="id">split_dflt</span> [<span class="kwd">fun</span> <span class="id">f</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>])^-1.<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="pinv">pinv</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#pinv_">pinv_</a></span>.<br/>
<span class="id"><a name="pointed_inverse.hb_instance_1523">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1643">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">Inv.Build</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>) <span class="id">f</span>.<br/>
<span class="id"><a name="pointed_inverse.hb_instance_1531">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1644">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#on">Fun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="pointed_inverse.hb_instance_1536">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="f:1645">f</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#on">SplitInjFun.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>).<br/>
<span class="id"><a name="pointed_inverse.hb_instance_1543">HB.instance</a></span> <span class="kwd">Definition</span> <span class="id">_</span> <span class="id"><a name="i:1646">i</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#on">SplitBij.on</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">i</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pinvK">pinvK</a></span> <span class="id"><a name="f:1647">f</a></span> : {<span class="kwd">in</span> <span class="id">f</span> @` <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>) <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof228')">Proof.</span></div>
<div class="proofscript" id="proof228">
 <span class="id">exact</span>: '<span class="id">funK_</span>(<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pinvKV">pinvKV</a></span> <span class="id"><a name="f:1648">f</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt; {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> <span class="id">f</span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof229')">Proof.</span></div>
<div class="proofscript" id="proof229">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#funK">funK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injpinv_surj">injpinv_surj</a></span> <span class="id"><a name="f:1649">f</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> (<span class="id">f</span> @` <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof230')">Proof.</span></div>
<div class="proofscript" id="proof230">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#surj">surj</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injpinv_image">injpinv_image</a></span> <span class="id"><a name="f:1650">f</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span> @` (<span class="id">f</span> @` <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>) = <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof231')">Proof.</span></div>
<div class="proofscript" id="proof231">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injpinv_bij">injpinv_bij</a></span> <span class="id"><a name="f:1651">f</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> (<span class="id">f</span> @` <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>) <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof232')">Proof.</span></div>
<div class="proofscript" id="proof232">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#bij">bij</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjpK">surjpK</a></span> <span class="id"><a name="B:1652">B</a></span> <span class="id"><a name="f:1653">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">B</span> <span class="id">f</span> -&gt; {<span class="kwd">in</span> <span class="id">B</span>, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#cancel">cancel</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>) <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof233')">Proof.</span></div>
<div class="proofscript" id="proof233">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span> <span class="id">BfA</span>; <span class="id">move</span>=&gt; <span class="id">x</span> /<span class="id">BfA</span> <span class="id">xfA</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#pinvK">pinvK</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjpinv_image_sub">surjpinv_image_sub</a></span> <span class="id"><a name="B:1654">B</a></span> <span class="id"><a name="f:1655">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span> @` <span class="id">B</span> `&lt;=` <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof234')">Proof.</span></div>
<div class="proofscript" id="proof234">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fsurj</span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.classical.classical_sets.html#subset_trans">subset_trans</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#image_subset">image_subset</a></span> <span class="id">fsurj</span>)). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjpinv_inj">surjpinv_inj</a></span> <span class="id"><a name="B:1656">B</a></span> <span class="id"><a name="f:1657">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">B</span> <span class="id">f</span> -&gt; {<span class="kwd">in</span> <span class="id">B</span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof235')">Proof.</span></div>
<div class="proofscript" id="proof235">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.classical_sets.html#homo_setP">homo_setP</a></span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#sub_in2">sub_in2</a></span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="surjpinv_bij">surjpinv_bij</a></span> <span class="id"><a name="B:1658">B</a></span> <span class="id"><a name="f:1659">f</a></span> (<span class="id"><a name="g:1660">g</a></span> := <span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>) : <span class="id"><a href="mathcomp.classical.functions.html#set_surj">set_surj</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">B</span> <span class="id">f</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">B</span> (<span class="id">g</span> @` <span class="id">B</span>) <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof236')">Proof.</span></div>
<div class="proofscript" id="proof236">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">f_surj</span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.classical.functions.html#surjpinv_inj">surjpinv_inj</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bijpinv_bij">bijpinv_bij</a></span> <span class="id"><a name="B:1661">B</a></span> <span class="id"><a name="f:1662">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">B</span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id">B</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof237')">Proof.</span></div>
<div class="proofscript" id="proof237">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pbij">Pbij</a></span>[{}<span class="id">f</span>-&gt;]; <span class="id">have</span> /= := '<span class="id">bij_</span>(<span class="id"><a href="mathcomp.classical.functions.html#pinv">pinv</a></span> <span class="id">f</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="pointed_inverse.pPbij">pPbij</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="B:1663">B</a></span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>} {<span class="id"><a name="f:1664">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>} (<span class="id"><a name="fbij:1665">fbij</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#set_bij">set_bij</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">B</span> <span class="id">f</span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pPbij_">pPbij_</a></span> : {<span class="id"><a name="s:1666">s</a></span> : {<span class="id">splitbij</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.f">f</a></span> = <span class="id">s</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof238')">Proof.</span></div>
<div class="proofscript" id="proof238">
<span class="id">pose</span> <span class="id">h</span> := [<span class="id">splitbij</span> <span class="id">of</span> '<span class="id">split_dflt</span> [<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.fbij">fbij</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>]]; <span class="id">have</span> : <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.f">f</a></span> = <span class="id">h</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">h</span>; <span class="id">rewrite</span> /= (<span class="id"><a href="mathcomp.classical.functions.html#image_eq">image_eq</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij.fbij">fbij</a></span>) =&gt; <span class="id">h</span>; <span class="kwd">exists</span> <span class="id">h</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPbij">pPbij</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="pointed_inverse.pPinj">pPinj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="f:1667">f</a></span> : <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.T">T</a></span> -&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>} (<span class="id"><a name="finj:1668">finj</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pPinj_">pPinj_</a></span> : {<span class="id"><a name="i:1669">i</a></span> : {<span class="id">splitinj</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPinj.f">f</a></span> = <span class="id">i</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof239')">Proof.</span></div>
<div class="proofscript" id="proof239">
<span class="kwd">by</span> <span class="id">move</span>: <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPinj.finj">finj</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.functions.html#Pinj">Pinj</a></span>[<span class="id">g</span> -&gt;]; <span class="kwd">exists</span> [<span class="id">splitinj</span> <span class="id">of</span> '<span class="id">split_dflt</span> [<span class="kwd">fun</span> <span class="id">g</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>]].<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.pPinj">pPinj</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="pointed_inverse.injpPfun">injpPfun</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="B:1670">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>} {<span class="id"><a name="f:1671">f</a></span> : {<span class="id">inj</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>}} (<span class="id"><a name="ffun:1674">ffun</a></span> : {<span class="id">homo</span> <span class="id">f</span> : <span class="id"><a name="x:1672">x</a></span> / <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> <span class="id">x</span> &gt;-&gt; <span class="id">B</span> <span class="id">x</span>}).<br/>
<span class="kwd">Let</span> <span class="id"><a name="pointed_inverse.injpPfun.g">g</a></span> : <span class="id">_</span> -&gt; <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.f">f</a></span>.<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#copy">SplitInj.copy</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span> ('<span class="id">split_dflt</span> [<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span>]).<br/>
#[<span class="id">local</span>] <span class="id">HB.instance</span> <span class="kwd">Definition</span> <span class="id">_</span> := <span class="id"><a href="mathcomp.classical.functions.html#Build">isFun.Build</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.ffun">ffun</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="injpPfun_">injpPfun_</a></span> : {<span class="id"><a name="i:1675">i</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.f">f</a></span> = <span class="id">i</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof240')">Proof.</span></div>
<div class="proofscript" id="proof240">
 <span class="kwd">by</span> <span class="kwd">exists</span> [<span class="id">splitinjfun</span> <span class="id">of</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun.g">g</a></span>]. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.injpPfun">injpPfun</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="pointed_inverse.funpPinj">funpPinj</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="B:1676">B</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.U">U</a></span>} {<span class="id"><a name="f:1677">f</a></span> : {<span class="kwd">fun</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id">B</span>}} (<span class="id"><a name="finj:1678">finj</a></span> : {<span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &amp;, <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#injective">injective</a></span> <span class="id">f</span>}).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="funpPinj_">funpPinj_</a></span> : {<span class="id"><a name="i:1679">i</a></span> : {<span class="id">splitinjfun</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.A">A</a></span> &gt;-&gt; <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj.B">B</a></span>} | <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj.f">f</a></span> = <span class="id">i</span> :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>)}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof241')">Proof.</span></div>
<div class="proofscript" id="proof241">
 <span class="kwd">by</span> <span class="id">move</span>: <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj.finj">finj</a></span> '<span class="id">funS_f</span> =&gt; /<span class="id"><a href="mathcomp.classical.functions.html#pPinj_">pPinj_</a></span>[<span class="id">g</span> -&gt;]/<span class="id"><a href="mathcomp.classical.functions.html#injpPfun_">injpPfun_</a></span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse.funpPinj">funpPinj</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#pointed_inverse">pointed_inverse</a></span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">pinv_</span>' <span class="id">dflt</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#pinv_">pinv_</a></span> <span class="id">dflt</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="pinv">pinv</a></span> := '<span class="id">pinv_point</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">pPbij_</span>' <span class="id">dflt</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#pPbij_">pPbij_</a></span> <span class="id">dflt</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="pPbij">pPbij</a></span> := '<span class="id">pPbij_point</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="selfPbij">selfPbij</a></span> := '<span class="id">pPbij_id</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">pPinj_</span>' <span class="id">dflt</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#pPinj_">pPinj_</a></span> <span class="id">dflt</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="pPinj">pPinj</a></span> := '<span class="id">pPinj_point</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">injpPfun_</span>' <span class="id">dflt</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#injpPfun_">injpPfun_</a></span> <span class="id">dflt</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="injpPfun">injpPfun</a></span> := '<span class="id">injpPfun_point</span>.<br/>
<span class="kwd">Notation</span> "''<span class="id">funpPinj_</span>' <span class="id">dflt</span>" := (<span class="id"><a href="mathcomp.classical.functions.html#funpPinj_">funpPinj_</a></span> <span class="id">dflt</span>) : <span class="id">form_scope</span>.<br/>
<span class="kwd">Notation</span> <span class="id"><a name="funpPinj">funpPinj</a></span> := '<span class="id">funpPinj_point</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="function_space">function_space</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="kwd">Import</span> <span class="id">GRing.Theory</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cst">cst</a></span> {<span class="id"><a name="T:1680">T</a></span> <span class="id"><a name="T':1681">T</a></span>' : <span class="kwd">Type</span>} (<span class="id"><a name="x:1682">x</a></span> : <span class="id">T</span>') : <span class="id">T</span> -&gt; <span class="id">T</span>' := <span class="kwd">fun</span>=&gt; <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="preimage_cst">preimage_cst</a></span> {<span class="id"><a name="aT:1683">aT</a></span> <span class="id"><a name="rT:1684">rT</a></span> : <span class="kwd">Type</span>} (<span class="id"><a name="a:1685">a</a></span> : <span class="id">aT</span>) (<span class="id"><a name="A:1686">A</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">aT</span>) :<br/>
&nbsp;&nbsp;@<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">rT</span> <span class="id">_</span> <span class="id">a</span> @^-1` <span class="id">A</span> = <span class="kwd">if</span> <span class="id">a</span> \<span class="kwd">in</span> <span class="id">A</span> <span class="kwd">then</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#setT">setT</a></span> <span class="kwd">else</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#set0">set0</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof242')">Proof.</span></div>
<div class="proofscript" id="proof242">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#seteqP">seteqP</a></span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.classical_sets.html#preimage">preimage</a></span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; *; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#mem_set">mem_set</a></span>.<br/>
<span class="kwd">by</span> <span class="id">case</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#ifPn">ifPn</a></span> =&gt; [/[!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] ?//|<span class="id">_</span>]; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#sub0set">sub0set</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Obligation</span> <span class="kwd">Tactic</span> := <span class="id">idtac</span>.<br/>
<br/>
<span class="id">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="fct_zmodMixin">fct_zmodMixin</a></span> (<span class="id"><a name="T:1687">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="M:1688">M</a></span> : <span class="id">zmodType</span>) :=<br/>
&nbsp;&nbsp;@<span class="id">ZmodMixin</span> (<span class="id">T</span> -&gt; <span class="id">M</span>) \0 (<span class="kwd">fun</span> <span class="id"><a name="f:1689">f</a></span> <span class="id"><a name="x:1690">x</a></span> =&gt; - <span class="id">f</span> <span class="id">x</span>) (<span class="kwd">fun</span> <span class="id"><a name="f:1691">f</a></span> <span class="id"><a name="g:1692">g</a></span> =&gt; <span class="id">f</span> \+ <span class="id">g</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof243')">Next Obligation.</span></div>
<div class="proofscript" id="proof243">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">addrA</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof244')">Next Obligation.</span></div>
<div class="proofscript" id="proof244">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">addrC</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof245')">Next Obligation.</span></div>
<div class="proofscript" id="proof245">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">add0r</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof246')">Next Obligation.</span></div>
<div class="proofscript" id="proof246">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">addNr</span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="fct_zmodType">fct_zmodType</a></span> <span class="id"><a name="T:1693">T</a></span> (<span class="id"><a name="M:1694">M</a></span> : <span class="id">zmodType</span>) := <span class="id">ZmodType</span> (<span class="id">T</span> -&gt; <span class="id">M</span>) (<span class="id"><a href="mathcomp.classical.functions.html#fct_zmodMixin">fct_zmodMixin</a></span> <span class="id">T</span> <span class="id">M</span>).<br/>
<br/>
<span class="id">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="fct_ringMixin">fct_ringMixin</a></span> (<span class="id"><a name="T:1695">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="M:1696">M</a></span> : <span class="id">ringType</span>) :=<br/>
&nbsp;&nbsp;@<span class="id">RingMixin</span> [<span class="id">zmodType</span> <span class="id">of</span> <span class="id">T</span> -&gt; <span class="id">M</span>] (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 1) (<span class="kwd">fun</span> <span class="id"><a name="f:1697">f</a></span> <span class="id"><a name="g:1698">g</a></span> =&gt; <span class="id">f</span> \* <span class="id">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof247')">Next Obligation.</span></div>
<div class="proofscript" id="proof247">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">mulrA</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof248')">Next Obligation.</span></div>
<div class="proofscript" id="proof248">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">mul1r</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof249')">Next Obligation.</span></div>
<div class="proofscript" id="proof249">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">mulr1</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof250')">Next Obligation.</span></div>
<div class="proofscript" id="proof250">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">mulrDl</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof251')">Next Obligation.</span></div>
<div class="proofscript" id="proof251">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">mulrDr</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof252')">Next Obligation.</span></div>
<div class="proofscript" id="proof252">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> ; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; /(<span class="id">_</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#point">point</a></span>) /<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">oner_eq0</span>.<br/>
Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="fct_ringType">fct_ringType</a></span> (<span class="id"><a name="T:1699">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="M:1700">M</a></span> : <span class="id">ringType</span>) :=<br/>
&nbsp;&nbsp;<span class="id">RingType</span> (<span class="id">T</span> -&gt; <span class="id">M</span>) (<span class="id"><a href="mathcomp.classical.functions.html#fct_ringMixin">fct_ringMixin</a></span> <span class="id">T</span> <span class="id">M</span>).<br/>
<br/>
<span class="id">Program</span> <span class="kwd">Canonical</span> <span class="id"><a name="fct_comRingType">fct_comRingType</a></span> (<span class="id"><a name="T:1701">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="M:1702">M</a></span> : <span class="id">comRingType</span>) :=<br/>
&nbsp;&nbsp;<span class="id">ComRingType</span> (<span class="id">T</span> -&gt; <span class="id">M</span>) <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof253')">Next Obligation.</span></div>
<div class="proofscript" id="proof253">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">T</span> <span class="id">M</span> <span class="id">f</span> <span class="id">g</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>/=; <span class="id">rewrite</span> <span class="id">mulrC</span>. Qed.</div>
<br/>
<span class="id">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="fct_lmodMixin">fct_lmodMixin</a></span> (<span class="id"><a name="U:1703">U</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="R:1704">R</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="V:1705">V</a></span> : <span class="id">lmodType</span> <span class="id">R</span>)<br/>
&nbsp;&nbsp;:= @<span class="id">LmodMixin</span> <span class="id">R</span> [<span class="id">zmodType</span> <span class="id">of</span> <span class="id">U</span> -&gt; <span class="id">V</span>] (<span class="kwd">fun</span> <span class="id"><a name="k:1706">k</a></span> <span class="id"><a name="f:1707">f</a></span> =&gt; <span class="id">k</span> \*: <span class="id">f</span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof254')">Next Obligation.</span></div>
<div class="proofscript" id="proof254">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">k</span> <span class="id">f</span> <span class="id">v</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span>; <span class="id">exact</span>: <span class="id">scalerA</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof255')">Next Obligation.</span></div>
<div class="proofscript" id="proof255">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">f</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">scale1r</span>. Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof256')">Next Obligation.</span></div>
<div class="proofscript" id="proof256">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">scalerDr</span>.<br/>
Qed.</div>
<div><span class="toggleproof" onclick="toggleDisplay('proof257')">Next Obligation.</span></div>
<div class="proofscript" id="proof257">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">U</span> <span class="id">R</span> <span class="id">V</span> <span class="id">f</span> <span class="id">g</span> <span class="id">h</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span> /=; <span class="id">rewrite</span> <span class="id">scalerDl</span>.<br/>
Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="fct_lmodType">fct_lmodType</a></span> <span class="id"><a name="U:1708">U</a></span> (<span class="id"><a name="R:1709">R</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="V:1710">V</a></span> : <span class="id">lmodType</span> <span class="id">R</span>) :=<br/>
&nbsp;&nbsp;<span class="id">LmodType</span> <span class="id">_</span> (<span class="id">U</span> -&gt; <span class="id">V</span>) (<span class="id"><a href="mathcomp.classical.functions.html#fct_lmodMixin">fct_lmodMixin</a></span> <span class="id">U</span> <span class="id">V</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fct_sumE">fct_sumE</a></span> (<span class="id"><a name="I:1711">I</a></span> <span class="id"><a name="T:1712">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="M:1713">M</a></span> : <span class="id">zmodType</span>) <span class="id"><a name="r:1714">r</a></span> (<span class="id"><a name="P:1715">P</a></span> : {<span class="id">pred</span> <span class="id">I</span>}) (<span class="id"><a name="f:1716">f</a></span> : <span class="id">I</span> -&gt; <span class="id">T</span> -&gt; <span class="id">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="x:1717">x</a></span> : <span class="id">T</span>) :<br/>
&nbsp;&nbsp;(\<span class="id">sum_</span>(<span class="id"><a name="i:1718">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:1721">i</a></span> &lt;- <span class="id">r</span> | <span class="id">P</span> <span class="id">i</span>) <span class="id">f</span> <span class="id">i</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof258')">Proof.</span></div>
<div class="proofscript" id="proof258">
 <span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_rec2</span>: <span class="id">_</span> =&gt; //= <span class="id">i</span> <span class="id">y</span> ? <span class="id">Pi</span> &lt;-. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#function_space">function_space</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="function_space_lemmas">function_space_lemmas</a></span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="kwd">Import</span> <span class="id">GRing.Theory</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="addrfctE">addrfctE</a></span> (<span class="id"><a name="T:1724">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="K:1725">K</a></span> : <span class="id">zmodType</span>) (<span class="id"><a name="f:1726">f</a></span> <span class="id"><a name="g:1727">g</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> + <span class="id">g</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:1728">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof259')">Proof.</span></div>
<div class="proofscript" id="proof259">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sumrfctE">sumrfctE</a></span> (<span class="id"><a name="T:1729">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="K:1730">K</a></span> : <span class="id">zmodType</span>) (<span class="id"><a name="s:1731">s</a></span> : <span class="id">seq</span> (<span class="id">T</span> -&gt; <span class="id">K</span>)) :<br/>
&nbsp;&nbsp;\<span class="id">sum_</span>(<span class="id"><a name="f:1732">f</a></span> &lt;- <span class="id">s</span>) <span class="id">f</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:1735">x</a></span> =&gt; \<span class="id">sum_</span>(<span class="id"><a name="f:1736">f</a></span> &lt;- <span class="id">s</span>) <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof260')">Proof.</span></div>
<div class="proofscript" id="proof260">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span> =&gt; <span class="id">x</span>;<span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; // <span class="id">_</span> <span class="id">a</span> <span class="id">_</span> <span class="id">b</span> &lt;- &lt;-. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="opprfctE">opprfctE</a></span> (<span class="id"><a name="T:1739">T</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="K:1740">K</a></span> : <span class="id">zmodType</span>) (<span class="id"><a name="f:1741">f</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) : - <span class="id">f</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:1742">x</a></span> =&gt; - <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof261')">Proof.</span></div>
<div class="proofscript" id="proof261">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mulrfctE">mulrfctE</a></span> (<span class="id"><a name="T:1743">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:1744">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="f:1745">f</a></span> <span class="id"><a name="g:1746">g</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> * <span class="id">g</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:1747">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> * <span class="id">g</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof262')">Proof.</span></div>
<div class="proofscript" id="proof262">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="scalrfctE">scalrfctE</a></span> (<span class="id"><a name="T:1748">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:1749">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="L:1750">L</a></span> : <span class="id">lmodType</span> <span class="id">K</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="k:1751">k</a></span> (<span class="id"><a name="f:1752">f</a></span> : <span class="id">T</span> -&gt; <span class="id">L</span>) :<br/>
&nbsp;&nbsp;<span class="id">k</span> *: <span class="id">f</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:1753">x</a></span> : <span class="id">T</span> =&gt; <span class="id">k</span> *: <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof263')">Proof.</span></div>
<div class="proofscript" id="proof263">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cstE">cstE</a></span> (<span class="id"><a name="T:1754">T</a></span> <span class="id"><a name="T':1755">T</a></span>': <span class="kwd">Type</span>) (<span class="id"><a name="x:1756">x</a></span> : <span class="id">T</span>) : <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">x</span> = <span class="kwd">fun</span> <span class="id">_</span>: <span class="id">T</span>' =&gt; <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof264')">Proof.</span></div>
<div class="proofscript" id="proof264">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exprfctE">exprfctE</a></span> (<span class="id"><a name="T:1757">T</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#Pointed.Exports.pointedType">pointedType</a></span>) (<span class="id"><a name="K:1758">K</a></span> : <span class="id">ringType</span>) (<span class="id"><a name="f:1759">f</a></span> : <span class="id">T</span> -&gt; <span class="id">K</span>) <span class="id"><a name="n:1760">n</a></span> :<br/>
&nbsp;&nbsp;<span class="id">f</span> ^+ <span class="id">n</span> = (<span class="kwd">fun</span> <span class="id"><a name="x:1761">x</a></span> =&gt; <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof265')">Proof.</span></div>
<div class="proofscript" id="proof265">
 <span class="kwd">by</span> <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">h</span>]; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; ?; <span class="id">rewrite</span> ?<span class="id">expr0</span> ?<span class="id">exprS</span> ?<span class="id">h</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compE">compE</a></span> (<span class="id"><a name="T1:1762">T1</a></span> <span class="id"><a name="T2:1763">T2</a></span> <span class="id"><a name="T3:1764">T3</a></span> : <span class="kwd">Type</span>) (<span class="id"><a name="f:1765">f</a></span> : <span class="id">T1</span> -&gt; <span class="id">T2</span>) (<span class="id"><a name="g:1766">g</a></span> : <span class="id">T2</span> -&gt; <span class="id">T3</span>) :<br/>
&nbsp;&nbsp;<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span> = <span class="kwd">fun</span> <span class="id"><a name="x:1767">x</a></span> =&gt; <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof266')">Proof.</span></div>
<div class="proofscript" id="proof266">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fctE">fctE</a></span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.functions.html#cstE">cstE</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#compE">compE</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#opprfctE">opprfctE</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#addrfctE">addrfctE</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#mulrfctE">mulrfctE</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#scalrfctE">scalrfctE</a></span>, <span class="id"><a href="mathcomp.classical.functions.html#exprfctE">exprfctE</a></span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.classical.functions.html#function_space_lemmas">function_space_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inv_funK">inv_funK</a></span> <span class="id"><a name="T:1768">T</a></span> (<span class="id"><a name="R:1769">R</a></span> : <span class="id">unitRingType</span>) (<span class="id"><a name="f:1770">f</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) : <span class="id">f</span>\^-1\^-1%<span class="id">R</span> = <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof267')">Proof.</span></div>
<div class="proofscript" id="proof267">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#funeqP">funeqP</a></span> =&gt; <span class="id">x</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#inv_fun">inv_fun</a></span>/= <span class="id">GRing.invrK</span>. Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
