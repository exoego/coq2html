
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.derive</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.derive" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>

<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init('proofscript')">
<h1 class="title">Module mathcomp.analysis.derive</h1>
<div class="coq">
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">all_ssreflect</span> <span class="id">ssralg</span> <span class="id">ssrnum</span> <span class="id">matrix</span> <span class="id">interval</span>.<br/>
<span class="kwd">From</span> <span class="id">mathcomp</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html">mathcomp_extra</a></span> <span class="id"><a href="mathcomp.classical.boolp.html">boolp</a></span> <span class="id"><a href="mathcomp.classical.classical_sets.html">classical_sets</a></span> <span class="id"><a href="mathcomp.classical.functions.html">functions</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.reals.html">reals</a></span> <span class="id"><a href="mathcomp.analysis.signed.html">signed</a></span> <span class="id"><a href="mathcomp.analysis.topology.html">topology</a></span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html">prodnormedzmodule</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html">normedtype</a></span> <span class="id"><a href="mathcomp.analysis.landau.html">landau</a></span> <span class="id"><a href="mathcomp.analysis.forms.html">forms</a></span>.<br/>
<br/>
<div class="ssrdoc markdown">
# Differentiation                                                          
                                                                           
This file provides a theory of differentiation. It includes the standard   
rules of differentiation (differential of a sum, of a product, of          
exponentiation, of the inverse, etc.) as well as standard theorems (the    
Extreme Value Theorem, Rolle's theorem, the Mean Value Theorem).           
                                                                           
Parsable notations (in all of the following, f is not supposed to be       
differentiable):                                                           
```                                                                        
              'd f x == the differential of a function f at a point x      
  differentiable f x == the function f is differentiable at a point x      
              'J f x == the Jacobian of f at a point x                     
              'D_v f == the directional derivative of f along v            
     derivable f a v == the function f is derivable at a with direction v  
                        The type of f is V -&gt; W with V W : normedModType R 
                        and R : numFieldType                               
              f^`()  == the derivative of f of domain R                    
              f^`(n) == the nth derivative of f of domain R                
```                                                                        
</div>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="kwd">Arguments</span>.<br/>
<span class="id">Unset</span> <span class="id">Strict</span> <span class="kwd">Implicit</span>.<br/>
<span class="id">Unset</span> <span class="id">Printing</span> <span class="kwd">Implicit</span> <span class="id">Defensive</span>.<br/>
<span class="kwd">Import</span> <span class="id">Order.TTheory</span> <span class="id">GRing.Theory</span> <span class="id">Num.Theory</span>.<br/>
<span class="kwd">Import</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#numFieldNormedType.Exports">numFieldNormedType.Exports</a></span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">ring_scope</span>.<br/>
<span class="id">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">classical_set_scope</span>.<br/>
<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">d</span>' <span class="id">f</span> <span class="id">x</span>" (<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">f</span> <span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">x</span> <span class="kwd">at</span> <span class="id">level</span> 0,<br/>
&nbsp;&nbsp;<span class="id">format</span> "''<span class="id">d</span>'  <span class="id">f</span>  <span class="id">x</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "'<span class="id">is_diff</span>' <span class="id">F</span>" (<span class="kwd">at</span> <span class="id">level</span> 0, <span class="id">F</span> <span class="kwd">at</span> <span class="id">level</span> 0,<br/>
&nbsp;&nbsp;<span class="id">format</span> "'<span class="id">is_diff</span>'  <span class="id">F</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">J</span>' <span class="id">f</span> <span class="id">p</span>" (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">p</span>, <span class="id">f</span> <span class="kwd">at</span> <span class="id">next</span> <span class="id">level</span>,<br/>
&nbsp;&nbsp;<span class="id">format</span> "''<span class="id">J</span>'  <span class="id">f</span>  <span class="id">p</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">D_</span>' <span class="id">v</span> <span class="id">f</span>" (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">v</span>, <span class="id">f</span> <span class="kwd">at</span> <span class="id">next</span> <span class="id">level</span>,<br/>
&nbsp;&nbsp;<span class="id">format</span> "''<span class="id">D_</span>' <span class="id">v</span>  <span class="id">f</span>").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "''<span class="id">D_</span>' <span class="id">v</span> <span class="id">f</span> <span class="id">c</span>" (<span class="kwd">at</span> <span class="id">level</span> 10, <span class="id">v</span>, <span class="id">f</span> <span class="kwd">at</span> <span class="id">next</span> <span class="id">level</span>,<br/>
&nbsp;&nbsp;<span class="id">format</span> "''<span class="id">D_</span>' <span class="id">v</span>  <span class="id">f</span>  <span class="id">c</span>"). <br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> ^` ()" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">format</span> "<span class="id">f</span> ^` ()").<br/>
<span class="kwd">Reserved</span> <span class="kwd">Notation</span> "<span class="id">f</span> ^` ( <span class="id">n</span> )" (<span class="kwd">at</span> <span class="id">level</span> 8, <span class="id">format</span> "<span class="id">f</span> ^` ( <span class="id">n</span> )").<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Differential">Differential</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="K:1">K</a></span> : <span class="id">numDomainType</span>} {<span class="id"><a name="V:2">V</a></span> <span class="id"><a name="W:3">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">K</span>}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="diff">diff</a></span> (<span class="id"><a name="F:4">F</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id">_</span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>)) <span class="id">F</span>) (<span class="id"><a name="f:5">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.classical.classical_sets.html#get">get</a></span> (<span class="kwd">fun</span> (<span class="id"><a name="df:6">df</a></span> : {<span class="id">linear</span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>}) =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">df</span> /\ <span class="kwd">forall</span> <span class="id"><a name="x:7">x</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> = <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>) + <span class="id">df</span> (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>) +<span class="id">o_</span>(<span class="id"><a name="x:8">x</a></span> \<span class="id">near</span> <span class="id">F</span>) (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>))).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "''<span class="id">d</span>' <span class="id">f</span> <span class="id">x</span>" := (@<span class="id"><a href="mathcomp.analysis.derive.html#diff">diff</a></span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">x</span>]) <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="diff_key">diff_key</a></span> : <span class="kwd">forall</span> <span class="id"><a name="T:13">T</a></span>, <span class="id">T</span> -&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Datatypes.html#unit">unit</a></span><br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof1')">Proof.</span></div>
<div class="proofscript" id="proof1">
 <span class="kwd">by</span> <span class="id">constructor</span>. Qed.</div>
<span class="kwd">CoInductive</span> <span class="id"><a name="differentiable_def">differentiable_def</a></span> (<span class="id"><a name="f:14">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) (<span class="id"><a name="x:15">x</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="phF:16">phF</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>)) <span class="id">x</span>) : <span class="kwd">Prop</span> := <span class="id"><a name="DifferentiableDef">DifferentiableDef</a></span> <span class="id">of</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>) /\<br/>
&nbsp;&nbsp;<span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">x</span>)) + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#center">center</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">x</span>) +<span class="id">o_x</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#center">center</a></span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">x</span>))).<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">F</span> := (@<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_def">differentiable_def</a></span> <span class="id">f</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">F</span>])).<br/>
<br/>
<span class="kwd">Class</span> <span class="id"><a name="is_diff_def">is_diff_def</a></span> (<span class="id"><a name="x:19">x</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id"><a name="Fph:20">Fph</a></span> : <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#phantom">phantom</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>)) <span class="id">x</span>) (<span class="id"><a name="f:21">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="df:22">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) := <span class="id">DiffDef</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ex_diff">ex_diff</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="diff_val">diff_val</a></span> : '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> = <span class="id">df</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>)<br/>
&nbsp;&nbsp;}.<br/>
<span class="kwd">Hint</span> <span class="id">Mode</span> <span class="id"><a href="mathcomp.analysis.derive.html#is_diff_def">is_diff_def</a></span> - - ! - : <span class="id">typeclass_instances</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffP">diffP</a></span> (<span class="id"><a name="F:26">F</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id"><a name="f:27">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">F</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">F</span>) /\<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:28">x</a></span>, <span class="id">f</span> <span class="id">x</span> = <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>) + '<span class="id">d</span> <span class="id">f</span> <span class="id">F</span> (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>) +<span class="id">o_</span>(<span class="id"><a name="x:29">x</a></span> \<span class="id">near</span> <span class="id">F</span>) (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof2')">Proof.</span></div>
<div class="proofscript" id="proof2">
 <span class="kwd">by</span> <span class="id">split</span>=&gt; [[] |]; <span class="id">last</span> <span class="id">constructor</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_continuous">diff_continuous</a></span> (<span class="id"><a name="x:34">x</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id"><a name="f:35">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof3')">Proof.</span></div>
<div class="proofscript" id="proof3">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diffP">diffP</a></span> []. Qed.</div>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">_</span>) =&gt; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_continuous">diff_continuous</a></span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffE">diffE</a></span> (<span class="id"><a name="F:36">F</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id"><a name="f:37">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">F</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:38">x</a></span>, <span class="id">f</span> <span class="id">x</span> = <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>) + '<span class="id">d</span> <span class="id">f</span> <span class="id">F</span> (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>) +<span class="id">o_</span>(<span class="id"><a name="x:39">x</a></span> \<span class="id">near</span> <span class="id">F</span>) (<span class="id">x</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof4')">Proof.</span></div>
<div class="proofscript" id="proof4">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diffP">diffP</a></span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="littleo_center0">littleo_center0</a></span> (<span class="id"><a name="x:44">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id"><a name="f:45">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.W">W</a></span>) (<span class="id"><a name="e:46">e</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) :<br/>
&nbsp;&nbsp;[<span class="id">o_x</span> <span class="id">e</span> <span class="id">of</span> <span class="id">f</span>] = [<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#Differential.V">V</a></span>) (<span class="id">e</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">of</span> <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>] \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#center">center</a></span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof5')">Proof.</span></div>
<div class="proofscript" id="proof5">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.landau.html#the_littleo">the_littleo</a></span> /<span class="id">insubd</span> /=; <span class="id">have</span> [<span class="id">g</span> /= <span class="id">_</span> &lt;-{<span class="id">f</span>}|/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> <span class="id">Nfe</span>] /= := <span class="id">insubP</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">insubT</span> //= ?<span class="id"><a href="mathcomp.analysis.normedtype.html#comp_shiftK">comp_shiftK</a></span> //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [\<span class="kwd">forall</span> <span class="id"><a name="x:47">x</a></span> \<span class="id">near</span> <span class="id">_</span>, <span class="id">_</span> &lt;= <span class="id">_</span>](<span class="id"><a href="mathcomp.analysis.normedtype.html#near_shift">near_shift</a></span> <span class="id">x</span>) <span class="id">sub0r</span>; <span class="id">near</span>=&gt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">subrK</span>; <span class="id">near</span>: <span class="id">y</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span> := <span class="id"><a href="mathcomp.analysis.landau.html#littleo_eqo">littleo_eqo</a></span> <span class="id">g</span>; <span class="id">apply</span>.<br/>
<span class="id">rewrite</span> <span class="id">insubF</span> //; <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.boolp.html#asboolP">asboolP</a></span> =&gt; <span class="id">fe</span>; <span class="id">apply</span>: <span class="id">Nfe</span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">eps</span>].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [\<span class="kwd">forall</span> <span class="id"><a name="x:50">x</a></span> \<span class="id">near</span> <span class="id">_</span>, <span class="id">_</span> &lt;= <span class="id">_</span>](<span class="id"><a href="mathcomp.analysis.normedtype.html#near_shift">near_shift</a></span> 0) <span class="id">subr0</span>; <span class="id">apply</span>: <span class="id">fe</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential">Differential</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Differential_numFieldType">Differential_numFieldType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="K:53">K</a></span> : <span class="id">numFieldType</span> } {<span class="id"><a name="V:54">V</a></span> <span class="id"><a name="W:55">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">K</span>}.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">F</span> := (@<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_def">differentiable_def</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">F</span>])).<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "''<span class="id">d</span>' <span class="id">f</span> <span class="id">x</span>" := (@<span class="id"><a href="mathcomp.analysis.derive.html#diff">diff</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">x</span>]) <span class="id">f</span>).<br/>
<span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">_</span>) =&gt; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_continuous">diff_continuous</a></span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_locallyxP">diff_locallyxP</a></span> (<span class="id"><a name="x:56">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) (<span class="id"><a name="f:57">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> &lt;-&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>) /\<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="h:58">h</a></span>, <span class="id">f</span> (<span class="id">h</span> + <span class="id">x</span>) = <span class="id">f</span> <span class="id">x</span> + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">h</span> +<span class="id">o_</span>(<span class="id"><a name="h:59">h</a></span> \<span class="id">near</span> 0 : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof6')">Proof.</span></div>
<div class="proofscript" id="proof6">
<span class="id">split</span>=&gt; [<span class="id">dxf</span>|[<span class="id">dfc</span> <span class="id">dxf</span>]].<br/>
&nbsp;&nbsp;<span class="id">split</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoEx">eqaddoEx</a></span> =&gt; <span class="id">h</span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.derive.html#diffE">diffE</a></span> -&gt; := <span class="id">dxf</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_id">lim_id</a></span> // <span class="id">addrK</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#littleo_center0">littleo_center0</a></span> /= <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">congr</span> ('<span class="id">o</span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">k</span> /=; <span class="id">rewrite</span> <span class="id">addrK</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diffP">diffP</a></span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoEx">eqaddoEx</a></span>; <span class="id">move</span>=&gt; <span class="id">y</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_id">lim_id</a></span> // -[<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id">subrK</span> <span class="id">x</span> <span class="id">y</span>) <span class="id">dxf</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.normedtype.html#comp_centerK">comp_centerK</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>) -[<span class="id">X</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.analysis.landau.html#the_littleo">the_littleo</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">X</span>](<span class="id"><a href="mathcomp.analysis.normedtype.html#comp_centerK">comp_centerK</a></span> <span class="id">x</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id">_</span> (<span class="id">y</span> - <span class="id">x</span>)]/((<span class="id">_</span> \<span class="id">o</span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#center">center</a></span> <span class="id">x</span>)) <span class="id">y</span>) -<span class="id"><a href="mathcomp.analysis.derive.html#littleo_center0">littleo_center0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_locallyx">diff_locallyx</a></span> (<span class="id"><a name="x:65">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) (<span class="id"><a name="f:66">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.W">W</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="h:67">h</a></span>, <span class="id">f</span> (<span class="id">h</span> + <span class="id">x</span>) = <span class="id">f</span> <span class="id">x</span> + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">h</span> +<span class="id">o_</span>(<span class="id"><a name="h:68">h</a></span> \<span class="id">near</span> 0 : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof7')">Proof.</span></div>
<div class="proofscript" id="proof7">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyxP">diff_locallyxP</a></span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_locallyxC">diff_locallyxC</a></span> (<span class="id"><a name="x:73">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) (<span class="id"><a name="f:74">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.W">W</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="h:75">h</a></span>, <span class="id">f</span> (<span class="id">x</span> + <span class="id">h</span>) = <span class="id">f</span> <span class="id">x</span> + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">h</span> +<span class="id">o_</span>(<span class="id"><a name="h:76">h</a></span> \<span class="id">near</span> 0 : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof8')">Proof.</span></div>
<div class="proofscript" id="proof8">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoEx">eqaddoEx</a></span> =&gt; <span class="id">h</span>; <span class="id">rewrite</span> [<span class="id">x</span> + <span class="id">h</span>]<span class="id">addrC</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_locallyP">diff_locallyP</a></span> (<span class="id"><a name="x:81">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) (<span class="id"><a name="f:82">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> &lt;-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>) /\ (<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof9')">Proof.</span></div>
<div class="proofscript" id="proof9">
 <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.Init.Logic.html#iff_trans">iff_trans</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyxP">diff_locallyxP</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_locally">diff_locally</a></span> (<span class="id"><a name="x:83">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) (<span class="id"><a name="f:84">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.W">W</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType.V">V</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof10')">Proof.</span></div>
<div class="proofscript" id="proof10">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span> []. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#Differential_numFieldType">Differential_numFieldType</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "''<span class="id">d</span>' <span class="id">f</span> <span class="id">F</span>" := (@<span class="id"><a href="mathcomp.analysis.derive.html#diff">diff</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">F</span>]) <span class="id">f</span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">F</span> := (@<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_def">differentiable_def</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id">_</span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">F</span>])).<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="id">is_diff</span>' <span class="id">F</span>" := (<span class="id"><a href="mathcomp.analysis.derive.html#is_diff_def">is_diff_def</a></span> (<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssreflect.html#Phantom">Phantom</a></span> <span class="id">_</span> [<span class="id">filter</span> <span class="id">of</span> <span class="id">F</span>])).<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span>[<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#ex_diff">ex_diff</a></span>] : <span class="id">core</span>.<br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 ({<span class="kwd">for</span> <span class="id">_</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">_</span>}) =&gt; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_continuous">diff_continuous</a></span> : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableP">differentiableP</a></span> (<span class="id"><a name="R:85">R</a></span> : <span class="id">numDomainType</span>) (<span class="id"><a name="V:86">V</a></span> <span class="id"><a name="W:87">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>) (<span class="id"><a name="f:88">f</a></span> : <span class="id">V</span> -&gt; <span class="id">W</span>) <span class="id"><a name="x:89">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof11')">Proof.</span></div>
<div class="proofscript" id="proof11">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="jacobian">jacobian</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="jacobian">jacobian</a></span> <span class="id"><a name="n:90">n</a></span> <span class="id"><a name="m:91">m</a></span> (<span class="id"><a name="R:92">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="f:93">f</a></span> : '<span class="id">rV</span>[<span class="id">R</span>]<span class="id">_n</span>.+1 -&gt; '<span class="id">rV</span>[<span class="id">R</span>]<span class="id">_m</span>.+1) <span class="id"><a name="p:94">p</a></span> :=<br/>
&nbsp;&nbsp;<span class="id">lin1_mx</span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">p</span>).<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#jacobian">jacobian</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "''<span class="id">J</span>' <span class="id">f</span> <span class="id">p</span>" := (<span class="id"><a href="mathcomp.analysis.derive.html#jacobian">jacobian</a></span> <span class="id">f</span> <span class="id">p</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR">DifferentialR</a></span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:95">R</a></span> : <span class="id">numFieldType</span>} {<span class="id"><a name="V:96">V</a></span> <span class="id"><a name="W:97">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_continuous">differentiable_continuous</a></span> (<span class="id"><a name="x:98">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span>) (<span class="id"><a name="f:99">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; {<span class="kwd">for</span> <span class="id">x</span>, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof12')">Proof.</span></div>
<div class="proofscript" id="proof12">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span> [<span class="id">dfc</span>]; <span class="id">rewrite</span> -<span class="id">addrA</span>.<br/>
<span class="id">rewrite</span> (<span class="id"><a href="mathcomp.analysis.landau.html#littleo_bigO_eqo">littleo_bigO_eqo</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (1 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>))); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqOP">eqOP</a></span>; <span class="id">near</span>=&gt; <span class="id">k</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> [`|1|]<span class="id">normr1</span> <span class="id">mulr1</span>; <span class="id">near</span> <span class="id">do</span> <span class="kwd">by</span> [].<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.landau.html#addfo">addfo</a></span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.landau.html#eqolim">eqolim</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_comp_shift">cvg_comp_shift</a></span> <span class="id">add0r</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqolim0P">eqolim0P</a></span>; <span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> (<span class="id">dfc</span> 0)); <span class="id">rewrite</span> <span class="id">linear0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR.littleo_lemmas">littleo_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="DifferentialR.littleo_lemmas.X">X</a></span> <span class="id"><a name="DifferentialR.littleo_lemmas.Y">Y</a></span> <span class="id"><a name="DifferentialR.littleo_lemmas.Z">Z</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="normm_littleo">normm_littleo</a></span> <span class="id"><a name="x:103">x</a></span> (<span class="id"><a name="f:104">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.Y">Y</a></span>) : `| [<span class="id">o_</span>(<span class="id"><a name="x:105">x</a></span> \<span class="id">near</span> <span class="id">x</span>) (1 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>) <span class="id">of</span> <span class="id">f</span> <span class="id">x</span>]| = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof13')">Proof.</span></div>
<div class="proofscript" id="proof13">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> /=; <span class="id">have</span> [<span class="id">e</span> /(<span class="id">_</span> (`|<span class="id">e</span> <span class="id">x</span>|/2) <span class="id">_</span>)/<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span> /=] := <span class="id"><a href="mathcomp.analysis.landau.html#littleo">littleo</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">pmulr_lgt0</span> // [`|1|]<span class="id">normr1</span> <span class="id">mulr1</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leLHS">leLHS</a></span>]<span class="id">splitr</span> <span class="id">ger_addr</span> <span class="id">pmulr_lle0</span> //.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#implyP">implyP</a></span>; <span class="id">case</span> : <span class="id">real_ltgtP</span>; <span class="id">rewrite</span> ?<span class="id">realE</span> ?<span class="id">normrE</span> //= <span class="id">lexx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="littleo_lim0">littleo_lim0</a></span> (<span class="id"><a name="f:109">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.X">X</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.Y">Y</a></span>) (<span class="id"><a name="h:110">h</a></span> : <span class="id">_</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.Z">Z</a></span>) (<span class="id"><a name="x:111">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.X">X</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> @ <span class="id">x</span> --&gt; (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas.Y">Y</a></span>) -&gt; [<span class="id">o_x</span> <span class="id">f</span> <span class="id">of</span> <span class="id">h</span>] <span class="id">x</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof14')">Proof.</span></div>
<div class="proofscript" id="proof14">
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqolim0P">eqolim0P</a></span> =&gt; -&gt;; <span class="id">have</span> [<span class="id">k</span> /(<span class="id">_</span> <span class="id">_</span> [<span class="id">gt0</span> <span class="id">of</span> 1 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>])/=] := <span class="id"><a href="mathcomp.analysis.landau.html#littleo">littleo</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_singleton">nbhs_singleton</a></span>; <span class="id">rewrite</span> <span class="id">mul1r</span> <span class="id"><a href="mathcomp.analysis.derive.html#normm_littleo">normm_littleo</a></span> <span class="id">normr_le0</span> =&gt; /<span class="id">eqP</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.littleo_lemmas">littleo_lemmas</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR.diff_locally_converse_tentative">diff_locally_converse_tentative</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_locally_converse_part1">diff_locally_converse_part1</a></span> (<span class="id"><a name="f:112">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>) (<span class="id"><a name="a:113">a</a></span> <span class="id"><a name="b:114">b</a></span> <span class="id"><a name="x:115">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span> + <span class="id">b</span> *: <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span> +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> -&gt; <span class="id">f</span> <span class="id">x</span> = <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof15')">Proof.</span></div>
<div class="proofscript" id="proof15">
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; /(<span class="id">_</span> 0) /=; <span class="id">rewrite</span> <span class="id">add0r</span> =&gt; -&gt;.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/(<span class="id">_</span> 0 + <span class="id">_</span> 0 + <span class="id">_</span> 0) /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">a</span> + <span class="id">X</span>]<span class="id">scaler0</span> <span class="id"><a href="mathcomp.analysis.derive.html#littleo_lim0">littleo_lim0</a></span> ?<span class="id">addr0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.diff_locally_converse_tentative">diff_locally_converse_tentative</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="derive">derive</a></span> (<span class="id"><a name="f:117">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) <span class="id"><a name="a:118">a</a></span> <span class="id"><a name="v:119">v</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="kwd">fun</span> <span class="id"><a name="h:120">h</a></span> =&gt; <span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">a</span>) (<span class="id">h</span> *: <span class="id">v</span>) - <span class="id">f</span> <span class="id">a</span>)) @ 0^').<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "''<span class="id">D_</span>' <span class="id">v</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">f</span> ^~ <span class="id">v</span>).<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "''<span class="id">D_</span>' <span class="id">v</span> <span class="id">f</span> <span class="id">c</span>" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">f</span> <span class="id">c</span> <span class="id">v</span>). <br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="derivable">derivable</a></span> (<span class="id"><a name="f:122">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) <span class="id"><a name="a:123">a</a></span> <span class="id"><a name="v:124">v</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> ((<span class="kwd">fun</span> <span class="id"><a name="h:125">h</a></span> =&gt; <span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">a</span>) (<span class="id">h</span> *: <span class="id">v</span>) - <span class="id">f</span> <span class="id">a</span>)) @ 0^').<br/>
<br/>
<span class="kwd">Class</span> <span class="id"><a name="is_derive">is_derive</a></span> (<span class="id"><a name="a:128">a</a></span> <span class="id"><a name="v:129">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span>) (<span class="id"><a name="f:130">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) (<span class="id"><a name="df:131">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) := <span class="id">DeriveDef</span> {<br/>
&nbsp;&nbsp;<span class="id"><a name="ex_derive">ex_derive</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="derive_val">derive_val</a></span> : '<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span> = <span class="id">df</span><br/>
}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_nbhs">derivable_nbhs</a></span> (<span class="id"><a name="f:135">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) <span class="id"><a name="a:136">a</a></span> <span class="id"><a name="v:137">v</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:138">h</a></span> =&gt; (<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">a</span>) (<span class="id">h</span> *: <span class="id">v</span>)) = (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">a</span>)) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:139">h</a></span> =&gt; <span class="id">h</span> *: ('<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span>)) +<span class="id">o_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (0 :<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof16')">Proof.</span></div>
<div class="proofscript" id="proof16">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoP">eqaddoP</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_nearE">nbhs_nearE</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#NbhsNorm.nbhs_simpl">nbhs_simpl</a></span> /= <span class="id"><a href="mathcomp.analysis.topology.html#dnbhsE">dnbhsE</a></span>; <span class="id">split</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#at_point">at_point</a></span> <span class="id">opprD</span> -![(<span class="id">_</span> + <span class="id">_</span> : <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">_</span>]/(<span class="id">_</span> + <span class="id">_</span>) <span class="id">scale0r</span> <span class="id">add0r</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrA</span> <span class="id">subrr</span> <span class="id">add0r</span> <span class="id">normrN</span> <span class="id">scale0r</span> !<span class="id">normr0</span> <span class="id">mulr0</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.landau.html#eqolimP">eqolimP</a></span> := <span class="id">df</span>; <span class="id">rewrite</span> -[<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">_</span>]/(<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoP">eqaddoP</a></span> /(<span class="id">_</span> <span class="id">e</span>%:<span class="id">num</span>) /(<span class="id">_</span> [<span class="id">gt0</span> <span class="id">of</span> <span class="id">e</span>%:<span class="id">num</span>]).<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>; <span class="id">rewrite</span> /= !<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span> <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span>; <span class="id">near</span>=&gt; <span class="id">h</span> =&gt; <span class="id">hN0</span>.<br/>
<span class="id">rewrite</span> /= <span class="id">opprD</span> -![(<span class="id">_</span> + <span class="id">_</span> : <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">_</span>]/(<span class="id">_</span> + <span class="id">_</span>) -![(- <span class="id">_</span> : <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">_</span>]/(- <span class="id">_</span>).<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> /= [`|1|]<span class="id">normr1</span> <span class="id">mulr1</span> =&gt; <span class="id">dfv</span>.<br/>
<span class="id">rewrite</span> <span class="id">addrA</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> + <span class="id">_</span>]<span class="id">scale1r</span> -(@<span class="id">mulVf</span> <span class="id">_</span> <span class="id">h</span>) //.<br/>
<span class="id">rewrite</span> <span class="id">mulrC</span> -<span class="id">scalerA</span> -<span class="id">scalerBr</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id">ler_pdivl_mull</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_gt0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrCA</span> <span class="id">mulVf</span> ?<span class="id">mulr1</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_eq0</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_nbhsP">derivable_nbhsP</a></span> (<span class="id"><a name="f:143">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) <span class="id"><a name="a:144">a</a></span> <span class="id"><a name="v:145">v</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span> &lt;-&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:146">h</a></span> =&gt; (<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">a</span>) (<span class="id">h</span> *: <span class="id">v</span>)) = (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">a</span>)) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:147">h</a></span> =&gt; <span class="id">h</span> *: ('<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span>)) +<span class="id">o_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>)) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof17')">Proof.</span></div>
<div class="proofscript" id="proof17">
<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivable_nbhs">derivable_nbhs</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> ('<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span>).<br/>
<span class="id">apply</span>/(@<span class="id"><a href="mathcomp.analysis.landau.html#eqolimP">eqolimP</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#dnbhs_filter_on">dnbhs_filter_on</a></span> <span class="id">_</span>))/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoP">eqaddoP</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoP">eqaddoP</a></span> /(<span class="id">_</span> <span class="id">e</span>%:<span class="id">num</span>) /(<span class="id">_</span> [<span class="id">gt0</span> <span class="id">of</span> <span class="id">e</span>%:<span class="id">num</span>]) := <span class="id">df</span>.<br/>
<span class="id">rewrite</span> /= !(<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>, <span class="id"><a href="mathcomp.analysis.topology.html#near_withinE">near_withinE</a></span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>; <span class="id">near</span>=&gt; <span class="id">h</span>.<br/>
<span class="id">rewrite</span> /= <span class="id">opprD</span> -![(<span class="id">_</span> + <span class="id">_</span> : <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">_</span>]/(<span class="id">_</span> + <span class="id">_</span>) -![(- <span class="id">_</span> : <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">_</span>]/(- <span class="id">_</span>).<br/>
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> /= [`|1|]<span class="id">normr1</span> <span class="id">mulr1</span> <span class="id">addrA</span> =&gt; <span class="id">dfv</span> <span class="id">hN0</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> - <span class="id">X</span>]<span class="id">scale1r</span> -(@<span class="id">mulVf</span> <span class="id">_</span> <span class="id">h</span>) //.<br/>
<span class="id">rewrite</span> -<span class="id">scalerA</span> -<span class="id">scalerBr</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> <span class="id">normfV</span> <span class="id">ler_pdivr_mull</span> ?<span class="id">normr_gt0</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrC</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_nbhsx">derivable_nbhsx</a></span> (<span class="id"><a name="f:151">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) <span class="id"><a name="a:152">a</a></span> <span class="id"><a name="v:153">v</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span> -&gt; <span class="kwd">forall</span> <span class="id"><a name="h:154">h</a></span>, <span class="id">f</span> (<span class="id">a</span> + <span class="id">h</span> *: <span class="id">v</span>) = <span class="id">f</span> <span class="id">a</span> + <span class="id">h</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span><br/>
&nbsp;&nbsp;+<span class="id">o_</span>(<span class="id"><a name="h:155">h</a></span> \<span class="id">near</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>))) <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof18')">Proof.</span></div>
<div class="proofscript" id="proof18">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#derivable_nbhs">derivable_nbhs</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">df</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoEx">eqaddoEx</a></span> =&gt; <span class="id">h</span>; <span class="id">have</span> /= := (<span class="id">df</span> <span class="id">h</span>); <span class="id">rewrite</span> <span class="id">addrC</span> =&gt; -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_nbhsxP">derivable_nbhsxP</a></span> (<span class="id"><a name="f:160">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.W">W</a></span>) <span class="id"><a name="a:161">a</a></span> <span class="id"><a name="v:162">v</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span> &lt;-&gt; <span class="kwd">forall</span> <span class="id"><a name="h:163">h</a></span>, <span class="id">f</span> (<span class="id">a</span> + <span class="id">h</span> *: <span class="id">v</span>) = <span class="id">f</span> <span class="id">a</span> + <span class="id">h</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span><br/>
&nbsp;&nbsp;+<span class="id">o_</span>(<span class="id"><a name="h:164">h</a></span> \<span class="id">near</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhs">nbhs</a></span> (0 :<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR.R">R</a></span>))) <span class="id">h</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof19')">Proof.</span></div>
<div class="proofscript" id="proof19">
<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivable_nbhsx">derivable_nbhsx</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable_nbhsP">derivable_nbhsP</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">h</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">addrC</span> <span class="id">df</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR">DifferentialR</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "''<span class="id">D_</span>' <span class="id">v</span> <span class="id">f</span>" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">f</span> ^~ <span class="id">v</span>).<br/>
<span class="kwd">Notation</span> "''<span class="id">D_</span>' <span class="id">v</span> <span class="id">f</span> <span class="id">c</span>" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">f</span> <span class="id">c</span> <span class="id">v</span>). <br/>
#[<span class="id">global</span>] <span class="kwd">Hint</span> <span class="id">Extern</span> 0 (<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">solve</span>[<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#ex_derive">ex_derive</a></span>] : <span class="id">core</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR_numFieldType">DifferentialR_numFieldType</a></span>.<br/>
<span class="kwd">Context</span> {<span class="id"><a name="R:169">R</a></span> : <span class="id">numFieldType</span>} {<span class="id"><a name="V:170">V</a></span> <span class="id"><a name="W:171">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveE">deriveE</a></span> (<span class="id"><a name="f:172">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.W">W</a></span>) (<span class="id"><a name="a:173">a</a></span> <span class="id"><a name="v:174">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">a</span> -&gt; '<span class="id">D_v</span> <span class="id">f</span> <span class="id">a</span> = '<span class="id">d</span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof20')">Proof.</span></div>
<div class="proofscript" id="proof20">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> =&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locally">diff_locally</a></span> -&gt; /=; <span class="id">set</span> <span class="id">k</span> := '<span class="id">o</span> <span class="id">_</span>.<br/>
<span class="id">evar</span> (<span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.W">W</a></span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">g</span>) /=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> !<span class="id">scalerDr</span> <span class="id">scalerN</span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> /=.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">addrC</span> !<span class="id">addrA</span> <span class="id">addNr</span> <span class="id">add0r</span> <span class="id">linearZ</span> /= <span class="id">scalerA</span> /<span class="id">g</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> =&gt; //.<br/>
<span class="id">pose</span> <span class="id">g1</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.W">W</a></span> := <span class="kwd">fun</span> <span class="id"><a name="h:176">h</a></span> =&gt; (<span class="id">h</span>^-1 * <span class="id">h</span>) *: '<span class="id">d</span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span>.<br/>
<span class="id">pose</span> <span class="id">g2</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.W">W</a></span> := <span class="kwd">fun</span> <span class="id"><a name="h:177">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType.R">R</a></span> =&gt; <span class="id">h</span>^-1 *: <span class="id">k</span> (<span class="id">h</span> *: <span class="id">v</span> ).<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : <span class="id">g</span> = <span class="id">g1</span> + <span class="id">g2</span>) ?<span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> // -(<span class="id">addr0</span> (<span class="id">_</span> <span class="id">_</span> <span class="id">v</span>)); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgD">cvgD</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">scale1r</span> (<span class="id">_</span> <span class="id">_</span> <span class="id">v</span>)); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgZl">cvgZl</a></span> =&gt; /= <span class="id">X</span> [<span class="id">e</span> <span class="id">e0</span>].<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball_">ball_</a></span> /= =&gt; <span class="id">eX</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">e</span> =&gt; //= <span class="id">x</span> <span class="id">_</span> <span class="id">x0</span>; <span class="id">apply</span> <span class="id">eX</span>; <span class="id">rewrite</span> <span class="id">mulVr</span> // ?<span class="id">unitfE</span> //= <span class="id">subrr</span> <span class="id">normr0</span>.<br/>
<span class="id">rewrite</span> /<span class="id">g2</span>.<br/>
<span class="id">have</span> [/<span class="id">eqP</span> -&gt;|<span class="id">v0</span>] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">v</span> == 0).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0); <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; ?; <span class="id">rewrite</span> <span class="id">scaler0</span> /<span class="id">k</span> <span class="id"><a href="mathcomp.analysis.derive.html#littleo_lim0">littleo_lim0</a></span> // <span class="id">scaler0</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#cvgrPdist_lt">cvgrPdist_lt</a></span> =&gt; <span class="id">e</span> <span class="id">e0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#nearE">nearE</a></span> /=; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span>.<br/>
<span class="id">have</span> /(<span class="id"><a href="mathcomp.analysis.landau.html#littleoP">littleoP</a></span> [<span class="id">littleo</span> <span class="id">of</span> <span class="id">k</span>]) /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span>[<span class="id">i</span> <span class="id">i0</span> <span class="id">Hi</span>] : 0 &lt; <span class="id">e</span> / (2 * `|<span class="id">v</span>|).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">divr_gt0</span> // <span class="id">pmulr_rgt0</span> // <span class="id">normr_gt0</span>.<br/>
<span class="kwd">exists</span> (<span class="id">i</span> / `|<span class="id">v</span>|); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">divr_gt0</span> // <span class="id">normr_gt0</span>.<br/>
<span class="id">move</span>=&gt; /= <span class="id">j</span>; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> /= /<span class="id"><a href="mathcomp.analysis.topology.html#ball_">ball_</a></span> <span class="id">add0r</span> <span class="id">normrN</span>.<br/>
<span class="id">rewrite</span> <span class="id">ltr_pdivl_mulr</span> ?<span class="id">normr_gt0</span> // =&gt; <span class="id">jvi</span> <span class="id">j0</span>.<br/>
<span class="id">rewrite</span> <span class="id">add0r</span> <span class="id">normrN</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> -<span class="id">ltr_pdivl_mull</span> ?<span class="id">normr_gt0</span> ?<span class="id">invr_neq0</span> //.<br/>
<span class="id">have</span> /<span class="id">Hi</span>/<span class="id">le_lt_trans</span> -&gt; // : <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> 0 <span class="id">i</span> (<span class="id">j</span> *: <span class="id">v</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span>/= <span class="id">add0r</span> <span class="id">normrN</span> (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">jvi</span>) // <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> -(<span class="id">mulrC</span> <span class="id">e</span>) -<span class="id">mulrA</span> -<span class="id">ltr_pdivl_mull</span> // <span class="id">mulrA</span> <span class="id">mulVr</span> ?<span class="id">unitfE</span> ?<span class="id">gt_eqF</span> //.<br/>
<span class="id">rewrite</span> <span class="id">normrV</span> ?<span class="id">unitfE</span> // <span class="id">div1r</span> <span class="id">invrK</span> <span class="id">ltr_pdivr_mull</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">pmulr_rgt0</span> // <span class="id">normr_gt0</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> <span class="id">mulrC</span> -<span class="id">mulrA</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ltr_pmull</span> ?<span class="id">ltr1n</span> // <span class="id">pmulr_rgt0</span> ?<span class="id">normm_gt0</span> // <span class="id">normr_gt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR_numFieldType">DifferentialR_numFieldType</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR2">DifferentialR2</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="DifferentialR2.R">R</a></span> : <span class="id">numFieldType</span>.<br/>
<span class="kwd">Implicit</span> <span class="kwd">Type</span> (<span class="id">V</span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivemxE">derivemxE</a></span> <span class="id"><a name="m:179">m</a></span> <span class="id"><a name="n:180">n</a></span> (<span class="id"><a name="f:181">f</a></span> : '<span class="id">rV</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span>]<span class="id">_m</span>.+1 -&gt; '<span class="id">rV</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span>]<span class="id">_n</span>.+1) (<span class="id"><a name="a:182">a</a></span> <span class="id"><a name="v:183">v</a></span> : '<span class="id">rV</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span>]<span class="id">_m</span>.+1) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">a</span> -&gt; '<span class="id">D_</span> <span class="id">v</span> <span class="id">f</span> <span class="id">a</span> = <span class="id">v</span> *<span class="id">m</span> <span class="id"><a href="mathcomp.analysis.derive.html#jacobian">jacobian</a></span> <span class="id">f</span> <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof21')">Proof.</span></div>
<div class="proofscript" id="proof21">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#deriveE">deriveE</a></span>-&gt;; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.derive.html#jacobian">jacobian</a></span> <span class="id">mul_rV_lin1</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="derive1">derive1</a></span> <span class="id"><a name="V:184">V</a></span> (<span class="id"><a name="f:185">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) (<span class="id"><a name="a:186">a</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> ((<span class="kwd">fun</span> <span class="id"><a name="h:187">h</a></span> =&gt; <span class="id">h</span>^-1 *: (<span class="id">f</span> (<span class="id">h</span> + <span class="id">a</span>) - <span class="id">f</span> <span class="id">a</span>)) @ 0^').<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">f</span> ^` ()" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive1">derive1</a></span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1E">derive1E</a></span> <span class="id"><a name="V:189">V</a></span> (<span class="id"><a name="f:190">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) <span class="id"><a name="a:191">a</a></span> : <span class="id">f</span>^`() <span class="id">a</span> = '<span class="id">D_1</span> <span class="id">f</span> <span class="id">a</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof22')">Proof.</span></div>
<div class="proofscript" id="proof22">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derive1">derive1</a></span> /<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span>; <span class="id">set</span> <span class="id">d</span> := (<span class="kwd">fun</span> <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> =&gt; <span class="id">_</span>); <span class="id">set</span> <span class="id">d</span>' := (<span class="kwd">fun</span> <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> =&gt; <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">suff</span> -&gt; : <span class="id">d</span> = <span class="id">d</span>' <span class="kwd">by</span> []; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> /<span class="id">d</span> /<span class="id">d</span>' /= [<span class="id">h</span>%:<span class="id">A</span>](<span class="id">mulr1</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1E'">derive1E</a></span>' <span class="id"><a name="V:192">V</a></span> <span class="id"><a name="f:193">f</a></span> <span class="id"><a name="a:194">a</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) <span class="id">a</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span>^`() <span class="id">a</span> = '<span class="id">d</span> <span class="id">f</span> <span class="id">a</span> 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof23')">Proof.</span></div>
<div class="proofscript" id="proof23">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveE">deriveE</a></span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="derive1n">derive1n</a></span> <span class="id"><a name="V:195">V</a></span> <span class="id"><a name="n:196">n</a></span> (<span class="id"><a name="f:197">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) := <span class="id">iter</span> <span class="id">n</span> (@<span class="id"><a href="mathcomp.analysis.derive.html#derive1">derive1</a></span> <span class="id">V</span>) <span class="id">f</span>.<br/>
<br/>
<span class="id">Local</span> <span class="kwd">Notation</span> "<span class="id">f</span> ^` ( <span class="id">n</span> )" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive1n">derive1n</a></span> <span class="id">n</span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1n0">derive1n0</a></span> <span class="id"><a name="V:198">V</a></span> (<span class="id"><a name="f:199">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) : <span class="id">f</span>^`(0) = <span class="id">f</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof24')">Proof.</span></div>
<div class="proofscript" id="proof24">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1n1">derive1n1</a></span> <span class="id"><a name="V:200">V</a></span> (<span class="id"><a name="f:201">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) : <span class="id">f</span>^`(1) = <span class="id">f</span>^`().<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof25')">Proof.</span></div>
<div class="proofscript" id="proof25">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1nS">derive1nS</a></span> <span class="id"><a name="V:202">V</a></span> (<span class="id"><a name="f:203">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) <span class="id"><a name="n:204">n</a></span> : <span class="id">f</span>^`(<span class="id">n</span>.+1) = <span class="id">f</span>^`(<span class="id">n</span>)^`().<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof26')">Proof.</span></div>
<div class="proofscript" id="proof26">
 <span class="kwd">by</span> []. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1Sn">derive1Sn</a></span> <span class="id"><a name="V:205">V</a></span> (<span class="id"><a name="f:206">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2.R">R</a></span> -&gt; <span class="id">V</span>) <span class="id"><a name="n:207">n</a></span> : <span class="id">f</span>^`(<span class="id">n</span>.+1) = <span class="id">f</span>^`()^`(<span class="id">n</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof27')">Proof.</span></div>
<div class="proofscript" id="proof27">
 <span class="id">exact</span>: <span class="id">iterSr</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR2">DifferentialR2</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^` ()" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive1">derive1</a></span> <span class="id">f</span>).<br/>
<span class="kwd">Notation</span> "<span class="id">f</span> ^` ( <span class="id">n</span> )" := (<span class="id"><a href="mathcomp.analysis.derive.html#derive1n">derive1n</a></span> <span class="id">n</span> <span class="id">f</span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR3">DifferentialR3</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="DifferentialR3.R">R</a></span> : <span class="id">numFieldType</span>.<br/>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dcst">dcst</a></span> (<span class="id"><a name="V:209">V</a></span> <span class="id"><a name="W:210">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="a:211">a</a></span> : <span class="id">W</span>) (<span class="id"><a name="x:212">x</a></span> : <span class="id">V</span>) : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (0 : <span class="id">V</span> -&gt; <span class="id">W</span>) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span> <span class="id">x</span>) + \0 +<span class="id">o_</span> (0 : <span class="id">V</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof28')">Proof.</span></div>
<div class="proofscript" id="proof28">
<span class="id">split</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cst_continuous">cst_continuous</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id">addr0</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; ? /=; <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">addr0</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.landau.html#littleoE">littleoE</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.landau.html#littleo0_subproof">littleo0_subproof</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="DifferentialR3.V">V</a></span> <span class="id"><a name="DifferentialR3.W">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>).<br/>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dadd">dadd</a></span> (<span class="id"><a name="f:215">f</a></span> <span class="id"><a name="g:216">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.W">W</a></span>) <span class="id"><a name="x:217">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> \+ '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span>) /\<br/>
&nbsp;&nbsp;(<span class="id">f</span> + <span class="id">g</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> ((<span class="id">f</span> + <span class="id">g</span>) <span class="id">x</span>) + ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> \+ '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span>) +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof29')">Proof.</span></div>
<div class="proofscript" id="proof29">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">split</span> =&gt; [?|]; <span class="id">do</span> ?<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousD">continuousD</a></span>.<br/>
<span class="id">apply</span>/(@<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=; <span class="id">rewrite</span> -[(<span class="id">f</span> + <span class="id">g</span>) <span class="id">_</span>]/(<span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> ![<span class="id">_</span> (<span class="id">_</span> + <span class="id">x</span>)]<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span>// <span class="id">addrACA</span> <span class="id"><a href="mathcomp.analysis.landau.html#addox">addox</a></span> <span class="id">addrACA</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dopp">dopp</a></span> (<span class="id"><a name="f:218">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.W">W</a></span>) <span class="id"><a name="x:219">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (- ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.W">W</a></span>)) /\<br/>
&nbsp;&nbsp;(- <span class="id">f</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (- <span class="id">f</span> <span class="id">x</span>) \- '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof30')">Proof.</span></div>
<div class="proofscript" id="proof30">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[(- <span class="id">f</span>) <span class="id">_</span>]/(- (<span class="id">_</span> <span class="id">_</span>)) <span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span>// !<span class="id">opprD</span> <span class="id"><a href="mathcomp.analysis.landau.html#oppox">oppox</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_diff_eq">is_diff_eq</a></span> (<span class="id"><a name="V':220">V</a></span>' <span class="id"><a name="W':221">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="f:222">f</a></span> <span class="id"><a name="f':223">f</a></span>' <span class="id"><a name="g:224">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') (<span class="id"><a name="x:225">x</a></span> : <span class="id">V</span>') :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">f</span>' -&gt; <span class="id">f</span>' = <span class="id">g</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">g</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof31')">Proof.</span></div>
<div class="proofscript" id="proof31">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? &lt;-. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dscale">dscale</a></span> (<span class="id"><a name="f:226">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.W">W</a></span>) <span class="id"><a name="k:227">k</a></span> <span class="id"><a name="x:228">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="id">k</span> \*: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>) /\<br/>
&nbsp;&nbsp;(<span class="id">k</span> *: <span class="id">f</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> ((<span class="id">k</span> *: <span class="id">f</span>) <span class="id">x</span>) + <span class="id">k</span> \*: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof32')">Proof.</span></div>
<div class="proofscript" id="proof32">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousZr">continuousZr</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -[(<span class="id">k</span> *: <span class="id">f</span>) <span class="id">_</span>]/(<span class="id">_</span> *: <span class="id">_</span>) <span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span> // !<span class="id">scalerDr</span> <span class="id"><a href="mathcomp.analysis.landau.html#scaleox">scaleox</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dscalel">dscalel</a></span> (<span class="id"><a name="k:229">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="f:230">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.W">W</a></span>) <span class="id"><a name="x:231">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">k</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="z:232">z</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span> =&gt; '<span class="id">d</span> <span class="id">k</span> <span class="id">x</span> <span class="id">z</span> *: <span class="id">f</span>) /\<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="z:234">z</a></span> =&gt; <span class="id">k</span> <span class="id">z</span> *: <span class="id">f</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">k</span> <span class="id">x</span> *: <span class="id">f</span>) + (<span class="kwd">fun</span> <span class="id"><a name="z:235">z</a></span> =&gt; '<span class="id">d</span> <span class="id">k</span> <span class="id">x</span> <span class="id">z</span> *: <span class="id">f</span>) +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.V">V</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof33')">Proof.</span></div>
<div class="proofscript" id="proof33">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; ?; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousZl">continuousZl</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_continuous">diff_continuous</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span> //= !<span class="id">scalerDl</span> <span class="id"><a href="mathcomp.analysis.landau.html#scaleolx">scaleolx</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dlin">dlin</a></span> (<span class="id"><a name="V':238">V</a></span>' <span class="id"><a name="W':239">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="f:240">f</a></span> : {<span class="id">linear</span> <span class="id">V</span>' -&gt; <span class="id">W</span>'}) <span class="id"><a name="x:241">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) + <span class="id">f</span> +<span class="id">o_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof34')">Proof.</span></div>
<div class="proofscript" id="proof34">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=.<br/>
<span class="id">rewrite</span> <span class="id">linearD</span> <span class="id">addrC</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">addr0</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.landau.html#littleoE">littleoE</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.landau.html#littleo0_subproof">littleo0_subproof</a></span>. <span class="comment">(*fixme*)</span><br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compoO_eqo">compoO_eqo</a></span> (<span class="id"><a name="U:242">U</a></span> <span class="id"><a name="V':243">V</a></span>' <span class="id"><a name="W':244">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="f:245">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:246">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') :<br/>
&nbsp;&nbsp;[<span class="id">o_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>] \<span class="id">o</span> [<span class="id">O_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>] =<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof35')">Proof.</span></div>
<div class="proofscript" id="proof35">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.landau.html#bigO_exP">bigO_exP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">k</span>]] := <span class="id"><a href="mathcomp.analysis.landau.html#bigOP">bigOP</a></span> [<span class="id">bigO</span> <span class="id">of</span> [<span class="id">O_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>]].<br/>
<span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.landau.html#littleoP">littleoP</a></span> [<span class="id">littleo</span> <span class="id">of</span> [<span class="id">o_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>]].<br/>
<span class="id">move</span>=&gt;  /(<span class="id">_</span> (<span class="id">e</span>%:<span class="id">num</span> / <span class="id">k</span>%:<span class="id">num</span>)) /(<span class="id">_</span> <span class="id">_</span>) /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span> [//|<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">d</span>] <span class="id">hd</span>].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; <span class="id">leOxkx</span>; <span class="id">apply</span>: <span class="id">le_trans</span> (<span class="id">hd</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id">ler_pdivl_mull</span> //; <span class="id">apply</span>: <span class="id">le_trans</span> <span class="id">leOxkx</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invf_div</span> <span class="id">mulrA</span> -[<span class="id">_</span> / <span class="id">_</span> * <span class="id">_</span>]<span class="id">mulrA</span> <span class="id">mulVf</span> // <span class="id">mulr1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span> (<span class="id">le_lt_trans</span> <span class="id">leOxkx</span>) // -<span class="id">ltr_pdivl_mull</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compoO_eqox">compoO_eqox</a></span> (<span class="id"><a name="U:247">U</a></span> <span class="id"><a name="V':248">V</a></span>' <span class="id"><a name="W':249">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="f:250">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:251">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:252">x</a></span> : <span class="id">U</span>, [<span class="id">o_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>] ([<span class="id">O_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>] <span class="id">x</span>) =<span class="id">o_</span>(<span class="id"><a name="x:253">x</a></span> \<span class="id">near</span> 0 : <span class="id">U</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof36')">Proof.</span></div>
<div class="proofscript" id="proof36">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/((<span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>) <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.derive.html#compoO_eqo">compoO_eqo</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compOo_eqo">compOo_eqo</a></span>  (<span class="id"><a name="U:257">U</a></span> <span class="id"><a name="V':258">V</a></span>' <span class="id"><a name="W':259">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3.R">R</a></span>) (<span class="id"><a name="f:260">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:261">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') :<br/>
&nbsp;&nbsp;[<span class="id">O_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>] \<span class="id">o</span> [<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>] =<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof37')">Proof.</span></div>
<div class="proofscript" id="proof37">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.landau.html#bigO_exP">bigO_exP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">k</span>]] := <span class="id"><a href="mathcomp.analysis.landau.html#bigOP">bigOP</a></span> [<span class="id">bigO</span> <span class="id">of</span> [<span class="id">O_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>]].<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">d</span>] <span class="id">hd</span>].<br/>
<span class="id">have</span> <span class="id">ekgt0</span> : <span class="id">e</span>%:<span class="id">num</span> / <span class="id">k</span>%:<span class="id">num</span> &gt; 0 <span class="kwd">by</span> [].<br/>
<span class="id">have</span> /(<span class="id">_</span> <span class="id">_</span> <span class="id">ekgt0</span>) := <span class="id"><a href="mathcomp.analysis.landau.html#littleoP">littleoP</a></span> [<span class="id">littleo</span> <span class="id">of</span> [<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>]].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>; <span class="id">near</span>=&gt; <span class="id">x</span> =&gt; <span class="id">leoxekx</span>; <span class="id">apply</span>: <span class="id">le_trans</span> (<span class="id">hd</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">ler_pdivl_mull</span> // <span class="id">mulrA</span> [<span class="id">_</span>^-1 * <span class="id">_</span>]<span class="id">mulrC</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span> (<span class="id">le_lt_trans</span> <span class="id">leoxekx</span>)// -<span class="id">ltr_pdivl_mull</span> //.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3">DifferentialR3</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DifferentialR3_numFieldType">DifferentialR3_numFieldType</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="DifferentialR3_numFieldType.R">R</a></span> : <span class="id">numFieldType</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="littleo_linear0">littleo_linear0</a></span> (<span class="id"><a name="V:263">V</a></span> <span class="id"><a name="W:264">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:265">f</a></span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) :<br/>
&nbsp;&nbsp;(<span class="id">f</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) =<span class="id">o_</span> (0 : <span class="id">V</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> -&gt; <span class="id">f</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> 0 :&gt; (<span class="id">V</span> -&gt; <span class="id">W</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof38')">Proof.</span></div>
<div class="proofscript" id="proof38">
<span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span> =&gt; <span class="id">oid</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">x</span>; <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">have</span> [|<span class="id">xn0</span>] := <span class="id">real_le0P</span> (<span class="id">normr_real</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_le0</span> =&gt; /<span class="id">eqP</span> -&gt;; <span class="id">rewrite</span> <span class="id">linear0</span>.<br/>
<span class="id">rewrite</span> -<span class="id">normr_le0</span> -(<span class="id">mul0r</span> `|<span class="id">x</span>|) -<span class="id">ler_pdivr_mulr</span> //.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ler_gtP">ler_gtP</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">rewrite</span> <span class="id">ler_pdivr_mulr</span> //.<br/>
<span class="id">have</span> /<span class="id">oid</span> /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">d</span>] <span class="id">dfe</span>] := !! <span class="id"><a href="mathcomp.analysis.signed.html#gt0">gt0</a></span> <span class="id">e</span>.<br/>
<span class="id">set</span> <span class="id">k</span> := ((<span class="id">d</span>%:<span class="id">num</span> / 2) / (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">xn0</span>)%:<span class="id">num</span>)^-1.<br/>
<span class="id">rewrite</span> -{1}(@<span class="id">scalerKV</span> <span class="id">_</span> <span class="id">_</span> <span class="id">k</span> <span class="id">_</span> <span class="id">x</span>) /<span class="id">k</span> // <span class="id">linearZZ</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id">ler_pdivl_mull</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">gtr0_norm</span>.<br/>
<span class="id">rewrite</span> <span class="id">mulrCA</span> (@<span class="id">le_trans</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">e</span>%:<span class="id">num</span> * `|<span class="id">k</span>^-1 *: <span class="id">x</span>|)) //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pmul</span> // <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> <span class="id">normfV</span>.<br/>
<span class="id">apply</span>: <span class="id">dfe</span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">sub0r</span> <span class="id">normrN</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">invrK</span> -<span class="id">ltr_pdivl_mulr</span> // <span class="id">ger0_norm</span> // <span class="id">ltr_pdivr_mulr</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> -<span class="id">mulrA</span> <span class="id">mulVf</span> ?<span class="id">lt0r_neq0</span> // <span class="id">mulr1</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS</a></span>]<span class="id">splitr</span> <span class="id">ltr_addl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_unique">diff_unique</a></span> (<span class="id"><a name="V:266">V</a></span> <span class="id"><a name="W:267">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:268">f</a></span> : <span class="id">V</span> -&gt; <span class="id">W</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="df:269">df</a></span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) <span class="id"><a name="x:270">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">df</span> -&gt; <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) + <span class="id">df</span> +<span class="id">o_</span> (0 : <span class="id">V</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> = <span class="id">df</span> :&gt; (<span class="id">V</span> -&gt; <span class="id">W</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof39')">Proof.</span></div>
<div class="proofscript" id="proof39">
<span class="id">move</span>=&gt; <span class="id">dfc</span> <span class="id">dxf</span>; <span class="id">apply</span>/<span class="id">subr0_eq</span>; <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/(<span class="id">_</span> \- <span class="id">_</span>).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#littleo_linear0">littleo_linear0</a></span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span>/<span class="id"><a href="mathcomp.analysis.landau.html#eq_some_oP">eq_some_oP</a></span> =&gt; /=; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=.<br/>
<span class="id">have</span> <span class="id">hdf</span> <span class="id">h</span> :<br/>
&nbsp;&nbsp;(<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) + <span class="id">h</span> +<span class="id">o_</span> (0 : <span class="id">V</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">h</span> = <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> - <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) +<span class="id">o_</span> (0 : <span class="id">V</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">hdf</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">hdf</span> <span class="id">addrAC</span> (<span class="id">addrC</span> <span class="id">_</span> <span class="id">h</span>) <span class="id">addrK</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">addr0</span> -<span class="id">addrA</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">addrC</span> <span class="id">addr_eq0</span> <span class="id"><a href="mathcomp.analysis.landau.html#oppo">oppo</a></span>.<br/>
<span class="id">rewrite</span> (<span class="id">hdf</span> <span class="id">_</span> <span class="id">dxf</span>).<br/>
<span class="id">suff</span> /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locally">diff_locally</a></span> /<span class="id">hdf</span> -&gt; : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">opprD</span> <span class="id">addrCA</span> -(<span class="id">addrA</span> (<span class="id">_</span> - <span class="id">_</span>)) <span class="id">addKr</span> <span class="id"><a href="mathcomp.analysis.landau.html#oppox">oppox</a></span> <span class="id"><a href="mathcomp.analysis.landau.html#addox">addox</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diffP">diffP</a></span>; <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.classical.classical_sets.html#getPex">getPex</a></span> <span class="id">_</span> (<span class="kwd">fun</span> (<span class="id"><a name="df:272">df</a></span> : {<span class="id">linear</span> <span class="id">V</span> -&gt; <span class="id">W</span>}) =&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">df</span> /\<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="y:273">y</a></span>, <span class="id">f</span> <span class="id">y</span> = <span class="id">f</span> (<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">x</span>) + <span class="id">df</span> (<span class="id">y</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">x</span>) +<span class="id">o_</span>(<span class="id"><a name="y:274">y</a></span> \<span class="id">near</span> <span class="id">x</span>) (<span class="id">y</span> - <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> <span class="id">x</span>))).<br/>
<span class="kwd">exists</span> <span class="id">df</span>; <span class="id">split</span>=&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoEx">eqaddoEx</a></span> =&gt; <span class="id">z</span>.<br/>
<span class="id">rewrite</span> (<span class="id">hdf</span> <span class="id">_</span> <span class="id">dxf</span>) !<span class="id">addrA</span> <span class="id"><a href="mathcomp.analysis.topology.html#lim_id">lim_id</a></span> // /(<span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>) /= <span class="id">subrK</span> [<span class="id">f</span> <span class="id">_</span> + <span class="id">_</span>]<span class="id">addrC</span> <span class="id">addrK</span>.<br/>
<span class="id">rewrite</span> -<span class="id">addrA</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">addr0</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_sym</span> <span class="id">addrC</span> <span class="id">addr_eq0</span> <span class="id"><a href="mathcomp.analysis.landau.html#oppox">oppox</a></span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#littleo_center0">littleo_center0</a></span> (<span class="id"><a href="mathcomp.analysis.normedtype.html#comp_centerK">comp_centerK</a></span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>) -[- <span class="id">_</span> <span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>](<span class="id"><a href="mathcomp.analysis.normedtype.html#comp_centerK">comp_centerK</a></span> <span class="id">x</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_cst">diff_cst</a></span> (<span class="id"><a name="V:286">V</a></span> <span class="id"><a name="W:287">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="a:288">a</a></span> <span class="id"><a name="x:289">x</a></span> : ('<span class="id">d</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span>) <span class="id">x</span> : <span class="id">V</span> -&gt; <span class="id">W</span>) = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof40')">Proof.</span></div>
<div class="proofscript" id="proof40">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dcst">dcst</a></span> <span class="id">a</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="DifferentialR3_numFieldType.V">V</a></span> <span class="id"><a name="DifferentialR3_numFieldType.W">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_cst">differentiable_cst</a></span> (<span class="id"><a name="W':292">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="a:293">a</a></span> : <span class="id">W</span>') (<span class="id"><a name="x:294">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof41')">Proof.</span></div>
<div class="proofscript" id="proof41">
 <span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_cst">diff_cst</a></span>; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#dcst">dcst</a></span> <span class="id">a</span> <span class="id">x</span>. Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_cst">is_diff_cst</a></span> (<span class="id"><a name="a:295">a</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) (<span class="id"><a name="x:296">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span>) : <span class="id">is_diff</span> <span class="id">x</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span>) 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof42')">Proof.</span></div>
<div class="proofscript" id="proof42">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_cst">differentiable_cst</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="mathcomp.analysis.derive.html#diff_cst">diff_cst</a></span> <span class="id">_</span> <span class="id">_</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffD">diffD</a></span> (<span class="id"><a name="f:297">f</a></span> <span class="id"><a name="g:298">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:299">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="id">f</span> + <span class="id">g</span>) <span class="id">x</span> = '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> \+ '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof43')">Proof.</span></div>
<div class="proofscript" id="proof43">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dadd">dadd</a></span> <span class="id">df</span> <span class="id">dg</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableD">differentiableD</a></span> (<span class="id"><a name="f:300">f</a></span> <span class="id"><a name="g:301">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:302">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">f</span> + <span class="id">g</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof44')">Proof.</span></div>
<div class="proofscript" id="proof44">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffD">diffD</a></span> //; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#dadd">dadd</a></span> <span class="id">df</span> <span class="id">dg</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diffD">is_diffD</a></span> (<span class="id"><a name="f:303">f</a></span> <span class="id"><a name="g:304">g</a></span> <span class="id"><a name="df:305">df</a></span> <span class="id"><a name="dg:306">dg</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:307">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> <span class="id">g</span> <span class="id">dg</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> (<span class="id">f</span> + <span class="id">g</span>) (<span class="id">df</span> + <span class="id">dg</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof45')">Proof.</span></div>
<div class="proofscript" id="proof45">
<span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiableD">differentiableD</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffD">diffD</a></span> // !<span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_sum">differentiable_sum</a></span> <span class="id"><a name="n:308">n</a></span> (<span class="id"><a name="f:309">f</a></span> : '<span class="id">I_n</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) (<span class="id"><a name="x:310">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:311">i</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">f</span> <span class="id">i</span>) <span class="id">x</span>) -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (\<span class="id">sum_</span>(<span class="id"><a name="i:312">i</a></span> &lt; <span class="id">n</span>) <span class="id">f</span> <span class="id">i</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof46')">Proof.</span></div>
<div class="proofscript" id="proof46">
<span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_ind</span> : <span class="id">_</span> =&gt; // ? ? <span class="id">g</span> <span class="id">h</span> ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiableD">differentiableD</a></span>; [<span class="id">exact</span>:<span class="id">g</span>|<span class="id">exact</span>:<span class="id">h</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffN">diffN</a></span> (<span class="id"><a name="f:315">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:316">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; '<span class="id">d</span> (- <span class="id">f</span>) <span class="id">x</span> = - ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof47')">Proof.</span></div>
<div class="proofscript" id="proof47">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>]/(@<span class="id">GRing.opp</span> <span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>;<br/>
<span class="kwd">by</span> <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dopp">dopp</a></span> <span class="id">df</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableN">differentiableN</a></span> (<span class="id"><a name="f:317">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:318">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (- <span class="id">f</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof48')">Proof.</span></div>
<div class="proofscript" id="proof48">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffN">diffN</a></span> //; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#dopp">dopp</a></span> <span class="id">df</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diffN">is_diffN</a></span> (<span class="id"><a name="f:319">f</a></span> <span class="id"><a name="df:320">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:321">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> (- <span class="id">f</span>) (- <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof49')">Proof.</span></div>
<div class="proofscript" id="proof49">
<span class="id">move</span>=&gt; <span class="id">dfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiableN">differentiableN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffN">diffN</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diffB">is_diffB</a></span> (<span class="id"><a name="f:322">f</a></span> <span class="id"><a name="g:323">g</a></span> <span class="id"><a name="df:324">df</a></span> <span class="id"><a name="dg:325">dg</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:326">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> <span class="id">g</span> <span class="id">dg</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> (<span class="id">f</span> - <span class="id">g</span>) (<span class="id">df</span> - <span class="id">dg</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof50')">Proof.</span></div>
<div class="proofscript" id="proof50">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_diff_eq">is_diff_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffB">diffB</a></span> (<span class="id"><a name="f:327">f</a></span> <span class="id"><a name="g:328">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:329">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="id">f</span> - <span class="id">g</span>) <span class="id">x</span> = '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> \- '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof51')">Proof.</span></div>
<div class="proofscript" id="proof51">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">dg</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableB">differentiableB</a></span> (<span class="id"><a name="f:330">f</a></span> <span class="id"><a name="g:331">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:332">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">f</span> \- <span class="id">g</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof52')">Proof.</span></div>
<div class="proofscript" id="proof52">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">dg</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffZ">diffZ</a></span> (<span class="id"><a name="f:333">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="k:334">k</a></span> <span class="id"><a name="x:335">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; '<span class="id">d</span> (<span class="id">k</span> *: <span class="id">f</span>) <span class="id">x</span> = <span class="id">k</span> \*: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof53')">Proof.</span></div>
<div class="proofscript" id="proof53">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dscale">dscale</a></span> <span class="id">k</span> <span class="id">df</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableZ">differentiableZ</a></span> (<span class="id"><a name="f:336">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="k:337">k</a></span> <span class="id"><a name="x:338">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">k</span> *: <span class="id">f</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof54')">Proof.</span></div>
<div class="proofscript" id="proof54">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffZ">diffZ</a></span> //; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#dscale">dscale</a></span> <span class="id">k</span> <span class="id">df</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diffZ">is_diffZ</a></span> (<span class="id"><a name="f:339">f</a></span> <span class="id"><a name="df:340">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="k:341">k</a></span> <span class="id"><a name="x:342">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> (<span class="id">k</span> *: <span class="id">f</span>) (<span class="id">k</span> *: <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof55')">Proof.</span></div>
<div class="proofscript" id="proof55">
<span class="id">move</span>=&gt; <span class="id">dfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiableZ">differentiableZ</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffZ">diffZ</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffZl">diffZl</a></span> (<span class="id"><a name="k:343">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:344">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:345">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">k</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="kwd">fun</span> <span class="id"><a name="z:346">z</a></span> =&gt; <span class="id">k</span> <span class="id">z</span> *: <span class="id">f</span>) <span class="id">x</span> = (<span class="kwd">fun</span> <span class="id"><a name="z:347">z</a></span> =&gt; '<span class="id">d</span> <span class="id">k</span> <span class="id">x</span> <span class="id">z</span> *: <span class="id">f</span>) :&gt; (<span class="id">_</span> -&gt; <span class="id">_</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof56')">Proof.</span></div>
<div class="proofscript" id="proof56">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">set</span> <span class="id">g</span> := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS">RHS</a></span>; <span class="id">have</span> <span class="id">glin</span> : <span class="id">linear</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">a</span> <span class="id">u</span> <span class="id">v</span>; <span class="id">rewrite</span> /<span class="id">g</span> <span class="id">linearP</span> /= <span class="id">scalerDl</span> -<span class="id">scalerA</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>:(@<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">Linear</span> <span class="id">glin</span>)); <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dscalel">dscalel</a></span> <span class="id">f</span> <span class="id">df</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableZl">differentiableZl</a></span> (<span class="id"><a name="k:348">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:349">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.W">W</a></span>) <span class="id"><a name="x:350">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">k</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="z:351">z</a></span> =&gt; <span class="id">k</span> <span class="id">z</span> *: <span class="id">f</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof57')">Proof.</span></div>
<div class="proofscript" id="proof57">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diffZl">diffZl</a></span> //; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dscalel">dscalel</a></span> <span class="id">f</span> <span class="id">df</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_lin">diff_lin</a></span> (<span class="id"><a name="V':352">V</a></span>' <span class="id"><a name="W':353">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:354">f</a></span> : {<span class="id">linear</span> <span class="id">V</span>' -&gt; <span class="id">W</span>'}) <span class="id"><a name="x:355">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> = <span class="id">f</span> :&gt; (<span class="id">V</span>' -&gt; <span class="id">W</span>').<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof58')">Proof.</span></div>
<div class="proofscript" id="proof58">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fcont</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#dlin">dlin</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="linear_differentiable">linear_differentiable</a></span> (<span class="id"><a name="V':356">V</a></span>' <span class="id"><a name="W':357">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:358">f</a></span> : {<span class="id">linear</span> <span class="id">V</span>' -&gt; <span class="id">W</span>'})<br/>
&nbsp;&nbsp;<span class="id"><a name="x:359">x</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof59')">Proof.</span></div>
<div class="proofscript" id="proof59">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fcont</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_lin">diff_lin</a></span> //; <span class="id">have</span> := <span class="id"><a href="mathcomp.analysis.derive.html#dlin">dlin</a></span> <span class="id">x</span> <span class="id">fcont</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_id">is_diff_id</a></span> (<span class="id"><a name="x:360">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span>) : <span class="id">is_diff</span> <span class="id">x</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof60')">Proof.</span></div>
<div class="proofscript" id="proof60">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.derive.html#linear_differentiable">linear_differentiable</a></span> <span class="id">_</span> <span class="id">_</span> [<span class="id">linear</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>]) =&gt; ? //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (@<span class="id"><a href="mathcomp.analysis.derive.html#diff_lin">diff_lin</a></span> <span class="id">_</span> <span class="id">_</span> [<span class="id">linear</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>]) // =&gt; ? //.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_scaler">is_diff_scaler</a></span> (<span class="id"><a name="k:361">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="x:362">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span>) : <span class="id">is_diff</span> <span class="id">x</span> ( *:%<span class="id">R</span> <span class="id">k</span>) ( *:%<span class="id">R</span> <span class="id">k</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof61')">Proof.</span></div>
<div class="proofscript" id="proof61">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#linear_differentiable">linear_differentiable</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#scaler_continuous">scaler_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_lin">diff_lin</a></span> //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#scaler_continuous">scaler_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_scalel">is_diff_scalel</a></span> (<span class="id"><a name="k:363">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="x:364">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">k</span> ( *:%<span class="id">R</span> ^~ <span class="id">x</span>) ( *:%<span class="id">R</span> ^~ <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof62')">Proof.</span></div>
<div class="proofscript" id="proof62">
<span class="id">have</span> <span class="id">sx_lin</span> : <span class="id">linear</span> ( *:%<span class="id">R</span> ^~ <span class="id">x</span>) <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">u</span> <span class="id">y</span> <span class="id">z</span>; <span class="id">rewrite</span> <span class="id">scalerDl</span> <span class="id">scalerA</span>.<br/>
<span class="id">have</span> -&gt; : *:%<span class="id">R</span> ^~ <span class="id">x</span> = <span class="id">Linear</span> <span class="id">sx_lin</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#linear_differentiable">linear_differentiable</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#scalel_continuous">scalel_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_lin">diff_lin</a></span>//; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#scalel_continuous">scalel_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_coord">differentiable_coord</a></span> <span class="id"><a name="m:365">m</a></span> <span class="id"><a name="n:366">n</a></span> (<span class="id"><a name="M:367">M</a></span> : '<span class="id">M</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1)) <span class="id"><a name="i:368">i</a></span> <span class="id"><a name="j:369">j</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="N:370">N</a></span> : '<span class="id">M</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1) =&gt; <span class="id">N</span> <span class="id">i</span> <span class="id">j</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> ) <span class="id">M</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof63')">Proof.</span></div>
<div class="proofscript" id="proof63">
<span class="id">have</span> @<span class="id">f</span> : {<span class="id">linear</span> '<span class="id">M</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>]<span class="id">_</span>(<span class="id">m</span>.+1, <span class="id">n</span>.+1) -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="kwd">fun</span> <span class="id"><a name="N:371">N</a></span> : '<span class="id">M</span>[<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>]<span class="id">_</span>(<span class="id">_</span>, <span class="id">_</span>) =&gt; <span class="id">N</span> <span class="id">i</span> <span class="id">j</span>); <span class="id">eexists</span>; <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> !<span class="id">mxE</span>.<br/>
<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id">_</span>) = <span class="id">f</span>) //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#linear_differentiable">linear_differentiable</a></span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#coord_continuous">coord_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="linear_lipschitz">linear_lipschitz</a></span> (<span class="id"><a name="V':373">V</a></span>' <span class="id"><a name="W':374">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:375">f</a></span> : {<span class="id">linear</span> <span class="id">V</span>' -&gt; <span class="id">W</span>'}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; <span class="kwd">exists2</span> <span class="id"><a name="k:376">k</a></span>, <span class="id">k</span> &gt; 0 &amp; <span class="kwd">forall</span> <span class="id"><a name="x:378">x</a></span>, `|<span class="id">f</span> <span class="id">x</span>| &lt;= <span class="id">k</span> * `|<span class="id">x</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof64')">Proof.</span></div>
<div class="proofscript" id="proof64">
<span class="id">move</span>=&gt; /(<span class="id">_</span> 0); <span class="id">rewrite</span> <span class="id">linear0</span> =&gt; /(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhsx_ballx">nbhsx_ballx</a></span> 0 1%:<span class="id">pos</span>)).<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>] <span class="id">he</span>]; <span class="kwd">exists</span> (2 / <span class="id">e</span>%:<span class="id">num</span>) =&gt; // <span class="id">x</span>.<br/>
<span class="id">have</span> [|<span class="id">xn0</span>] := <span class="id">real_le0P</span> (<span class="id">normr_real</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_le0</span> =&gt; /<span class="id">eqP</span>-&gt;; <span class="id">rewrite</span> <span class="id">linear0</span> !<span class="id">normr0</span> <span class="id">mulr0</span>.<br/>
<span class="id">set</span> <span class="id">k</span> := 2 / <span class="id">e</span>%:<span class="id">num</span> * (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">xn0</span>)%:<span class="id">num</span>.<br/>
<span class="id">have</span> <span class="id">kn0</span> : <span class="id">k</span> != 0 <span class="kwd">by</span> <span class="id">rewrite</span> /<span class="id">k</span>.<br/>
<span class="id">have</span> <span class="id">abskgt0</span> : `|<span class="id">k</span>| &gt; 0 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_gt0</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">x</span> <span class="kwd">in</span> <span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leLHS">leLHS</a></span>](<span class="id">scalerKV</span> <span class="id">kn0</span>) <span class="id">linearZZ</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> -<span class="id">ler_pdivl_mull</span> //.<br/>
<span class="id">suff</span> /<span class="id">he</span> : <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> 0 <span class="id">e</span>%:<span class="id">num</span> (<span class="id">k</span>^-1 *: <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span> =&gt; /<span class="id">ltW</span> /<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ger0_norm</span> /<span class="id">k</span> // <span class="id">mulVf</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">normfV</span> <span class="id">ger0_norm</span> /<span class="id">k</span> // <span class="id">invrM</span> ?<span class="id">unitfE</span> // <span class="id">mulrAC</span> <span class="id">mulVf</span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invf_div</span> <span class="id">mul1r</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS</a></span>]<span class="id">splitr</span>; <span class="id">apply</span>: <span class="id">ltr_spaddr</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="linear_eqO">linear_eqO</a></span> (<span class="id"><a name="V':379">V</a></span>' <span class="id"><a name="W':380">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:381">f</a></span> : {<span class="id">linear</span> <span class="id">V</span>' -&gt; <span class="id">W</span>'}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> <span class="id">f</span> -&gt; (<span class="id">f</span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') =<span class="id">O_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof65')">Proof.</span></div>
<div class="proofscript" id="proof65">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#linear_lipschitz">linear_lipschitz</a></span> [<span class="id">k</span> <span class="id">kgt0</span> <span class="id">flip</span>]; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqO_exP">eqO_exP</a></span>; <span class="kwd">exists</span> <span class="id">k</span> =&gt; //.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filterE">filterE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_eqO">diff_eqO</a></span> (<span class="id"><a name="V':382">V</a></span>' <span class="id"><a name="W':383">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="x:384">x</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id">V</span>') (<span class="id"><a name="f:385">f</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') =<span class="id">O_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof66')">Proof.</span></div>
<div class="proofscript" id="proof66">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#diff_continuous">diff_continuous</a></span> /<span class="id"><a href="mathcomp.analysis.derive.html#linear_eqO">linear_eqO</a></span>; <span class="id">apply</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compOo_eqox">compOo_eqox</a></span> (<span class="id"><a name="U:386">U</a></span> <span class="id"><a name="V':387">V</a></span>' <span class="id"><a name="W':388">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:389">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:390">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') : <span class="kwd">forall</span> <span class="id"><a name="x:391">x</a></span>,<br/>
&nbsp;&nbsp;[<span class="id">O_</span> (0 : <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>] ([<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>] <span class="id">x</span>) =<span class="id">o_</span>(<span class="id"><a name="x:392">x</a></span> \<span class="id">near</span> 0 : <span class="id">U</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof67')">Proof.</span></div>
<div class="proofscript" id="proof67">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/((<span class="id">_</span> \<span class="id">o</span> <span class="id">_</span>) <span class="id">x</span>) <span class="id"><a href="mathcomp.analysis.derive.html#compOo_eqo">compOo_eqo</a></span>. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dcomp">dcomp</a></span> (<span class="id"><a name="U:396">U</a></span> <span class="id"><a name="V':397">V</a></span>' <span class="id"><a name="W':398">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:399">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>') (<span class="id"><a name="g:400">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') <span class="id"><a name="x:401">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> ('<span class="id">d</span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) \<span class="id">o</span> '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>) /\ <span class="kwd">forall</span> <span class="id"><a name="y:402">y</a></span>,<br/>
&nbsp;&nbsp;<span class="id">g</span> (<span class="id">f</span> (<span class="id">y</span> + <span class="id">x</span>)) = <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) + ('<span class="id">d</span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) \<span class="id">o</span> '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span>) <span class="id">y</span> +<span class="id">o_</span>(<span class="id"><a name="y:403">y</a></span> \<span class="id">near</span> 0 : <span class="id">U</span>) <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof68')">Proof.</span></div>
<div class="proofscript" id="proof68">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous_comp">continuous_comp</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#eqaddoEx">eqaddoEx</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span>// -<span class="id">addrA</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyxC">diff_locallyxC</a></span>// <span class="id">linearD</span>.<br/>
<span class="id">rewrite</span> <span class="id">addrA</span> -<span class="id">addrA</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_eqO">diff_eqO</a></span> // ['<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> : <span class="id">_</span> -&gt; <span class="id">_</span>]<span class="id"><a href="mathcomp.analysis.derive.html#diff_eqO">diff_eqO</a></span> //.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> {2}<span class="id"><a href="mathcomp.analysis.landau.html#eqoO">eqoO</a></span> <span class="id"><a href="mathcomp.analysis.landau.html#addOx">addOx</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#compOo_eqox">compOo_eqox</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#compoO_eqox">compoO_eqox</a></span> <span class="id"><a href="mathcomp.analysis.landau.html#addox">addox</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_comp">diff_comp</a></span> (<span class="id"><a name="U:408">U</a></span> <span class="id"><a name="V':409">V</a></span>' <span class="id"><a name="W':410">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:411">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>') (<span class="id"><a name="g:412">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') <span class="id"><a name="x:413">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">x</span> = '<span class="id">d</span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) \<span class="id">o</span> '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> :&gt; (<span class="id">U</span> -&gt; <span class="id">W</span>').<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof69')">Proof.</span></div>
<div class="proofscript" id="proof69">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [? /<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>] := <span class="id"><a href="mathcomp.analysis.derive.html#dcomp">dcomp</a></span> <span class="id">df</span> <span class="id">dg</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_comp">differentiable_comp</a></span> (<span class="id"><a name="U:414">U</a></span> <span class="id"><a name="V':415">V</a></span>' <span class="id"><a name="W':416">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:417">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:418">g</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') <span class="id"><a name="x:419">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof70')">Proof.</span></div>
<div class="proofscript" id="proof70">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_comp">diff_comp</a></span> //;<br/>
<span class="kwd">by</span> <span class="id">have</span> [? /<span class="id"><a href="mathcomp.classical.boolp.html#funext">funext</a></span>]:= <span class="id"><a href="mathcomp.analysis.derive.html#dcomp">dcomp</a></span> <span class="id">df</span> <span class="id">dg</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_comp">is_diff_comp</a></span> (<span class="id"><a name="U:420">U</a></span> <span class="id"><a name="V':421">V</a></span>' <span class="id"><a name="W':422">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:423">f</a></span> <span class="id"><a name="df:424">df</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:425">g</a></span> <span class="id"><a name="dg:426">dg</a></span> : <span class="id">V</span>' -&gt; <span class="id">W</span>') <span class="id"><a name="x:427">x</a></span> : <span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> (<span class="id">f</span> <span class="id">x</span>) <span class="id">g</span> <span class="id">dg</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> (<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>) (<span class="id">dg</span> \<span class="id">o</span> <span class="id">df</span>) | 99.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof71')">Proof.</span></div>
<div class="proofscript" id="proof71">
<span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiable_comp">differentiable_comp</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_comp">diff_comp</a></span> // !<span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bilinear_schwarz">bilinear_schwarz</a></span> (<span class="id"><a name="U:428">U</a></span> <span class="id"><a name="V':429">V</a></span>' <span class="id"><a name="W':430">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:431">f</a></span> : {<span class="id">bilinear</span> <span class="id">U</span> -&gt; <span class="id">V</span>' -&gt; <span class="id">W</span>'}) : <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="p:432">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id"><a name="k:434">k</a></span>, <span class="id">k</span> &gt; 0 &amp; <span class="kwd">forall</span> <span class="id"><a name="u:436">u</a></span> <span class="id"><a name="v:437">v</a></span>, `|<span class="id">f</span> <span class="id">u</span> <span class="id">v</span>| &lt;= <span class="id">k</span> * `|<span class="id">u</span>| * `|<span class="id">v</span>|.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof72')">Proof.</span></div>
<div class="proofscript" id="proof72">
<span class="id">move</span>=&gt; /(<span class="id">_</span> 0); <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.forms.html#linear0r">linear0r</a></span> =&gt; /(<span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.topology.html#nbhsx_ballx">nbhsx_ballx</a></span> 0 1%:<span class="id">pos</span>)).<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>] <span class="id">he</span>]; <span class="kwd">exists</span> ((2 / <span class="id">e</span>%:<span class="id">num</span>) ^+2) =&gt; // <span class="id">u</span> <span class="id">v</span>.<br/>
<span class="id">have</span> [|<span class="id">un0</span>] := <span class="id">real_le0P</span> (<span class="id">normr_real</span> <span class="id">u</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_le0</span> =&gt; /<span class="id">eqP</span>-&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.forms.html#linear0l">linear0l</a></span> !<span class="id">normr0</span> <span class="id">mulr0</span> <span class="id">mul0r</span>.<br/>
<span class="id">have</span> [|<span class="id">vn0</span>] := <span class="id">real_le0P</span> (<span class="id">normr_real</span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normr_le0</span> =&gt; /<span class="id">eqP</span>-&gt;; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.forms.html#linear0r">linear0r</a></span> !<span class="id">normr0</span> <span class="id">mulr0</span>.<br/>
<span class="id">rewrite</span> -[`|<span class="id">u</span>|]/((<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">un0</span>)%:<span class="id">num</span>) -[`|<span class="id">v</span>|]/((<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">vn0</span>)%:<span class="id">num</span>).<br/>
<span class="id">set</span> <span class="id">ku</span> := 2 / <span class="id">e</span>%:<span class="id">num</span> * (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">un0</span>)%:<span class="id">num</span>.<br/>
<span class="id">set</span> <span class="id">kv</span> := 2 / <span class="id">e</span>%:<span class="id">num</span> * (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">vn0</span>)%:<span class="id">num</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">f</span> <span class="id">X</span>](@<span class="id">scalerKV</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ku</span>) /<span class="id">ku</span> // <span class="id"><a href="mathcomp.analysis.forms.html#linearZl_LR">linearZl_LR</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">gtr0_norm</span> // -<span class="id">ler_pdivl_mull</span> //.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">f</span> <span class="id">_</span> <span class="id">X</span>](@<span class="id">scalerKV</span> <span class="id">_</span> <span class="id">_</span> <span class="id">kv</span>) /<span class="id">kv</span> // <span class="id"><a href="mathcomp.analysis.forms.html#linearZr_LR">linearZr_LR</a></span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">gtr0_norm</span> // -<span class="id">ler_pdivl_mull</span> //.<br/>
<span class="id">suff</span> /<span class="id">he</span> : <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> 0 <span class="id">e</span>%:<span class="id">num</span> (<span class="id">ku</span>^-1 *: <span class="id">u</span>, <span class="id">kv</span>^-1 *: <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span> =&gt; /<span class="id">ltW</span> /<span class="id">le_trans</span>; <span class="id">apply</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">ler_pdivl_mull</span> 1?<span class="id">pmulr_lgt0</span>// <span class="id">mulr1</span> <span class="id">ler_pdivl_mull</span> 1?<span class="id">pmulr_lgt0</span>//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrA</span> [<span class="id">ku</span> * <span class="id">_</span>]<span class="id">mulrAC</span> <span class="id">expr2</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.normedtype.html#ball_normE">ball_normE</a></span> /= <span class="id">distrC</span> <span class="id">subr0</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="id">ku</span>^-1 *: <span class="id">u</span>, <span class="id">kv</span>^-1 *: <span class="id">v</span>) =<br/>
&nbsp;&nbsp;(<span class="id">e</span>%:<span class="id">num</span> / 2) *: ((<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">un0</span>)%:<span class="id">num</span> ^-1 *: <span class="id">u</span>, (<span class="id"><a href="mathcomp.analysis.signed.html#PosNum">PosNum</a></span> <span class="id">vn0</span>)%:<span class="id">num</span> ^-1 *: <span class="id">v</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">invrM</span> ?<span class="id">unitfE</span> // [<span class="id">kv</span> ^-1]<span class="id">invrM</span> ?<span class="id">unitfE</span> //.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">mulrC</span> -[<span class="id">_</span> *: <span class="id">u</span>]<span class="id">scalerA</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> *: <span class="id">v</span>]<span class="id">mulrC</span> -[<span class="id">_</span> *: <span class="id">v</span>]<span class="id">scalerA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invf_div</span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> <span class="id">ger0_norm</span> // -<span class="id">mulrA</span> <span class="id">gtr_pmulr</span> // <span class="id">ltr_pdivr_mull</span> // <span class="id">mulr1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.prodnormedzmodule.html#ProdNormedZmodule.Exports.prod_normE">prod_normE</a></span>/= !<span class="id"><a href="mathcomp.analysis.normedtype.html#normrZ">normrZ</a></span> !<span class="id">normfV</span> !<span class="id">normr_id</span> !<span class="id">mulVf</span> ?<span class="id">gt_eqF</span>// <span class="id">maxxx</span> <span class="id">ltr1n</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bilinear_eqo">bilinear_eqo</a></span> (<span class="id"><a name="U:441">U</a></span> <span class="id"><a name="V':442">V</a></span>' <span class="id"><a name="W':443">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:444">f</a></span> : {<span class="id">bilinear</span> <span class="id">U</span> -&gt; <span class="id">V</span>' -&gt; <span class="id">W</span>'}) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="p:445">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) -&gt; (<span class="kwd">fun</span> <span class="id"><a name="p:447">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) =<span class="id">o_</span> (0 : <span class="id">U</span> * <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof73')">Proof.</span></div>
<div class="proofscript" id="proof73">
<span class="id">move</span>=&gt; <span class="id">fc</span>; <span class="id">have</span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">k</span>] <span class="id">fschwarz</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#bilinear_schwarz">bilinear_schwarz</a></span> <span class="id">fc</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span>=&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> (<span class="id">le_trans</span> (<span class="id">fschwarz</span> <span class="id">_</span> <span class="id">_</span>))//.<br/>
<span class="id">rewrite</span> <span class="id">ler_pmul</span> ?<span class="id">pmulr_rge0</span> //; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.signed.html#num_le_maxr">num_le_maxr</a></span> /= <span class="id">lexx</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#orbT">orbT</a></span>.<br/>
<span class="id">rewrite</span> -<span class="id">ler_pdivl_mull</span> //.<br/>
<span class="id">suff</span> : `|<span class="id">x</span>| &lt;= <span class="id">k</span>%:<span class="id">num</span> ^-1 * <span class="id">e</span>%:<span class="id">num</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">le_trans</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.signed.html#num_le_maxr">num_le_maxr</a></span> /= <span class="id">lexx</span>.<br/>
<span class="id">near</span>: <span class="id">x</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#NearNorm.near_simpl">near_simpl</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_le_nbhs_norm">nbhs_le_nbhs_norm</a></span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">k</span>%:<span class="id">num</span> ^-1 * <span class="id">e</span>%:<span class="id">num</span>) =&gt; //= ? /=; <span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span> =&gt; /<span class="id">ltW</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dbilin">dbilin</a></span> (<span class="id"><a name="U:449">U</a></span> <span class="id"><a name="V':450">V</a></span>' <span class="id"><a name="W':451">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:452">f</a></span> : {<span class="id">bilinear</span> <span class="id">U</span> -&gt; <span class="id">V</span>' -&gt; <span class="id">W</span>'}) <span class="id"><a name="p:453">p</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="p:454">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="q:456">q</a></span> =&gt; (<span class="id">f</span> <span class="id">p</span>.1 <span class="id">q</span>.2 + <span class="id">f</span> <span class="id">q</span>.1 <span class="id">p</span>.2)) /\<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="q:458">q</a></span> =&gt; <span class="id">f</span> <span class="id">q</span>.1 <span class="id">q</span>.2) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">p</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="q:459">q</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">q</span>.2 + <span class="id">f</span> <span class="id">q</span>.1 <span class="id">p</span>.2) +<span class="id">o_</span> (0 : <span class="id">U</span> * <span class="id">V</span>') <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof74')">Proof.</span></div>
<div class="proofscript" id="proof74">
<span class="id">move</span>=&gt; <span class="id">fc</span>; <span class="id">split</span>=&gt; [<span class="id">q</span>|].<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousD">continuousD</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="kwd">fun</span> <span class="id"><a name="q:462">q</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">q</span>.2) (<span class="kwd">fun</span> <span class="id"><a name="q:463">q</a></span> =&gt; <span class="id">f</span> <span class="id">q</span>.1 <span class="id">p</span>.2));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">A</span> /(<span class="id">fc</span> (<span class="id">_</span>.1, <span class="id">_</span>.2)) /= /<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span> [<span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>] <span class="id">fpqe_A</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#nbhs_ballP">nbhs_ballP</a></span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; //= <span class="id">r</span> [? ?]; <span class="id">exact</span>: (<span class="id">fpqe_A</span> (<span class="id">_</span>.1, <span class="id">_</span>.2)).<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">q</span> /=.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.forms.html#linearDl">linearDl</a></span> !<span class="id"><a href="mathcomp.analysis.forms.html#linearDr">linearDr</a></span> <span class="id">addrA</span> <span class="id">addrC</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">f</span> <span class="id">q</span>.1 <span class="id">_</span> + <span class="id">_</span> + <span class="id">_</span>]<span class="id">addrA</span> [<span class="id">f</span> <span class="id">q</span>.1 <span class="id">_</span> + <span class="id">_</span>]<span class="id">addrC</span> <span class="id">addrA</span> [<span class="id">f</span> <span class="id">q</span>.1 <span class="id">_</span> + <span class="id">_</span>]<span class="id">addrC</span>.<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>); <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/((<span class="kwd">fun</span> <span class="id"><a name="p:466">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) <span class="id">q</span>) <span class="id"><a href="mathcomp.analysis.derive.html#bilinear_eqo">bilinear_eqo</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_bilin">diff_bilin</a></span> (<span class="id"><a name="U:469">U</a></span> <span class="id"><a name="V':470">V</a></span>' <span class="id"><a name="W':471">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:472">f</a></span> : {<span class="id">bilinear</span> <span class="id">U</span> -&gt; <span class="id">V</span>' -&gt; <span class="id">W</span>'}) <span class="id"><a name="p:473">p</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="p:474">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) -&gt; '<span class="id">d</span> (<span class="kwd">fun</span> <span class="id"><a name="q:476">q</a></span> =&gt; <span class="id">f</span> <span class="id">q</span>.1 <span class="id">q</span>.2) <span class="id">p</span> =<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="q:477">q</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">q</span>.2 + <span class="id">f</span> <span class="id">q</span>.1 <span class="id">p</span>.2) :&gt; (<span class="id">U</span> * <span class="id">V</span>' -&gt; <span class="id">W</span>').<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof75')">Proof.</span></div>
<div class="proofscript" id="proof75">
<span class="id">move</span>=&gt; <span class="id">fc</span>; <span class="id">have</span> <span class="id">lind</span> : <span class="id">linear</span> (<span class="kwd">fun</span> <span class="id"><a name="q:478">q</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">q</span>.2 + <span class="id">f</span> <span class="id">q</span>.1 <span class="id">p</span>.2).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ???; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.forms.html#linearPr">linearPr</a></span> <span class="id"><a href="mathcomp.analysis.forms.html#linearPl">linearPl</a></span> <span class="id">scalerDr</span> <span class="id">addrACA</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="q:479">q</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">q</span>.2 + <span class="id">f</span> <span class="id">q</span>.1 <span class="id">p</span>.2) = <span class="id">Linear</span> <span class="id">lind</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dbilin">dbilin</a></span> <span class="id">p</span> <span class="id">fc</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_bilin">differentiable_bilin</a></span> (<span class="id"><a name="U:480">U</a></span> <span class="id"><a name="V':481">V</a></span>' <span class="id"><a name="W':482">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:483">f</a></span> : {<span class="id">bilinear</span> <span class="id">U</span> -&gt; <span class="id">V</span>' -&gt; <span class="id">W</span>'}) <span class="id"><a name="p:484">p</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="p:485">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="p:487">p</a></span> =&gt; <span class="id">f</span> <span class="id">p</span>.1 <span class="id">p</span>.2) <span class="id">p</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof76')">Proof.</span></div>
<div class="proofscript" id="proof76">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fc</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_bilin">diff_bilin</a></span> //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#dbilin">dbilin</a></span> <span class="id">p</span> <span class="id">fc</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mulr_rev">mulr_rev</a></span> (<span class="id"><a name="y:488">y</a></span> <span class="id"><a name="x:489">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) := <span class="id">x</span> * <span class="id">y</span>.<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="rev_mulr">rev_mulr</a></span> := @<span class="id"><a href="mathcomp.analysis.forms.html#RevOp">RevOp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.derive.html#mulr_rev">mulr_rev</a></span> (@<span class="id">GRing.mul</span> [<span class="id">ringType</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>])<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#erefl">erefl</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mulr_is_linear">mulr_is_linear</a></span> <span class="id"><a name="x:490">x</a></span> : <span class="id">linear</span> (@<span class="id">GRing.mul</span> [<span class="id">ringType</span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>] <span class="id">x</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof77')">Proof.</span></div>
<div class="proofscript" id="proof77">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ???; <span class="id">rewrite</span> <span class="id">mulrDr</span> <span class="id">scalerAr</span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="mulr_linear">mulr_linear</a></span> <span class="id"><a name="x:491">x</a></span> := <span class="id">Linear</span> (<span class="id"><a href="mathcomp.analysis.derive.html#mulr_is_linear">mulr_is_linear</a></span> <span class="id">x</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mulr_rev_is_linear">mulr_rev_is_linear</a></span> <span class="id"><a name="y:492">y</a></span> : <span class="id">linear</span> (<span class="id"><a href="mathcomp.analysis.derive.html#mulr_rev">mulr_rev</a></span> <span class="id">y</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof78')">Proof.</span></div>
<div class="proofscript" id="proof78">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ???; <span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.derive.html#mulr_rev">mulr_rev</a></span> <span class="id">mulrDl</span> <span class="id">scalerAl</span>. Qed.</div>
<span class="kwd">Canonical</span> <span class="id"><a name="mulr_rev_linear">mulr_rev_linear</a></span> <span class="id"><a name="y:493">y</a></span> := <span class="id">Linear</span> (<span class="id"><a href="mathcomp.analysis.derive.html#mulr_rev_is_linear">mulr_rev_is_linear</a></span> <span class="id">y</span>).<br/>
<br/>
<span class="kwd">Canonical</span> <span class="id"><a name="mulr_bilinear">mulr_bilinear</a></span> :=<br/>
&nbsp;&nbsp;[<span class="id">bilinear</span> <span class="id">of</span> @<span class="id">GRing.mul</span> [<span class="id">ringType</span> <span class="id">of</span> [<span class="id">lmodType</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> <span class="id">of</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>]]].<br/>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_mulr">is_diff_mulr</a></span> (<span class="id"><a name="p:494">p</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> * <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">p</span> (<span class="kwd">fun</span> <span class="id"><a name="q:496">q</a></span> =&gt; <span class="id">q</span>.1 * <span class="id">q</span>.2) (<span class="kwd">fun</span> <span class="id"><a name="q:495">q</a></span> =&gt; <span class="id">p</span>.1 * <span class="id">q</span>.2 + <span class="id">q</span>.1 * <span class="id">p</span>.2).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof79')">Proof.</span></div>
<div class="proofscript" id="proof79">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_bilin">diff_bilin</a></span> // =&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mul_continuous">mul_continuous</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiable_bilin">differentiable_bilin</a></span> =&gt;?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#mul_continuous">mul_continuous</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eqo_pair">eqo_pair</a></span> (<span class="id"><a name="U:497">U</a></span> <span class="id"><a name="V':498">V</a></span>' <span class="id"><a name="W':499">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="F:500">F</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#filter_on">filter_on</a></span> <span class="id">U</span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="f:501">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>') (<span class="id"><a name="g:502">g</a></span> : <span class="id">U</span> -&gt; <span class="id">W</span>') :<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="t:503">t</a></span> =&gt; ([<span class="id">o_F</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">f</span>] <span class="id">t</span>, [<span class="id">o_F</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">g</span>] <span class="id">t</span>)) =<span class="id">o_F</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof80')">Proof.</span></div>
<div class="proofscript" id="proof80">
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqoP">eqoP</a></span> =&gt; <span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">x</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.signed.html#num_le_maxl">num_le_maxl</a></span> /=.<br/>
<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>; <span class="id">near</span>: <span class="id">x</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.landau.html#littleoP">littleoP</a></span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dpair">dpair</a></span> (<span class="id"><a name="U:505">U</a></span> <span class="id"><a name="V':506">V</a></span>' <span class="id"><a name="W':507">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:508">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>') (<span class="id"><a name="g:509">g</a></span> : <span class="id">U</span> -&gt; <span class="id">W</span>') <span class="id"><a name="x:510">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:511">y</a></span> =&gt; ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>, '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span>)) /\<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="y:513">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>, <span class="id">g</span> <span class="id">y</span>)) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>, <span class="id">g</span> <span class="id">x</span>) +<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="y:514">y</a></span> =&gt; ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>, '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span>)) +<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof81')">Proof.</span></div>
<div class="proofscript" id="proof81">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">split</span>=&gt; [?|]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_pair">cvg_pair</a></span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_continuous">diff_continuous</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span> /=.<br/>
<span class="id">rewrite</span> ![<span class="id">_</span> (<span class="id">_</span> + <span class="id">x</span>)]<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyx">diff_locallyx</a></span>//.<br/>
<span class="comment">(*&nbsp;fixme&nbsp;*)</span><br/>
<span class="id">have</span> -&gt; : <span class="kwd">forall</span> <span class="id"><a name="h:517">h</a></span> <span class="id"><a name="e:518">e</a></span>, (<span class="id">f</span> <span class="id">x</span> + '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span> + [<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">h</span>] <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id">g</span> <span class="id">x</span> + '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span> + [<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">e</span>] <span class="id">y</span>) =<br/>
&nbsp;&nbsp;(<span class="id">f</span> <span class="id">x</span>, <span class="id">g</span> <span class="id">x</span>) + ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>, '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span>) +<br/>
&nbsp;&nbsp;([<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">h</span>] <span class="id">y</span>, [<span class="id">o_</span> (0 : <span class="id">U</span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">of</span> <span class="id">e</span>] <span class="id">y</span>) <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span>); <span class="id">rewrite</span> -[<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]/((<span class="kwd">fun</span> <span class="id"><a name="y:519">y</a></span> =&gt; (<span class="id">_</span> <span class="id">y</span>, <span class="id">_</span> <span class="id">y</span>)) <span class="id">y</span>) <span class="id"><a href="mathcomp.analysis.derive.html#eqo_pair">eqo_pair</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_pair">diff_pair</a></span> (<span class="id"><a name="U:522">U</a></span> <span class="id"><a name="V':523">V</a></span>' <span class="id"><a name="W':524">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:525">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>') (<span class="id"><a name="g:526">g</a></span> : <span class="id">U</span> -&gt; <span class="id">W</span>') <span class="id"><a name="x:527">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt; '<span class="id">d</span> (<span class="kwd">fun</span> <span class="id"><a name="y:528">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>, <span class="id">g</span> <span class="id">y</span>)) <span class="id">x</span> =<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="y:529">y</a></span> =&gt; ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>, '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span>)) :&gt; (<span class="id">U</span> -&gt; <span class="id">V</span>' * <span class="id">W</span>').<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof82')">Proof.</span></div>
<div class="proofscript" id="proof82">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>.<br/>
<span class="id">have</span> <span class="id">lin_pair</span> : <span class="id">linear</span> (<span class="kwd">fun</span> <span class="id"><a name="y:530">y</a></span> =&gt; ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>, '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ???; <span class="id">rewrite</span> !<span class="id">linearPZ</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="y:531">y</a></span> =&gt; ('<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> <span class="id">y</span>, '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> <span class="id">y</span>)) = <span class="id">Linear</span> <span class="id">lin_pair</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dpair">dpair</a></span> <span class="id">df</span> <span class="id">dg</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_pair">differentiable_pair</a></span> (<span class="id"><a name="U:532">U</a></span> <span class="id"><a name="V':533">V</a></span>' <span class="id"><a name="W':534">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:535">f</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:536">g</a></span> : <span class="id">U</span> -&gt; <span class="id">W</span>') <span class="id"><a name="x:537">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:538">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>, <span class="id">g</span> <span class="id">y</span>)) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof83')">Proof.</span></div>
<div class="proofscript" id="proof83">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_pair">diff_pair</a></span> //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#dpair">dpair</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diff_pair">is_diff_pair</a></span> (<span class="id"><a name="U:539">U</a></span> <span class="id"><a name="V':540">V</a></span>' <span class="id"><a name="W':541">W</a></span>' : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) (<span class="id"><a name="f:542">f</a></span> <span class="id"><a name="df:543">df</a></span> : <span class="id">U</span> -&gt; <span class="id">V</span>')<br/>
&nbsp;&nbsp;(<span class="id"><a name="g:544">g</a></span> <span class="id"><a name="dg:545">dg</a></span> : <span class="id">U</span> -&gt; <span class="id">W</span>') <span class="id"><a name="x:546">x</a></span> : <span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> <span class="id">g</span> <span class="id">dg</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> (<span class="kwd">fun</span> <span class="id"><a name="y:548">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>, <span class="id">g</span> <span class="id">y</span>)) (<span class="kwd">fun</span> <span class="id"><a name="y:547">y</a></span> =&gt; (<span class="id">df</span> <span class="id">y</span>, <span class="id">dg</span> <span class="id">y</span>)).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof84')">Proof.</span></div>
<div class="proofscript" id="proof84">
<span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DiffDef">DiffDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiable_pair">differentiable_pair</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_pair">diff_pair</a></span> // !<span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diffM">is_diffM</a></span> (<span class="id"><a name="f:549">f</a></span> <span class="id"><a name="g:550">g</a></span> <span class="id"><a name="df:551">df</a></span> <span class="id"><a name="dg:552">dg</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="x:553">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> <span class="id">g</span> <span class="id">dg</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> (<span class="id">f</span> * <span class="id">g</span>) (<span class="id">f</span> <span class="id">x</span> *: <span class="id">dg</span> + <span class="id">g</span> <span class="id">x</span> *: <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof85')">Proof.</span></div>
<div class="proofscript" id="proof85">
<span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgx</span>.<br/>
<span class="id">have</span> -&gt; : <span class="id">f</span> * <span class="id">g</span> = (<span class="kwd">fun</span> <span class="id"><a name="p:554">p</a></span> =&gt; <span class="id">p</span>.1 * <span class="id">p</span>.2) \<span class="id">o</span> (<span class="kwd">fun</span> <span class="id"><a name="y:555">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>, <span class="id">g</span> <span class="id">y</span>)) <span class="kwd">by</span> [].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_diff_eq">is_diff_eq</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; ?; <span class="id">rewrite</span> /= [<span class="id">_</span> * <span class="id">g</span> <span class="id">_</span>]<span class="id">mulrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffM">diffM</a></span> (<span class="id"><a name="f:556">f</a></span> <span class="id"><a name="g:557">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="x:558">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="id">f</span> * <span class="id">g</span>) <span class="id">x</span> = <span class="id">f</span> <span class="id">x</span> \*: '<span class="id">d</span> <span class="id">g</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span> \*: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof86')">Proof.</span></div>
<div class="proofscript" id="proof86">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">dg</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableM">differentiableM</a></span> (<span class="id"><a name="f:559">f</a></span> <span class="id"><a name="g:560">g</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="x:561">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">g</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">f</span> * <span class="id">g</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof87')">Proof.</span></div>
<div class="proofscript" id="proof87">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">dg</span>. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="dinv">dinv</a></span> (<span class="id"><a name="x:562">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="h:563">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> =&gt; - <span class="id">x</span> ^- 2 *: <span class="id">h</span>) /\<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:565">x</a></span> =&gt; <span class="id">x</span>^-1)%<span class="id">R</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">x</span>^-1)%<span class="id">R</span> +<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:566">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> =&gt; - <span class="id">x</span> ^- 2 *: <span class="id">h</span>) +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof88')">Proof.</span></div>
<div class="proofscript" id="proof88">
<span class="id">move</span>=&gt; <span class="id">xn0</span>; <span class="id">suff</span>: <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="h:569">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> =&gt; - (1 / <span class="id">x</span>) ^+ 2 *: <span class="id">h</span>) /\<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="x:571">x</a></span> =&gt; 1 / <span class="id">x</span> ) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (1 / <span class="id">x</span>) +<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:572">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> =&gt; - (1 / <span class="id">x</span>) ^+ 2 *: <span class="id">h</span>) +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">mul1r</span> !<span class="id">GRing.exprVn</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id">_</span> : (<span class="kwd">fun</span> <span class="id"><a name="x:575">x</a></span> =&gt; <span class="id">x</span>^-1) =  (<span class="kwd">fun</span> <span class="id"><a name="x:576">x</a></span> =&gt; 1 / <span class="id">x</span> ))//.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">y</span>; <span class="id">rewrite</span> <span class="id">mul1r</span>.<br/>
<span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousZr">continuousZr</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoP">eqaddoP</a></span> =&gt; <span class="id">_</span> /<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>]; <span class="id">near</span>=&gt; <span class="id">h</span>.<br/>
<span class="id">rewrite</span> -[(<span class="id">_</span> + <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id">h</span>]/(<span class="id">_</span> + <span class="id">_</span>) -[(- <span class="id">_</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id">h</span>]/(- <span class="id">_</span>) /=.<br/>
<span class="id">rewrite</span> <span class="id">opprD</span> <span class="id">scaleNr</span> <span class="id">opprK</span> /<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> /=.<br/>
<span class="id">rewrite</span> -[- <span class="id">_</span>]<span class="id">mulr1</span> -[<span class="id">X</span> <span class="kwd">in</span> - <span class="id">_</span> * <span class="id">X</span>](<span class="id">mulfVK</span> <span class="id">xn0</span>) <span class="id">mulrA</span> <span class="id">mulNr</span> -<span class="id">expr2</span> <span class="id">mulNr</span>.<br/>
<span class="id">rewrite</span> [- <span class="id">_</span> + <span class="id">_</span>]<span class="id">addrC</span> -<span class="id">mulrBr</span>.<br/>
<span class="id">rewrite</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> + <span class="id">_</span>]<span class="id">mulr1</span> -[<span class="id">X</span> <span class="kwd">in</span> 1 / <span class="id">_</span> * <span class="id">X</span>](@<span class="id">mulfVK</span> <span class="id">_</span> (<span class="id">x</span> ^+ 2)); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">sqrf_eq0</span>.<br/>
<span class="id">rewrite</span> <span class="id">mulrA</span> <span class="id">mulf_div</span> <span class="id">mulr1</span>.<br/>
<span class="id">have</span> <span class="id">hDx_neq0</span> : <span class="id">h</span> + <span class="id">x</span> != 0.<br/>
&nbsp;&nbsp;<span class="id">near</span>: <span class="id">h</span>; <span class="id">rewrite</span> !<span class="id"><a href="mathcomp.analysis.normedtype.html#NbhsNorm.nbhs_simpl">nbhs_simpl</a></span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#nbhs_normP">nbhs_normP</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> `|<span class="id">x</span>|; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">normr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span> /=; <span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span> -<span class="id">subr_gt0</span> =&gt; <span class="id">lthx</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id">normr_gt0</span> (<span class="id">h</span> + <span class="id">x</span>)) <span class="id">addrC</span> -[<span class="id">h</span>]<span class="id">opprK</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id">lt_le_trans</span> (<span class="id">ler_dist_dist</span> <span class="id">_</span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ger0_norm</span> <span class="id">normrN</span> //; <span class="id">apply</span>: <span class="id">ltW</span>.<br/>
<span class="id">rewrite</span> <span class="id">addrC</span> -[<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> * <span class="id">_</span>]<span class="id">mulr1</span> -{2}[1](@<span class="id">mulfVK</span> <span class="id">_</span> (<span class="id">h</span> + <span class="id">x</span>)) //.<br/>
<span class="id">rewrite</span> <span class="id">mulrA</span> <span class="id">expr_div_n</span> <span class="id">expr1n</span> <span class="id">mulf_div</span> <span class="id">mulr1</span> [<span class="id">_</span> ^+ 2 * <span class="id">_</span>]<span class="id">mulrC</span> -<span class="id">mulrA</span>.<br/>
<span class="id">rewrite</span> -<span class="id">mulrDr</span> <span class="id">mulrBr</span> [1 / <span class="id">_</span> * <span class="id">_</span>]<span class="id">mulrC</span> <span class="id">normrM</span>.<br/>
<span class="id">rewrite</span> <span class="id">mulrDl</span> <span class="id">mulrDl</span> <span class="id">opprD</span> <span class="id">addrACA</span> <span class="id">addrA</span> [<span class="id">x</span> * <span class="id">_</span>]<span class="id">mulrC</span> <span class="id">expr2</span>.<br/>
<span class="id">do</span> 2 ?[<span class="id">rewrite</span> -<span class="id">addrA</span> [- <span class="id">_</span> + <span class="id">_</span>]<span class="id">addrC</span> <span class="id">subrr</span> <span class="id">addr0</span>].<br/>
<span class="id">rewrite</span> <span class="id">div1r</span> <span class="id">normfV</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> / <span class="id">X</span>]<span class="id">normrM</span> <span class="id">invfM</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> * <span class="id">X</span>]<span class="id">mulrC</span>.<br/>
<span class="id">rewrite</span> <span class="id">mulrA</span> <span class="id">mulrAC</span> <span class="id">ler_pdivr_mulr</span> ?<span class="id">normr_gt0</span> ?<span class="id">mulf_neq0</span> //.<br/>
<span class="id">rewrite</span> <span class="id">mulrAC</span> <span class="id">ler_pdivr_mulr</span> ?<span class="id">normr_gt0</span> //.<br/>
<span class="id">have</span> : `|<span class="id">h</span> * <span class="id">h</span>| &lt;= `|<span class="id">x</span> / 2| * (<span class="id">e</span>%:<span class="id">num</span> * `|<span class="id">x</span> * <span class="id">x</span>| * `|<span class="id">h</span>|).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> !<span class="id">mulrA</span>; <span class="id">near</span>: <span class="id">h</span>; <span class="kwd">exists</span> (`|<span class="id">x</span> / 2| * <span class="id">e</span>%:<span class="id">num</span> * `|<span class="id">x</span> * <span class="id">x</span>|).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> /= !<span class="id">pmulr_rgt0</span> // <span class="id">normr_gt0</span> <span class="id">mulf_neq0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">h</span> /<span class="id">ltW</span>; <span class="id">rewrite</span> <span class="id">distrC</span> <span class="id">subr0</span> [`|<span class="id">h</span> * <span class="id">_</span>|]<span class="id">normrM</span> =&gt; /<span class="id">ler_pmul</span>; <span class="id">apply</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">le_trans</span>-&gt; //; <span class="id">rewrite</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leLHS">leLHS</a></span>]<span class="id">mulrC</span> <span class="id">ler_pmul</span> ?<span class="id">mulr_ge0</span> //.<br/>
<span class="id">near</span>: <span class="id">h</span>; <span class="kwd">exists</span> (`|<span class="id">x</span>| / 2); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">divr_gt0</span> ?<span class="id">normr_gt0</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span> =&gt; <span class="id">lthhx</span>; <span class="id">rewrite</span> <span class="id">addrC</span> -[<span class="id">h</span>]<span class="id">opprK</span>.<br/>
<span class="id">apply</span>: <span class="id">le_trans</span> (@<span class="id">ler_dist_dist</span>  <span class="id">_</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>  <span class="id">_</span> <span class="id">_</span>).<br/>
<span class="id">rewrite</span> <span class="id">normrN</span> [<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#leRHS">leRHS</a></span>]<span class="id">ger0_norm</span>; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">subr_ge0</span>; <span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">apply</span>: <span class="id">lt_le_trans</span> <span class="id">lthhx</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_pdivr_mulr</span> // -{1}(<span class="id">mulr1</span> `|<span class="id">x</span>|) <span class="id">ler_pmul</span> // <span class="id">ler1n</span>.<br/>
<span class="id">rewrite</span> <span class="id">ler_subr_addr</span> -<span class="id">ler_subr_addl</span> (<span class="id">splitr</span> `|<span class="id">x</span>|).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">normrM</span> <span class="id">normfV</span> (@<span class="id">ger0_norm</span> <span class="id">_</span> 2) // -<span class="id">addrA</span> <span class="id">subrr</span> <span class="id">addr0</span>; <span class="id">apply</span>: <span class="id">ltW</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_Rinv">diff_Rinv</a></span> (<span class="id"><a name="x:587">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) : <span class="id">x</span> != 0 -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> <span class="id">GRing.inv</span> <span class="id">x</span> = (<span class="kwd">fun</span> <span class="id"><a name="h:588">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> =&gt; - <span class="id">x</span> ^- 2 *: <span class="id">h</span>) :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof89')">Proof.</span></div>
<div class="proofscript" id="proof89">
<span class="id">move</span>=&gt; <span class="id">xn0</span>; <span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="h:589">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> =&gt; - <span class="id">x</span> ^- 2 *: <span class="id">h</span>) =<br/>
&nbsp;&nbsp;<span class="id">GRing.scale_linear</span> <span class="id">_</span> (- <span class="id">x</span> ^- 2) <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">have</span> [] := <span class="id"><a href="mathcomp.analysis.derive.html#dinv">dinv</a></span> <span class="id">xn0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiable_Rinv">differentiable_Rinv</a></span> (<span class="id"><a name="x:590">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) : <span class="id">x</span> != 0 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">GRing.inv</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof90')">Proof.</span></div>
<div class="proofscript" id="proof90">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">xn0</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_Rinv">diff_Rinv</a></span> //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#dinv">dinv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffV">diffV</a></span> (<span class="id"><a name="f:591">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="x:592">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> != 0 -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="kwd">fun</span> <span class="id"><a name="y:593">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) <span class="id">x</span> = - (<span class="id">f</span> <span class="id">x</span>) ^- 2 \*: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof91')">Proof.</span></div>
<div class="proofscript" id="proof91">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">fxn0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>](<span class="id"><a href="mathcomp.analysis.derive.html#diff_comp">diff_comp</a></span> <span class="id">df</span> (<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_Rinv">differentiable_Rinv</a></span> <span class="id">fxn0</span>)) <span class="id"><a href="mathcomp.analysis.derive.html#diff_Rinv">diff_Rinv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableV">differentiableV</a></span> (<span class="id"><a name="f:594">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="x:595">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id">f</span> <span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:596">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof92')">Proof.</span></div>
<div class="proofscript" id="proof92">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">fxn0</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiable_comp">differentiable_comp</a></span> <span class="id">_</span> (<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_Rinv">differentiable_Rinv</a></span> <span class="id">fxn0</span>).<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_diffX">is_diffX</a></span> (<span class="id"><a name="f:597">f</a></span> <span class="id"><a name="df:598">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="n:599">n</a></span> <span class="id"><a name="x:600">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id">is_diff</span> <span class="id">x</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id">is_diff</span> <span class="id">x</span> (<span class="id">f</span> ^+ <span class="id">n</span>.+1) (<span class="id">n</span>.+1%:<span class="id">R</span> * <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span> *: <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof93')">Proof.</span></div>
<div class="proofscript" id="proof93">
<span class="id">move</span>=&gt; <span class="id">dfx</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">ihn</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">expr1</span> <span class="id">expr0</span> <span class="id">mulr1</span> <span class="id">scale1r</span>.<br/>
<span class="id">rewrite</span> <span class="id">exprS</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_diff_eq">is_diff_eq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">scalerA</span> <span class="id">mulrCA</span> -<span class="id">exprS</span> -<span class="id">scalerDl</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">mulr_natl</span> <span class="id"><a href="mathcomp.classical.functions.html#exprfctE">exprfctE</a></span> -<span class="id">mulrSr</span> <span class="id">mulr_natl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="differentiableX">differentiableX</a></span> (<span class="id"><a name="f:601">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="n:602">n</a></span> <span class="id"><a name="x:603">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> (<span class="id">f</span> ^+ <span class="id">n</span>.+1) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof94')">Proof.</span></div>
<div class="proofscript" id="proof94">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diffX">diffX</a></span> (<span class="id"><a name="f:604">f</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>) <span class="id"><a name="n:605">n</a></span> <span class="id"><a name="x:606">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">d</span> (<span class="id">f</span> ^+ <span class="id">n</span>.+1) <span class="id">x</span> = <span class="id">n</span>.+1%:<span class="id">R</span> * <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span> \*: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType.R">R</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof95')">Proof.</span></div>
<div class="proofscript" id="proof95">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#differentiableP">differentiableP</a></span> <span class="id">df</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DifferentialR3_numFieldType">DifferentialR3_numFieldType</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DeriveRU">DeriveRU</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="DeriveRU.R">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="DeriveRU.U">U</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.U">U</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="DeriveRU.der1">der1</a></span> <span class="id"><a name="f:609">f</a></span> <span class="id"><a name="x:610">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1 -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span> = <span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> (<span class="id">f</span> <span class="id">x</span>) + ( *:%<span class="id">R</span>^~ (<span class="id">f</span>^`() <span class="id">x</span>)) +<span class="id">o_</span> (0 : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span>) <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof96')">Proof.</span></div>
<div class="proofscript" id="proof96">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivable_nbhsP">derivable_nbhsP</a></span> := <span class="id">df</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="h:611">h</a></span> =&gt; (<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">h</span>%:<span class="id">A</span>) = <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; ?; <span class="id">rewrite</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> =&gt;-&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriv1E">deriv1E</a></span> <span class="id"><a name="f:612">f</a></span> <span class="id"><a name="x:613">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1 -&gt; '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> = ( *:%<span class="id">R</span>^~ (<span class="id">f</span>^`() <span class="id">x</span>)) :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.U">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof97')">Proof.</span></div>
<div class="proofscript" id="proof97">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">have</span> <span class="id">lin_scal</span> : <span class="id">linear</span> (<span class="kwd">fun</span> <span class="id"><a name="h:614">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span> =&gt; <span class="id">h</span> *: <span class="id">f</span>^`() <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ?; <span class="id">rewrite</span> <span class="id">scalerDl</span> <span class="id">scalerA</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="h:615">h</a></span> =&gt; <span class="id">h</span> *: <span class="id">f</span>^`() <span class="id">x</span>) = <span class="id">Linear</span> <span class="id">lin_scal</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; [<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#scalel_continuous">scalel_continuous</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.der1">der1</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff1E">diff1E</a></span> <span class="id"><a name="f:616">f</a></span> <span class="id"><a name="x:617">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span> -&gt; '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> = (<span class="kwd">fun</span> <span class="id"><a name="h:618">h</a></span> =&gt; <span class="id">h</span> *: <span class="id">f</span>^`() <span class="id">x</span>) :&gt; (<span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.U">U</a></span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof98')">Proof.</span></div>
<div class="proofscript" id="proof98">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">have</span> <span class="id">lin_scal</span> : <span class="id">linear</span> (<span class="kwd">fun</span> <span class="id"><a name="h:619">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span> =&gt; <span class="id">h</span> *: '<span class="id">d</span> <span class="id">f</span> <span class="id">x</span> 1).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ?; <span class="id">rewrite</span> <span class="id">scalerDl</span> <span class="id">scalerA</span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="h:620">h</a></span> =&gt; <span class="id">h</span> *: <span class="id">f</span>^`() <span class="id">x</span>) = <span class="id">Linear</span> <span class="id">lin_scal</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">derive1E</span>'.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#diff_unique">diff_unique</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#scalel_continuous">scalel_continuous</a></span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>; <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locally">diff_locally</a></span> -&gt; := <span class="id">df</span>; <span class="id">congr</span> (<span class="id">_</span> + <span class="id">_</span> + <span class="id">_</span>).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">h</span> /=; <span class="id">rewrite</span> -{1}[<span class="id">h</span>]<span class="id">mulr1</span> <span class="id">linearZ</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable1_diffP">derivable1_diffP</a></span> <span class="id"><a name="f:621">f</a></span> <span class="id"><a name="x:622">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1 &lt;-&gt; <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof99')">Proof.</span></div>
<div class="proofscript" id="proof99">
<span class="id">split</span>=&gt; <span class="id">dfx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_locallyP">diff_locallyP</a></span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriv1E">deriv1E</a></span> //; <span class="id">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#scalel_continuous">scalel_continuous</a></span>|<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.der1">der1</a></span>].<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable_nbhsP">derivable_nbhsP</a></span>/<span class="id"><a href="mathcomp.analysis.landau.html#eqaddoE">eqaddoE</a></span>.<br/>
<span class="id">have</span> -&gt; : (<span class="kwd">fun</span> <span class="id"><a name="h:623">h</a></span> =&gt; (<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) <span class="id">h</span>%:<span class="id">A</span>) = <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span>=&gt; ?; <span class="id">rewrite</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
<span class="kwd">by</span> <span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.derive.html#diff_locally">diff_locally</a></span> := <span class="id">dfx</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff1E">diff1E</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> =&gt;-&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_within_continuous">derivable_within_continuous</a></span> <span class="id"><a name="f:624">f</a></span> (<span class="id"><a name="i:625">i</a></span> : <span class="id">interval</span> <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU.R">R</a></span>) :<br/>
&nbsp;&nbsp;{<span class="kwd">in</span> <span class="id">i</span>, <span class="kwd">forall</span> <span class="id"><a name="x:626">x</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1} -&gt; {<span class="id">within</span> [<span class="id">set</span>` <span class="id">i</span>], <span class="id">continuous</span> <span class="id">f</span>}.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof100')">Proof.</span></div>
<div class="proofscript" id="proof100">
<span class="id">move</span>=&gt; <span class="id">di</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_in_subspaceT">continuous_in_subspaceT</a></span> =&gt; <span class="id">z</span> /[1!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>] <span class="id">zA</span>.<br/>
<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span>; <span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">di</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DeriveRU">DeriveRU</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="DeriveVW">DeriveVW</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="DeriveVW.R">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="DeriveVW.V">V</a></span> <span class="id"><a name="DeriveVW.W">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.W">W</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable1P">derivable1P</a></span> <span class="id"><a name="f:630">f</a></span> <span class="id"><a name="x:631">x</a></span> <span class="id"><a name="v:632">v</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> &lt;-&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="h:633">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.R">R</a></span> =&gt; <span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>)) 0 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof101')">Proof.</span></div>
<div class="proofscript" id="proof101">
<span class="id">rewrite</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span>; <span class="id">set</span> <span class="id">g1</span> := <span class="kwd">fun</span> <span class="id"><a name="h:634">h</a></span> =&gt; <span class="id">h</span>^-1 *: <span class="id">_</span>; <span class="id">set</span> <span class="id">g2</span> := <span class="kwd">fun</span> <span class="id"><a name="h:635">h</a></span> =&gt; <span class="id">h</span>^-1 *: <span class="id">_</span>.<br/>
<span class="id">suff</span> -&gt; : <span class="id">g1</span> = <span class="id">g2</span> <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> /<span class="id">g1</span> /<span class="id">g2</span> =&gt; <span class="id">h</span> /=; <span class="id">rewrite</span> <span class="id">addr0</span> <span class="id">scale0r</span> <span class="id">add0r</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableP">derivableP</a></span> <span class="id"><a name="f:640">f</a></span> <span class="id"><a name="x:641">x</a></span> <span class="id"><a name="v:642">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> ('<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof102')">Proof.</span></div>
<div class="proofscript" id="proof102">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_derivable">diff_derivable</a></span> <span class="id"><a name="f:643">f</a></span> <span class="id"><a name="a:644">a</a></span> <span class="id"><a name="v:645">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#differentiable">differentiable</a></span> <span class="id">f</span> <span class="id">a</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof103')">Proof.</span></div>
<div class="proofscript" id="proof103">
<span class="id">move</span>=&gt; <span class="id">dfa</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1P">derivable1P</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#differentiable_comp">differentiable_comp</a></span>; <span class="id">rewrite</span> ?<span class="id">scale0r</span> ?<span class="id">add0r</span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_derive_cst">is_derive_cst</a></span> (<span class="id"><a name="a:646">a</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.W">W</a></span>) (<span class="id"><a name="x:647">x</a></span> <span class="id"><a name="v:648">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">a</span>) 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof104')">Proof.</span></div>
<div class="proofscript" id="proof104">
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveE">deriveE</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_derivable">diff_derivable</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_derive_eq">is_derive_eq</a></span> <span class="id"><a name="f:649">f</a></span> (<span class="id"><a name="x:650">x</a></span> <span class="id"><a name="v:651">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.V">V</a></span>) (<span class="id"><a name="df:652">df</a></span> <span class="id"><a name="f':653">f</a></span>' : <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">f</span>' -&gt; <span class="id">f</span>' = <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof105')">Proof.</span></div>
<div class="proofscript" id="proof105">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? &lt;-. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#DeriveVW">DeriveVW</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Derive_lemmasVW">Derive_lemmasVW</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="Derive_lemmasVW.R">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="Derive_lemmasVW.V">V</a></span> <span class="id"><a name="Derive_lemmasVW.W">W</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>.<br/>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="der_add">der_add</a></span> <span class="id"><a name="f:657">f</a></span> <span class="id"><a name="g:658">g</a></span> (<span class="id"><a name="x:659">x</a></span> <span class="id"><a name="v:660">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:661">h</a></span> =&gt; <span class="id">h</span>^-1 *: (((<span class="id">f</span> + <span class="id">g</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) (<span class="id">h</span> *: <span class="id">v</span>) - (<span class="id">f</span> + <span class="id">g</span>) <span class="id">x</span>)) @<br/>
&nbsp;&nbsp;0^'  --&gt; '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span> + '<span class="id">D_v</span> <span class="id">g</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof106')">Proof.</span></div>
<div class="proofscript" id="proof106">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>.<br/>
<span class="id">evar</span> (<span class="id">fg</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">fg</span>) /=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">scalerDr</span> <span class="id">scalerN</span> <span class="id">scalerDr</span> <span class="id">opprD</span> <span class="id">addrACA</span> -!<span class="id">scalerBr</span> /<span class="id">fg</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgD">cvgD</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveD">deriveD</a></span> <span class="id"><a name="f:663">f</a></span> <span class="id"><a name="g:664">g</a></span> (<span class="id"><a name="x:665">x</a></span> <span class="id"><a name="v:666">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (<span class="id">f</span> + <span class="id">g</span>) <span class="id">x</span> = '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span> + '<span class="id">D_v</span> <span class="id">g</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof107')">Proof.</span></div>
<div class="proofscript" id="proof107">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#der_add">der_add</a></span> <span class="id">df</span> <span class="id">dg</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableD">derivableD</a></span> <span class="id"><a name="f:667">f</a></span> <span class="id"><a name="g:668">g</a></span> (<span class="id"><a name="x:669">x</a></span> <span class="id"><a name="v:670">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">f</span> + <span class="id">g</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof108')">Proof.</span></div>
<div class="proofscript" id="proof108">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> (<span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> + <span class="id"><a href="mathcomp.analysis.derive.html#derive">derive</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span>).<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#der_add">der_add</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveD">is_deriveD</a></span> <span class="id"><a name="f:671">f</a></span> <span class="id"><a name="g:672">g</a></span> (<span class="id"><a name="x:673">x</a></span> <span class="id"><a name="v:674">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) (<span class="id"><a name="df:675">df</a></span> <span class="id"><a name="dg:676">dg</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">g</span> <span class="id">dg</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">f</span> + <span class="id">g</span>) (<span class="id">df</span> + <span class="id">dg</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof109')">Proof.</span></div>
<div class="proofscript" id="proof109">
<span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableD">derivableD</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveD">deriveD</a></span> // !<span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_derive_sum">is_derive_sum</a></span> <span class="id"><a name="n:677">n</a></span> (<span class="id"><a name="h:678">h</a></span> : '<span class="id">I_n</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) (<span class="id"><a name="x:679">x</a></span> <span class="id"><a name="v:680">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>)<br/>
&nbsp;&nbsp;(<span class="id"><a name="dh:681">dh</a></span> : '<span class="id">I_n</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) : (<span class="kwd">forall</span> <span class="id"><a name="i:682">i</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">h</span> <span class="id">i</span>) (<span class="id">dh</span> <span class="id">i</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:686">i</a></span> &lt; <span class="id">n</span>) <span class="id">h</span> <span class="id">i</span>) (\<span class="id">sum_</span>(<span class="id"><a name="i:683">i</a></span> &lt; <span class="id">n</span>) <span class="id">dh</span> <span class="id">i</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof110')">Proof.</span></div>
<div class="proofscript" id="proof110">
<span class="kwd">by</span> <span class="id">elim</span>/<span class="id">big_ind2</span> : <span class="id">_</span> =&gt; // [|] *; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_cst">is_derive_cst</a></span>|<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_deriveD">is_deriveD</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_sum">derivable_sum</a></span> <span class="id"><a name="n:689">n</a></span> (<span class="id"><a name="h:690">h</a></span> : '<span class="id">I_n</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) (<span class="id"><a name="x:691">x</a></span> <span class="id"><a name="v:692">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:693">i</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">h</span> <span class="id">i</span>) <span class="id">x</span> <span class="id">v</span>) -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (\<span class="id">sum_</span>(<span class="id"><a name="i:694">i</a></span> &lt; <span class="id">n</span>) <span class="id">h</span> <span class="id">i</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof111')">Proof.</span></div>
<div class="proofscript" id="proof111">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">suff</span> : <span class="kwd">forall</span> <span class="id"><a name="i:697">i</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">h</span> <span class="id">i</span>) ('<span class="id">D_v</span> (<span class="id">h</span> <span class="id">i</span>) <span class="id">x</span>) <span class="kwd">by</span> [].<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive_sum">derive_sum</a></span> <span class="id"><a name="n:698">n</a></span> (<span class="id"><a name="h:699">h</a></span> : '<span class="id">I_n</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) (<span class="id"><a name="x:700">x</a></span> <span class="id"><a name="v:701">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="i:702">i</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">h</span> <span class="id">i</span>) <span class="id">x</span> <span class="id">v</span>) -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (\<span class="id">sum_</span>(<span class="id"><a name="i:703">i</a></span> &lt; <span class="id">n</span>) <span class="id">h</span> <span class="id">i</span>) <span class="id">x</span> = \<span class="id">sum_</span>(<span class="id"><a name="i:706">i</a></span> &lt; <span class="id">n</span>) '<span class="id">D_v</span> (<span class="id">h</span> <span class="id">i</span>) <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof112')">Proof.</span></div>
<div class="proofscript" id="proof112">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">suff</span> <span class="id">dfx</span> : <span class="kwd">forall</span> <span class="id"><a name="i:709">i</a></span>, <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">h</span> <span class="id">i</span>) ('<span class="id">D_v</span> (<span class="id">h</span> <span class="id">i</span>) <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="der_opp">der_opp</a></span> <span class="id"><a name="f:710">f</a></span> (<span class="id"><a name="x:711">x</a></span> <span class="id"><a name="v:712">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:713">h</a></span> =&gt; <span class="id">h</span>^-1 *: (((- <span class="id">f</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) (<span class="id">h</span> *: <span class="id">v</span>) - (- <span class="id">f</span>) <span class="id">x</span>)) @<br/>
&nbsp;&nbsp;0^' --&gt; - '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof113')">Proof.</span></div>
<div class="proofscript" id="proof113">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">evar</span> (<span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">g</span>) /=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">h</span>; <span class="id">rewrite</span> !<span class="id">scalerDr</span> !<span class="id">scalerN</span> -<span class="id">opprD</span> -<span class="id">scalerBr</span> /<span class="id">g</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveN">deriveN</a></span> <span class="id"><a name="f:715">f</a></span> (<span class="id"><a name="x:716">x</a></span> <span class="id"><a name="v:717">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (- <span class="id">f</span>) <span class="id">x</span> = - '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof114')">Proof.</span></div>
<div class="proofscript" id="proof114">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#der_opp">der_opp</a></span> <span class="id">df</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableN">derivableN</a></span> <span class="id"><a name="f:718">f</a></span> (<span class="id"><a name="x:719">x</a></span> <span class="id"><a name="v:720">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (- <span class="id">f</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof115')">Proof.</span></div>
<div class="proofscript" id="proof115">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> (- '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#der_opp">der_opp</a></span>. Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveN">is_deriveN</a></span> <span class="id"><a name="f:721">f</a></span> (<span class="id"><a name="x:722">x</a></span> <span class="id"><a name="v:723">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) (<span class="id"><a name="df:724">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (- <span class="id">f</span>) (- <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof116')">Proof.</span></div>
<div class="proofscript" id="proof116">
<span class="id">move</span>=&gt; <span class="id">dfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableN">derivableN</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveN">deriveN</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveB">is_deriveB</a></span> <span class="id"><a name="f:725">f</a></span> <span class="id"><a name="g:726">g</a></span> (<span class="id"><a name="x:727">x</a></span> <span class="id"><a name="v:728">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) (<span class="id"><a name="df:729">df</a></span> <span class="id"><a name="dg:730">dg</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">g</span> <span class="id">dg</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">f</span> - <span class="id">g</span>) (<span class="id">df</span> - <span class="id">dg</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof117')">Proof.</span></div>
<div class="proofscript" id="proof117">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ??; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_eq">is_derive_eq</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveB">deriveB</a></span> <span class="id"><a name="f:731">f</a></span> <span class="id"><a name="g:732">g</a></span> (<span class="id"><a name="x:733">x</a></span> <span class="id"><a name="v:734">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (<span class="id">f</span> - <span class="id">g</span>) <span class="id">x</span> = '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span> - '<span class="id">D_v</span> <span class="id">g</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof118')">Proof.</span></div>
<div class="proofscript" id="proof118">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span> <span class="id">dg</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableB">derivableB</a></span> <span class="id"><a name="f:735">f</a></span> <span class="id"><a name="g:736">g</a></span> (<span class="id"><a name="x:737">x</a></span> <span class="id"><a name="v:738">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">f</span> - <span class="id">g</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof119')">Proof.</span></div>
<div class="proofscript" id="proof119">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span> <span class="id">dg</span>. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="der_scal">der_scal</a></span> <span class="id"><a name="f:739">f</a></span> (<span class="id"><a name="k:740">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span>) (<span class="id"><a name="x:741">x</a></span> <span class="id"><a name="v:742">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:743">h</a></span> =&gt; <span class="id">h</span>^-1 *: ((<span class="id">k</span> \*: <span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) (<span class="id">h</span> *: <span class="id">v</span>) - (<span class="id">k</span> \*: <span class="id">f</span>) <span class="id">x</span>)) @<br/>
&nbsp;&nbsp;(0 : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span>)^' --&gt; <span class="id">k</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof120')">Proof.</span></div>
<div class="proofscript" id="proof120">
<span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">evar</span> (<span class="id">h</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">h</span>) /=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">r</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">scalerBr</span> !<span class="id">scalerA</span> <span class="id">mulrC</span> -!<span class="id">scalerA</span> -!<span class="id">scalerBr</span> /<span class="id">h</span>.<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgZr">cvgZr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveZ">deriveZ</a></span> <span class="id"><a name="f:745">f</a></span> (<span class="id"><a name="k:746">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span>) (<span class="id"><a name="x:747">x</a></span> <span class="id"><a name="v:748">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (<span class="id">k</span> \*: <span class="id">f</span>) <span class="id">x</span> = <span class="id">k</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof121')">Proof.</span></div>
<div class="proofscript" id="proof121">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#der_scal">der_scal</a></span> <span class="id">df</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableZ">derivableZ</a></span> <span class="id"><a name="f:749">f</a></span> (<span class="id"><a name="k:750">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span>) (<span class="id"><a name="x:751">x</a></span> <span class="id"><a name="v:752">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">k</span> \*: <span class="id">f</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof122')">Proof.</span></div>
<div class="proofscript" id="proof122">
<span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> (<span class="id">k</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>); <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#der_scal">der_scal</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveZ">is_deriveZ</a></span> <span class="id"><a name="f:753">f</a></span> (<span class="id"><a name="k:754">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.R">R</a></span>) (<span class="id"><a name="x:755">x</a></span> <span class="id"><a name="v:756">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.V">V</a></span>) (<span class="id"><a name="df:757">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW.W">W</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">k</span> \*: <span class="id">f</span>) (<span class="id">k</span> *: <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof123')">Proof.</span></div>
<div class="proofscript" id="proof123">
<span class="id">move</span>=&gt; <span class="id">dfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableZ">derivableZ</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveZ">deriveZ</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVW">Derive_lemmasVW</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Derive_lemmasVR">Derive_lemmasVR</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="Derive_lemmasVR.R">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="Derive_lemmasVR.V">V</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>).<br/>
<span class="kwd">Implicit</span> <span class="id">Types</span> <span class="id">f</span> <span class="id">g</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>.<br/>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="der_mult">der_mult</a></span> <span class="id"><a name="f:760">f</a></span> <span class="id"><a name="g:761">g</a></span> (<span class="id"><a name="x:762">x</a></span> <span class="id"><a name="v:763">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:764">h</a></span> =&gt; <span class="id">h</span>^-1 *: (((<span class="id">f</span> * <span class="id">g</span>) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) (<span class="id">h</span> *: <span class="id">v</span>) - (<span class="id">f</span> * <span class="id">g</span>) <span class="id">x</span>)) @<br/>
&nbsp;&nbsp;(0 : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>)^' --&gt; <span class="id">f</span> <span class="id">x</span> *: '<span class="id">D_v</span> <span class="id">g</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof124')">Proof.</span></div>
<div class="proofscript" id="proof124">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>.<br/>
<span class="id">evar</span> (<span class="id">fg</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>); <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">X</span> @ <span class="id">_</span>](<span class="id">_</span> : <span class="id">_</span> = <span class="id">fg</span>) /=; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#funeqE">funeqE</a></span> =&gt; <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> -&gt; : (<span class="id">f</span> * <span class="id">g</span>) (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) - (<span class="id">f</span> * <span class="id">g</span>) <span class="id">x</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) *: (<span class="id">g</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) - <span class="id">g</span> <span class="id">x</span>) + <span class="id">g</span> <span class="id">x</span> *: (<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) - <span class="id">f</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">scalerBr</span> -<span class="id">addrA</span> ![<span class="id">g</span> <span class="id">x</span> *: <span class="id">_</span>]<span class="id">mulrC</span> <span class="id">addKr</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">scalerDr</span> <span class="id">scalerA</span> <span class="id">mulrC</span> -<span class="id">scalerA</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id">_</span> *: (<span class="id">g</span> <span class="id">x</span> *: <span class="id">_</span>)]<span class="id">scalerA</span> <span class="id">mulrC</span> -<span class="id">scalerA</span> /<span class="id">fg</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgD">cvgD</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgZr">cvgZr</a></span> <span class="id">df</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_comp2">cvg_comp2</a></span> (@<span class="id"><a href="mathcomp.analysis.normedtype.html#mul_continuous">mul_continuous</a></span> <span class="id">_</span> (<span class="id">_</span>, <span class="id">_</span>)) =&gt; /=; <span class="id">last</span> <span class="id">exact</span>: <span class="id">dg</span>.<br/>
<span class="id">suff</span> : {<span class="kwd">for</span> 0, <span class="id"><a href="mathcomp.analysis.topology.html#continuous">continuous</a></span> (<span class="kwd">fun</span> <span class="id"><a name="h:766">h</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span> =&gt; <span class="id">f</span>(<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>))}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.topology.html#continuous_withinNx">continuous_withinNx</a></span>; <span class="id">rewrite</span> <span class="id">scale0r</span> <span class="id">add0r</span>.<br/>
<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>/(<span class="id"><a href="mathcomp.analysis.derive.html#derivable1P">derivable1P</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>).1.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveM">deriveM</a></span> <span class="id"><a name="f:768">f</a></span> <span class="id"><a name="g:769">g</a></span> (<span class="id"><a name="x:770">x</a></span> <span class="id"><a name="v:771">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (<span class="id">f</span> * <span class="id">g</span>) <span class="id">x</span> = <span class="id">f</span> <span class="id">x</span> *: '<span class="id">D_v</span> <span class="id">g</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof125')">Proof.</span></div>
<div class="proofscript" id="proof125">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#der_mult">der_mult</a></span> <span class="id">df</span> <span class="id">dg</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableM">derivableM</a></span> <span class="id"><a name="f:772">f</a></span> <span class="id"><a name="g:773">g</a></span> (<span class="id"><a name="x:774">x</a></span> <span class="id"><a name="v:775">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">f</span> * <span class="id">g</span>) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof126')">Proof.</span></div>
<div class="proofscript" id="proof126">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">x</span> *: '<span class="id">D_v</span> <span class="id">g</span> <span class="id">x</span> + <span class="id">g</span> <span class="id">x</span> *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#der_mult">der_mult</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveM">is_deriveM</a></span> <span class="id"><a name="f:776">f</a></span> <span class="id"><a name="g:777">g</a></span> (<span class="id"><a name="x:778">x</a></span> <span class="id"><a name="v:779">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) (<span class="id"><a name="df:780">df</a></span> <span class="id"><a name="dg:781">dg</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">g</span> <span class="id">dg</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">f</span> * <span class="id">g</span>) (<span class="id">f</span> <span class="id">x</span> *: <span class="id">dg</span> + <span class="id">g</span> <span class="id">x</span> *: <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof127')">Proof.</span></div>
<div class="proofscript" id="proof127">
<span class="id">move</span>=&gt; <span class="id">dfx</span> <span class="id">dgx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableM">derivableM</a></span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveM">deriveM</a></span> // !<span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>.<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveX">is_deriveX</a></span> <span class="id"><a name="f:782">f</a></span> <span class="id"><a name="n:783">n</a></span> (<span class="id"><a name="x:784">x</a></span> <span class="id"><a name="v:785">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) (<span class="id"><a name="df:786">df</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id">f</span> <span class="id">df</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> (<span class="id">f</span> ^+ <span class="id">n</span>.+1) ((<span class="id">n</span>.+1%:<span class="id">R</span> * <span class="id">f</span> <span class="id">x</span> ^+<span class="id">n</span>) *: <span class="id">df</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof128')">Proof.</span></div>
<div class="proofscript" id="proof128">
<span class="id">move</span>=&gt; <span class="id">dfx</span>; <span class="id">elim</span>: <span class="id">n</span> =&gt; [|<span class="id">n</span> <span class="id">ihn</span>]; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">expr1</span> <span class="id">expr0</span> <span class="id">mulr1</span> <span class="id">scale1r</span>.<br/>
<span class="id">rewrite</span> <span class="id">exprS</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_eq">is_derive_eq</a></span>.<br/>
<span class="id">rewrite</span> <span class="id">scalerA</span> -<span class="id">scalerDl</span> <span class="id">mulrCA</span> -[<span class="id">f</span> <span class="id">x</span> * <span class="id">_</span>]<span class="id">exprS</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="kwd">in</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">mulr_natl</span> <span class="id"><a href="mathcomp.classical.functions.html#exprfctE">exprfctE</a></span> -<span class="id">mulrSr</span> <span class="id">mulr_natl</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableX">derivableX</a></span> <span class="id"><a name="f:787">f</a></span> <span class="id"><a name="n:788">n</a></span> (<span class="id"><a name="x:789">x</a></span> <span class="id"><a name="v:790">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="id">f</span> ^+ <span class="id">n</span>.+1) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof129')">Proof.</span></div>
<div class="proofscript" id="proof129">
 <span class="kwd">by</span> <span class="id">move</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveX">deriveX</a></span> <span class="id"><a name="f:791">f</a></span> <span class="id"><a name="n:792">n</a></span> (<span class="id"><a name="x:793">x</a></span> <span class="id"><a name="v:794">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (<span class="id">f</span> ^+ <span class="id">n</span>.+1) <span class="id">x</span> = (<span class="id">n</span>.+1%:<span class="id">R</span> * <span class="id">f</span> <span class="id">x</span> ^+ <span class="id">n</span>) *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof130')">Proof.</span></div>
<div class="proofscript" id="proof130">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#derivableP">derivableP</a></span> <span class="id">df</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>. Qed.</div>
<br/>
<span class="kwd">Fact</span> <span class="id"><a name="der_inv">der_inv</a></span> <span class="id"><a name="f:795">f</a></span> (<span class="id"><a name="x:796">x</a></span> <span class="id"><a name="v:797">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) : <span class="id">f</span> <span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id"><a name="h:798">h</a></span> =&gt; <span class="id">h</span>^-1 *: (((<span class="kwd">fun</span> <span class="id"><a name="y:799">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">x</span>) (<span class="id">h</span> *: <span class="id">v</span>) - (<span class="id">f</span> <span class="id">x</span>)^-1)) @<br/>
&nbsp;&nbsp;(0 : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>)^' --&gt; - (<span class="id">f</span> <span class="id">x</span>) ^-2 *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof131')">Proof.</span></div>
<div class="proofscript" id="proof131">
<span class="id">move</span>=&gt; <span class="id">fxn0</span> <span class="id">df</span>.<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivable1P">derivable1P</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_continuous">differentiable_continuous</a></span> := <span class="id">df</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.topology.html#continuous_withinNx">continuous_withinNx</a></span>; <span class="id">rewrite</span> <span class="id">scale0r</span> <span class="id">add0r</span> =&gt; <span class="id">fc</span>.<br/>
<span class="id">have</span> <span class="id">fn0</span> : (0 : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>)^' [<span class="id">set</span> <span class="id"><a name="h:800">h</a></span> | <span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) != 0].<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (<span class="id">fc</span> [<span class="id">set</span> <span class="id"><a name="x:801">x</a></span> | <span class="id">x</span> != 0]); <span class="kwd">exists</span> `|<span class="id">f</span> <span class="id">x</span>|; <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">normr_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">y</span>; <span class="id">rewrite</span> /= =&gt; <span class="id">yltfx</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">eqP</span> =&gt; <span class="id">y0</span>; <span class="id">move</span>: <span class="id">yltfx</span>; <span class="id">rewrite</span> <span class="id">y0</span> <span class="id">subr0</span> <span class="id">ltxx</span>.<br/>
<span class="id">have</span> : (<span class="kwd">fun</span> <span class="id"><a name="h:803">h</a></span> =&gt; - ((<span class="id">f</span> <span class="id">x</span>)^-1 * (<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>))^-1) *:<br/>
&nbsp;&nbsp;(<span class="id">h</span>^-1 *: (<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) - <span class="id">f</span> <span class="id">x</span>))) @ (0 : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>)^' --&gt;<br/>
&nbsp;&nbsp;- (<span class="id">f</span> <span class="id">x</span>) ^- 2 *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgM">cvgM</a></span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN</a></span>; <span class="id">rewrite</span> <span class="id">expr2</span> <span class="id">invfM</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgM">cvgM</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_cst">cvg_cst</a></span>|  <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgV">cvgV</a></span>].<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> =&gt; <span class="id">A</span> [<span class="id">_</span>/<span class="id"><a href="mathcomp.analysis.signed.html#posnumP">posnumP</a></span>[<span class="id">e</span>] /= <span class="id">Ae</span>].<br/>
<span class="id">move</span>: <span class="id">fn0</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#filter_app">filter_app</a></span>; <span class="id">near</span>=&gt; <span class="id">h</span> =&gt; /= <span class="id">fhvxn0</span>.<br/>
<span class="id">have</span> <span class="id">he</span> : <span class="id"><a href="mathcomp.analysis.topology.html#ball">ball</a></span> 0 <span class="id">e</span>%:<span class="id">num</span> (<span class="id">h</span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.R">R</a></span>) <span class="kwd">by</span> <span class="id">near</span>: <span class="id">h</span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; /=.<br/>
<span class="id">have</span> <span class="id">hn0</span> : <span class="id">h</span> != 0 <span class="kwd">by</span> <span class="id">near</span>: <span class="id">h</span>; <span class="kwd">exists</span> <span class="id">e</span>%:<span class="id">num</span> =&gt; /=.<br/>
<span class="id">suff</span> &lt;- :<br/>
&nbsp;&nbsp;- ((<span class="id">f</span> <span class="id">x</span>)^-1 * (<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>))^-1) *: (<span class="id">h</span>^-1 *: (<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>) - <span class="id">f</span> <span class="id">x</span>)) =<br/>
&nbsp;&nbsp;<span class="id">h</span>^-1 *: ((<span class="id">f</span> (<span class="id">h</span> *: <span class="id">v</span> + <span class="id">x</span>))^-1 - (<span class="id">f</span> <span class="id">x</span>)^-1) <span class="kwd">by</span> <span class="id">exact</span>: <span class="id">Ae</span>.<br/>
<span class="id">rewrite</span> <span class="id">scalerA</span> <span class="id">mulrC</span> -<span class="id">scalerA</span>; <span class="id">congr</span> (<span class="id">_</span> *: <span class="id">_</span>).<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">scaleNr</span> <span class="id">eqr_oppLR</span> <span class="id">opprB</span> <span class="id">scalerBr</span>.<br/>
<span class="id">rewrite</span> -<span class="id">scalerA</span> [<span class="id">_</span> *: <span class="id">f</span> <span class="id">_</span>]<span class="id">mulVf</span> // [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mulrC</span> -<span class="id">scalerA</span> [<span class="id">_</span> *: <span class="id">f</span> <span class="id">_</span>]<span class="id">mulVf</span> // [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>.<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="deriveV">deriveV</a></span> <span class="id"><a name="f:804">f</a></span> <span class="id"><a name="x:805">x</a></span> <span class="id"><a name="v:806">v</a></span> : <span class="id">f</span> <span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;'<span class="id">D_v</span> (<span class="kwd">fun</span> <span class="id"><a name="y:807">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) <span class="id">x</span> = - (<span class="id">f</span> <span class="id">x</span>) ^- 2 *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof132')">Proof.</span></div>
<div class="proofscript" id="proof132">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">fxn0</span> <span class="id">df</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_lim">cvg_lim</a></span> (<span class="id"><a href="mathcomp.analysis.derive.html#der_inv">der_inv</a></span> <span class="id">fxn0</span> <span class="id">df</span>). Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivableV">derivableV</a></span> <span class="id"><a name="f:808">f</a></span> (<span class="id"><a name="x:809">x</a></span> <span class="id"><a name="v:810">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) :<br/>
&nbsp;&nbsp;<span class="id">f</span> <span class="id">x</span> != 0 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> <span class="id">v</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="kwd">fun</span> <span class="id"><a name="y:811">y</a></span> =&gt; (<span class="id">f</span> <span class="id">y</span>)^-1) <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof133')">Proof.</span></div>
<div class="proofscript" id="proof133">
<span class="id">move</span>=&gt; <span class="id">df</span> <span class="id">dg</span>; <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.topology.html#cvg_ex">cvg_ex</a></span>; <span class="kwd">exists</span> (- (<span class="id">f</span> <span class="id">x</span>) ^- 2 *: '<span class="id">D_v</span> <span class="id">f</span> <span class="id">x</span>).<br/>
<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#der_inv">der_inv</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1_cst">derive1_cst</a></span> (<span class="id"><a name="k:812">k</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR.V">V</a></span>) <span class="id"><a name="t:813">t</a></span> : (<span class="id"><a href="mathcomp.classical.functions.html#cst">cst</a></span> <span class="id">k</span>)^`() <span class="id">t</span> = 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof134')">Proof.</span></div>
<div class="proofscript" id="proof134">
 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#Derive_lemmasVR">Derive_lemmasVR</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EVT_max">EVT_max</a></span> (<span class="id"><a name="R:814">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:815">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:816">a</a></span> <span class="id"><a name="b:817">b</a></span> : <span class="id">R</span>) : <br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="kwd">exists2</span> <span class="id"><a name="c:818">c</a></span>, <span class="id">c</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> &amp;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="t:820">t</a></span>, <span class="id">t</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt;= <span class="id">f</span> <span class="id">c</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof135')">Proof.</span></div>
<div class="proofscript" id="proof135">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fcont</span>; <span class="id">set</span> <span class="id">imf</span> := <span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>].<br/>
<span class="id">have</span> <span class="id">imf_sup</span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#has_sup">has_sup</a></span> <span class="id">imf</span>.<br/>
&nbsp;&nbsp;<span class="id">split</span>; <span class="id">first</span> <span class="kwd">by</span> <span class="kwd">exists</span> (<span class="id">f</span> <span class="id">a</span>); <span class="id">apply</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#imageP">imageP</a></span>; <span class="id">rewrite</span> /= <span class="id">in_itv</span> /= <span class="id">lexx</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> [<span class="id">M</span> [<span class="id">Mreal</span> <span class="id">imfltM</span>]] : <span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_set">bounded_set</a></span> (<span class="id">f</span> @` `[<span class="id">a</span>, <span class="id">b</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#compact_bounded">compact_bounded</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_compact">continuous_compact</a></span> =&gt; //; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#segment_compact">segment_compact</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">M</span> + 1) =&gt; <span class="id">y</span> /<span class="id">imfltM</span> <span class="id">yleM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_trans</span> <span class="id">_</span> (<span class="id">yleM</span> <span class="id">_</span> <span class="id">_</span>)) ?<span class="id">ler_norm</span> ?<span class="id">ltr_addl</span>.<br/>
<span class="id">have</span> [|<span class="id">imf_ltsup</span>] := <span class="id"><a href="mathcomp.classical.boolp.html#pselect">pselect</a></span> (<span class="kwd">exists2</span> <span class="id"><a name="c:821">c</a></span>, <span class="id">c</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> &amp; <span class="id">f</span> <span class="id">c</span> = <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">imf</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; [<span class="id">c</span> <span class="id">cab</span> <span class="id">fceqsup</span>]; <span class="kwd">exists</span> <span class="id">c</span> =&gt; // <span class="id">t</span> <span class="id">tab</span>; <span class="id">rewrite</span> <span class="id">fceqsup</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#imageP">imageP</a></span>.<br/>
<span class="id">have</span> {}<span class="id">imf_ltsup</span> <span class="id">t</span> : <span class="id">t</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">imf</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">tab</span>; <span class="id">case</span>: (<span class="id">ltrP</span> (<span class="id">f</span> <span class="id">t</span>) (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">imf</span>)) =&gt; // <span class="id">supleft</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.boolp.html#falseE">falseE</a></span>; <span class="id">apply</span>: <span class="id">imf_ltsup</span>; <span class="kwd">exists</span> <span class="id">t</span> =&gt; //; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id">supleft</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andbT">andbT</a></span> <span class="id"><a href="mathcomp.analysis.reals.html#sup_upper_bound">sup_upper_bound</a></span>//; <span class="id">exact</span>/<span class="id"><a href="mathcomp.classical.classical_sets.html#imageP">imageP</a></span>.<br/>
<span class="id">pose</span> <span class="id">g</span> <span class="id"><a name="t:824">t</a></span> : <span class="id">R</span> := (<span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">imf</span> - <span class="id">f</span> <span class="id">t</span>)^-1.<br/>
<span class="id">have</span> <span class="id">invf_continuous</span> : {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span> =&gt; <span class="id">t</span> <span class="id">tab</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgV">cvgV</a></span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_eq0</span> <span class="id">gt_eqF</span> // <span class="id">imf_ltsup</span> //; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> <span class="kwd">in</span> <span class="id">tab</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgD">cvgD</a></span>; [<span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cst_continuous">cst_continuous</a></span> | <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#cvgN">cvgN</a></span>; <span class="id">exact</span>: (<span class="id">fcont</span> <span class="id">t</span>)].<br/>
<span class="id">have</span> /<span class="id"><a href="mathcomp.analysis.normedtype.html#ex_strict_bound_gt0">ex_strict_bound_gt0</a></span> [<span class="id">k</span> <span class="id">k_gt0</span> /= <span class="id">imVfltk</span>] : <span class="id"><a href="mathcomp.analysis.normedtype.html#bounded_set">bounded_set</a></span> (<span class="id">g</span> @` `[<span class="id">a</span>, <span class="id">b</span>]).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#compact_bounded">compact_bounded</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_compact">continuous_compact</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#segment_compact">segment_compact</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>: <span class="id">invf_continuous</span>.<br/>
<span class="id">have</span> [<span class="id">_</span> [<span class="id">t</span> <span class="id">tab</span> &lt;-]] : <span class="kwd">exists2</span> <span class="id"><a name="y:826">y</a></span>, <span class="id">imf</span> <span class="id">y</span> &amp; <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">imf</span> - <span class="id">k</span>^-1 &lt; <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.reals.html#sup_adherent">sup_adherent</a></span> =&gt; //; <span class="id">rewrite</span> <span class="id">invr_gt0</span>.<br/>
<span class="id">rewrite</span> <span class="id">ltr_subl_addr</span> -<span class="id">ltr_subl_addl</span>.<br/>
<span class="id">suff</span> : <span class="id"><a href="mathcomp.analysis.reals.html#sup">sup</a></span> <span class="id">imf</span> - <span class="id">f</span> <span class="id">t</span> &gt; <span class="id">k</span>^-1 <span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">ltW</span>; <span class="id">rewrite</span> <span class="id">leNgt</span> =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#negbTE">negbTE</a></span> -&gt;.<br/>
<span class="id">rewrite</span> -[<span class="id"><a href="mathcomp.classical.mathcomp_extra.html#ltRHS">ltRHS</a></span>]<span class="id">invrK</span> <span class="id">ltf_pinv</span>// ?<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#qualifE">qualifE</a></span> ?<span class="id">invr_gt0</span> ?<span class="id">subr_gt0</span> ?<span class="id">imf_ltsup</span>//.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">le_lt_trans</span> (<span class="id">ler_norm</span> <span class="id">_</span>) <span class="id">_</span>) ?<span class="id">imVfltk</span>//; <span class="id">exact</span>: <span class="id"><a href="mathcomp.classical.classical_sets.html#imageP">imageP</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="EVT_min">EVT_min</a></span> (<span class="id"><a name="R:828">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:829">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:830">a</a></span> <span class="id"><a name="b:831">b</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">b</span> -&gt; {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="kwd">exists2</span> <span class="id"><a name="c:832">c</a></span>, <span class="id">c</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> &amp;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="t:834">t</a></span>, <span class="id">t</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">c</span> &lt;= <span class="id">f</span> <span class="id">t</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof136')">Proof.</span></div>
<div class="proofscript" id="proof136">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fcont</span>.<br/>
<span class="id">have</span> /(<span class="id"><a href="mathcomp.analysis.derive.html#EVT_max">EVT_max</a></span> <span class="id">leab</span>) [<span class="id">c</span> <span class="id">clr</span> <span class="id">fcmax</span>] : {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> (- <span class="id">f</span>)}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; ?; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span> =&gt; ?; <span class="id">exact</span>: <span class="id">fcont</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">c</span> =&gt; // ? /<span class="id">fcmax</span>; <span class="id">rewrite</span> <span class="id">ler_opp2</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__le0r_cvg_map">__deprecated__le0r_cvg_map</a></span> (<span class="id"><a name="R:835">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="T:836">T</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="F:837">F</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>))<br/>
&nbsp;&nbsp;(<span class="id"><a name="FF:838">FF</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">ProperFilter</a></span> <span class="id">F</span>) (<span class="id"><a name="f:839">f</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id"><a name="x:840">x</a></span> \<span class="id">near</span> <span class="id">F</span>, 0 &lt;= <span class="id">f</span> <span class="id">x</span>) -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; 0 &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">f</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof137')">Proof.</span></div>
<div class="proofscript" id="proof137">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limr_ge">limr_ge</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">generalized</span> <span class="kwd">by</span> `<span class="id">limr_ge</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="le0r_cvg_map">le0r_cvg_map</a></span> := <span class="id"><a href="mathcomp.analysis.derive.html#__deprecated__le0r_cvg_map">__deprecated__le0r_cvg_map</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__ler0_cvg_map">__deprecated__ler0_cvg_map</a></span> (<span class="id"><a name="R:841">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="T:842">T</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="F:843">F</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>))<br/>
&nbsp;&nbsp;(<span class="id"><a name="FF:844">FF</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">ProperFilter</a></span> <span class="id">F</span>) (<span class="id"><a name="f:845">f</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id"><a name="x:846">x</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">x</span> &lt;= 0) -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">f</span> @ <span class="id">F</span>) &lt;= 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof138')">Proof.</span></div>
<div class="proofscript" id="proof138">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#limr_le">limr_le</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">generalized</span> <span class="kwd">by</span> `<span class="id">limr_le</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="ler0_cvg_map">ler0_cvg_map</a></span> := <span class="id"><a href="mathcomp.analysis.derive.html#__deprecated__ler0_cvg_map">__deprecated__ler0_cvg_map</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="__deprecated__ler_cvg_map">__deprecated__ler_cvg_map</a></span> (<span class="id"><a name="R:847">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="T:848">T</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#Topological.Exports.topologicalType">topologicalType</a></span>) (<span class="id"><a name="F:849">F</a></span> : <span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> (<span class="id"><a href="mathcomp.classical.classical_sets.html#set">set</a></span> <span class="id">T</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a name="FF:850">FF</a></span> : <span class="id"><a href="mathcomp.analysis.topology.html#ProperFilter">ProperFilter</a></span> <span class="id">F</span>) (<span class="id"><a name="f:851">f</a></span> <span class="id"><a name="g:852">g</a></span> : <span class="id">T</span> -&gt; <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(\<span class="kwd">forall</span> <span class="id"><a name="x:853">x</a></span> \<span class="id">near</span> <span class="id">F</span>, <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">g</span> <span class="id">x</span>) -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">f</span> @ <span class="id">F</span>) -&gt; <span class="id"><a href="mathcomp.analysis.topology.html#cvg">cvg</a></span> (<span class="id">g</span> @ <span class="id">F</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">f</span> @ <span class="id">F</span>) &lt;= <span class="id"><a href="mathcomp.analysis.topology.html#lim">lim</a></span> (<span class="id">g</span> @ <span class="id">F</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof139')">Proof.</span></div>
<div class="proofscript" id="proof139">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; ? ? ?; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#ler_lim">ler_lim</a></span>. Qed.</div>
#[<span class="id">deprecated</span>(<span class="id">since</span>="<span class="id">mathcomp</span>-<span class="id">analysis</span> 0.6.0",<br/>
&nbsp;&nbsp;<span class="id">note</span>="<span class="id">subsumed</span> <span class="kwd">by</span> `<span class="id">ler_lim</span>`")]<br/>
<span class="kwd">Notation</span> <span class="id"><a name="ler_cvg_map">ler_cvg_map</a></span> := <span class="id"><a href="mathcomp.analysis.derive.html#__deprecated__ler_cvg_map">__deprecated__ler_cvg_map</a></span> (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1_at_max">derive1_at_max</a></span> (<span class="id"><a name="R:854">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="f:855">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:856">a</a></span> <span class="id"><a name="b:857">b</a></span> <span class="id"><a name="c:858">c</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">b</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="t:859">t</a></span>, <span class="id">t</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">t</span> 1) -&gt; <span class="id">c</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:860">t</a></span>, <span class="id">t</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">t</span> &lt;= <span class="id">f</span> <span class="id">c</span>) -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">c</span> 1 <span class="id">f</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof140')">Proof.</span></div>
<div class="proofscript" id="proof140">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fdrvbl</span> <span class="id">cab</span> <span class="id">cmax</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">fdrvbl</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span>; <span class="id">apply</span>/<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>; <span class="id">split</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> ['<span class="id">D_1</span> <span class="id">f</span> <span class="id">c</span>]<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_rightE">cvg_at_rightE</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">fdrvbl</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#limr_le">limr_le</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">have</span> /<span class="id">fdrvbl</span> <span class="id">dfc</span> := <span class="id">cab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_rightE">cvg_at_rightE</a></span> (<span class="kwd">fun</span> <span class="id"><a name="h:861">h</a></span> : <span class="id">R</span> =&gt; <span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">c</span>) <span class="id">_</span> - <span class="id">f</span> <span class="id">c</span>))) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">dfc</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">A</span> [<span class="id">e</span> <span class="id">egt0</span> <span class="id">Ae</span>]; <span class="kwd">exists</span> <span class="id">e</span> =&gt; // <span class="id">x</span> <span class="id">xe</span> <span class="id">xgt0</span>; <span class="id">apply</span>: <span class="id">Ae</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">lt0r_neq0</span>.<br/>
&nbsp;&nbsp;<span class="id">near</span>=&gt; <span class="id">h</span>; <span class="id">apply</span>: <span class="id">mulr_ge0_le0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invr_ge0</span>; <span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">near</span>: <span class="id">h</span>; <span class="kwd">exists</span> 1 =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">subr_le0</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>; <span class="id">apply</span>: <span class="id">cmax</span>; <span class="id">near</span>: <span class="id">h</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> (<span class="id">b</span> - <span class="id">c</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">subr_gt0</span> (<span class="id">itvP</span> <span class="id">cab</span>).<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span> /= <span class="id">in_itv</span> /= -<span class="id">ltr_subr_addr</span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; /(<span class="id">le_lt_trans</span> (<span class="id">ler_norm</span> <span class="id">_</span>)) -&gt; /<span class="id">ltr_spsaddl</span> -&gt; //.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">cab</span>).<br/>
<span class="id">rewrite</span> ['<span class="id">D_1</span> <span class="id">f</span> <span class="id">c</span>]<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_leftE">cvg_at_leftE</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">fdrvbl</span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#limr_ge">limr_ge</a></span>.<br/>
&nbsp;&nbsp;<span class="id">have</span> /<span class="id">fdrvbl</span> <span class="id">dfc</span> := <span class="id">cab</span>; <span class="id">rewrite</span> -(<span class="id"><a href="mathcomp.analysis.normedtype.html#cvg_at_leftE">cvg_at_leftE</a></span> (<span class="kwd">fun</span> <span class="id"><a name="h:864">h</a></span> =&gt; <span class="id">h</span>^-1 *: ((<span class="id">f</span> \<span class="id">o</span> <span class="id"><a href="mathcomp.analysis.normedtype.html#shift">shift</a></span> <span class="id">c</span>) <span class="id">_</span> - <span class="id">f</span> <span class="id">c</span>))) //.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_trans">cvg_trans</a></span> <span class="id">dfc</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.topology.html#cvg_app">cvg_app</a></span>.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">A</span> [<span class="id">e</span> <span class="id">egt0</span> <span class="id">Ae</span>]; <span class="kwd">exists</span> <span class="id">e</span> =&gt; // <span class="id">x</span> <span class="id">xe</span> <span class="id">xgt0</span>; <span class="id">apply</span>: <span class="id">Ae</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id">ltr0_neq0</span>.<br/>
<span class="id">near</span>=&gt; <span class="id">h</span>; <span class="id">apply</span>: <span class="id">mulr_le0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">invr_le0</span>; <span class="id">apply</span>: <span class="id">ltW</span>; <span class="id">near</span>: <span class="id">h</span>; <span class="kwd">exists</span> 1 =&gt; /=.<br/>
<span class="id">rewrite</span> <span class="id">subr_le0</span> [<span class="id">_</span>%:<span class="id">A</span>]<span class="id">mulr1</span>; <span class="id">apply</span>: <span class="id">cmax</span>; <span class="id">near</span>: <span class="id">h</span>.<br/>
<span class="kwd">exists</span> (<span class="id">c</span> - <span class="id">a</span>); <span class="id">first</span> <span class="kwd">by</span> <span class="id">rewrite</span> /= <span class="id">subr_gt0</span> (<span class="id">itvP</span> <span class="id">cab</span>).<br/>
<span class="id">move</span>=&gt; <span class="id">h</span>; <span class="id">rewrite</span> /= <span class="id">distrC</span> <span class="id">subr0</span>.<br/>
<span class="id">move</span>=&gt; /<span class="id">ltr_normlP</span> []; <span class="id">rewrite</span> <span class="id">ltr_subr_addl</span> <span class="id">ltr_subl_addl</span> <span class="id">in_itv</span> /= =&gt; -&gt; <span class="id">_</span>.<br/>
<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">ltr_snsaddl</span> -&gt; //; <span class="id">rewrite</span> (<span class="id">itvP</span> <span class="id">cab</span>).<br/>
<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="kwd">by</span> <span class="id">end_near</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1_at_min">derive1_at_min</a></span> (<span class="id"><a name="R:867">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="f:868">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:869">a</a></span> <span class="id"><a name="b:870">b</a></span> <span class="id"><a name="c:871">c</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">b</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="t:872">t</a></span>, <span class="id">t</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">t</span> 1) -&gt; <span class="id">c</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="t:873">t</a></span>, <span class="id">t</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">c</span> &lt;= <span class="id">f</span> <span class="id">t</span>) -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">c</span> 1 <span class="id">f</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof141')">Proof.</span></div>
<div class="proofscript" id="proof141">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fdrvbl</span> <span class="id">cab</span> <span class="id">cmin</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">fdrvbl</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -<span class="id">oppr_eq0</span>; <span class="id">apply</span>/<span class="id">eqP</span>.<br/>
<span class="id">rewrite</span> -<span class="id"><a href="mathcomp.analysis.derive.html#deriveN">deriveN</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">fdrvbl</span>.<br/>
<span class="id">suff</span> <span class="id">df</span> : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">c</span> 1 (- <span class="id">f</span>) 0 <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>.<br/>
<span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derive1_at_max">derive1_at_max</a></span> <span class="id">leab</span> <span class="id">_</span> (<span class="id">cab</span>) <span class="id">_</span> =&gt; <span class="id">t</span> <span class="id">tab</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivableN">derivableN</a></span>/<span class="id">fdrvbl</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">ler_opp2</span>; <span class="id">apply</span>: <span class="id">cmin</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rolle">Rolle</a></span> (<span class="id"><a name="R:874">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:875">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:876">a</a></span> <span class="id"><a name="b:877">b</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">b</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:878">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt; <span class="id">f</span> <span class="id">a</span> = <span class="id">f</span> <span class="id">b</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id"><a name="c:879">c</a></span>, <span class="id">c</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> &amp; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">c</span> 1 <span class="id">f</span> 0.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof142')">Proof.</span></div>
<div class="proofscript" id="proof142">
<span class="id">move</span>=&gt; <span class="id">ltab</span> <span class="id">fdrvbl</span> <span class="id">fcont</span> <span class="id">faefb</span>.<br/>
<span class="id">have</span> [<span class="id">cmax</span> <span class="id">cmaxab</span> <span class="id">fcmax</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#EVT_max">EVT_max</a></span> (<span class="id">ltW</span> <span class="id">ltab</span>) <span class="id">fcont</span>.<br/>
<span class="id">have</span> [<span class="id">cmaxeaVb</span>|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">cmax</span> \<span class="kwd">in</span> [<span class="id">set</span> <span class="id">a</span>; <span class="id">b</span>]); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span>[/<span class="id">eqP</span> <span class="id">cnea</span> /<span class="id">eqP</span> <span class="id">cneb</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> {}<span class="id">cmaxab</span> : <span class="id">cmax</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">lt_def</span> !(<span class="id">itvP</span> <span class="id">cmaxab</span>) <span class="id">cnea</span> <span class="id">eq_sym</span> <span class="id">cneb</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">cmax</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derive1_at_max">derive1_at_max</a></span> (<span class="id">ltW</span> <span class="id">ltab</span>) <span class="id">fdrvbl</span> <span class="id">cmaxab</span> <span class="id">_</span> =&gt; <span class="id">t</span> <span class="id">tab</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fcmax</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">ltW</span> // (<span class="id">itvP</span> <span class="id">tab</span>).<br/>
<span class="id">have</span> [<span class="id">cmin</span> <span class="id">cminab</span> <span class="id">fcmin</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#EVT_min">EVT_min</a></span> (<span class="id">ltW</span> <span class="id">ltab</span>) <span class="id">fcont</span>.<br/>
<span class="id">have</span> [<span class="id">cmineaVb</span>|] := <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#boolP">boolP</a></span> (<span class="id">cmin</span> \<span class="kwd">in</span> [<span class="id">set</span> <span class="id">a</span>; <span class="id">b</span>]); <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#notin_set">notin_set</a></span> =&gt; /<span class="id"><a href="mathcomp.classical.boolp.html#not_orP">not_orP</a></span>[/<span class="id">eqP</span> <span class="id">cnea</span> /<span class="id">eqP</span> <span class="id">cneb</span>].<br/>
&nbsp;&nbsp;<span class="id">have</span> {}<span class="id">cminab</span> : <span class="id">cmin</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">lt_def</span> !(<span class="id">itvP</span> <span class="id">cminab</span>) <span class="id">cnea</span> <span class="id">eq_sym</span> <span class="id">cneb</span>.<br/>
&nbsp;&nbsp;<span class="kwd">exists</span> <span class="id">cmin</span> =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derive1_at_min">derive1_at_min</a></span> (<span class="id">ltW</span> <span class="id">ltab</span>) <span class="id">fdrvbl</span> <span class="id">cminab</span> <span class="id">_</span> =&gt; <span class="id">t</span> <span class="id">tab</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fcmin</span>; <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">ltW</span> // (<span class="id">itvP</span> <span class="id">tab</span>).<br/>
<span class="id">have</span> <span class="id">midab</span> : (<span class="id">a</span> + <span class="id">b</span>) / 2 \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> <span class="kwd">by</span> <span class="id">apply</span>: <span class="id">mid_in_itvoo</span>.<br/>
<span class="kwd">exists</span> ((<span class="id">a</span> + <span class="id">b</span>) / 2) =&gt; //; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derive1_at_max">derive1_at_max</a></span> (<span class="id">ltW</span> <span class="id">ltab</span>) <span class="id">fdrvbl</span> (<span class="id">midab</span>) <span class="id">_</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">t</span> <span class="id">tab</span>.<br/>
<span class="id">suff</span> <span class="id">fcst</span> <span class="id">s</span> : <span class="id">s</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id">f</span> <span class="id">s</span> = <span class="id">f</span> <span class="id">cmax</span> <span class="kwd">by</span> <span class="id">rewrite</span> !<span class="id">fcst</span>.<br/>
<span class="id">move</span>=&gt; <span class="id">sab</span>.<br/>
<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> <span class="id">eq_le</span> <span class="id">fcmax</span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">in_itv</span> /= !<span class="id">ltW</span> ?(<span class="id">itvP</span> <span class="id">sab</span>).<br/>
<span class="id">suff</span> -&gt; : <span class="id">f</span> <span class="id">cmax</span> = <span class="id">f</span> <span class="id">cmin</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">fcmin</span> // <span class="id">in_itv</span> /= !<span class="id">ltW</span> ?(<span class="id">itvP</span> <span class="id">sab</span>).<br/>
<span class="kwd">by</span> <span class="id">move</span>: <span class="id">cmaxeaVb</span> <span class="id">cmineaVb</span>; <span class="id">rewrite</span> 2!<span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span> =&gt; -[|] -&gt; [|] -&gt;.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="MVT">MVT</a></span> (<span class="id"><a name="R:882">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:883">f</a></span> <span class="id"><a name="df:884">df</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:885">a</a></span> <span class="id"><a name="b:886">b</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt; <span class="id">b</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:887">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> (<span class="id">df</span> <span class="id">x</span>)) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id"><a name="c:888">c</a></span>, <span class="id">c</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> &amp; <span class="id">f</span> <span class="id">b</span> - <span class="id">f</span> <span class="id">a</span> = <span class="id">df</span> <span class="id">c</span> * (<span class="id">b</span> - <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof143')">Proof.</span></div>
<div class="proofscript" id="proof143">
<span class="id">move</span>=&gt; <span class="id">altb</span> <span class="id">fdrvbl</span> <span class="id">fcont</span>.<br/>
<span class="id">set</span> <span class="id">g</span> := <span class="id">f</span> + (- ( *:%<span class="id">R</span>^~ ((<span class="id">f</span> <span class="id">b</span> - <span class="id">f</span> <span class="id">a</span>) / (<span class="id">b</span> - <span class="id">a</span>)) : <span class="id">R</span> -&gt; <span class="id">R</span>)).<br/>
<span class="id">have</span> <span class="id">gdrvbl</span> <span class="id">x</span> : <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> <span class="id">x</span> 1.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">move</span>=&gt; /<span class="id">fdrvbl</span> <span class="id">dfx</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#derivableB">derivableB</a></span> =&gt; //; <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
<span class="id">have</span> <span class="id">gcont</span> : {<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">g</span>}.<br/>
&nbsp;&nbsp;<span class="id">move</span>=&gt; <span class="id">x</span>; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousD">continuousD</a></span> <span class="id">_</span> ; <span class="id">first</span> <span class="kwd">by</span> <span class="id">move</span>=&gt;?; <span class="id">exact</span>: <span class="id">fcont</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>/<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceT">continuous_subspaceT</a></span>=&gt; ?; <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#scalel_continuous">scalel_continuous</a></span>.<br/>
<span class="id">have</span> <span class="id">gaegb</span> : <span class="id">g</span> <span class="id">a</span> = <span class="id">g</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> /<span class="id">g</span> -![(<span class="id">_</span> - <span class="id">_</span> : <span class="id">_</span> -&gt; <span class="id">_</span>) <span class="id">_</span>]/(<span class="id">_</span> - <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">apply</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> -<span class="id">subr_eq</span> /= <span class="id">opprK</span> <span class="id">addrAC</span> -<span class="id">addrA</span> -<span class="id">scalerBl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> [<span class="id">_</span> *: <span class="id">_</span>]<span class="id">mulrA</span> <span class="id">mulrC</span> <span class="id">mulrA</span> <span class="id">mulVf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">mul1r</span> <span class="id">addrCA</span> <span class="id">subrr</span> <span class="id">addr0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">lt0r_neq0</span>; <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
<span class="id">have</span> [<span class="id">c</span> <span class="id">cab</span> <span class="id">dgc0</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#Rolle">Rolle</a></span> <span class="id">altb</span> <span class="id">gdrvbl</span> <span class="id">gcont</span> <span class="id">gaegb</span>.<br/>
<span class="kwd">exists</span> <span class="id">c</span>; <span class="id">first</span> <span class="id">exact</span>: <span class="id">cab</span>.<br/>
<span class="id">have</span> /<span class="id">fdrvbl</span> <span class="id">dfc</span> := <span class="id">cab</span>; <span class="id">move</span>/@<span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span>: <span class="id">dgc0</span>; <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveB">deriveB</a></span> //; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span>.<br/>
<span class="id">move</span>/<span class="id">eqP</span>; <span class="id">rewrite</span> [<span class="id">X</span> <span class="kwd">in</span> <span class="id">_</span> - <span class="id">X</span>]<span class="id"><a href="mathcomp.analysis.derive.html#deriveE">deriveE</a></span> // <span class="id"><a href="mathcomp.analysis.derive.html#derive_val">derive_val</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_val">diff_val</a></span> <span class="id">scale1r</span> <span class="id">subr_eq0</span>.<br/>
<span class="id">move</span>/<span class="id">eqP</span>-&gt;; <span class="id">rewrite</span> -<span class="id">mulrA</span> <span class="id">mulVf</span> ?<span class="id">mulr1</span> //; <span class="id">apply</span>: <span class="id">lt0r_neq0</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_gt0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="MVT_segment">MVT_segment</a></span> (<span class="id"><a name="R:892">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:893">f</a></span> <span class="id"><a name="df:894">df</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:895">a</a></span> <span class="id"><a name="b:896">b</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;<span class="id">a</span> &lt;= <span class="id">b</span> -&gt; (<span class="kwd">forall</span> <span class="id"><a name="x:897">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> (<span class="id">df</span> <span class="id">x</span>)) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>, <span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">exists2</span> <span class="id"><a name="c:898">c</a></span>, <span class="id">c</span> \<span class="kwd">in</span> `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span> &amp; <span class="id">f</span> <span class="id">b</span> - <span class="id">f</span> <span class="id">a</span> = <span class="id">df</span> <span class="id">c</span> * (<span class="id">b</span> - <span class="id">a</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof144')">Proof.</span></div>
<div class="proofscript" id="proof144">
<span class="id">move</span>=&gt; <span class="id">leab</span> <span class="id">fdrvbl</span> <span class="id">fcont</span>; <span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">leab</span> =&gt; // [<span class="id">altb</span>|<span class="id">aeb</span>]; <span class="id">last</span> <span class="id">first</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">a</span>; [<span class="id">rewrite</span> <span class="id"><a href="mathcomp.classical.classical_sets.html#inE">inE</a></span>/= <span class="id">aeb</span> <span class="id">lexx</span>|<span class="id">rewrite</span> <span class="id">aeb</span> !<span class="id">subrr</span> <span class="id">mulr0</span>].<br/>
<span class="id">have</span> [<span class="id">c</span> <span class="id">cab</span> <span class="id">D</span>] := <span class="id"><a href="mathcomp.analysis.derive.html#MVT">MVT</a></span> <span class="id">altb</span> <span class="id">fdrvbl</span> <span class="id">fcont</span>.<br/>
<span class="kwd">by</span> <span class="kwd">exists</span> <span class="id">c</span> =&gt; //; <span class="id">rewrite</span> <span class="id">in_itv</span> /= <span class="id">ltW</span> (<span class="id">itvP</span> <span class="id">cab</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ler0_derive1_nincr">ler0_derive1_nincr</a></span> (<span class="id"><a name="R:900">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:901">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:902">a</a></span> <span class="id"><a name="b:903">b</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:904">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:905">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id">f</span>^`() <span class="id">x</span> &lt;= 0) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>,<span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:906">x</a></span> <span class="id"><a name="y:907">y</a></span>, <span class="id">a</span> &lt;= <span class="id">x</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> -&gt; <span class="id">y</span> &lt;= <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">y</span> &lt;= <span class="id">f</span> <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof145')">Proof.</span></div>
<div class="proofscript" id="proof145">
<span class="id">move</span>=&gt; <span class="id">fdrvbl</span> <span class="id">dfle0</span> <span class="id">ctsf</span> <span class="id">x</span> <span class="id">y</span> <span class="id">leax</span> <span class="id">lexy</span> <span class="id">leyb</span>; <span class="id">rewrite</span> -<span class="id">subr_ge0</span>.<br/>
<span class="id">case</span>: <span class="id">ltgtP</span> <span class="id">lexy</span> =&gt; // [<span class="id">xlty</span>|-&gt;]; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subrr</span>.<br/>
<span class="id">have</span> <span class="id">itvW</span> : {<span class="id">subset</span> `[<span class="id">x</span>, <span class="id">y</span>]%<span class="id">R</span> &lt;= `[<span class="id">a</span>, <span class="id">b</span>]%<span class="id">R</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>/<span class="id">subitvP</span>; <span class="id">rewrite</span> /&lt;=%<span class="id">O</span> /= /&lt;=%<span class="id">O</span> /= <span class="id">leyb</span> <span class="id">leax</span>.<br/>
<span class="id">have</span> <span class="id">itvWlt</span> : {<span class="id">subset</span> `]<span class="id">x</span>, <span class="id">y</span>[%<span class="id">R</span> &lt;= `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span> <span class="id">subitvP</span>; <span class="id">rewrite</span> /&lt;=%<span class="id">O</span> /= /&lt;=%<span class="id">O</span> /= <span class="id">leyb</span> <span class="id">leax</span>.<br/>
<span class="id">have</span> <span class="id">fdrv</span> <span class="id">z</span> : <span class="id">z</span> \<span class="kwd">in</span> `]<span class="id">x</span>, <span class="id">y</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">z</span> 1 <span class="id">f</span> (<span class="id">f</span>^`()<span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id">in_itv</span>/= =&gt; /<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrbool.html#andP">andP</a></span>[<span class="id">xz</span> <span class="id">zy</span>]; <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span>; <span class="id">last</span> <span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">fdrvbl</span>; <span class="id">rewrite</span> <span class="id">in_itv</span>/= (<span class="id">le_lt_trans</span> <span class="id">_</span> <span class="id">xz</span>)// (<span class="id">lt_le_trans</span> <span class="id">zy</span>).<br/>
<span class="id">have</span> [] := @<span class="id"><a href="mathcomp.analysis.derive.html#MVT">MVT</a></span> <span class="id">_</span> <span class="id">f</span> (<span class="id">f</span>^`()) <span class="id">x</span> <span class="id">y</span> <span class="id">xlty</span> <span class="id">fdrv</span>.<br/>
&nbsp;&nbsp;<span class="id">apply</span>: (@<span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspaceW">continuous_subspaceW</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> `[<span class="id">a</span>,<span class="id">b</span>]); <span class="id">first</span> <span class="id">exact</span>: <span class="id">itvW</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.topology.html#continuous_subspace_in">continuous_subspace_in</a></span>.<br/>
<span class="id">move</span>=&gt; <span class="id">t</span> /<span class="id">itvWlt</span> <span class="id">dft</span> <span class="id">dftxy</span> <span class="id">_</span>; <span class="id">rewrite</span> -<span class="id">oppr_le0</span> <span class="id">opprB</span> <span class="id">dftxy</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id">mulr_le0_ge0</span> =&gt; //; [<span class="id">exact</span>: <span class="id">dfle0</span>|<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">subr_ge0</span> <span class="id">ltW</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="le0r_derive1_ndecr">le0r_derive1_ndecr</a></span> (<span class="id"><a name="R:909">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:910">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) (<span class="id"><a name="a:911">a</a></span> <span class="id"><a name="b:912">b</a></span> : <span class="id">R</span>) :<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:913">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id"><a name="x:914">x</a></span>, <span class="id">x</span> \<span class="kwd">in</span> `]<span class="id">a</span>, <span class="id">b</span>[%<span class="id">R</span> -&gt; 0 &lt;= <span class="id">f</span>^`() <span class="id">x</span>) -&gt;<br/>
&nbsp;&nbsp;{<span class="id">within</span> `[<span class="id">a</span>,<span class="id">b</span>], <span class="id">continuous</span> <span class="id">f</span>} -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id"><a name="x:915">x</a></span> <span class="id"><a name="y:916">y</a></span>, <span class="id">a</span> &lt;= <span class="id">x</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span> -&gt; <span class="id">y</span> &lt;= <span class="id">b</span> -&gt; <span class="id">f</span> <span class="id">x</span> &lt;= <span class="id">f</span> <span class="id">y</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof146')">Proof.</span></div>
<div class="proofscript" id="proof146">
<span class="id">move</span>=&gt; <span class="id">fdrvbl</span> <span class="id">dfge0</span> <span class="id">fcont</span> <span class="id">x</span> <span class="id">y</span>; <span class="id">rewrite</span> -[<span class="id">f</span> <span class="id">_</span> &lt;= <span class="id">_</span>]<span class="id">ler_opp2</span>.<br/>
<span class="id">apply</span> (@<span class="id"><a href="mathcomp.analysis.derive.html#ler0_derive1_nincr">ler0_derive1_nincr</a></span> <span class="id">_</span> (- <span class="id">f</span>)) =&gt; <span class="id">t</span> <span class="id">tab</span>; <span class="id">first</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#derivableN">derivableN</a></span>/<span class="id">fdrvbl</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveN">deriveN</a></span>; <span class="id">last</span> <span class="id">exact</span>: <span class="id">fdrvbl</span>.<br/>
&nbsp;&nbsp;<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id">oppr_le0</span> -<span class="id"><a href="mathcomp.analysis.derive.html#derive1E">derive1E</a></span>; <span class="id">apply</span>: <span class="id">dfge0</span>.<br/>
<span class="kwd">by</span> <span class="id">apply</span>: <span class="id"><a href="mathcomp.analysis.normedtype.html#continuousN">continuousN</a></span>; <span class="id">exact</span>: <span class="id">fcont</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derive1_comp">derive1_comp</a></span> (<span class="id"><a name="R:917">R</a></span> : <span class="id">realFieldType</span>) (<span class="id"><a name="f:918">f</a></span> <span class="id"><a name="g:919">g</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) <span class="id"><a name="x:920">x</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">f</span> <span class="id">x</span> 1 -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id">g</span> (<span class="id">f</span> <span class="id">x</span>) 1 -&gt;<br/>
&nbsp;&nbsp;(<span class="id">g</span> \<span class="id">o</span> <span class="id">f</span>)^`() <span class="id">x</span> = <span class="id">g</span>^`() (<span class="id">f</span> <span class="id">x</span>) * <span class="id">f</span>^`() <span class="id">x</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof147')">Proof.</span></div>
<div class="proofscript" id="proof147">
<span class="id">move</span>=&gt; /<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span> <span class="id">df</span> /<span class="id"><a href="mathcomp.analysis.derive.html#derivable1_diffP">derivable1_diffP</a></span> <span class="id">dg</span>.<br/>
<span class="id">rewrite</span> <span class="id">derive1E</span>'; <span class="id">last</span> <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#differentiable_comp">differentiable_comp</a></span>.<br/>
<span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#diff_comp">diff_comp</a></span> // !<span class="id">derive1E</span>' //= -[<span class="id">X</span> <span class="kwd">in</span> '<span class="id">d</span>  <span class="id">_</span> <span class="id">_</span> <span class="id">X</span> = <span class="id">_</span>]<span class="id">mulr1</span>.<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> [<span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS">LHS</a></span>]<span class="id">linearZ</span> <span class="id">mulrC</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="is_derive_instances">is_derive_instances</a></span>.<br/>
<span class="kwd">Variables</span> (<span class="id"><a name="is_derive_instances.R">R</a></span> : <span class="id">numFieldType</span>) (<span class="id"><a name="is_derive_instances.V">V</a></span> : <span class="id"><a href="mathcomp.analysis.normedtype.html#NormedModule.Exports.normedModType">normedModType</a></span> <span class="id">R</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_cst">derivable_cst</a></span> (<span class="id"><a name="x:924">x</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_instances.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> (<span class="kwd">fun</span>=&gt; <span class="id">x</span>) 0 1.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof148')">Proof.</span></div>
<div class="proofscript" id="proof148">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_derivable">diff_derivable</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="derivable_id">derivable_id</a></span> (<span class="id"><a name="x:925">x</a></span> <span class="id"><a name="v:926">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_instances.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#derivable">derivable</a></span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">x</span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof149')">Proof.</span></div>
<div class="proofscript" id="proof149">
 <span class="id">exact</span>/<span class="id"><a href="mathcomp.analysis.derive.html#diff_derivable">diff_derivable</a></span>. Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_derive_id">is_derive_id</a></span> (<span class="id"><a name="x:927">x</a></span> <span class="id"><a name="v:928">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_instances.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#id">id</a></span> <span class="id">v</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof150')">Proof.</span></div>
<div class="proofscript" id="proof150">
<span class="id">apply</span>: (<span class="id"><a href="mathcomp.analysis.derive.html#DeriveDef">DeriveDef</a></span> (@<span class="id"><a href="mathcomp.analysis.derive.html#derivable_id">derivable_id</a></span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="kwd">by</span> <span class="id">rewrite</span> <span class="id"><a href="mathcomp.analysis.derive.html#deriveE">deriveE</a></span>// (@<span class="id"><a href="mathcomp.analysis.derive.html#diff_lin">diff_lin</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> [<span class="id">linear</span> <span class="id">of</span> <span class="id"><a href="https://coq.inria.fr/doc/V8.18.0/stdlib/Coq.ssr.ssrfun.html#idfun">idfun</a></span>]).<br/>
Qed.</div>
<br/>
<span class="id">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="is_deriveNid">is_deriveNid</a></span> (<span class="id"><a name="x:929">x</a></span> <span class="id"><a name="v:930">v</a></span> : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_instances.V">V</a></span>) : <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> <span class="id">v</span> -%<span class="id">R</span> (- <span class="id">v</span>).<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof151')">Proof.</span></div>
<div class="proofscript" id="proof151">
 <span class="id">exact</span>: <span class="id"><a href="mathcomp.analysis.derive.html#is_deriveN">is_deriveN</a></span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="mathcomp.analysis.derive.html#is_derive_instances">is_derive_instances</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="trigger_derive">trigger_derive</a></span> (<span class="id"><a name="R:931">R</a></span> : <span class="id"><a href="mathcomp.analysis.reals.html#Real.Exports.realType">realType</a></span>) (<span class="id"><a name="f:932">f</a></span> : <span class="id">R</span> -&gt; <span class="id">R</span>) <span class="id"><a name="x:933">x</a></span> <span class="id"><a name="x1:934">x1</a></span> <span class="id"><a name="y1:935">y1</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> <span class="id">x1</span> -&gt; <span class="id">x1</span> = <span class="id">y1</span> -&gt; <span class="id"><a href="mathcomp.analysis.derive.html#is_derive">is_derive</a></span> <span class="id">x</span> 1 <span class="id">f</span> <span class="id">y1</span>.<br/>
<div><span class="toggleproof" onclick="toggleDisplay('proof152')">Proof.</span></div>
<div class="proofscript" id="proof152">
 <span class="kwd">by</span> <span class="id">move</span>=&gt; <span class="id">Hi</span> &lt;-. Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/tree/yoshihiro503%40generate_index">a fork of coq2html</a></div>
</body>
</html>
